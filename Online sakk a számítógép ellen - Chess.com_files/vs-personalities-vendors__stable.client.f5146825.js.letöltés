((typeof self<"u"?self:this)["wpJsonpChessCom_vs-personalities"]=(typeof self<"u"?self:this)["wpJsonpChessCom_vs-personalities"]||[]).push([[216],{7104:function(Cn,Ke,j){"use strict";j.d(Ke,{iB:function(){return A.J},$l:function(){return x.B},QY:function(){return x.u},sH:function(){return x.f},lA:function(){return x.G},nl:function(){return x.ca},th:function(){return x.bo},Wc:function(){return x.bp},a2:function(){return x.bC},qU:function(){return x.bJ},Kh:function(){return x.bL},YP:function(){return x.bM},dz:function(){return x.b4},Mo:function(){return x.bR},zG:function(){return x.bY},KW:function(){return x.b$},q4:function(){return x.c0},NQ:function(){return x.b1},Xe:function(){return x.c1},h6:function(){return x.c2},NE:function(){return x.c4},RS:function(){return x.h},jw:function(){return x.c7},SH:function(){return x.bb},UG:function(){return x.c8},C8:function(){return x.bu},o9:function(){return x.bv},jd:function(){return x.a_},_H:function(){return nt},ZD:function(){return N},n8:function(){return B}});var A=j(5653),x=j(2117),F=Object.defineProperty,M=Object.defineProperties,T=Object.getOwnPropertyDescriptors,Ie=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,Se=(P,H,X)=>H in P?F(P,H,{enumerable:!0,configurable:!0,writable:!0,value:X}):P[H]=X,he=(P,H)=>{for(var X in H||(H={}))ee.call(H,X)&&Se(P,X,H[X]);if(Ie)for(var X of Ie(H))z.call(H,X)&&Se(P,X,H[X]);return P},Ge=(P,H)=>M(P,T(H));function de(P){return P===!0||P===!1}function k(P,H){return P.reduce((X,He)=>{const Je=H.classList.contains(x.aS.Pseudo3d),rt=(0,x.aT)((0,x.aU)(He,Je?":after":void 0)),{file:Fe,rank:vn}=(0,x.aV)(He.dataset.testSquare);return!rt||!Fe||!vn||(X[8-vn][Fe-1]=rt),X},[[".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".","."]]).map(X=>X.join("").replace(/(\.+)/g,He=>He.length.toString())).join("/")}function at(P,H,X){return new Cypress.Promise(He=>{const Je=H.getBoundingClientRect();let rt,Fe;const vn=(Je.right-Je.left)/8,It=(0,x.aV)(P);X&&(It.file=9-It.file,It.rank=9-It.rank),It!==null?(rt=(It.file-1)*vn+vn/2,Fe=(9-It.rank)*vn-vn/2):(rt=-1,Fe=-1),He({x:rt,y:Fe})})}function Xt({color:P,opacity:H,options:X}){return P==="#ffff00"&&H===X.highlightOpacity?"default":P===X.premoveHighlightColor&&H===X.premoveHighlightOpacity?"premove":P===X.analysisHighlightColors.alt&&H===X.analysisHighlightOpacity?"altAnalysis":P===X.analysisHighlightColors.default&&H===X.analysisHighlightOpacity?"defaultAnalysis":P===X.analysisHighlightColors.shift&&H===X.analysisHighlightOpacity?"shiftAnalysis":P===X.analysisHighlightColors.ctrl&&H===X.analysisHighlightOpacity?"ctrlAnalysis":P&&H?{color:P,opacity:H}:null}function Rt(P){return P.substring(1)}function on({boardRect:P,elRect:H,flipped:X=!1}){const He=P.width/8,Je=(H.left-P.left)/He+1,rt=(H.top-P.top)/He+1;return X?(0,x.aW)({file:9-Je,rank:rt}):(0,x.aW)({file:Je,rank:9-rt})}function ut(P,H){cy.get(H).should(X=>{P?expect(X[0]).to.exist:expect(X[0]).to.not.exist})}function nn({event:P,options:H={},data:X={},pointerCoordsFn:He}){const{eventName:Je,which:rt}=Ct(P);if(rt&&Object.assign(H,{which:rt}),X.keyPressed&&Object.assign(H,{[`${X.keyPressed}Key`]:!0}),X.deltaY&&Object.assign(H,{deltaY:X.deltaY}),X.el){const Fe=X.position||"center";X.withText?cy.get(X.el).contains(X.withText).first().trigger(Je,Fe,H):cy.get(X.el).first().trigger(Je,Fe,H)}else if(typeof X.square<"u"&&X.square===null)cy.wait(0),cy.document().trigger(Je,1,1,H);else{const{board:Fe,flipped:vn}=H;cy.getBoard(Fe).then(It=>{X.coords?cy.getBoard(Fe).trigger(Je,X.coords.x,X.coords.y,H):typeof X.square<"u"?He(X.square,It[0],vn).then(Mn=>{cy.getBoard(Fe).trigger(Je,Mn.x,Mn.y,H)}):X.deltaY&&X.forced?cy.getBoard(Fe).trigger(Je,Ge(he({},H),{force:!0})):cy.getBoard(Fe).trigger(Je,H)})}}function Ct(P){return P==="Pointermove"?{eventName:"pointermove"}:P==="PointerdownLeft"?{eventName:"pointerdown",which:0}:P==="PointerdownMiddle"?{eventName:"pointerdown",which:2}:P==="PointerdownRight"?{eventName:"pointerdown",which:3}:P==="MousedownLeft"?{eventName:"mousedown",which:0}:P==="MousedownRight"?{eventName:"mousedown",which:3}:P==="Pointerup"?{eventName:"pointerup"}:P==="DoubleClick"?{eventName:"dblclick"}:P==="Wheel"?{eventName:"wheel"}:{eventName:P}}function vt(P){switch(P){case"true":return!0;case"false":return!1;default:return P}}const Zt={"8_bit":"#ffff00",bases:"#f5cc2a",blackwhite:"#5b91b3",blue:"#00a5ff",brown:"#ffff00",bubblegum:"#de5d6f",burled_wood:"#ee9016",dark_wood:"#cc9122",dash:"#eca722",default:"#ffff00",glass:"#5b91b3",graffiti:"#f39011",green:"#ffff00",grey:"#a4b8c4",icy_sea:"#5ed7f1",light:"#a4b8c4",lolz:"#a3becd",marble:"#f0db86",marbleblue:"#65daf7",marblebrown:"#f39011",marblegreen:"#f0db86",metal:"#a3becd",natural:"#f0e464",nature:"#eef396",neon:"#6d90a6",newspaper:"#99976e",orange:"#ffff00",overlay:"#0d9acf",parchment:"#d8cc66",pink:"#de5d6f",purple:"#7dacc9",red:"#f8f893",sand:"#e2bc87",sky:"#65daf7",stone:"#36525f",tan:"#f7d84a",tournament:"#a4c25b",translucent:"#5b91b3",walnut:"#d1a52d",winboard:"#a4c25b",wood:"#cc9122",wooddark:"#ee9016",woodlight:"#d8cc66",woodmid:"#cc9122",woodolive:"#a3becd"};var jt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",highlights:Zt}),pn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",booleanArgumentPassed:de,config:jt,getBoardPosition:k,getCoordsFromSquare:at,getElementBackgroundImage:x.aU,getFileRankFromSan:x.aV,getHighlightType:Xt,getPieceShortStringFromUrl:x.aT,getSanFromFileRank:x.aW,getSelectorName:Rt,getSquareFromRects:on,rgbToHex:x.r,shouldExist:ut,triggerEvent:nn,trueFalseToBoolean:vt});function qe(P){return P.api.extendAPI("siblingGame",{siblingGame:function(X){return createAPI({game:X.game.siblingGame,options:{}})}})}function Vt(){let P;return{create:H,destroy:Je,match:[{condition:isOneOf([Core.APIEvents.CreateGame,Core.APIEvents.Load]),handler:X}],name:BughouseAPI.Plugin.Name};function H(rt){rt.api.getVariant()===Game.Variants.Bughouse&&He(rt)}function X({data:rt},Fe){P?.(),rt.variant===Game.Variants.Bughouse&&He(Fe)}function He(rt){P=qe(rt);const{siblingGame:Fe,getContext:vn}=rt.api,{respond:It}=vn();Fe.onMany(positionChangeEvents,()=>It(HandPieces.Events.SetHand))}function Je(){P?.()}}var O=`.sibling-board {
  background-size: 100%;
  display: block;
  height: 0;
  padding-bottom: 100%;
  position: relative;
  width: 100%;
}

.sibling-board.board {
  height: auto;
  margin-left: 10%;
  padding-bottom: 90%;
  width: 90%;
}
.sibling-board.board.board-webgl-3d {
  margin-left: 7.5%;
  padding-bottom: 69.369%;
  width: 92.5%;
}
.sibling-board.board.board-webgl-3d canvas, .sibling-board.board.board-webgl-2d canvas {
  position: absolute;
}`;function le(P){return[...createStandardPlugins().filter(X=>!P.includes(X.name)),createHandPiecesPlugin({replaceContainer:!1})]}const V=[x.b2.Plugin.Name,x.b3.Plugin.Name];function lt({context:P,el:H,mainBoardRenderer:X}){const He=P.api.getOptions(),Je=Ge(he({},He),{flipped:!He.flipped,id:`${He.id}-sibling`});H.classList.add("board");const rt=X.createRenderer(Ge(he({},X.getRendererOptions()),{containerEl:H,el:H,options:Je,testElement:TestElements.SiblingBoard}));return createGame({api:P.api.siblingGame,el:H,mode:create(),options:Je,plugins:le(V),renderer:rt})}function wt(P){let H,X;return{create:He,destroy:Fe,match:[{condition:isOneOf([Core.APIEvents.Load,Core.APIEvents.CreateGame,Core.InstanceEvents.RendererSet]),handler:Je},{condition:isOneOf(positionChangeEvents),handler:It},{condition:is(Core.OptionsEvents.Update),handler:Mn},{condition:is(Core.UIEvents.Resize),handler:rt}],name:BughouseSiblingBoard.Plugin.Name};function He(Pt){Pt.api.siblingGame&&(vn(Pt),It())}function Je(Pt,Nt){He(Nt)}function rt(){clearTimeout(X),X=setTimeout(()=>{var Pt;(Pt=H?.resize)==null||Pt.call(H)},10)}function Fe(){qn()}function vn(Pt){const{renderer:Nt}=Pt;!Nt||(qn(),H=lt({context:Pt,el:P,mainBoardRenderer:Nt}),H.resize())}function It(){if(!H)return;const{respond:Pt}=H.getContext();Pt(Core.APIEvents.SetBoardPosition,{pieces:H.getPieces()}),Pt(HandPieces.Events.SetHand)}function Mn({data:Pt}){Pt.flipped!==void 0&&H?.setOptions({flipped:!Pt.flipped})}function qn(){var Pt;(Pt=H?.destroy)==null||Pt.call(H)}}function In({timers:P}){let H=!0;return he({activate:X,deactivate:He,isActive:Je,resetClocks:rt,stopClocks:Fe},P);function X(){H=!0}function He(){H=!1}function Je(){return H}function rt(vn){const{baseTime:It}=vn;P[x.G.ColorsAsNumbers.Black].reset(It),P[x.G.ColorsAsNumbers.White].reset(It)}function Fe(){P[x.G.ColorsAsNumbers.Black].stop(),P[x.G.ColorsAsNumbers.White].stop()}}function qt(P,H){const X=[x.G.ColorsAsNumbers.Black,x.G.ColorsAsNumbers.White].reduce((Je,rt)=>{return P[rt].on(x.b8.Events.End,He),Je.push(Fe),Je;function Fe(){P[rt].off({handler:He,type:x.b8.Events.End})}},[]);return function(){X.forEach(rt=>rt())};function He(Je){!Je.color||H.outOfTime(Je.color)}}function Ft(P){return(0,A.c)({initialState:x.b8.States.Initial,states:{[x.b8.States.Ended]:{[x.b8.Actions.Reset]:H},[x.b8.States.Going]:{[x.b8.Actions.Reset]:H,[x.b8.Actions.Stop]:()=>(P.timeSpent=Date.now()-P.startTimestamp,x.b8.States.Stopped),[x.b8.Actions.Tick]:()=>(P.timeSpent=Date.now()-P.startTimestamp,P.currentTime=P.resetTime-P.timeSpent,P.currentTime<=0?x.b8.States.Ended:x.b8.States.Going)},[x.b8.States.Initial]:{[x.b8.Actions.Reset]:H,[x.b8.Actions.Start]:()=>(P.startTimestamp=Date.now(),x.b8.States.Going)},[x.b8.States.Stopped]:{[x.b8.Actions.Reset]:H,[x.b8.Actions.Start]:()=>(P.startTimestamp=Date.now()-P.timeSpent,x.b8.States.Going)}}});function H(X){return Object.assign(P,{currentTime:X,resetTime:X,timeSpent:0}),x.b8.States.Initial}}const en=1e3,m=100;function I({color:P,decisecondThreshold:H=en*20,emitter:X=(0,A.a)(),initialTime:He,interval:Je=en}={}){const rt={color:P,currentTime:He||0,lastTickTimestamp:0,resetTime:He||0,startTimestamp:0,state:x.b8.States.Initial,timeSpent:0},Fe=Ft(rt);return Fe.on(A.M.Event.Types.OnEnter,Pt),Fe.on(A.M.Event.Types.OnReEnter,Nt),Ge(he({},X),{add:vn,destroy:Mn,get:qn,reset:mr,start:En,stop:Ui});function vn(Xn){rt.startTimestamp-=Xn,rt.timeSpent-=Xn,rt.currentTime+=Xn,It(x.b8.Events.TimeAdded)}function It(Xn){X.emit(Xn,Ge(he({},qn()),{type:Xn}))}function Mn(){Fe.off({handler:Pt,type:A.M.Event.Types.OnEnter}),Fe.off({handler:Nt,type:A.M.Event.Types.OnReEnter})}function qn(){return Fe.getCurrentState()===x.b8.States.Going&&(rt.timeSpent=rt.startTimestamp?Date.now()-rt.startTimestamp:0),rt.currentTime=rt.resetTime-rt.timeSpent,rt}function Pt(Xn){let pr;switch(Xn.nextState){case x.b8.States.Ended:pr=x.b8.Events.End;break;case x.b8.States.Going:ur(),pr=x.b8.Events.Start;break;case x.b8.States.Initial:pr=x.b8.Events.Reset;break;case x.b8.States.Stopped:pr=x.b8.Events.Stop;break}rt.state=Xn.nextState,pr&&It(pr)}function Nt(Xn){let pr;switch(Xn.nextState){case x.b8.States.Going:ur(),pr=x.b8.Events.Tick;break;case x.b8.States.Initial:pr=x.b8.Events.Reset;break;case x.b8.States.Stopped:break}pr&&It(pr)}function mr(Xn){Fe.transition(x.b8.Actions.Stop),Fe.transition(x.b8.Actions.Reset,Xn||rt.resetTime)}function ur(){const Xn=Math.round(rt.currentTime/Je)*Je;H&&Xn<=H?setTimeout(()=>{Fe.transition(x.b8.Actions.Tick)},m):setTimeout(()=>{Fe.transition(x.b8.Actions.Tick)},Je)}function En(){Fe.transition(x.b8.Actions.Start)}function Ui(){Fe.transition(x.b8.Actions.Stop)}}function W(P){return{[x.G.ColorsAsNumbers.White]:I({color:x.G.ColorsAsNumbers.White,initialTime:P.baseTime}),[x.G.ColorsAsNumbers.Black]:I({color:x.G.ColorsAsNumbers.Black,initialTime:P.baseTime})}}function ue(P){const H=P.api.load;return function(He){const{api:Je}=P,rt=Je.getHeaders().TimeControl,Fe=H(He);return Je.setGameDetails({TimeControl:rt}),Fe}}function Ue(){return function(H){const X=H.api.move;return function(Je){const{api:rt}=H,Fe=rt.timeControl.get();if(!rt.clocks.isActive()||!Fe)return X(Je);const{clock:vn,moveTime:It,increment:Mn}=(0,x.b9)(rt);Je.time=It;const qn=X(Je);return Mn&&qn?.type===x.u.APIEvents.Move&&vn.add(Mn),qn}}}function nt(){const P=W(x.bc);let H;return{api:()=>In({timers:P}),apiOverrides:{load:ue,move:Ue()},create:He,destroy:Je,match:[{condition:(0,x.b6)(x.u.APIEvents.Move),handler:X},{condition:Fe,handler:rt}],name:x.ba.Plugin.Name};function X(vn,It){const{api:Mn,queue:qn}=It,Pt=vn.data.move,{color:Nt}=Pt;if(!Mn.timeControl.get()||!Mn.clocks.isActive())return;const{clock:ur,increment:En}=(0,x.b9)(Mn,Nt);vn.data.consumedPremove&&En&&qn.add(ur.add,En),Mn.clocks[Nt].stop(),Mn.clocks[(0,x.bb)(Nt)].start()}function He(vn){const{api:It}=vn;H=qt(P,It)}function Je(){H()}function rt(vn,It){const{api:Mn}=It,qn=Mn.timeControl.get();qn?Mn.clocks.resetClocks(qn):Mn.clocks.stopClocks()}function Fe(vn){return(0,x.b6)(x.u.APIEvents.UpdatePGNHeaders)(vn)&&vn.data.TimeControl}}function re(P){let H=StateMachine$1.States.Idle,X,He={droppedFramesByState:{all:0},totalFramesByState:{all:0},totalTimeByState:{all:0}};return{startRecording:Je,stopRecording:rt,getMetrics:Fe,clearMetrics:vn,setBoardState:It};function Je(Mn=100){let qn=performance.now(),Pt=Mn;X=requestAnimationFrame(Nt);function Nt(mr){const ur=mr-qn;if(qn=mr,ur>1e3){X=requestAnimationFrame(Nt);return}if(He.totalFramesByState[H]||(He.totalFramesByState[H]=0,He.totalTimeByState[H]=0,He.droppedFramesByState[H]=0),He.totalFramesByState.all+=1,He.totalFramesByState[H]+=1,He.totalTimeByState.all+=ur,He.totalTimeByState[H]+=ur,Pt>=1){Pt--,X=requestAnimationFrame(Nt);return}ur>He.totalTimeByState.all/He.totalFramesByState.all+1&&(He.droppedFramesByState.all+=1,He.droppedFramesByState[H]+=1),X=requestAnimationFrame(Nt)}}function rt(){return cancelAnimationFrame(X),He}function Fe(){return He}function vn(){He={droppedFramesByState:{all:0},totalFramesByState:{all:0},totalTimeByState:{all:0}}}function It(Mn){H=Mn}}function _e(){return{name:PerformanceMetrics.Plugin.Name,api:re,match:[{condition:isOneOf([Core.UserEvents.MousedownLeft,Core.UserEvents.MousedownRight,Core.UserEvents.PointerdownRight,Core.UserEvents.PointerdownLeft,Core.UserEvents.Pointerup]),handler:P}]};function P(H,X){X.api[PerformanceMetrics.Plugin.Name].setBoardState(X.state.get().machineState)}}function E(){let P,H;return{create:X,match:[{condition:is(Core.InstanceEvents.RendererSet),handler:Fe},{condition:is(Core.OptionsEvents.Update),handler:vn}],destroy:Je,name:ScrollThroughMoves.Plugin.Name};function X(It){const{api:Mn,el:qn}=It;H=qn,He(!1),P||(P=rt(Mn)),He(It.options.enabled)}function He(It){It?H.addEventListener("wheel",P):H.removeEventListener("wheel",P)}function Je(){He(!1)}function rt(It){return function(qn){qn.preventDefault(),qn.deltaY<0?It.moveBackward():It.moveForward()}}function Fe(It,Mn){X(Mn)}function vn(It){"enabled"in It.data&&He(It.data.enabled)}}function K(P){return Object.keys(P).filter(H=>["pins","undefended","underdefended"].includes(H)).reduce((H,X)=>(H.push(...P[X]||[]),H),[]).map(H=>H.slice(-2))}function me(P){const H=P.game.threats;let X=!0,He=null;return{enable:qn(Je),getAsArray:rt,getAsObject:Fe,isEnabled:vn,isShowingThreatsCreatedByColor:Mn,onlyShowThreatsCreatedByColor:qn(It)};function Je(Pt=!0){X=Pt}function rt(){return K(H())}function Fe(){return H()}function vn(){return X}function It(Pt){He=Pt}function Mn(Pt){return He===Pt||He===null}function qn(Pt){return function(...mr){Pt(...mr),P.respond(Threats.Events.Updated)}}}function je(P,H){const{api:X,options:He}=H;return!X.threats||!X.threats.isEnabled()||!X.threats.isShowingThreatsCreatedByColor(getOppositeColor(X.getTurn()))?[]:X.threats.getAsArray().map(Je=>{if(!!Je)return createKeyedHighlight({color:He.threatSquareColor,opacity:He.threatSquareOpacity,square:Je,type:"threat"})})}function ve(){return{api:me,create:H,destroy:X,match:[{condition:is(Core.InstanceEvents.ModeChanged),handler:He}],name:Threats.Plugin.Name};function P(Je){var rt;(rt=Je.highlights)==null||rt.addModule(je)}function H(Je){P(Je.api)}function X(Je){var rt;const{api:Fe}=Je;(rt=Fe.highlights)==null||rt.removeModule(je)}function He(Je,rt){P(rt.api)}}function ct(P,H){return Object.entries(P).every(([He,Je])=>{const rt=H[He];return Je.type===rt.type&&Je.color===rt.color})&&Object.keys(P).length===Object.keys(H).length}function Dt(){return{afterRender:!0,match:[{condition:P,handler:H}],name:Validate.Plugin.Name};function P(X){return isOneOf([...Object.values(Core.APIEvents),...Object.values(Core.InstanceEvents),...Object.values(Core.OptionsEvents)])(X)}function H(X,He){const{api:Je,renderer:rt}=He;if(!rt)return;const Fe=rt.getPieces(),vn=Je.getPieces().getCollection();ct(Fe,vn)||Je.logger.log({code:Validate.ErrorCodes.InvalidPosition,data:{APIPieces:vn,boardPieces:Fe},level:Logger.Levels.Error,message:Validate.ErrorMessages.InvalidPosition})}}function te(P){return positionChangeEvents.includes(P.type)}function xe(P){const H=Object.keys(x.bk).sort((Je,rt)=>rt.length-Je.length),X=new Set(x.bl);let He=P;return H.forEach(Je=>{var rt,Fe;const vn=Je==="N",It=`[^=]\\${(rt=x.bm[Je])!=null?rt:Je}`,Mn=vn?It:`\\${(Fe=x.bm[Je])!=null?Fe:Je}`,qn=X.has(Je)||vn?` ${x.bk[Je]}`:x.bk[Je];He=He.replace(new RegExp(Mn,"gm"),qn)}),He}function N(P){if(!P)return"";const H=P.lastIndexOf('"]')+2,X=P.slice(0,H).trim(),He=P.slice(H).trim();return`${X}

${xe(He)}`}function B(P,H){const X=Object.values(P).map(He=>He.name);return H.reduce((He,Je)=>{const rt=X.indexOf(Je.name);return rt>-1?He.splice(rt,1,Je):He.push(Je),He},P)}},2117:function(Cn,Ke,j){"use strict";j.d(Ke,{$:function(){return Jo},A:function(){return gn},B:function(){return Xn},C:function(){return di},D:function(){return Ut},E:function(){return ri},F:function(){return Ma},G:function(){return U},H:function(){return Ss},I:function(){return v0},J:function(){return mg},K:function(){return dm},L:function(){return Z2},M:function(){return X2},N:function(){return K2},O:function(){return eu},P:function(){return lo},Q:function(){return R5},R:function(){return Xi},S:function(){return V2},T:function(){return Rn},U:function(){return z2},V:function(){return Qi},W:function(){return jn},X:function(){return I},Y:function(){return $t},Z:function(){return H2},_:function(){return $2},a:function(){return Ee},a0:function(){return h0},a1:function(){return Es},a2:function(){return Mc},a3:function(){return Xa},a4:function(){return tu},a5:function(){return yc},a6:function(){return t8},a7:function(){return K1},a8:function(){return z5},a9:function(){return F5},aA:function(){return _g},aB:function(){return j5},aC:function(){return kc},aD:function(){return $r},aE:function(){return Nm},aF:function(){return W5},aG:function(){return U1},aH:function(){return Xl},aI:function(){return H5},aJ:function(){return eg},aK:function(){return xc},aL:function(){return xa},aM:function(){return Rc},aN:function(){return n8},aO:function(){return ty},aP:function(){return iv},aQ:function(){return jm},aR:function(){return D5},aS:function(){return ji},aT:function(){return Ul},aU:function(){return vc},aV:function(){return u1},aW:function(){return qd},a_:function(){return _o},aa:function(){return $5},ab:function(){return Rm},ac:function(){return Ms},ad:function(){return Yi},ae:function(){return qo},af:function(){return fo},ag:function(){return U5},ah:function(){return Ko},ai:function(){return xs},aj:function(){return tl},ak:function(){return Ts},al:function(){return v5},am:function(){return $m},an:function(){return Y5},ao:function(){return Um},ap:function(){return J5},aq:function(){return X5},ar:function(){return Q5},as:function(){return Om},at:function(){return Zo},au:function(){return Wi},av:function(){return Mr},aw:function(){return c0},ax:function(){return gg},ay:function(){return lv},az:function(){return Yl},b:function(){return Y},b$:function(){return $c},b1:function(){return Ks},b2:function(){return jt},b3:function(){return P},b4:function(){return b2},b6:function(){return at},b8:function(){return He},b9:function(){return F2},bC:function(){return vn},bJ:function(){return Te},bL:function(){return ul},bM:function(){return Sn},bR:function(){return Ad},bY:function(){return va},ba:function(){return qt},bb:function(){return Tt},bc:function(){return L3},bk:function(){return Al},bl:function(){return Hp},bm:function(){return $p},bo:function(){return Fe},bp:function(){return Xd},bu:function(){return Bv},bv:function(){return Dv},bx:function(){return wn},c:function(){return r0},c0:function(){return Bc},c1:function(){return Fc},c2:function(){return _l},c4:function(){return to},c5:function(){return vo},c7:function(){return qi},c8:function(){return Eo},ca:function(){return co},cf:function(){return Ce},cg:function(){return Gc},ch:function(){return Gn},ci:function(){return C},cj:function(){return Lt},ck:function(){return Me},cl:function(){return q2},cm:function(){return W2},cn:function(){return cn},co:function(){return Ri},cp:function(){return of},cq:function(){return re},cr:function(){return ot},cs:function(){return nr},ct:function(){return or},cu:function(){return Zt},cv:function(){return Ye},cw:function(){return P1},d:function(){return U2},e:function(){return Qe},f:function(){return fa},g:function(){return fr},h:function(){return ps},i:function(){return Cr},j:function(){return ht},k:function(){return ni},l:function(){return za},m:function(){return On},n:function(){return zr},o:function(){return j2},p:function(){return G2},q:function(){return l1},r:function(){return Vd},s:function(){return Ar},t:function(){return pr},u:function(){return k},v:function(){return Nd},w:function(){return Xv},x:function(){return Xs},y:function(){return ga},z:function(){return vl}});var A=j(5653),x=Object.defineProperty,F=Object.defineProperties,M=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,z=(e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Se=(e,t)=>{for(var n in t||(t={}))Ie.call(t,n)&&z(e,n,t[n]);if(T)for(var n of T(t))ee.call(t,n)&&z(e,n,t[n]);return e},he=(e,t)=>F(e,M(t)),Ge=(e,t)=>{var n={};for(var r in e)Ie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&T)for(var r of T(e))t.indexOf(r)<0&&ee.call(e,r)&&(n[r]=e[r]);return n},de;(function(e){e.DefaultRightClickModifierKey="a",function(t){t.Name="accessibility"}(e.Plugin||(e.Plugin={}))})(de||(de={}));var k;(function(e){(function(t){t.Event="Event",t.State="State"})(e.LogCodes||(e.LogCodes={})),function(t){t.DraggingPiece="draggingPiece",t.HideHoverSquare="hideHoverSquare",t.MachineState="machineState",t.PromotionMove="promotionMove",t.SoundPlayed="soundPlayed",t.SelectedPiece="selectedPiece"}(e.State||(e.State={})),function(t){t.AddMove="AddMove",t.BlinkHighlight="BlinkHighlight",t.ClearMarkings="ClearMarkings",t.CreateContinuation="CreateContinuation",t.CreateGame="CreateGame",t.DeletePosition="DeletePosition",t.DrawAgreed="DrawAgreed",t.DrawClaimed="DrawClaimed",t.GameResigned="GameResigned",t.IllegalMove="IllegalMove",t.LineCommentUpdated="LineCommentUpdated",t.LineUpdated="LineUpdated",t.Load="Load",t.Mark="Mark",t.Move="Move",t.MoveBackward="MoveBackward",t.MoveForward="MoveForward",t.MoveVariation="MoveVariation",t.NodeUpdated="NodeUpdated",t.OutOfTime="OutOfTime",t.PromoteVariation="PromoteVariation",t.Reload="Reload",t.ResetGame="ResetGame",t.ResetToMainLine="ResetToMainLine",t.SelectLineEnd="SelectLineEnd",t.SelectNode="SelectNode",t.SelectLineStart="SelectLineStart",t.SetBoardPosition="SetBoardPosition",t.SetPlayingAs="SetPlayingAs",t.TurnSet="TurnSet",t.Undo="Undo",t.Unmark="Unmark",t.UpdatePGNHeaders="UpdatePGNHeaders"}(e.APIEvents||(e.APIEvents={})),function(t){t.PromotionAreaClosePointerdown="PromotionAreaClosePointerdown",t.PromotionPiecePointerdown="PromotionPiecePointerdown"}(e.BoardEvents||(e.BoardEvents={})),function(t){t.Create="Create",t.Destroy="Destroy",t.ModeChanged="ModeChanged",t.RendererSet="RendererSet",t.RendererSetFailed="RendererSetFailed",t.StylesSetFailed="StylesSetFailed"}(e.InstanceEvents||(e.InstanceEvents={})),function(t){t.Update="UpdateOptions",t.UpdateMode="UpdateModeOptions"}(e.OptionsEvents||(e.OptionsEvents={})),function(t){t.Play="PlaySound"}(e.SoundEvents||(e.SoundEvents={})),function(t){t.Resize="Resize"}(e.UIEvents||(e.UIEvents={})),function(t){t.MousedownLeft="MousedownLeft",t.MousedownRight="MousedownRight",t.PointerdownLeft="PointerdownLeft",t.PointerdownRight="PointerdownRight",t.Pointermove="Pointermove",t.Pointerup="Pointerup",t.Wheel="Wheel"}(e.UserEvents||(e.UserEvents={}))})(k||(k={}));function at(e){return function(n){return e===n.type}}function Xt(e=de.DefaultRightClickModifierKey){return{beforeState:[{condition:at(k.UserEvents.PointerdownLeft),handler:t}],name:de.Plugin.Name,requires:["keys"]};function t(n,r){const{api:i,queue:a,run:s}=r;return i.keys.isPressed(e)?(a.add(s,he(Se({},n),{type:k.UserEvents.PointerdownRight})),!1):!0}}var Rt;(function(e){(function(t){t.Name="analysis-overlay"})(e.Plugin||(e.Plugin={}))})(Rt||(Rt={}));function on(e){const t=new Set(Array.isArray(e)?e:Object.values(e));return function(r){return t.has(r.type)}}function ut(){let e;return{destroy:t,match:[{condition:on([k.APIEvents.Load,k.OptionsEvents.Update,k.InstanceEvents.ModeChanged,k.InstanceEvents.RendererSet]),handler:n}],name:Rt.Plugin.Name};function t(){e?.removeAnalysisOverlay()}function n(r,i){const{options:a,renderer:s}=i;!e&&s&&(e=s),a.overlayInAnalysisMode?e?.addAnalysisOverlay():e?.removeAnalysisOverlay()}}var nn;(function(e){(function(t){t.Name="cheatDetection"})(e.Plugin||(e.Plugin={})),function(t){t.CheatDetectionError="CheatDetectionError"}(e.Events||(e.Events={}))})(nn||(nn={}));var Ct;(function(e){(function(t){t.Milliseconds="Milliseconds",t.Deciseconds="Deciseconds",t.Seconds="Seconds"})(e.Units||(e.Units={}))})(Ct||(Ct={}));var vt;(function(e){(function(t){t.Name="highlights"})(e.Plugin||(e.Plugin={}))})(vt||(vt={}));const Zt="highlight";var jt;(function(e){(function(t){t.Name="arrowKeys"})(e.Plugin||(e.Plugin={})),function(t){t.Left="arrowleft",t.Up="arrowup",t.Right="arrowright",t.Down="arrowdown"}(e.Arrow||(e.Arrow={}))})(jt||(jt={}));var pn;(function(e){(function(t){t.Name="arrows"})(e.Plugin||(e.Plugin={}))})(pn||(pn={}));const qe="arrow";var Vt;(function(e){(function(t){t.Name="assets"})(e.Plugin||(e.Plugin={}))})(Vt||(Vt={}));var O;(function(e){(function(t){t.Name="blinking-highlight"})(e.Plugin||(e.Plugin={}))})(O||(O={}));var le;(function(e){(function(t){t.Name="blinking-highlight"})(e.Plugin||(e.Plugin={}))})(le||(le={}));var V;(function(e){(function(t){t.Name="board-size"})(e.Plugin||(e.Plugin={}))})(V||(V={}));var lt;(function(e){e.DefaultKeyToOpenWindow="e",function(t){t.Name="boardImages"}(e.Plugin||(e.Plugin={}))})(lt||(lt={}));var wt;(function(e){(function(t){t.Name="bughouse-api"})(e.Plugin||(e.Plugin={}))})(wt||(wt={}));var In;(function(e){(function(t){t.Name="bughouse-sibling-board"})(e.Plugin||(e.Plugin={}))})(In||(In={}));var qt;(function(e){(function(t){t.Name="clocks"})(e.Plugin||(e.Plugin={})),function(t){t.Blitz="blitz",t.Bullet="bullet",t.Rapid="rapid"}(e.TimeControlTypes||(e.TimeControlTypes={}))})(qt||(qt={}));var Ft;(function(e){(function(t){t.Name="coordinates"})(e.Plugin||(e.Plugin={}))})(Ft||(Ft={}));var en;(function(e){(function(t){t.Name="custom-items"})(e.Plugin||(e.Plugin={})),function(t){t.Root="custom-item"}(e.Classes||(e.Classes={}))})(en||(en={}));const m="customItem";var I;(function(e){(function(t){t.Arrows="arrows",t.Effects="effects",t.Pieces="pieces"})(e.Targets||(e.Targets={})),function(t){t.Above="above",t.Below="below"}(e.Positions||(e.Positions={}))})(I||(I={}));var W;(function(e){e.Image="Image",e.Star="Star",e.TextBox="TextBox"})(W||(W={}));var ue;(function(e){(function(t){t.Name="debug"})(e.Plugin||(e.Plugin={}))})(ue||(ue={}));var Ue;(function(e){e.Name="eco",function(t){t.Update="UpdateECO"}(e.Events||(e.Events={})),function(t){(function(n){n.StartingPosition="A00"})(t.Codes||(t.Codes={})),t.InitialFen="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"}(e.Config||(e.Config={}))})(Ue||(Ue={}));var nt;(function(e){(function(t){t.Name="effects"})(e.Plugin||(e.Plugin={}))})(nt||(nt={}));const re="effect";var _e;(function(e){e.Alternative="Alternative",e.BestMove="BestMove",e.Blunder="Blunder",e.Book="Book",e.Brilliant="Brilliant",e.CheckmateBlack="CheckmateBlack",e.CheckmateWhite="CheckmateWhite",e.Correct="Correct",e.Critical="Critical",e.DrawBlack="DrawBlack",e.DrawWhite="DrawWhite",e.Excellent="Excellent",e.FastWin="FastWin",e.Forced="Forced",e.FreePiece="FreePiece",e.Gamechanger="Gamechanger",e.Good="Good",e.GreatFind="GreatFind",e.Inaccuracy="Inaccuracy",e.Incorrect="Incorrect",e.Mate="Mate",e.Miss="Miss",e.MissedWin="MissedWin",e.Mistake="Mistake",e.ResignBlack="ResignBlack",e.ResignWhite="ResignWhite",e.Sharp="Sharp",e.Takeback="Takeback",e.Threat="Threat",e.TimeoutBlack="TimeoutBlack",e.TimeoutWhite="TimeoutWhite",e.Undo="Undo",e.Winner="Winner",e.WinnerWhite="WinnerWhite",e.Interesting="Interesting",e.Warning="Warning",e.Equal="Equal"})(_e||(_e={}));var E;(function(e){(function(t){t.Name="fade-setup"})(e.Plugin||(e.Plugin={}))})(E||(E={}));var K;(function(e){(function(t){t.Name="handPieces"})(e.Plugin||(e.Plugin={})),function(t){t.SetHand="SetHand"}(e.Events||(e.Events={}))})(K||(K={}));var me;(function(e){(function(t){t.Name="hml"})(e.Plugin||(e.Plugin={}))})(me||(me={}));var je;(function(e){(function(t){t.Name="hover-square"})(e.Plugin||(e.Plugin={}))})(je||(je={}));var ve;(function(e){(function(t){t.Name="move-hints"})(e.Plugin||(e.Plugin={}))})(ve||(ve={}));var ct;(function(e){(function(t){t.Name="performanceMetrics"})(e.Plugin||(e.Plugin={}))})(ct||(ct={}));var Dt;(function(e){(function(t){t.Name="pieces"})(e.Plugin||(e.Plugin={}))})(Dt||(Dt={}));var te;(function(e){(function(t){t.Name="pregame"})(e.Plugin||(e.Plugin={}))})(te||(te={}));var xe;(function(e){(function(t){t.Premove="Premove"})(e.Events||(e.Events={})),function(t){t.Name="premoves"}(e.Plugin||(e.Plugin={}))})(xe||(xe={}));var N;(function(e){(function(t){t.Name="reporting"})(e.Plugin||(e.Plugin={}))})(N||(N={}));var B;(function(e){(function(t){t.Name="scroll-through-moves"})(e.Plugin||(e.Plugin={}))})(B||(B={}));var P;(function(e){(function(t){t.Name="sounds"})(e.Plugin||(e.Plugin={})),function(t){t.GameStart="game-start",t.GameEnd="game-end",t.Capture="capture",t.Castle="castle",t.Premove="premove",t.MoveSelf="move-self",t.MoveCheck="move-check",t.MoveOpponent="move-opponent",t.Promote="promote",t.Notify="notify",t.TenSeconds="tenseconds",t.Illegal="illegal"}(e.BoardSounds||(e.BoardSounds={}))})(P||(P={}));var H;(function(e){(function(t){t.Updated="ThreatsUpdated"})(e.Events||(e.Events={})),function(t){t.Name="threats"}(e.Plugin||(e.Plugin={}))})(H||(H={}));var X;(function(e){(function(t){t.Name="timeControl"})(e.Plugin||(e.Plugin={})),function(t){t.Blitz="blitz",t.Bullet="bullet",t.Rapid="rapid"}(e.Types||(e.Types={})),function(t){t.Null="-",t.Separator="+",t.TimePerMove="/",t.Unset="?"}(e.Header||(e.Header={}))})(X||(X={}));var He;(function(e){(function(t){t.Reset="Reset",t.Start="Start",t.Stop="Stop",t.Tick="Tick"})(e.Actions||(e.Actions={})),function(t){t.End="End",t.Reset="Reset",t.Start="Start",t.Stop="Stop",t.Tick="Tick",t.TimeAdded="TimeAdded"}(e.Events||(e.Events={})),function(t){t.Ended="Ended",t.Going="Going",t.Initial="Initial",t.Stopped="Stopped"}(e.States||(e.States={}))})(He||(He={}));var Je;(function(e){(function(n){n.Name="validate"})(e.Plugin||(e.Plugin={}));let t;(function(n){n.InvalidPosition="InvalidPosition"})(t=e.ErrorCodes||(e.ErrorCodes={})),e.ErrorMessages={[t.InvalidPosition]:"Board position does not match the FEN from JCE"}})(Je||(Je={}));var rt;(function(e){(function(t){t.Ready="Ready",t.ResultNodeSelected="ResultNodeSelected",t.Updated="Updated"})(e.Events||(e.Events={})),function(t){t.Name="vml"}(e.Plugin||(e.Plugin={}))})(rt||(rt={}));var Fe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get CheatDetection(){return nn},get CustomTimestamps(){return Ct},get Highlights(){return vt},get AnalysisOverlay(){return Rt},get ArrowKeys(){return jt},get Arrows(){return pn},get Assets(){return Vt},get BlinkingHighlight(){return O},get BlinkingSquare(){return le},get BoardSize(){return V},get BoardImages(){return lt},get BughouseAPI(){return wt},get BughouseSiblingBoard(){return In},get Clocks(){return qt},get Coordinates(){return Ft},get CustomItems(){return en},get Debug(){return ue},get ECO(){return Ue},get Effects(){return nt},get FadeSetup(){return E},get HandPieces(){return K},get HML(){return me},get HoverSquare(){return je},get MoveHints(){return ve},get PerformanceMetrics(){return ct},get Pieces(){return Dt},get Pregame(){return te},get Premoves(){return xe},get Reporting(){return N},get ScrollThroughMoves(){return B},get Sounds(){return P},get Threats(){return H},get TimeControl(){return X},get Timer(){return He},get Validate(){return Je},get VML(){return rt}});function vn(e){let t;return{api:()=>({setKeys:i,resetKeys:a}),create:n,destroy:r,name:jt.Plugin.Name};function n(u){t=u,i(e)}function r(){t.api.keys.removeOverrides([{key:jt.Arrow.Up},{key:jt.Arrow.Down},{key:jt.Arrow.Left},{key:jt.Arrow.Right}])}function i(u){const f=s(u);t.api.keys.setOverrides(f)}function a(){const u=s();t.api.keys.setOverrides(u)}function s(u={}){return[{key:jt.Arrow.Up,callback:f=>{var p;return(p=u[jt.Arrow.Up])!=null?p:f.selectLineStart}},{key:jt.Arrow.Down,callback:f=>{var p;return(p=u[jt.Arrow.Down])!=null?p:f.selectLineEnd}},{key:jt.Arrow.Left,callback:f=>{var p;return(p=u[jt.Arrow.Left])!=null?p:f.moveBackward}},{key:jt.Arrow.Right,callback:f=>{var p;return(p=u[jt.Arrow.Right])!=null?p:f.moveForward}}]}}var It;(function(e){e.Alt="alt",e.Ctrl="ctrl",e.None="none",e.Shift="shift"})(It||(It={}));function Mn({options:e,rawArrow:t}){var n,r;const{data:{color:i,keyPressed:a,from:s,opacity:u,to:f},key:p,type:h}=t;return{data:{color:(r=(n=qn(a,e))!=null?n:i)!=null?r:e.arrowColors.default,from:s,opacity:u??e.analysisHighlightOpacity,to:f},key:p,type:h}}function qn(e,t){const{arrowColors:n}=t;switch(e){case It.Alt:return n.alt;case It.Ctrl:return n.ctrl;case It.Shift:return n.shift;case It.None:return n.default;default:return}}function Pt(e){return function(n){var r,i;return at(k.APIEvents.Mark)(n)&&((i=(r=n.data).find)==null?void 0:i.call(r,a=>a.type===e))}}function Nt(e){return function(n){return n.type===e}}function mr(e){return function(n){var r,i;return at(k.APIEvents.Unmark)(n)&&((i=(r=n.data).find)==null?void 0:i.call(r,a=>a.type===e))}}function ur(e){const{api:t,options:n,renderer:r}=e;if(!t.markings)return;const i=t.markings,s=(n.allowMarkings?i.getAllWhere({types:[qe]}):[]).map(u=>Mn({rawArrow:u,options:n}));r?.addArrows(s,e)}function En(){return[{condition:Pt(qe),handler:t},{condition:mr(qe),handler:n},{condition:at(k.InstanceEvents.RendererSet),handler:e}];function e(r,i){ur(i)}function t(r,i){const{options:a,renderer:s}=i,{data:u}=r,f=u.filter(Nt(qe)).map(p=>Mn({rawArrow:p,options:a}));s?.addArrows(f,i)}function n(r,i){const{options:a,renderer:s}=i,{data:u}=r,f=u.filter(Nt(qe)).map(p=>Mn({rawArrow:p,options:a}));s?.removeArrows(f,i)}}function Ui(){return{match:En(),name:pn.Plugin.Name,create:ur,destroy:e};function e(t){const{api:n,renderer:r,options:i}=t;if(!n.markings)return;const u=n.markings.getAllWhere({types:[qe]}).map(f=>Mn({rawArrow:f,options:i}));r?.removeArrows(u,t)}}var Xn;(function(e){class t extends Error{}e.StylesSetFailed=t,function(n){(function(r){r.Arcade="arcade",r.Default="default",r.Fast="fast",r.Natural="natural",r.None="none",r.Slow="slow"})(n.Types||(n.Types={})),function(r){r[r.Default=180]="Default",r[r.Fast=100]="Fast",r[r.Slow=500]="Slow"}(n.Speeds||(n.Speeds={}))}(e.Animation||(e.Animation={})),function(n){n.Selected="#ffff00",n.Blue="#52b0dc",n.Green="#acce59",n.Orange="#ffaa00",n.Red="#eb6150"}(e.HighlightColors||(e.HighlightColors={})),function(n){n.Analysis="analysis",n.Move="move",n.Selected="selected"}(e.HighlightTypes||(e.HighlightTypes={})),function(n){n.Blue="rgba(72, 193, 249, 0.8)",n.Green="rgba(159, 207, 63, 0.8)",n.Orange="rgba(255, 170, 0, 0.8)",n.Red="rgba(248, 85, 63, 0.8)"}(e.HighlightedArrowColors||(e.HighlightedArrowColors={})),function(n){n.Inside="inside",n.Off="off",n.Outside="outside"}(e.CoordinatesPositions||(e.CoordinatesPositions={})),function(n){n.Click="click",n.Drag="drag",n.DragOnly="drag-only"}(e.MoveMethods||(e.MoveMethods={})),function(n){n.Figurine="figurine",n.Text="text"}(e.MoveListDisplayTypes||(e.MoveListDisplayTypes={})),function(n){n.HoverSquareOutline="hoverSquareOutline"}(e.BooleanOptions||(e.BooleanOptions={})),function(n){n.AnimationType="animationType",n.BoardStyle="boardStyle",n.Coordinates="coordinates",n.DarkMode="darkMode",n.EvaluationBarType="evaluationBarType",n.HighlightLegalMoves="highlightLegalMoves",n.HighlightMoves="highlightMoves",n.MoveListDisplayType="moveListDisplayType",n.PieceStyle="pieceStyle",n.SoundTheme="soundTheme",n.PlaySounds="playSounds"}(e.SaveableOptions||(e.SaveableOptions={}))})(Xn||(Xn={}));function pr(e,t){return{data:t||{},type:e}}const Ri=["wp","wn","wb","wr","wq","wk","bp","bn","bb","br","bq","bk"],to={"8_bit":["#6a9b41","#f3f3f4","8_bit",".png","#ffff00"],bases:["#c26b38","#efcca1","bases",".jpg","#f5cc2a"],blackwhite:["#667188","#282f3f","translucent",".png","#5b91b3"],blue:["#4D6D92","#ECECD7","blue",".png","#00a5ff"],brown:["#B58863","#F0D9B5","brown",".png","#ffff00"],bubblegum:["#f9cdd3","#fff3f3","bubblegum",".png","#de5d6f"],burled_wood:["#895132","#d9b088","burled_wood",".jpg","#ee9016"],checkers:["#e3a6a9","#999999","checkers",".jpg","#fae18a"],dark_wood:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],dash:["#6b3a27","#bd9257","dash",".jpg","#eca722"],default:["#779952","#edeed1","green",".png","#ffff00"],glass:["#282f3f","#667188","glass",".png","#5b91b3"],graffiti:["#b96f18","#aeaeae","graffiti",".jpg","#f39011"],green:["#779952","#edeed1","green",".png","#ffff00"],grey:["#aaaaaa","#dcdcdc","light",".png","#a4b8c4"],icy_sea:["#7a9db2","#c5d5dc","icy_sea",".jpg","#5ed7f1"],light:["#aaaaaa","#dcdcdc","light",".png","#a4b8c4"],lolz:["#909898","#e0e9e9","lolz",".jpg","#a3becd"],marble:["#706b66","#c7bdaa","marble",".jpg","#f0db86"],marbleblue:["#c2d7e2","#efefef","marbleblue",".jpg","#65daf7"],marblebrown:["#b96f18","#aeaeae","graffiti",".jpg","#f39011"],marblegreen:["#706b66","#c7bdaa","marblegreen",".jpg","#f0db86"],metal:["#6e6e6e","#c9c9c9","metal",".jpg","#a3becd"],natural:["#D08B18","#FCE4B2","tan",".png","#f0e464"],nature:["#8c976e","#c3d1a4","translucent",".png","#eef396"],neon:["#636363","#b9b9b9","neon",".png","#6d90a6"],newspaper:["#5a5956","#5a5956","newspaper",".jpg","#99976e"],orange:["#D08B18","#FCE4B2","orange",".png","#ffff00"],overlay:["#789ebd","#4878a0","overlay",".png","#0d9acf"],parchment:["#B58863","#F0D9B5","parchment",".jpg","#d8cc66"],pink:["#f9cdd3","#fff3f3","bubblegum",".png","#de5d6f"],purple:["#8877B7","#EFEFEF","purple",".png","#7dacc9"],red:["#BA5546","#F0D8BF","red",".png","#f8f893"],sand:["#b8a590","#e5d3c4","sand",".jpg","#e2bc87"],sky:["#c2d7e2","#efefef","sky",".png","#65daf7"],stone:["#666463","#c8c3bd","stone",".jpg","#36525f"],tan:["#D08B18","#FCE4B2","tan",".png","#f7d84a"],tournament:["#316549","#ebece8","tournament",".jpg","#a4c25b"],translucent:["#667188","#282f3f","translucent",".png","#5b91b3"],walnut:["#835f42","#c0a684","walnut",".jpg","#d1a52d"],winboard:["#316549","#ebece8","tournament",".jpg","#a4c25b"],wood:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],wooddark:["#895132","#d9b088","burled_wood",".jpg","#ee9016"],woodlight:["#B58863","#F0D9B5","parchment",".jpg","#d8cc66"],woodmid:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],woodolive:["#6e6e6e","#c9c9c9","woodolive",".jpg","#a3becd"]},vo={"3d_staunton":{format:"png",isPseudo3d:!0,path:"3d_staunton"},"3dchesskid":{format:"png",isPseudo3d:!0,path:"3d_chesskid"},"3dplastic":{format:"png",isPseudo3d:!0,path:"3d_plastic"},"3dwood":{format:"png",isPseudo3d:!0,path:"3d_wood"},"8_bit":{format:"png",path:"8_bit"},alpha:{format:"png",path:"alpha"},bases:{format:"png",path:"bases"},blindfold:{format:"png",path:"blindfold"},book:{format:"png",path:"book"},bubblegum:{format:"png",path:"bubblegum"},cases:{format:"png",path:"cases"},classic:{format:"png",path:"classic"},club:{format:"png",path:"club"},condal:{format:"png",path:"condal"},dash:{format:"png",path:"dash"},game_room:{format:"png",path:"game_room"},glass:{format:"png",path:"glass"},gothic:{format:"png",path:"gothic"},graffiti:{format:"png",path:"graffiti"},icy_sea:{format:"png",path:"icy_sea"},light:{format:"png",path:"light"},lolz:{format:"png",path:"lolz"},luca:{format:"png",path:"luca"},marble:{format:"png",path:"marble"},maya:{format:"png",path:"maya"},metal:{format:"png",path:"metal"},modern2:{format:"png",path:"modern"},nature:{format:"png",path:"nature"},neo:{format:"png",path:"neo"},neo_wood:{format:"png",path:"neo_wood"},neon:{format:"png",path:"neon"},newspaper:{format:"png",path:"newspaper"},ocean:{format:"png",path:"ocean"},real3d:{format:"png",path:"neo"},sky:{format:"png",path:"sky"},space:{format:"png",path:"space"},tigers:{format:"png",path:"tigers"},tournament:{format:"png",path:"tournament"},vintage:{format:"png",path:"vintage"},wood:{format:"png",path:"wood"}};function mo(e){const t=to[e];if(!t)return null;const[n,r,i,a,s]=t;return{darkSquareColor:n,lightSquareColor:r,path:i,extension:a,highlightColor:s}}function go(){return"https://www.chess.com"}function Jo(e,t=150){return`${go()}/chess-themes/pieces/${e}/${t}`}function Ja(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return[0,0,0,0,0,0,0,0,0,0].reduce(t=>t+e.charAt(Math.floor(Math.random()*e.length)),"")}function qi(){return{allowMarkings:!0,disableUserMarkings:!1,analysisHighlightColors:{alt:Xn.HighlightColors.Blue,ctrl:Xn.HighlightColors.Orange,default:Xn.HighlightColors.Red,shift:Xn.HighlightColors.Green},analysisHighlightOpacity:.8,animationType:Xn.Animation.Types.Default,arrowColors:{alt:Xn.HighlightedArrowColors.Blue,ctrl:Xn.HighlightedArrowColors.Red,default:Xn.HighlightedArrowColors.Orange,shift:Xn.HighlightedArrowColors.Green},aspectRatio:1,autoClaimDraw:!0,autoPromote:!1,autoResize:!0,boardStyle:"green",captureKeyStrokes:!0,checkBlinkingSquareColor:"#ff0000",coordinates:Xn.CoordinatesPositions.Inside,darkMode:!1,diagramStyle:!0,enabled:!0,fadeSetup:0,flipped:!1,highlightColor:void 0,highlightLegalMoves:!0,highlightMoves:!0,highlightOpacity:.5,hoverSquareOutline:!0,id:Ja(),moveListContextMenuEnabled:!0,moveListDisplayType:Xn.MoveListDisplayTypes.Text,moveMethod:Xn.MoveMethods.Drag,overlayInAnalysisMode:!1,pieceStyle:"neo",playSounds:!0,premoveDelay:200,premoveHighlightColor:"#f42a32",premoveHighlightOpacity:.5,rounded:!0,soundTheme:"default",syncEffects:!0,threatSquareColor:"#ff0000",threatSquareOpacity:.8,useSharedStyleTag:!1}}function ka(){let e,t;return{match:[{condition:on([k.InstanceEvents.RendererSet,k.OptionsEvents.Update]),handler:n}],name:Vt.Plugin.Name};function n(r,i){const{options:a,renderer:s}=i;if(!s)return;a.boardStyle!==e&&(e=a.boardStyle,s.updateBoardImage(i));const u=()=>{a.pieceStyle!==t&&(t=a.pieceStyle,s.updatePieceBaseImage(i))};if(s.name==="webgl-3d"||!s.getPieceStyles)u();else{const f=s.getPieceStyles();ca(f[i.options.pieceStyle]).then(u).catch(p=>{p instanceof Xn.StylesSetFailed?(i.api.emit(k.InstanceEvents.StylesSetFailed,pr(k.InstanceEvents.StylesSetFailed,{message:"Problem updating styles. Will fallback to default.",error:p})),i.options.pieceStyle=qi().pieceStyle,s.updatePieceBaseImage(i,!0)):a.pieceStyle!==t&&u()})}}}function ca({path:e,format:t}){return new Promise(function(n,r){const i=Jo(e),s=Ri.map(u=>`${i}/${u}.${t}`).map(u=>Ia(u));Promise.all(s).then(()=>n(!0)).catch(u=>{r(new Xn.StylesSetFailed(u.message))})})}function Ia(e){return new Promise(function(t,n){const r=new Image;r.addEventListener("load",()=>t(e)),r.addEventListener("error",()=>n(new Error(`Failed to load image: ${e}`))),e||n(new Error(`Unknown url: ${e}`)),r.src=e})}function ea(){return{match:[{condition:at(k.APIEvents.BlinkHighlight),handler:e}],name:O.Plugin.Name};function e(t,n){const{renderer:r}=n;r?.blinkHighlights(t.data,n)}}var es=`.board-disabled *:not(canvas) {
  pointer-events: none;
}`,Ii;(function(e){(function(t){t.Name="board-disabled"})(e.Plugin||(e.Plugin={}))})(Ii||(Ii={}));var ji;(function(e){e.Pseudo3d="pseudo3d",e.Disabled="board-disabled",e.Flipped="flipped"})(ji||(ji={}));var gn;(function(e){e.All="All",e.Move="Move"})(gn||(gn={}));var wn;(function(e){(function(t){t.Default="default",t.WebGL2D="webgl-2d",t.WebGL3D="webgl-3d"})(e.Types||(e.Types={})),e.TriggerOptions=[Xn.SaveableOptions.AnimationType,Xn.SaveableOptions.PieceStyle]})(wn||(wn={}));function Mt(){return{create:e,match:[{condition:at(k.OptionsEvents.Update),handler:t}],name:Ii.Plugin.Name};function e(n){n.el.classList.toggle(ji.Disabled,!n.options.enabled)}function t(n,r){const{data:i}=n,{el:a,renderer:s}=r;"enabled"in i&&(a.classList.toggle(ji.Disabled,!i.enabled),s?.setBoardEnabled(i.enabled))}}function $e(){return{match:[{condition:on([k.UIEvents.Resize,k.InstanceEvents.RendererSet]),handler:e}],name:V.Plugin.Name};function e(t,n){const{renderer:r}=n;r?.resize(n)}}const ie=(0,A.c)({data:Q(),initialState:"idle",states:{changedPiece:{load:Ze,move:()=>({data:{chosenPiece:void 0,didChangePieces:!0,mouseCoords:[...ie.getData().mouseCoords,ie.getData().tentativeMouseCoords],moveHoldTimes:[...ie.getData().moveHoldTimes,Date.now()-ie.getData().moveHoldTimeStart]},nextState:"idle"})},chosenPiece:{choosePiece:({tentativeMouseCoords:e,moveHoldTimeStart:t})=>({data:{moveHoldTimeStart:t,tentativeMouseCoords:e},nextState:"changedPiece"}),load:Ze,move:()=>({data:{chosenPiece:void 0,mouseCoords:[...ie.getData().mouseCoords,ie.getData().tentativeMouseCoords],moveHoldTimes:[...ie.getData().moveHoldTimes,Date.now()-ie.getData().moveHoldTimeStart]},nextState:"idle"})},idle:{choosePiece:({chosenPiece:e,moveHoldTimeStart:t,tentativeMouseCoords:n})=>({data:{chosenPiece:e,didChangePieces:!1,moveHoldTimeStart:t,tentativeMouseCoords:n},nextState:"chosenPiece"}),load:Ze}}});function Q(){return{chosenPiece:"",didChangePieces:!1,mouseCoords:[],moveHoldTimes:[],tentativeMouseCoords:{x:0,y:0}}}function Ze(){return{data:Q(),nextState:"idle"}}var L;(function(e){(function(t){t.AddingMarkings="AddingMarkings",t.Idle="Idle",t.PieceDragging="PieceDragging",t.PieceSelected="PieceSelected",t.PromotionAreaShowing="PomotionAreaShowing"})(e.States||(e.States={}))})(L||(L={}));var fe;(function(e){e.Name="core"})(fe||(fe={}));function se(e){const t={},n=e.mouseCoords.length/2;return e.mouseCoords.some(r=>{if(!r)return!1;const i=`${r.x}-${r.y}`;return typeof t[i]>"u"?t[i]=0:t[i]+=1,t[i]>=n},{})}function Xe({machine:e}){return{get:t};function t(){const n=e.getData();return{didChangePieces:n.didChangePieces,didUseCheatMouse:se(n),moveHoldTimes:n.moveHoldTimes}}}function Gt(){return{api:()=>Xe({machine:ie}),match:[{condition:on([k.UserEvents.PointerdownLeft,k.UserEvents.Pointerup]),handler:e},{condition:at(k.APIEvents.Load),handler:t},{condition:at(k.APIEvents.Move),handler:n}],name:nn.Plugin.Name};function e(r,i){const{mode:a,state:s}=i;if(s.get(k.State.MachineState)===L.States.PromotionAreaShowing||!r.data||!a.isAllowedToMove())return;const u=s.get(k.State.SelectedPiece)||s.get(k.State.DraggingPiece);if(u&&u!==ie.getData().chosenPiece){if(!r.data.coordsInsideSquare){i.run({type:nn.Events.CheatDetectionError,data:{corePiece:u,cheatDetectionPiece:ie.getData().chosenPiece,eventData:r.data,variant:i.api.getVariant()}});return}ie.transition("choosePiece",{chosenPiece:u,moveHoldTimeStart:Date.now(),tentativeMouseCoords:r.data.coordsInsideSquare})}}function t(){ie.transition("load")}function n(){ie.transition("move")}}function bt(){let e,t=!1;return{match:[{condition:on([k.InstanceEvents.RendererSet,k.OptionsEvents.Update]),handler:n}],name:Ft.Plugin.Name};function n(r,i){const{options:a,renderer:s}=i;!s||((a.coordinates!==e||a.flipped!==t||r.type===k.InstanceEvents.RendererSet)&&s.setCoordinates({flipped:a.flipped,position:a.coordinates},i),e=a.coordinates,t=a.flipped)}}function Oe(e){return{getDefaultStarColor:t};function t(){return e}}function mt(e){return function(){return Oe(e)}}function Bt(e,t,n){const r=Se({},e);return r.data[t]=n,r}var g=`.custom-item {
  background-clip: content-box;
  box-sizing: border-box;
  height: 12.5%;
  opacity: 0.8;
  pointer-events: none;
  position: absolute;
  width: 12.5%;
}

.captured svg {
  -webkit-animation: capture-star 0.5s infinite;
          animation: capture-star 0.5s infinite;
}

@-webkit-keyframes capture-star {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0;
    transform: scale(2);
  }
}

@keyframes capture-star {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0;
    transform: scale(2);
  }
}`;function C(e){return e}function Y(e){return e*(2-e)}function Ee(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}function Me(e){return--e*e*e+1}function Qe(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}function Ce(e){return Math.sin(e*Math.PI/2)}function Lt(e){return Math.sqrt(1- --e*e)}function Gn(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1}function br(e){const{animatedProps:t,animatedPropsKeyframes:n,frameInfo:r,isTargetHTMLElement:i,params:a}=e,{keyframes:s,target:u}=a,{elapsedPercentage:f}=r,p=a.easing||C;if(!s)return;let h,y,b,S,$;Object.keys(t).forEach(G=>{for(let ce=1;ce<n[G].length;ce++)if(b=n[G][ce-1],S=n[G][ce],f>=b&&f<=S){h=s[b][G],y=s[S][G];break}$=(f-b)/(S-b),$=p($),t[G]=h+(y-h)*$,u&&!i&&(u[G]=t[G])})}function _r(e){const{data:t,keyframes:n,repeat:r,target:i,onEnd:a}=e,s=dn(n),u=Qt(s,n),f={animatedProps:s,animatedPropsKeyframes:u,data:Se({},t),endCallbacks:[],ended:!1,endTime:0,forcedEnd:!1,frameInfo:{deltaTime:0,elapsedInterval:0,elapsedPercentage:0},isTargetHTMLElement:i instanceof HTMLElement,onEnd:p=>f.endCallbacks.push(p),params:e,repeatCount:r||1,started:!1,startTime:0,keptAlive:!1};return a&&f.endCallbacks.push(a),f}function dn(e){if(!e)return{};if(!e[0])throw new Error("The animation keyframes must contain values at `0` percentage.");return Se({},e[0])}function Qt(e,t){if(!t)return{};const n=Object.keys(e),r={};return n.forEach(i=>r[i]=[]),Object.keys(t).sort((i,a)=>parseInt(i,10)-parseInt(a,10)).forEach(i=>{n.forEach(a=>{t[i][a]!==void 0&&r[a].push(parseInt(i,10))})}),r}function ht(e=!1){const t=[];let n=0,r=0;return{end:a,endAll:s,play:h,playingAnimationsCount:()=>t.length,update:$};function i(G){const ce=(G-r)*.001;t.forEach(Re=>{if(Re.startTime>G)return;const At=Re.frameInfo;At.deltaTime=ce,!(!Re.started&&!f(Re,G))&&(Re.endTime&&(At.elapsedInterval=(G-Re.startTime)/(Re.endTime-Re.startTime),At.elapsedInterval>1&&(At.elapsedInterval=1),At.elapsedPercentage=Math.round(At.elapsedInterval*100)),p(Re),Re.endTime&&Re.endTime<=G&&u(Re))}),r=G,t.length&&!e&&(n=requestAnimationFrame(i))}function a(G){G.ended||t.indexOf(G)<0||(G.frameInfo.elapsedInterval=1,G.frameInfo.elapsedPercentage=100,p(G),u(G,!0))}function s(){[...t].forEach(a)}function u(G,ce=!1){const{duration:Re,keepAlive:At,repeatDelay:it}=G.params;if(G.repeatCount--,G.forcedEnd=ce,!ce&&G.repeatCount>0&&Re&&Re!==1/0){G.startTime=G.endTime+(it||0),G.endTime=G.startTime+Re;return}if(!ce&&At){G.keptAlive=!0;return}G.ended=!0,G.endCallbacks.forEach(St=>St(G)),y(G)}function f(G,ce){const{duration:Re,delay:At,onStart:it}=G.params;return G.startTime||(G.startTime=ce+(At||0),Re&&Re!==1/0&&(G.endTime=G.startTime+Re)),G.startTime>ce?!1:(G.started=!0,it?.(G),!0)}function p(G){const{onUpdate:ce}=G.params;br(G),ce?.(G)}function h(G){const ce=_r(G);return t.push(ce),!n&&!e&&b(),ce}function y(G){const ce=t.indexOf(G);ce>=0&&t.splice(ce,1),!t.length&&!e&&S()}function b(){r=performance.now(),n=requestAnimationFrame(i)}function S(){n&&cancelAnimationFrame(n),n=0}function $(G){i(G)}}function Ye(e={}){const t=e;function n(f){if(t[f]===void 0)throw new Error(`Requested object at key ${f} is undefined.`);return t[f]}function r(){return t}function i(f,p){t[f]=p}function a(){return Object.keys(t)}function s(f){return t[f]!==void 0}function u(f){delete t[f]}return{deleteItem:u,get:n,getCollection:r,isDefined:s,keys:a,set:i}}var cn;(function(e){e.Arrows="arrows",e.BlinkingHighlights="blinking-highlights",e.CaptureHints="capture-hints",e.Coordinates="coordinates",e.Effects="effects",e.FadeSetup="fade-setup",e.HoverSquare="hover-square",e.MoveHints="move-hints",e.Pieces="pieces",e.PromotionWindow="promotion-window",e.Squares="squares"})(cn||(cn={}));function _n(e,t){return e.split(" ").filter(n=>!n.startsWith(t)).join(" ").trim()}function fr(e){return{file:e.toLowerCase().charCodeAt(0)-96,rank:Number(e.charAt(1))}}function or({square:e,el:t}){const n=fr(e);!n||(t.className=_n(t.className,"square-"),t.classList.add(`square-${n.file}${n.rank}`),t.style.transform="")}function Ar(e,t){return e?(Object.entries(t).forEach(([n,r])=>{const i=`${n.charAt(0).toUpperCase()}${n.slice(1)}`;typeof r>"u"?delete e.dataset[`test${i}`]:e.dataset[`test${i}`]=r}),!0):!1}var Rn;(function(e){e.Anchor="anchor",e.Blinking="blinking",e.Color="color",e.Dragging="dragging",e.Editable="editable",e.Element="element",e.EnPassant="enPassant",e.File="file",e.Figurine="figurine",e.Flipped="flipped",e.Inside="inside",e.Interval="interval",e.LeadingFigurine="leadingFigurine",e.Opacity="opacity",e.Outside="outside",e.Position="position",e.Rank="rank",e.Selected="selected",e.ShortString="shortstring",e.Square="square",e.Star="star",e.TextColor="textColor",e.TextValue="textValue",e.Times="times",e.TrailingFigurine="trailingFigurine",e.Type="type",e.WholeMoveNumber="wholeMoveNumber",e.X="x",e.Y="y"})(Rn||(Rn={}));var Cr;(function(e){e.Arrow="arrow",e.BlinkingHighlight="blinking-highlight",e.Board="board",e.CommentLink="comment-link",e.Coordinates="coordinates",e.CustomItem="custom-item",e.Effect="effect",e.FadeInOverlay="fade-in-overlay",e.GameResult="game-result",e.HalfMove="half-move",e.Highlight="highlight",e.Hint="hint",e.HoverSquare="hover-square",e.Move="move",e.Piece="piece",e.PotentialCapture="capture-hint",e.PromotionCloseButton="promotion-close-button",e.PromotionPiece="promotion-piece",e.PromotionWindow="promotion-window",e.Square="square",e.SiblingBoard="sibling-board"})(Cr||(Cr={}));function Gr(e){if(!e)return null;const t=e.position===I.Positions.Below;return e.target===I.Targets.Arrows?{insertBefore:t,type:cn.Arrows}:e.target===I.Targets.Effects?{insertBefore:t,type:cn.Effects}:e.target===I.Targets.Pieces?{insertBefore:!t,type:t?cn.Effects:cn.Pieces}:null}const Lr=`
<svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
  <image x="7.5" y="7.5" width="25" height="25" />
</svg>
`,xn=`
  <svg xmlns="http://www.w3.org/2000/svg" style="fill: #ffa704" viewBox="0 0 40 40">
    <path
      d="M23.12,17.84H16.4a1.11,1.11,0,0,1-1.06-1.43L18.7,5.21a1.11,1.11,0,0,1,2.13,0l3.36,11.2A1.11,1.11,0,0,1,23.12,17.84Z" />
    <path
      d="M27.21,34.11,4.35,16.88a1.11,1.11,0,0,1,.67-2l17.89,0a1.11,1.11,0,0,1,1.06.8l5,17.19A1.11,1.11,0,0,1,27.21,34.11Z" />
    <path
      d="M35.17,16.88,12.31,34.11a1.11,1.11,0,0,1-1.74-1.2l5-17.19a1.11,1.11,0,0,1,1.06-.8l17.89,0A1.11,1.11,0,0,1,35.17,16.88Z" />
  </svg>
`,hn=`
<svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="5" y="12.5" width="30" height="15" rx="3" fill="inherit" />
  <text fill="#676767" font-size="0.8rem" x="20.5" y="20.5" dominant-baseline="middle" text-anchor="middle"></text>
</svg>
`;var jn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Image:Lr,Star:xn,TextBox:hn});function yt({board:e,el:t,options:n}){const r=Ye(),i=Ye(),a=ht(),s=Ye(),u=document.createComment("/Custom Items");return e.addToDom({el:u,insertAfter:!0,type:cn.Pieces}),{addCustomItems:f,removeCustomItems:y};function f($){$.forEach(G=>{const{data:{color:ce,image:Re,opacity:At,text:it,type:St,visualOrder:Kt,frame:Yn,removalClass:hr,square:cr}}=G;i.isDefined(cr)&&h(cr,hr),s.isDefined(cr)&&a.end(s.get(cr));const un=document.createElement("div");if(un.classList.add(en.Classes.Root),Yn){un.classList.add("custom-item__frame"),Yn.imageAnimated&&un.classList.add("custom-item__frame--animated");const Dn=p(Yn);Dn&&un.appendChild(Dn)}else un.innerHTML=jn[St],Tn();or({el:un,square:cr}),n.test&&Ar(un,{[Rn.Color]:ce,[Rn.Element]:Cr.CustomItem,[Rn.Opacity]:At,[Rn.Square]:cr,[Rn.Type]:St});const Wt=Gr(Kt);Wt?e.addToDom(Se({el:un},Wt)):t.insertBefore(un,u),r.set(cr,un);function Tn(){const Dn=un.querySelector("svg");if(!!Dn){if(ce&&(Dn.style.fill=ce),At&&(Dn.style.opacity=String(At)),Re){const vr=Dn.querySelector("image");if(!vr)return;if(vr.setAttribute("href",Re.url),Re.percentOfSquare){const{width:Zn}=Dn.viewBox.baseVal,xr=Zn*Re.percentOfSquare*.01,ir=(Zn-xr)/2;Object.assign(vr.style,{height:xr,width:xr,x:ir,y:ir})}}if(it){const vr=Dn.querySelector("text");if(!vr)return;vr.innerHTML=it.value,it.color&&(vr.style.fill=it.color)}}}})}function p($){if(!$)return;const G=document.createElement("div"),{imageURL:ce,imageAnimated:Re,positionRatioX:At,positionRatioY:it,widthRatio:St,heightRatio:Kt}=$,Yn=At/St,hr=it/Kt,cr=1/St,un=1/Kt,Wt=Yn/(cr-1)*100,Tn=hr/(un-1)*100,Dn=Re?"auto 100%":`${1/St*100}% ${1/Kt*100}%`;return G.style.backgroundImage=`url(${ce})`,G.style.backgroundSize=Dn,G.style.backgroundPositionX=`${Wt}%`,G.style.backgroundPositionY=`${Tn}%`,G}function h($,G="captured"){const ce=r.get($);ce&&ce.classList.contains(G)&&(b(ce,$),clearTimeout(i.get($)),i.deleteItem($))}function y($){$.forEach(G=>{const{data:ce}=G,{frame:Re,removalClass:At="captured",removalTimeout:it=250,square:St}=ce,Kt=r.get(St);!Kt||(Re?.imageAnimated?S({customItemElement:Kt,imageURL:Re.imageURL,square:St,onAnimationEnd:()=>{s.isDefined(St)&&s.deleteItem(St),b(Kt,St)}}):(Kt.classList.add(At),i.set(St,window.setTimeout(()=>{i.isDefined(St)&&i.deleteItem(St),Kt&&b(Kt,St)},it))))})}function b($,G){t.removeChild($),r.deleteItem(G)}function S({customItemElement:$,imageURL:G,square:ce,onAnimationEnd:Re}){const At=$.querySelector("div");if(!At){Re();return}const it=new Image;it.src=G,it.onload=()=>{const St=$.clientHeight,Kt=Math.ceil(it.naturalWidth/it.naturalHeight),Yn=1/Kt,hr=a.play({duration:Kt/24*1e3,data:{currentFrame:1},onUpdate:()=>{const{data:cr,frameInfo:un}=hr;Yn*cr.currentFrame<un.elapsedInterval&&(At.style.backgroundPositionX=`-${St*cr.currentFrame}px`,cr.currentFrame++)},onEnd:Re});s.set(ce,hr)}}}function mn(e){const{api:t,options:n,renderer:r}=e,i=t.markings;r?.extendRenderer(yt);const a=n.allowMarkings?i.getAllWhere({types:[m]}):[];r?.addCustomItems(a,e)}function bn(){return[{condition:Pt(m),handler:e},{condition:mr(m),handler:t},{condition:at(k.InstanceEvents.RendererSet),handler:(n,r)=>mn(r)}];function e(n,r){const{api:i,renderer:a}=r,s=i["custom-items"],u=n.data.filter(Nt(m)).map(f=>f.data.color?f:Bt(f,"color",s.getDefaultStarColor()));a?.addCustomItems(u,r)}function t(n,r){const{api:i,queue:a,renderer:s}=r,u=n.data.filter(Nt(m));u.forEach(f=>{const p=f.data.removalSound;p&&a.add(i.playSound,p)}),s?.removeCustomItems(u,r)}}var w;(function(e){e.DefaultSquareColor="#ffa704"})(w||(w={}));function Te({defaultStarColor:e=w.DefaultSquareColor}={}){return{create:mn,api:mt(e),match:bn(),name:en.Plugin.Name}}var Ae;(function(e){(function(t){t.EntryAdded="EntryAdded"})(e.Events||(e.Events={})),function(t){t.Debug="Debug",t.Error="Error",t.None="None"}(e.Levels||(e.Levels={}))})(Ae||(Ae={}));function Ne(){let e,t;return{create:n,name:ue.Plugin.Name};function n(i){const{api:{logger:a}}=i;a.on(Ae.Events.EntryAdded,r)}function r(i){i.code===void 0||i.code===k.LogCodes.State&&JSON.stringify(i.data)===e||i.code===k.LogCodes.Event&&i.data.type===k.UserEvents.Pointermove&&t===k.UserEvents.Pointermove||i.code===k.LogCodes.Event&&i.data.type===k.UIEvents.Resize&&t===k.UIEvents.Resize||(i.code===k.LogCodes.State&&(e=JSON.stringify(i.data)),i.code===k.LogCodes.Event&&(t=i.data.type),console.group(i.code),i.level===Ae.Levels.Error?console.error(i.data):console.log(i.data),console.groupEnd())}}var et=`.effect {
  background-clip: content-box;
  border-radius: 50%;
  box-sizing: border-box;
  height: 12.5%;
  /*rtl:ignore*/
  left: 5.5%;
  padding: 3.75%;
  pointer-events: none;
  position: absolute;
  top: -5.5%;
  width: 12.5%;
  z-index: 1;
}

.effects {
  pointer-events: none;
  position: absolute;
}

.flipped .effects {
  /*rtl:ignore*/
  transform: scale(-1, -1);
}

.tuck-right {
  margin-left: -2%;
}

.tuck-top {
  margin-top: 2%;
}`;function ot(e){if(!e)return!1;const t=["a","h","1","8"];let n=!1;return t.forEach(r=>{e.includes(r)&&(n=!0)}),n}var Be;(function(e){(function(t){t.Background="icon-background",t.Component="icon-component",t.ComponentShadow="icon-component-shadow",t.Shadow="icon-shadow"})(e.ClassNames||(e.ClassNames={}))})(Be||(Be={}));const ae=`<g id="alternative">
    <g>
      <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
      <path class="${Be.ClassNames.Background}" fill="#96af8b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    </g>
    <g>
      <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
        <path d="M14.57,4.71l-4.42.2a.2.2,0,0,0-.11,0A.16.16,0,0,0,10,5a.21.21,0,0,0,0,.11.31.31,0,0,0,0,.1l1.4,1.4L8.92,9.13,6.5,6.71,8,5.24a.19.19,0,0,0,0-.1A.14.14,0,0,0,8,5,.15.15,0,0,0,8,4.94a.21.21,0,0,0-.11,0L3.42,4.71l-.08,0-.06,0a.18.18,0,0,0,0,.07.19.19,0,0,0,0,.08l.19,4.42a.15.15,0,0,0,0,.11.18.18,0,0,0,.08.07.25.25,0,0,0,.12,0,.18.18,0,0,0,.09-.06L5.21,8l2.55,2.56v4.49a.29.29,0,0,0,0,.09l0,.07.08,0,.09,0H9.85l.09,0a.18.18,0,0,0,.07,0l.05-.07a.29.29,0,0,0,0-.09V10.57l2.63-2.63,1.55,1.54a.16.16,0,0,0,.09,0,.17.17,0,0,0,.12,0,.18.18,0,0,0,.08-.07.13.13,0,0,0,0-.1l.19-4.43a.19.19,0,0,0,0-.08.18.18,0,0,0,0-.07l-.07,0Z"></path>
      </g>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M14.57,4.21l-4.42.2a.2.2,0,0,0-.11,0,.16.16,0,0,0-.07.09.21.21,0,0,0,0,.11.31.31,0,0,0,0,.1l1.4,1.4L8.92,8.63,6.5,6.21,8,4.74a.19.19,0,0,0,0-.1.14.14,0,0,0,0-.11A.15.15,0,0,0,8,4.44a.21.21,0,0,0-.11,0L3.42,4.21l-.08,0-.06,0a.18.18,0,0,0,0,.07.19.19,0,0,0,0,.08l.19,4.42a.15.15,0,0,0,0,.11A.18.18,0,0,0,3.53,9a.25.25,0,0,0,.12,0A.18.18,0,0,0,3.74,9L5.21,7.51l2.55,2.56v4.49a.29.29,0,0,0,0,.09l0,.07.08,0,.09,0H9.85l.09,0a.18.18,0,0,0,.07,0l.05-.07a.29.29,0,0,0,0-.09V10.07l2.63-2.63L14.26,9a.16.16,0,0,0,.09,0,.17.17,0,0,0,.12,0A.18.18,0,0,0,14.55,9a.13.13,0,0,0,0-.1l.19-4.43a.19.19,0,0,0,0-.08.18.18,0,0,0,0-.07l-.07,0Z"></path>
    </g>
  </g>`,Le=`<g id="best">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <path class="${Be.ClassNames.Background}" fill="#96bc4b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <path class="${Be.ClassNames.ComponentShadow}" opacity="0.2" d="M9,3.43a.5.5,0,0,0-.27.08.46.46,0,0,0-.17.22L7.24,7.17l-3.68.19a.52.52,0,0,0-.26.1.53.53,0,0,0-.16.23.45.45,0,0,0,0,.28.44.44,0,0,0,.15.23l2.86,2.32-1,3.56a.45.45,0,0,0,0,.28.46.46,0,0,0,.17.22.41.41,0,0,0,.26.09.43.43,0,0,0,.27-.08l3.09-2,3.09,2a.46.46,0,0,0,.53,0,.46.46,0,0,0,.17-.22.53.53,0,0,0,0-.28l-1-3.56L14.71,8.2A.44.44,0,0,0,14.86,8a.45.45,0,0,0,0-.28.53.53,0,0,0-.16-.23.52.52,0,0,0-.26-.1l-3.68-.2L9.44,3.73a.46.46,0,0,0-.17-.22A.5.5,0,0,0,9,3.43Z"></path>
    <path class="${Be.ClassNames.Component}" fill="#fff" d="M9,2.93A.5.5,0,0,0,8.73,3a.46.46,0,0,0-.17.22L7.24,6.67l-3.68.19A.52.52,0,0,0,3.3,7a.53.53,0,0,0-.16.23.45.45,0,0,0,0,.28.44.44,0,0,0,.15.23L6.15,10l-1,3.56a.45.45,0,0,0,0,.28.46.46,0,0,0,.17.22.41.41,0,0,0,.26.09.43.43,0,0,0,.27-.08l3.09-2,3.09,2a.46.46,0,0,0,.53,0,.46.46,0,0,0,.17-.22.53.53,0,0,0,0-.28l-1-3.56L14.71,7.7a.44.44,0,0,0,.15-.23.45.45,0,0,0,0-.28A.53.53,0,0,0,14.7,7a.52.52,0,0,0-.26-.1l-3.68-.2L9.44,3.23A.46.46,0,0,0,9.27,3,.5.5,0,0,0,9,2.93Z"></path>
  </g>`,Ve=`<g id="blunder">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <path class="${Be.ClassNames.Background}" fill="#ca3431" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
      <path d="M14.74,5.45A2.58,2.58,0,0,0,14,4.54,3.76,3.76,0,0,0,12.89,4a4.07,4.07,0,0,0-1.2-.19A3.92,3.92,0,0,0,10.51,4a5.87,5.87,0,0,0-.9.37,3,3,0,0,0-.32.2,3.46,3.46,0,0,1,.42.63,3.29,3.29,0,0,1,.36,1.47.31.31,0,0,0,.19-.06l.11-.08a2.9,2.9,0,0,1,.29-.19,3.89,3.89,0,0,1,.41-.17,1.55,1.55,0,0,1,.48-.07,1.1,1.1,0,0,1,.72.24.72.72,0,0,1,.23.26.8.8,0,0,1,.07.34,1,1,0,0,1-.25.67,7.71,7.71,0,0,1-.65.63,6.2,6.2,0,0,0-.48.43,2.93,2.93,0,0,0-.45.54,2.55,2.55,0,0,0-.33.66,2.62,2.62,0,0,0-.13.83V11a.24.24,0,0,0,0,.12.35.35,0,0,0,.17.17l.12,0h1.71l.12,0a.23.23,0,0,0,.1-.07.21.21,0,0,0,.06-.1.27.27,0,0,0,0-.12V10.8a1,1,0,0,1,.26-.7q.27-.28.66-.63A5.79,5.79,0,0,0,14.05,9a4.51,4.51,0,0,0,.48-.6,2.56,2.56,0,0,0,.36-.72,2.81,2.81,0,0,0,.14-1A2.66,2.66,0,0,0,14.74,5.45Z"></path>
      <path d="M12.38,12.65H10.5l-.12,0a.34.34,0,0,0-.18.29v1.82a.36.36,0,0,0,.08.23.23.23,0,0,0,.1.07l.12,0h1.88a.24.24,0,0,0,.12,0,.26.26,0,0,0,.11-.07.36.36,0,0,0,.07-.1.28.28,0,0,0,0-.13V13a.27.27,0,0,0,0-.12.61.61,0,0,0-.07-.1A.32.32,0,0,0,12.38,12.65Z"></path>
      <path d="M6.79,12.65H4.91l-.12,0a.34.34,0,0,0-.18.29v1.82a.36.36,0,0,0,.08.23.23.23,0,0,0,.1.07l.12,0H6.79a.24.24,0,0,0,.12,0A.26.26,0,0,0,7,15a.36.36,0,0,0,.07-.1.28.28,0,0,0,0-.13V13a.27.27,0,0,0,0-.12.61.61,0,0,0-.07-.1A.32.32,0,0,0,6.79,12.65Z"></path>
      <path d="M8.39,4.54A3.76,3.76,0,0,0,7.3,4a4.07,4.07,0,0,0-1.2-.19A3.92,3.92,0,0,0,4.92,4a5.87,5.87,0,0,0-.9.37,3.37,3.37,0,0,0-.55.38l-.21.19a.32.32,0,0,0,0,.41l1,1.2a.26.26,0,0,0,.2.12.48.48,0,0,0,.24-.06l.11-.08a2.9,2.9,0,0,1,.29-.19l.4-.17A1.66,1.66,0,0,1,6,6.06a1.1,1.1,0,0,1,.72.24.72.72,0,0,1,.23.26A.77.77,0,0,1,7,6.9a1,1,0,0,1-.26.67,7.6,7.6,0,0,1-.64.63,6.28,6.28,0,0,0-.49.43,2.93,2.93,0,0,0-.45.54,2.72,2.72,0,0,0-.33.66,2.62,2.62,0,0,0-.13.83V11a.43.43,0,0,0,0,.12.39.39,0,0,0,.08.1.18.18,0,0,0,.1.07.21.21,0,0,0,.12,0H6.72l.12,0a.23.23,0,0,0,.1-.07.36.36,0,0,0,.07-.1A.5.5,0,0,0,7,11V10.8a1,1,0,0,1,.27-.7A8,8,0,0,1,8,9.47c.18-.15.35-.31.52-.48A7,7,0,0,0,9,8.39a3.23,3.23,0,0,0,.36-.72,3.07,3.07,0,0,0,.13-1,2.66,2.66,0,0,0-.29-1.27A2.58,2.58,0,0,0,8.39,4.54Z"></path>
    </g>
    <g>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M14.74,5A2.58,2.58,0,0,0,14,4a3.76,3.76,0,0,0-1.09-.56,4.07,4.07,0,0,0-1.2-.19,3.92,3.92,0,0,0-1.18.17,5.87,5.87,0,0,0-.9.37,3,3,0,0,0-.32.2,3.46,3.46,0,0,1,.42.63,3.29,3.29,0,0,1,.36,1.47.31.31,0,0,0,.19-.06L10.37,6a2.9,2.9,0,0,1,.29-.19,3.89,3.89,0,0,1,.41-.17,1.55,1.55,0,0,1,.48-.07,1.1,1.1,0,0,1,.72.24.72.72,0,0,1,.23.26.8.8,0,0,1,.07.34,1,1,0,0,1-.25.67,7.71,7.71,0,0,1-.65.63,6.2,6.2,0,0,0-.48.43,2.93,2.93,0,0,0-.45.54,2.55,2.55,0,0,0-.33.66,2.62,2.62,0,0,0-.13.83v.35a.24.24,0,0,0,0,.12.35.35,0,0,0,.17.17l.12,0h1.71l.12,0a.23.23,0,0,0,.1-.07.21.21,0,0,0,.06-.1.27.27,0,0,0,0-.12V10.3a1,1,0,0,1,.26-.7q.27-.28.66-.63a5.79,5.79,0,0,0,.51-.48,4.51,4.51,0,0,0,.48-.6,2.56,2.56,0,0,0,.36-.72,2.81,2.81,0,0,0,.14-1A2.66,2.66,0,0,0,14.74,5Z"></path>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M12.38,12.15H10.5l-.12,0a.34.34,0,0,0-.18.29v1.82a.36.36,0,0,0,.08.23.23.23,0,0,0,.1.07l.12,0h1.88a.24.24,0,0,0,.12,0,.26.26,0,0,0,.11-.07.36.36,0,0,0,.07-.1.28.28,0,0,0,0-.13V12.46a.27.27,0,0,0,0-.12.61.61,0,0,0-.07-.1A.32.32,0,0,0,12.38,12.15Z"></path>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M6.79,12.15H4.91l-.12,0a.34.34,0,0,0-.18.29v1.82a.36.36,0,0,0,.08.23.23.23,0,0,0,.1.07l.12,0H6.79a.24.24,0,0,0,.12,0A.26.26,0,0,0,7,14.51a.36.36,0,0,0,.07-.1.28.28,0,0,0,0-.13V12.46a.27.27,0,0,0,0-.12.61.61,0,0,0-.07-.1A.32.32,0,0,0,6.79,12.15Z"></path>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M8.39,4A3.76,3.76,0,0,0,7.3,3.48a4.07,4.07,0,0,0-1.2-.19,3.92,3.92,0,0,0-1.18.17,5.87,5.87,0,0,0-.9.37,3.37,3.37,0,0,0-.55.38l-.21.19a.32.32,0,0,0,0,.41l1,1.2a.26.26,0,0,0,.2.12.48.48,0,0,0,.24-.06L4.78,6a2.9,2.9,0,0,1,.29-.19l.4-.17A1.66,1.66,0,0,1,6,5.56a1.1,1.1,0,0,1,.72.24.72.72,0,0,1,.23.26A.77.77,0,0,1,7,6.4a1,1,0,0,1-.26.67,7.6,7.6,0,0,1-.64.63,6.28,6.28,0,0,0-.49.43,2.93,2.93,0,0,0-.45.54,2.72,2.72,0,0,0-.33.66,2.62,2.62,0,0,0-.13.83v.35a.43.43,0,0,0,0,.12.39.39,0,0,0,.08.1.18.18,0,0,0,.1.07.21.21,0,0,0,.12,0H6.72l.12,0a.23.23,0,0,0,.1-.07.36.36,0,0,0,.07-.1.5.5,0,0,0,0-.12V10.3a1,1,0,0,1,.27-.7A8,8,0,0,1,8,9c.18-.15.35-.31.52-.48A7,7,0,0,0,9,7.89a3.23,3.23,0,0,0,.36-.72,3.07,3.07,0,0,0,.13-1A2.66,2.66,0,0,0,9.15,5,2.58,2.58,0,0,0,8.39,4Z"></path>
    </g>
  </g>`,tt=`<g id="book">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <path class="${Be.ClassNames.Background}" fill="#a88865" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <g>
      <path class="${Be.ClassNames.ComponentShadow}" opacity="0.3" isolation="isolate" d="M8.45,5.9c-1-.75-2.51-1.09-4.83-1.09H2.54v8.71H3.62a8.16,8.16,0,0,1,4.83,1.17Z"></path>
      <path class="${Be.ClassNames.ComponentShadow}" opacity="0.3" isolation="isolate" d="M9.54,14.69a8.14,8.14,0,0,1,4.84-1.17h1.08V4.81H14.38c-2.31,0-3.81.34-4.84,1.09Z"></path>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M8.45,5.4c-1-.75-2.51-1.09-4.83-1.09H3V13h.58a8.09,8.09,0,0,1,4.83,1.17Z"></path>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M9.54,14.19A8.14,8.14,0,0,1,14.38,13H15V4.31h-.58c-2.31,0-3.81.34-4.84,1.09Z"></path>
    </g>
  </g>`,De=`<g id="Brilliant">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <path class="${Be.ClassNames.Background}" fill="#1bada6" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
      <path d="M12.57,14.6a.51.51,0,0,1,0,.13.44.44,0,0,1-.08.11l-.11.08-.13,0h-2l-.13,0L10,14.84A.41.41,0,0,1,10,14.6V12.7a.32.32,0,0,1,.09-.23.39.39,0,0,1,.1-.08l.13,0h2a.31.31,0,0,1,.24.1.39.39,0,0,1,.08.1.51.51,0,0,1,0,.13Zm-.12-3.93a.17.17,0,0,1,0,.12.41.41,0,0,1-.07.11.4.4,0,0,1-.23.08H10.35a.31.31,0,0,1-.34-.31L9.86,3.9A.36.36,0,0,1,10,3.66a.23.23,0,0,1,.11-.08.27.27,0,0,1,.13,0H12.3a.32.32,0,0,1,.25.1.36.36,0,0,1,.09.24Z"></path>
      <path d="M8.07,14.6a.51.51,0,0,1,0,.13.44.44,0,0,1-.08.11l-.11.08-.13,0h-2l-.13,0-.11-.08a.41.41,0,0,1-.08-.24V12.7a.27.27,0,0,1,0-.13.36.36,0,0,1,.07-.1.39.39,0,0,1,.1-.08l.13,0h2a.31.31,0,0,1,.24.1.39.39,0,0,1,.08.1.51.51,0,0,1,0,.13ZM8,10.67a.17.17,0,0,1,0,.12.41.41,0,0,1-.07.11.4.4,0,0,1-.23.08H5.85a.31.31,0,0,1-.34-.31L5.36,3.9a.36.36,0,0,1,.09-.24.23.23,0,0,1,.11-.08.27.27,0,0,1,.13,0H7.8a.35.35,0,0,1,.25.1.36.36,0,0,1,.09.24Z"></path>
    </g>
    <g>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M12.57,14.1a.51.51,0,0,1,0,.13.44.44,0,0,1-.08.11l-.11.08-.13,0h-2l-.13,0L10,14.34A.41.41,0,0,1,10,14.1V12.2A.32.32,0,0,1,10,12a.39.39,0,0,1,.1-.08l.13,0h2a.31.31,0,0,1,.24.1.39.39,0,0,1,.08.1.51.51,0,0,1,0,.13Zm-.12-3.93a.17.17,0,0,1,0,.12.41.41,0,0,1-.07.11.4.4,0,0,1-.23.08H10.35a.31.31,0,0,1-.34-.31L9.86,3.4A.36.36,0,0,1,10,3.16a.23.23,0,0,1,.11-.08.27.27,0,0,1,.13,0H12.3a.32.32,0,0,1,.25.1.36.36,0,0,1,.09.24Z"></path>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M8.07,14.1a.51.51,0,0,1,0,.13.44.44,0,0,1-.08.11l-.11.08-.13,0h-2l-.13,0-.11-.08a.41.41,0,0,1-.08-.24V12.2a.27.27,0,0,1,0-.13.36.36,0,0,1,.07-.1.39.39,0,0,1,.1-.08l.13,0h2A.31.31,0,0,1,8,12a.39.39,0,0,1,.08.1.51.51,0,0,1,0,.13ZM8,10.17a.17.17,0,0,1,0,.12.41.41,0,0,1-.07.11.4.4,0,0,1-.23.08H5.85a.31.31,0,0,1-.34-.31L5.36,3.4a.36.36,0,0,1,.09-.24.23.23,0,0,1,.11-.08.27.27,0,0,1,.13,0H7.8a.35.35,0,0,1,.25.1.36.36,0,0,1,.09.24Z"></path>
    </g>
  </g>`,_t=`<g id="checkmate_black">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <path class="${Be.ClassNames.Background}" fill="#312e2b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <path d="M11.44,8.41h1.74l.1-1.55H11.54l.18-2.78H10.17L10,6.86H8.31l.18-2.78H6.94L6.76,6.86H5l-.1,1.55H6.66l-.11,1.68H4.82l-.1,1.55H6.46l-.18,2.78H7.83L8,11.64H9.69l-.18,2.78h1.55l.18-2.78H13l.1-1.55H11.34ZM8.11,10.09l.1-1.68H9.89l-.1,1.68Z"></path>
    <path class="${Be.ClassNames.ComponentShadow}" fill="#fff" d="M11.44,7.91h1.74l.1-1.55H11.54l.18-2.78H10.17L10,6.36H8.31l.18-2.78H6.94L6.76,6.36H5l-.1,1.55H6.66L6.55,9.59H4.82l-.1,1.55H6.46l-.18,2.78H7.83L8,11.14H9.69l-.18,2.78h1.55l.18-2.78H13l.1-1.55H11.34ZM8.11,9.59l.1-1.68H9.89l-.1,1.68Z"></path>
  </g>`,fn=`<g id="checkmate_white">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <circle class="${Be.ClassNames.Background}" fill="#f8f8f8" cx="9" cy="9" r="8.5"></circle>
    <path class="${Be.ClassNames.ComponentShadow}" fill="#e8e8e8" d="M9,1A8,8,0,1,1,1,9,8,8,0,0,1,9,1M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <path d="M11.44,8.11h1.74l.1-1.55H11.54l.18-2.78H10.17L10,6.56H8.31l.18-2.78H6.94L6.76,6.56H5l-.1,1.55H6.66L6.55,9.79H4.82l-.1,1.55H6.46l-.18,2.78H7.83L8,11.34H9.69l-.18,2.78h1.55l.18-2.78H13l.1-1.55H11.34ZM8.11,9.79l.1-1.68H9.89l-.1,1.68Z"></path>
  </g>`,Kn=`<g id="correct">
    <g>
      <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
      <path class="${Be.ClassNames.Background}" fill="#96bc4b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    </g>
    <g>
      <path class="${Be.ClassNames.ComponentShadow}" opacity="0.2" d="M15.11,6.81,9.45,12.47,7.79,14.13a.39.39,0,0,1-.28.11.39.39,0,0,1-.27-.11L2.89,9.78a.39.39,0,0,1-.11-.28.39.39,0,0,1,.11-.27L4.28,7.85a.34.34,0,0,1,.12-.09l.15,0a.37.37,0,0,1,.15,0,.38.38,0,0,1,.13.09l2.69,2.68,5.65-5.65a.38.38,0,0,1,.13-.09.37.37,0,0,1,.15,0,.4.4,0,0,1,.15,0,.34.34,0,0,1,.12.09l1.39,1.38a.41.41,0,0,1,.08.13.33.33,0,0,1,0,.15.4.4,0,0,1,0,.15A.5.5,0,0,1,15.11,6.81Z"></path>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M15.11,6.31,9.45,12,7.79,13.63a.39.39,0,0,1-.28.11.39.39,0,0,1-.27-.11L2.89,9.28A.39.39,0,0,1,2.78,9a.39.39,0,0,1,.11-.27L4.28,7.35a.34.34,0,0,1,.12-.09l.15,0a.37.37,0,0,1,.15,0,.38.38,0,0,1,.13.09L7.52,10l5.65-5.65a.38.38,0,0,1,.13-.09.37.37,0,0,1,.15,0,.4.4,0,0,1,.15,0,.34.34,0,0,1,.12.09l1.39,1.38a.41.41,0,0,1,.08.13.33.33,0,0,1,0,.15.4.4,0,0,1,0,.15A.5.5,0,0,1,15.11,6.31Z"></path>
    </g>
  </g>`,Vn=`<g id="critical">
    <g class="${Be.ClassNames.Shadow}" opacity="0.3">
      <path d="M17.68,5.2,11.06,16.67a2.37,2.37,0,0,1-4.11,0L.32,5.2A2.38,2.38,0,0,1,2.38,1.64H15.62A2.38,2.38,0,0,1,17.68,5.2Z"></path>
    </g>
    <path class="${Be.ClassNames.Background}" fill="#ad5b8c" d="M17.68,4.7,11.06,16.17a2.37,2.37,0,0,1-4.11,0L.32,4.7A2.38,2.38,0,0,1,2.38,1.14H15.62A2.38,2.38,0,0,1,17.68,4.7Z"></path>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
      <path d="M8.67,3.22,5.9,9.92V10a.14.14,0,0,0,0,.06l0,0,0,0H8.4a.1.1,0,0,1,.09,0,.09.09,0,0,1,0,.08l0,5c0,.11.17.17.21.07L12.1,8V7.92a.14.14,0,0,0,0-.06.09.09,0,0,0-.05,0l-.06,0H9.32a.11.11,0,0,1-.08,0,.12.12,0,0,1,0-.09l-.32-4.4C8.87,3.18,8.71,3.12,8.67,3.22Z"></path>
    </g>
    <path class="${Be.ClassNames.Component}" fill="#fff" d="M8.67,2.72,5.9,9.42v.05a.14.14,0,0,0,0,.06l0,0,0,0H8.4a.1.1,0,0,1,.09,0,.09.09,0,0,1,0,.08l0,5c0,.11.17.17.21.07l3.4-7.24V7.42a.14.14,0,0,0,0-.06.09.09,0,0,0-.05,0l-.06,0H9.32a.11.11,0,0,1-.08,0,.12.12,0,0,1,0-.09l-.32-4.4C8.87,2.68,8.71,2.62,8.67,2.72Z"></path>
  </g>`,Jr=`<g id="draw_black">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <path class="${Be.ClassNames.Background}" fill="#312e2b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <path d="M2.92,7V5.84c.81,0,1.75-.28,1.8-1.22H6.14v5.5H4.34V7Zm8.87-2.39L7,13.88H5l4.8-9.26ZM9.85,13.88c-.08-1.54,1.38-2.19,2.57-2.89.33-.17.78-.4.78-.78a.66.66,0,0,0-.68-.7c-.69,0-.94.58-.92,1.16H10a2.17,2.17,0,0,1,.64-1.79,2.74,2.74,0,0,1,1.91-.62C14.1,8.26,15,8.78,15,10c0,1.82-2.66,2.18-2.66,2.5h2.73v1.38Z"></path>
    <path class="${Be.ClassNames.ComponentShadow}" fill="#fff" d="M2.92,6.51V5.34c.81,0,1.75-.28,1.8-1.22H6.14v5.5H4.34V6.51Zm8.87-2.39L7,13.38H5l4.8-9.26ZM9.85,13.38c-.08-1.54,1.38-2.19,2.57-2.89.33-.17.78-.4.78-.78a.66.66,0,0,0-.68-.7c-.69,0-.94.58-.92,1.16H10a2.17,2.17,0,0,1,.64-1.79,2.74,2.74,0,0,1,1.91-.62C14.1,7.76,15,8.28,15,9.5c0,1.82-2.66,2.18-2.66,2.5h2.73v1.38Z"></path>
  </g>`,D=`<g id="draw_white">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <circle class="${Be.ClassNames.Background}" fill="#f8f8f8" cx="9" cy="9" r="8.5"></circle>
    <path class="${Be.ClassNames.ComponentShadow}" fill="#e8e8e8" d="M9,1A8,8,0,1,1,1,9,8,8,0,0,1,9,1M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <path d="M2.92,6.61V5.44c.81,0,1.75-.28,1.8-1.22H6.14v5.5H4.34V6.61Zm8.87-2.39L7,13.48H5l4.8-9.26ZM9.85,13.48c-.08-1.54,1.38-2.19,2.57-2.89.33-.17.78-.4.78-.78a.66.66,0,0,0-.68-.7c-.69,0-.94.58-.92,1.16H10a2.17,2.17,0,0,1,.64-1.79,2.74,2.74,0,0,1,1.91-.62C14.1,7.86,15,8.38,15,9.6c0,1.82-2.66,2.18-2.66,2.5h2.73v1.38Z"></path>
  </g>`,pe=`<g id="excellent">
    <g>
      <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
      <path class="${Be.ClassNames.Background}" fill="#96bc4b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    </g>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
      <path d="M13.79,11.34c0-.2.4-.53.4-.94S14,9.72,14,9.58a2.06,2.06,0,0,0,.18-.83,1,1,0,0,0-.3-.69,1.13,1.13,0,0,0-.55-.2,10.29,10.29,0,0,1-2.07,0c-.37-.23,0-1.18.18-1.7S11.9,4,10.62,3.7c-.69-.17-.66.37-.78.9-.05.21-.09.43-.13.57A5,5,0,0,1,7.05,8.23a1.57,1.57,0,0,1-.42.18v4.94A7.23,7.23,0,0,1,8,13.53c.52.12.91.25,1.44.33A11.11,11.11,0,0,0,11,14a6.65,6.65,0,0,0,1.18,0,1.09,1.09,0,0,0,1-.59.66.66,0,0,0,.06-.2,1.63,1.63,0,0,1,.07-.3c.13-.28.37-.3.5-.68S13.74,11.53,13.79,11.34Z"></path>
      <path d="M5.49,8.09H4.31a.5.5,0,0,0-.5.5v4.56a.5.5,0,0,0,.5.5H5.49a.5.5,0,0,0,.5-.5V8.59A.5.5,0,0,0,5.49,8.09Z"></path>
    </g>
    <g>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M13.79,10.84c0-.2.4-.53.4-.94S14,9.22,14,9.08a2.06,2.06,0,0,0,.18-.83,1,1,0,0,0-.3-.69,1.13,1.13,0,0,0-.55-.2,10.29,10.29,0,0,1-2.07,0c-.37-.23,0-1.18.18-1.7s.51-2.12-.77-2.43c-.69-.17-.66.37-.78.9-.05.21-.09.43-.13.57A5,5,0,0,1,7.05,7.73a1.57,1.57,0,0,1-.42.18v4.94A7.23,7.23,0,0,1,8,13c.52.12.91.25,1.44.33a11.11,11.11,0,0,0,1.62.16,6.65,6.65,0,0,0,1.18,0,1.09,1.09,0,0,0,1-.59.66.66,0,0,0,.06-.2,1.63,1.63,0,0,1,.07-.3c.13-.28.37-.3.5-.68S13.74,11,13.79,10.84Z"></path>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M5.49,7.59H4.31a.5.5,0,0,0-.5.5v4.56a.5.5,0,0,0,.5.5H5.49a.5.5,0,0,0,.5-.5V8.09A.5.5,0,0,0,5.49,7.59Z"></path>
    </g>
  </g>`,ne=`<g id="fast_win">
    <g>
      <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
      <path class="${Be.ClassNames.Background}" fill="#96af8b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    </g>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
      <path d="M4.85,4.7,9.67,9.19a.18.18,0,0,1,.05.07.21.21,0,0,1,0,.18l-.05.07L4.85,14a.24.24,0,0,1-.11.06.3.3,0,0,1-.13,0A.23.23,0,0,1,4.52,14a.28.28,0,0,1,0-.12v-9a.28.28,0,0,1,0-.12.23.23,0,0,1,.09-.08.3.3,0,0,1,.13,0A.24.24,0,0,1,4.85,4.7Z"></path>
      <path d="M10,4.7l4.82,4.49a.18.18,0,0,1,.05.07.21.21,0,0,1,0,.18l-.05.07L10,14a.24.24,0,0,1-.11.06.27.27,0,0,1-.13,0A.18.18,0,0,1,9.7,14a.19.19,0,0,1,0-.12v-9a.19.19,0,0,1,0-.12.18.18,0,0,1,.09-.08.27.27,0,0,1,.13,0A.24.24,0,0,1,10,4.7Z"></path>
    </g>
    <g>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M4.85,4.2,9.67,8.69a.18.18,0,0,1,.05.07.21.21,0,0,1,0,.18L9.67,9,4.85,13.5a.24.24,0,0,1-.11.06.3.3,0,0,1-.13,0,.23.23,0,0,1-.09-.08.28.28,0,0,1,0-.12v-9a.28.28,0,0,1,0-.12.23.23,0,0,1,.09-.08.3.3,0,0,1,.13,0A.24.24,0,0,1,4.85,4.2Z"></path>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M10,4.2l4.82,4.49a.18.18,0,0,1,.05.07.21.21,0,0,1,0,.18L14.85,9,10,13.5a.24.24,0,0,1-.11.06.27.27,0,0,1-.13,0,.18.18,0,0,1-.09-.08.19.19,0,0,1,0-.12v-9a.19.19,0,0,1,0-.12.18.18,0,0,1,.09-.08.27.27,0,0,1,.13,0A.24.24,0,0,1,10,4.2Z"></path>
    </g>
  </g>`,we=`<g id="free_piece">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <path class="${Be.ClassNames.Background}" fill="#ec6250" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
      <path d="M9.76,9.66h3.89v4.19a.68.68,0,0,1-.68.68H9.76Z"></path>
      <path d="M4.35,9.66H8.24v4.87H5a.58.58,0,0,1-.26-.06.6.6,0,0,1-.36-.36.58.58,0,0,1,0-.26V9.66Z"></path>
      <path d="M13.39,7H10.13l2-1a.78.78,0,0,0,.29-.25.78.78,0,0,0,.13-.36A.82.82,0,0,0,12.53,5a.87.87,0,0,0-.23-.31l-1.15-1a.76.76,0,0,0-.34-.16.74.74,0,0,0-.39,0,.94.94,0,0,0-.33.2.84.84,0,0,0-.19.33L9.08,7H9l-.83-2.9A.73.73,0,0,0,8,3.81a.79.79,0,0,0-.33-.2.7.7,0,0,0-.38,0,.75.75,0,0,0-.35.16l-1.14,1A.87.87,0,0,0,5.54,5a.71.71,0,0,0,0,.38.78.78,0,0,0,.13.36A.71.71,0,0,0,5.91,6l2,1H4.61a.46.46,0,0,0-.49.44v.87a.47.47,0,0,0,.49.45h8.78a.47.47,0,0,0,.49-.45V7.48A.47.47,0,0,0,13.39,7Z"></path>
    </g>
    <g>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M9.76,14H13a.71.71,0,0,0,.48-.19.72.72,0,0,0,.2-.48V9.16H9.76Z"></path>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M4.36,13.35a.58.58,0,0,0,0,.26.6.6,0,0,0,.36.36A.58.58,0,0,0,5,14H8.24V9.16H4.36Z"></path>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M13.39,6.54H10.13l2-1a.78.78,0,0,0,.29-.25.78.78,0,0,0,.13-.36.82.82,0,0,0-.05-.38.87.87,0,0,0-.23-.31l-1.15-1a.76.76,0,0,0-.34-.16.74.74,0,0,0-.39,0,.94.94,0,0,0-.33.2.84.84,0,0,0-.19.33l-.82,2.9H9l-.83-2.9A.73.73,0,0,0,8,3.31a.79.79,0,0,0-.33-.2.7.7,0,0,0-.38,0,.75.75,0,0,0-.35.16l-1.14,1a.87.87,0,0,0-.23.31.71.71,0,0,0,0,.38.78.78,0,0,0,.13.36.71.71,0,0,0,.29.25l2,1H4.61A.46.46,0,0,0,4.12,7v.87a.47.47,0,0,0,.49.45h8.78a.47.47,0,0,0,.49-.45V7A.47.47,0,0,0,13.39,6.54Z"></path>
    </g>
  </g>`,J=`<path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
<path class="${Be.ClassNames.Background}" fill="#7979a1" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
<g class="${Be.ClassNames.ComponentShadow}" opacity="0.1">
    <polygon points="11.29 11.34 11.29 8.56 7.79 11.3 7.79 11.34 5.39 11.34 9.54 16.5 13.73 11.34 11.29 11.34"></polygon>
    <polygon points="7.83 7.51 7.83 10.32 11.33 7.58 11.33 7.5 13.73 7.5 9.58 2.35 5.39 7.51 7.83 7.51"></polygon>
  </g>
<g>
    <polygon class="${Be.ClassNames.Component}" fill="#fff" points="10.9 10.92 10.9 8.13 7.4 10.87 7.4 10.92 5 10.92 9.15 16.07 13.34 10.92 10.9 10.92"></polygon>
    <polygon class="${Be.ClassNames.Component}" fill="#fff" points="7.44 7.08 7.44 9.9 10.94 7.16 10.94 7.08 13.34 7.08 9.19 1.93 5 7.08 7.44 7.08"></polygon>
  </g>`,Z=`<g id="great_find">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <path class="${Be.ClassNames.Background}" fill="#5c8bb0" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <g>
      <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
        <path d="M10.32,14.6a.27.27,0,0,1,0,.13.44.44,0,0,1-.08.11l-.11.08-.13,0H8l-.13,0-.11-.08a.41.41,0,0,1-.08-.24V12.7a.27.27,0,0,1,0-.13.36.36,0,0,1,.07-.1.39.39,0,0,1,.1-.08l.13,0h2a.31.31,0,0,1,.24.1.39.39,0,0,1,.08.1.51.51,0,0,1,0,.13Zm-.12-3.93a.17.17,0,0,1,0,.12.41.41,0,0,1-.07.11.4.4,0,0,1-.23.08H8.1a.31.31,0,0,1-.34-.31L7.61,3.9a.36.36,0,0,1,.09-.24.23.23,0,0,1,.11-.08.27.27,0,0,1,.13,0h2.11a.32.32,0,0,1,.25.1.36.36,0,0,1,.09.24Z"></path>
      </g>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M10.32,14.1a.27.27,0,0,1,0,.13.44.44,0,0,1-.08.11l-.11.08-.13,0H8l-.13,0-.11-.08a.41.41,0,0,1-.08-.24V12.2a.27.27,0,0,1,0-.13.36.36,0,0,1,.07-.1.39.39,0,0,1,.1-.08l.13,0h2a.31.31,0,0,1,.24.1.39.39,0,0,1,.08.1.51.51,0,0,1,0,.13Zm-.12-3.93a.17.17,0,0,1,0,.12.41.41,0,0,1-.07.11.4.4,0,0,1-.23.08H8.1a.31.31,0,0,1-.34-.31L7.61,3.4a.36.36,0,0,1,.09-.24.23.23,0,0,1,.11-.08.27.27,0,0,1,.13,0h2.11a.32.32,0,0,1,.25.1.36.36,0,0,1,.09.24Z"></path>
    </g>
  </g>`,ft=`<g id="forced">
    <g id="fast_win">
      <g>
        <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
        <path class="${Be.ClassNames.Background}" fill="#96af8b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
      </g>
    </g>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
      <path d="M14.39,9.07,9,4.31a.31.31,0,0,0-.3,0,.32.32,0,0,0-.13.1.29.29,0,0,0,0,.16V7.42H3.9a.58.58,0,0,0-.19,0,.5.5,0,0,0-.17.11.91.91,0,0,0-.11.16.63.63,0,0,0,0,.19v3.41a.58.58,0,0,0,0,.19.64.64,0,0,0,.11.16.39.39,0,0,0,.17.11.41.41,0,0,0,.19,0H8.5v2.74a.26.26,0,0,0,.16.26.3.3,0,0,0,.16,0A.34.34,0,0,0,9,14.79L14.39,10a.69.69,0,0,0,.16-.22.7.7,0,0,0,0-.52A.69.69,0,0,0,14.39,9.07Z"></path>
    </g>
    <path class="${Be.ClassNames.Component}" fill="#fff" d="M14.39,8.57,9,3.81a.31.31,0,0,0-.3,0,.32.32,0,0,0-.13.1A.29.29,0,0,0,8.5,4V6.92H3.9a.58.58,0,0,0-.19,0,.5.5,0,0,0-.17.11.91.91,0,0,0-.11.16.63.63,0,0,0,0,.19v3.41a.58.58,0,0,0,0,.19.64.64,0,0,0,.11.16.39.39,0,0,0,.17.11.41.41,0,0,0,.19,0H8.5v2.74a.26.26,0,0,0,.16.26.3.3,0,0,0,.16,0A.34.34,0,0,0,9,14.29l5.42-4.76a.69.69,0,0,0,.16-.22.7.7,0,0,0,0-.52A.69.69,0,0,0,14.39,8.57Z"></path>
  </g>`,Ht=`<g id="good">
    <g>
      <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
      <path class="${Be.ClassNames.Background}" fill="#96af8b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    </g>
    <g>
      <path class="${Be.ClassNames.ComponentShadow}" opacity="0.2" d="M15.11,6.81,9.45,12.47,7.79,14.13a.39.39,0,0,1-.28.11.39.39,0,0,1-.27-.11L2.89,9.78a.39.39,0,0,1-.11-.28.39.39,0,0,1,.11-.27L4.28,7.85a.34.34,0,0,1,.12-.09l.15,0a.37.37,0,0,1,.15,0,.38.38,0,0,1,.13.09l2.69,2.68,5.65-5.65a.38.38,0,0,1,.13-.09.37.37,0,0,1,.15,0,.4.4,0,0,1,.15,0,.34.34,0,0,1,.12.09l1.39,1.38a.41.41,0,0,1,.08.13.33.33,0,0,1,0,.15.4.4,0,0,1,0,.15A.5.5,0,0,1,15.11,6.81Z"></path>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M15.11,6.31,9.45,12,7.79,13.63a.39.39,0,0,1-.28.11.39.39,0,0,1-.27-.11L2.89,9.28A.39.39,0,0,1,2.78,9a.39.39,0,0,1,.11-.27L4.28,7.35a.34.34,0,0,1,.12-.09l.15,0a.37.37,0,0,1,.15,0,.38.38,0,0,1,.13.09L7.52,10l5.65-5.65a.38.38,0,0,1,.13-.09.37.37,0,0,1,.15,0,.4.4,0,0,1,.15,0,.34.34,0,0,1,.12.09l1.39,1.38a.41.41,0,0,1,.08.13.33.33,0,0,1,0,.15.4.4,0,0,1,0,.15A.5.5,0,0,1,15.11,6.31Z"></path>
    </g>
  </g>`,gt=`<g id="inaccuracy">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <path class="${Be.ClassNames.Background}" fill="#f7c045" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
      <path d="M13.66,14.8a.28.28,0,0,1,0,.13.23.23,0,0,1-.08.11.28.28,0,0,1-.11.08l-.12,0h-2l-.13,0a.27.27,0,0,1-.1-.08A.36.36,0,0,1,11,14.8V12.9a.59.59,0,0,1,0-.13.36.36,0,0,1,.07-.1l.1-.08.13,0h2a.33.33,0,0,1,.23.1.39.39,0,0,1,.08.1.28.28,0,0,1,0,.13Zm-.12-3.93a.31.31,0,0,1,0,.13.3.3,0,0,1-.07.1.3.3,0,0,1-.23.08H11.43a.31.31,0,0,1-.34-.31L10.94,4.1A.5.5,0,0,1,11,3.86l.11-.08.13,0h2.11a.35.35,0,0,1,.26.1.41.41,0,0,1,.08.24Z"></path>
      <path d="M7.65,14.82a.27.27,0,0,1,0,.12.26.26,0,0,1-.07.11l-.1.07-.13,0H5.43a.25.25,0,0,1-.12,0,.27.27,0,0,1-.1-.08.31.31,0,0,1-.09-.22V13a.36.36,0,0,1,.09-.23l.1-.07.12,0H7.32a.32.32,0,0,1,.23.09.3.3,0,0,1,.07.1.28.28,0,0,1,0,.13Zm2.2-7.17a3.1,3.1,0,0,1-.36.73A5.58,5.58,0,0,1,9,9a4.85,4.85,0,0,1-.52.49,8,8,0,0,0-.65.63,1,1,0,0,0-.27.7V11a.21.21,0,0,1,0,.12.17.17,0,0,1-.06.1.23.23,0,0,1-.1.07l-.12,0H5.53a.21.21,0,0,1-.12,0,.18.18,0,0,1-.1-.07.2.2,0,0,1-.08-.1.37.37,0,0,1,0-.12v-.35a2.68,2.68,0,0,1,.13-.84,2.91,2.91,0,0,1,.33-.66,3.38,3.38,0,0,1,.45-.55c.16-.15.33-.29.49-.42a7.84,7.84,0,0,0,.65-.64,1,1,0,0,0,.25-.67.77.77,0,0,0-.07-.34.67.67,0,0,0-.23-.27A1.16,1.16,0,0,0,6.49,6,1.61,1.61,0,0,0,6,6.11a3,3,0,0,0-.41.18,1.75,1.75,0,0,0-.29.18l-.11.09A.5.5,0,0,1,5,6.62a.31.31,0,0,1-.21-.13l-1-1.21a.3.3,0,0,1,0-.4A1.36,1.36,0,0,1,4,4.68a3.07,3.07,0,0,1,.56-.38,5.49,5.49,0,0,1,.9-.37,3.69,3.69,0,0,1,1.19-.17,3.92,3.92,0,0,1,2.3.75,2.85,2.85,0,0,1,.77.92A2.82,2.82,0,0,1,10,6.71,3,3,0,0,1,9.85,7.65Z"></path>
    </g>
    <g>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M13.66,14.3a.28.28,0,0,1,0,.13.23.23,0,0,1-.08.11.28.28,0,0,1-.11.08l-.12,0h-2l-.13,0a.27.27,0,0,1-.1-.08A.36.36,0,0,1,11,14.3V12.4a.59.59,0,0,1,0-.13.36.36,0,0,1,.07-.1l.1-.08.13,0h2a.33.33,0,0,1,.23.1.39.39,0,0,1,.08.1.28.28,0,0,1,0,.13Zm-.12-3.93a.31.31,0,0,1,0,.13.3.3,0,0,1-.07.1.3.3,0,0,1-.23.08H11.43a.31.31,0,0,1-.34-.31L10.94,3.6A.5.5,0,0,1,11,3.36l.11-.08.13,0h2.11a.35.35,0,0,1,.26.1.41.41,0,0,1,.08.24Z"></path>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M7.65,14.32a.27.27,0,0,1,0,.12.26.26,0,0,1-.07.11l-.1.07-.13,0H5.43a.25.25,0,0,1-.12,0,.27.27,0,0,1-.1-.08.31.31,0,0,1-.09-.22V12.49a.36.36,0,0,1,.09-.23l.1-.07.12,0H7.32a.32.32,0,0,1,.23.09.3.3,0,0,1,.07.1.28.28,0,0,1,0,.13Zm2.2-7.17a3.1,3.1,0,0,1-.36.73,5.58,5.58,0,0,1-.49.6A4.85,4.85,0,0,1,8.48,9a8,8,0,0,0-.65.63,1,1,0,0,0-.27.7v.22a.21.21,0,0,1,0,.12.17.17,0,0,1-.06.1.23.23,0,0,1-.1.07l-.12,0H5.53a.21.21,0,0,1-.12,0,.18.18,0,0,1-.1-.07.2.2,0,0,1-.08-.1.37.37,0,0,1,0-.12v-.35a2.68,2.68,0,0,1,.13-.84,2.91,2.91,0,0,1,.33-.66,3.38,3.38,0,0,1,.45-.55c.16-.15.33-.29.49-.42a7.84,7.84,0,0,0,.65-.64,1,1,0,0,0,.25-.67.77.77,0,0,0-.07-.34.67.67,0,0,0-.23-.27,1.16,1.16,0,0,0-.72-.24A1.61,1.61,0,0,0,6,5.61a3,3,0,0,0-.41.18A1.75,1.75,0,0,0,5.3,6l-.11.09A.5.5,0,0,1,5,6.12.31.31,0,0,1,4.74,6l-1-1.21a.3.3,0,0,1,0-.4A1.36,1.36,0,0,1,4,4.18a3.07,3.07,0,0,1,.56-.38,5.49,5.49,0,0,1,.9-.37,3.69,3.69,0,0,1,1.19-.17A3.92,3.92,0,0,1,8.93,4a2.85,2.85,0,0,1,.77.92A2.82,2.82,0,0,1,10,6.21,3,3,0,0,1,9.85,7.15Z"></path>
    </g>
  </g>`,ze=`<g id="incorrect">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <path class="${Be.ClassNames.Background}" fill="#ca3431" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
      <path d="M14,12.51a.57.57,0,0,1,.08.13.39.39,0,0,1,0,.3.5.5,0,0,1-.08.12l-1.38,1.38a.5.5,0,0,1-.12.08l-.15,0-.15,0a.57.57,0,0,1-.13-.08L9,11.37,5.94,14.44a.57.57,0,0,1-.13.08l-.15,0-.15,0a.36.36,0,0,1-.12-.08L4,13.06a.39.39,0,0,1-.11-.27A.41.41,0,0,1,4,12.51L7.07,9.45,4,6.39a.43.43,0,0,1-.11-.28A.39.39,0,0,1,4,5.84L5.39,4.46a.39.39,0,0,1,.27-.11.43.43,0,0,1,.28.11L9,7.52l3.06-3.06a.41.41,0,0,1,.28-.11.39.39,0,0,1,.27.11L14,5.84a.36.36,0,0,1,.08.12.39.39,0,0,1,0,.3.57.57,0,0,1-.08.13L10.92,9.45Z"></path>
    </g>
    <path class="${Be.ClassNames.Component}" fill="#f1f2f2" d="M14,12a.57.57,0,0,1,.08.13.39.39,0,0,1,0,.3.5.5,0,0,1-.08.12l-1.38,1.38a.5.5,0,0,1-.12.08l-.15,0-.15,0a.57.57,0,0,1-.13-.08L9,10.87,5.94,13.94a.57.57,0,0,1-.13.08l-.15,0-.15,0a.36.36,0,0,1-.12-.08L4,12.56a.39.39,0,0,1-.11-.27A.41.41,0,0,1,4,12L7.07,9,4,5.89a.43.43,0,0,1-.11-.28A.39.39,0,0,1,4,5.34L5.39,4a.39.39,0,0,1,.27-.11A.43.43,0,0,1,5.94,4L9,7,12.06,4a.41.41,0,0,1,.28-.11.39.39,0,0,1,.27.11L14,5.34a.36.36,0,0,1,.08.12.39.39,0,0,1,0,.3.57.57,0,0,1-.08.13L10.92,9Z"></path>
  </g>`,Bn=`<g id="mate">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <path class="${Be.ClassNames.Background}" fill="#ec6250" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <g>
      <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
        <path d="M11.44,8.61h1.74l.1-1.55H11.54l.18-2.78H10.17L10,7.06H8.31l.18-2.78H6.94L6.76,7.06H5l-.1,1.55H6.66l-.11,1.68H4.82l-.1,1.55H6.46l-.18,2.78H7.83L8,11.84H9.69l-.18,2.78h1.55l.18-2.78H13l.1-1.55H11.34ZM8.11,10.29l.1-1.68H9.89l-.1,1.68Z"></path>
      </g>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M11.44,8.11h1.74l.1-1.55H11.54l.18-2.78H10.17L10,6.56H8.31l.18-2.78H6.94L6.76,6.56H5l-.1,1.55H6.66L6.55,9.79H4.82l-.1,1.55H6.46l-.18,2.78H7.83L8,11.34H9.69l-.18,2.78h1.55l.18-2.78H13l.1-1.55H11.34ZM8.11,9.79l.1-1.68H9.89l-.1,1.68Z"></path>
    </g>
  </g>`,Qn='<defs><style>.cls-1{fill:#f1f2f2;}.cls-2{fill:#ee6b55;}.cls-3{opacity:.2;}.cls-4{opacity:.3;}</style></defs><g id="incorrect"><path class="cls-4" d="M9,.5C4.03,.5,0,4.53,0,9.5s4.03,9,9,9,9-4.03,9-9S13.97,.5,9,.5Z"/><path class="cls-2" d="M9,0C4.03,0,0,4.03,0,9s4.03,9,9,9,9-4.03,9-9S13.97,0,9,0Z"/><g class="cls-3"><path d="M13.99,12.51s.06,.08,.08,.13c.02,.05,.03,.1,.03,.15s-.01,.1-.03,.15c-.02,.05-.05,.09-.08,.13l-1.37,1.37s-.08,.06-.13,.08c-.05,.02-.1,.03-.15,.03s-.1-.01-.15-.03c-.05-.02-.09-.05-.13-.08l-3.06-3.06-3.06,3.06s-.08,.06-.13,.08c-.05,.02-.1,.03-.15,.03s-.1-.01-.15-.03c-.05-.02-.09-.05-.13-.08l-1.37-1.37c-.07-.07-.11-.17-.11-.28s.04-.2,.11-.28l3.06-3.06-3.06-3.06c-.07-.07-.11-.17-.11-.28s.04-.2,.11-.28l1.37-1.37c.07-.07,.17-.11,.28-.11s.2,.04,.28,.11l3.06,3.06,3.06-3.06c.07-.07,.17-.11,.28-.11s.2,.04,.28,.11l1.37,1.37s.06,.08,.08,.13c.02,.05,.03,.1,.03,.15s-.01,.1-.03,.15c-.02,.05-.05,.09-.08,.13l-3.06,3.06,3.06,3.06Z"/></g><path class="cls-1" d="M13.99,12.01s.06,.08,.08,.13c.02,.05,.03,.1,.03,.15s-.01,.1-.03,.15c-.02,.05-.05,.09-.08,.13l-1.37,1.37s-.08,.06-.13,.08c-.05,.02-.1,.03-.15,.03s-.1-.01-.15-.03c-.05-.02-.09-.05-.13-.08l-3.06-3.06-3.06,3.06s-.08,.06-.13,.08c-.05,.02-.1,.03-.15,.03s-.1-.01-.15-.03c-.05-.02-.09-.05-.13-.08l-1.37-1.37c-.07-.07-.11-.17-.11-.28s.04-.2,.11-.28l3.06-3.06-3.06-3.06c-.07-.07-.11-.17-.11-.28s.04-.2,.11-.28l1.37-1.37c.07-.07,.17-.11,.28-.11s.2,.04,.28,.11l3.06,3.06,3.06-3.06c.07-.07,.17-.11,.28-.11s.2,.04,.28,.11l1.37,1.37s.06,.08,.08,.13c.02,.05,.03,.1,.03,.15s-.01,.1-.03,.15c-.02,.05-.05,.09-.08,.13l-3.06,3.06,3.06,3.06Z"/></g>',yr=`<g id="missed_win">
    <g>
      <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
      <path class="${Be.ClassNames.Background}" fill="#dbac16" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    </g>
    <g>
      <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
        <rect x="2.74" y="8.1" width="12.51" height="3.11" rx="0.36"></rect>
      </g>
      <rect class="${Be.ClassNames.Component}" fill="#fff" x="2.74" y="7.6" width="12.51" height="3.11" rx="0.36"></rect>
    </g>
  </g>`,Sr=`<g id="mistake">
    <g>
      <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
      <path class="${Be.ClassNames.Background}" fill="#e58f2a" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    </g>
    <g>
      <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
        <path d="M9.92,15a.27.27,0,0,1,0,.12.41.41,0,0,1-.07.11.32.32,0,0,1-.23.09H7.7a.25.25,0,0,1-.12,0,.27.27,0,0,1-.1-.08A.31.31,0,0,1,7.39,15V13.19A.32.32,0,0,1,7.48,13l.1-.07.12,0H9.59a.32.32,0,0,1,.23.09.61.61,0,0,1,.07.1.28.28,0,0,1,0,.13Zm2.2-7.17a3.1,3.1,0,0,1-.36.73,5.58,5.58,0,0,1-.49.6,6,6,0,0,1-.52.49,8,8,0,0,0-.65.63,1,1,0,0,0-.27.7v.22a.24.24,0,0,1,0,.12.17.17,0,0,1-.06.1.3.3,0,0,1-.1.07l-.12,0H7.79l-.12,0a.3.3,0,0,1-.1-.07.26.26,0,0,1-.07-.1.37.37,0,0,1,0-.12v-.35A2.42,2.42,0,0,1,7.61,10a2.55,2.55,0,0,1,.33-.66,3.38,3.38,0,0,1,.45-.55c.16-.15.33-.29.49-.42a7.73,7.73,0,0,0,.64-.64,1,1,0,0,0,.26-.67.77.77,0,0,0-.07-.34.75.75,0,0,0-.23-.27,1.16,1.16,0,0,0-.72-.24,1.61,1.61,0,0,0-.49.07,3,3,0,0,0-.41.18,1.41,1.41,0,0,0-.29.18l-.11.09a.5.5,0,0,1-.24.06A.31.31,0,0,1,7,6.69L6,5.48a.29.29,0,0,1,0-.4,1.36,1.36,0,0,1,.21-.2,3.07,3.07,0,0,1,.56-.38,5.38,5.38,0,0,1,.89-.37A3.75,3.75,0,0,1,8.9,4a4.07,4.07,0,0,1,1.2.19,4,4,0,0,1,1.09.56,2.76,2.76,0,0,1,.78.92,2.82,2.82,0,0,1,.28,1.28A3,3,0,0,1,12.12,7.85Z"></path>
      </g>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M9.92,14.52a.27.27,0,0,1,0,.12.41.41,0,0,1-.07.11.32.32,0,0,1-.23.09H7.7a.25.25,0,0,1-.12,0,.27.27,0,0,1-.1-.08.31.31,0,0,1-.09-.22V12.69a.32.32,0,0,1,.09-.23l.1-.07.12,0H9.59a.32.32,0,0,1,.23.09.61.61,0,0,1,.07.1.28.28,0,0,1,0,.13Zm2.2-7.17a3.1,3.1,0,0,1-.36.73,5.58,5.58,0,0,1-.49.6,6,6,0,0,1-.52.49,8,8,0,0,0-.65.63,1,1,0,0,0-.27.7v.22a.24.24,0,0,1,0,.12.17.17,0,0,1-.06.1.3.3,0,0,1-.1.07l-.12,0H7.79l-.12,0a.3.3,0,0,1-.1-.07.26.26,0,0,1-.07-.1.37.37,0,0,1,0-.12v-.35a2.42,2.42,0,0,1,.13-.84,2.55,2.55,0,0,1,.33-.66,3.38,3.38,0,0,1,.45-.55c.16-.15.33-.29.49-.42a7.73,7.73,0,0,0,.64-.64,1,1,0,0,0,.26-.67.77.77,0,0,0-.07-.34A.75.75,0,0,0,9.48,6a1.16,1.16,0,0,0-.72-.24,1.61,1.61,0,0,0-.49.07A3,3,0,0,0,7.86,6a1.41,1.41,0,0,0-.29.18l-.11.09a.5.5,0,0,1-.24.06A.31.31,0,0,1,7,6.19L6,5a.29.29,0,0,1,0-.4,1.36,1.36,0,0,1,.21-.2A3.07,3.07,0,0,1,6.81,4a5.38,5.38,0,0,1,.89-.37,3.75,3.75,0,0,1,1.2-.17,4.07,4.07,0,0,1,1.2.19,4,4,0,0,1,1.09.56,2.76,2.76,0,0,1,.78.92,2.82,2.82,0,0,1,.28,1.28A3,3,0,0,1,12.12,7.35Z"></path>
    </g>
  </g>`,Ur=`<g id="resign_black">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <path class="${Be.ClassNames.Background}" fill="#312e2b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <g>
      <path d="M4.94,6.34H4.89a.63.63,0,0,0-.44.77l2.16,8.09a.63.63,0,0,0,.77.45l0,0a.62.62,0,0,0,.44-.76L5.7,6.78A.62.62,0,0,0,4.94,6.34Z"></path>
      <path d="M12.33,4.48c-2,2.29-3.83-.41-6,1.52a.54.54,0,0,0-.15.25.48.48,0,0,0,0,.29c.22.89.87,3.3,1.12,4.15a.15.15,0,0,0,.26.07c1.92-2.65,4,.27,6.11-1.69a.46.46,0,0,0,.12-.44c-.21-.78-.8-3-1.1-4.05C12.62,4.44,12.42,4.36,12.33,4.48Z"></path>
    </g>
    <g>
      <path class="${Be.ClassNames.ComponentShadow}" fill="#fff" d="M4.94,5.74H4.89a.63.63,0,0,0-.44.77l2.16,8.09a.63.63,0,0,0,.77.45l0,0a.62.62,0,0,0,.44-.76L5.7,6.18A.62.62,0,0,0,4.94,5.74Z"></path>
      <path class="${Be.ClassNames.ComponentShadow}" fill="#fff" d="M12.33,3.88c-2,2.29-3.83-.41-6,1.52a.54.54,0,0,0-.15.25.48.48,0,0,0,0,.29c.22.89.87,3.3,1.12,4.15a.15.15,0,0,0,.26.07c1.92-2.65,4,.27,6.11-1.69A.46.46,0,0,0,13.76,8c-.21-.78-.8-3-1.1-4C12.62,3.84,12.42,3.76,12.33,3.88Z"></path>
    </g>
  </g>`,ai=`<g id="resign_white">
    <g>
      <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
      <circle class="${Be.ClassNames.Background}" fill="#f8f8f8" cx="9" cy="9" r="8.5"></circle>
      <g>
        <path d="M4.94,5.74H4.89a.63.63,0,0,0-.44.77l2.16,8.09a.63.63,0,0,0,.77.45l0,0a.62.62,0,0,0,.44-.76L5.7,6.18A.62.62,0,0,0,4.94,5.74Z"></path>
        <path d="M12.33,3.88c-2,2.29-3.83-.41-6,1.52a.54.54,0,0,0-.15.25.48.48,0,0,0,0,.29c.22.89.87,3.3,1.12,4.15a.15.15,0,0,0,.26.07c1.92-2.65,4,.27,6.11-1.69A.46.46,0,0,0,13.76,8c-.21-.78-.8-3-1.1-4C12.62,3.84,12.42,3.76,12.33,3.88Z"></path>
      </g>
    </g>
    <path class="${Be.ClassNames.ComponentShadow}" fill="#e8e8e8" d="M9,1A8,8,0,1,1,1,9,8,8,0,0,1,9,1M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
  </g>`,Pn=`<g id="sharp">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <path class="${Be.ClassNames.Background}" fill="#ad5b8c" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
      <path d="M13.37,11.74,9.25,2.81a.22.22,0,0,0-.1-.11.27.27,0,0,0-.28,0,.18.18,0,0,0-.1.11L4.63,11.74a.26.26,0,0,0,0,.15.25.25,0,0,0,.08.14l2.67,2.29.07.09a.3.3,0,0,1,0,.1v1.08a.25.25,0,0,0,.08.18.24.24,0,0,0,.18.07h2.57a.26.26,0,0,0,.18-.07.25.25,0,0,0,.08-.18V14.51a.16.16,0,0,1,0-.1.47.47,0,0,1,.06-.09L13.31,12a.25.25,0,0,0,.08-.14A.26.26,0,0,0,13.37,11.74ZM9,5v8.73a.24.24,0,0,1-.38.17L5.91,11.76a.3.3,0,0,1-.09-.13.22.22,0,0,1,0-.16L8.84,5a.08.08,0,0,1,0,0h.06A.09.09,0,0,1,9,5S9,5,9,5Z"></path>
    </g>
    <path class="${Be.ClassNames.Component}" fill="#fff" d="M13.37,11.24,9.25,2.31a.22.22,0,0,0-.1-.11.26.26,0,0,0-.28,0,.18.18,0,0,0-.1.11L4.63,11.24a.26.26,0,0,0,0,.15.25.25,0,0,0,.08.14l2.67,2.29.07.09a.3.3,0,0,1,0,.1v1.08a.25.25,0,0,0,.08.18.24.24,0,0,0,.18.07h2.57a.26.26,0,0,0,.18-.07.25.25,0,0,0,.08-.18V14a.16.16,0,0,1,0-.1.47.47,0,0,1,.06-.09l2.67-2.29a.25.25,0,0,0,.08-.14A.26.26,0,0,0,13.37,11.24ZM9,4.51v8.73a.24.24,0,0,1-.38.17L5.91,11.26a.3.3,0,0,1-.09-.13.22.22,0,0,1,0-.16l3-6.49a.08.08,0,0,1,0,0h.06a.09.09,0,0,1,.05,0S9,4.49,9,4.51Z"></path>
  </g>`,ts=`<g id="take_back">
    <g>
      <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
      <path class="${Be.ClassNames.Background}" fill="#96af8b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    </g>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
      <path d="M3.67,10.38a.25.25,0,0,1,.24-.31L5,9.93a.49.49,0,0,1,.2.05.26.26,0,0,1,.1.2,3.77,3.77,0,0,0,1.26,2.34,3.87,3.87,0,0,0,2.52.94,3.53,3.53,0,0,0,1.47-.31,3.72,3.72,0,0,0,1.22-.81,4.13,4.13,0,0,0,.82-1.2,3.74,3.74,0,0,0,0-3A3.94,3.94,0,0,0,11.77,7a3.72,3.72,0,0,0-1.22-.81,3.53,3.53,0,0,0-1.47-.31,3.43,3.43,0,0,0-1.23.22,3.07,3.07,0,0,0-1.09.6L7.85,7.75c.16.14.22.29.16.38s-.18.16-.4.16H4.45a.33.33,0,0,1-.19,0,1,1,0,0,1-.17-.1A.57.57,0,0,1,4,8a.46.46,0,0,1,0-.21V4.6a.4.4,0,0,1,.16-.38c.11,0,.26,0,.42.17L5.6,5.49a5.93,5.93,0,0,1,1.63-1,5.42,5.42,0,0,1,4,.11A5.17,5.17,0,0,1,12.93,5.8a5.48,5.48,0,0,1,1.16,1.73,5.17,5.17,0,0,1,.44,2.12,5,5,0,0,1-.44,2.12,5.54,5.54,0,0,1-2.88,2.91,5.77,5.77,0,0,1-2.13.42,5.39,5.39,0,0,1-1.94-.37,5.36,5.36,0,0,1-2.85-2.48A5.43,5.43,0,0,1,3.67,10.38Z"></path>
    </g>
    <path class="${Be.ClassNames.Component}" fill="#fff" d="M3.67,9.88a.25.25,0,0,1,.24-.31L5,9.43a.49.49,0,0,1,.2.05.26.26,0,0,1,.1.2A3.77,3.77,0,0,0,6.56,12,3.87,3.87,0,0,0,9.08,13a3.53,3.53,0,0,0,1.47-.31,3.72,3.72,0,0,0,1.22-.81,4.13,4.13,0,0,0,.82-1.2,3.74,3.74,0,0,0,0-3,3.94,3.94,0,0,0-.82-1.2,3.72,3.72,0,0,0-1.22-.81,3.53,3.53,0,0,0-1.47-.31,3.43,3.43,0,0,0-1.23.22,3.07,3.07,0,0,0-1.09.6L7.85,7.25c.16.14.22.29.16.38s-.18.16-.4.16H4.45a.33.33,0,0,1-.19,0,1,1,0,0,1-.17-.1A.57.57,0,0,1,4,7.47a.46.46,0,0,1,0-.21V4.1a.4.4,0,0,1,.16-.38c.11-.05.26,0,.42.17L5.6,5A5.93,5.93,0,0,1,7.23,4a5.42,5.42,0,0,1,4,.11A5.17,5.17,0,0,1,12.93,5.3,5.48,5.48,0,0,1,14.09,7a5.17,5.17,0,0,1,.44,2.12,5,5,0,0,1-.44,2.12,5.54,5.54,0,0,1-2.88,2.91,5.77,5.77,0,0,1-2.13.42,5.39,5.39,0,0,1-1.94-.37,5.63,5.63,0,0,1-1.65-1,5.59,5.59,0,0,1-1.2-1.5A5.43,5.43,0,0,1,3.67,9.88Z"></path>
  </g>`,Oa=`<g id="threat">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
    <path class="${Be.ClassNames.Background}" fill="#ec6250" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
      <path d="M15.12,9.65a6.14,6.14,0,0,1-3.78,5.65,6.19,6.19,0,0,1-3.53.35A6.15,6.15,0,0,1,3,10.84,6.11,6.11,0,0,1,9,3.53a6.15,6.15,0,0,1,6.12,6.12ZM5,9.65a4,4,0,0,0,.67,2.22,4.09,4.09,0,0,0,1.79,1.47,4,4,0,0,0,5.22-5.22A4,4,0,0,0,5,9.65Z"></path>
      <path d="M6.75,9.65a2.24,2.24,0,0,0,.38,1.25,2.27,2.27,0,0,0,1,.83,2.22,2.22,0,0,0,1.3.12,2.22,2.22,0,0,0,1.76-1.76,2.22,2.22,0,0,0-.13-1.3,2.25,2.25,0,0,0-4.32.86Z"></path>
    </g>
    <g>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M15.12,9.15a6.14,6.14,0,0,1-3.78,5.65,6.19,6.19,0,0,1-3.53.35A6.15,6.15,0,0,1,3,10.34,6.11,6.11,0,0,1,9,3a6.15,6.15,0,0,1,6.12,6.12ZM5,9.15a4,4,0,0,0,.67,2.22,4.09,4.09,0,0,0,1.79,1.47,4,4,0,0,0,5.22-5.22A4,4,0,0,0,5,9.15Z"></path>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M6.75,9.15a2.24,2.24,0,0,0,.38,1.25,2.27,2.27,0,0,0,1,.83,2.22,2.22,0,0,0,1.3.12A2.22,2.22,0,0,0,11.2,9.59a2.22,2.22,0,0,0-.13-1.3,2.25,2.25,0,0,0-4.32.86Z"></path>
    </g>
  </g>`,Na=`<path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
<path class="${Be.ClassNames.Background}" fill="#312e2b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
<path d="M8.57,7.26,8.11,10l.89.86L9.89,10,9.45,7.26ZM9,12.86A3.35,3.35,0,1,1,12.36,9.5,3.34,3.34,0,0,1,9,12.86Zm.7-8.29V4.12h.82V2.79h-3V4.12H8.3v.45a5,5,0,1,0,1.4,0Z"></path>
<path class="${Be.ClassNames.ComponentShadow}" fill="#fff" d="M8.57,6.76,8.11,9.48l.89.86.89-.86L9.45,6.76ZM9,12.36A3.35,3.35,0,1,1,12.36,9,3.34,3.34,0,0,1,9,12.36Zm.7-8.29V3.62h.82V2.29h-3V3.62H8.3v.45a5,5,0,1,0,1.4,0Z"></path>`,ns=`<path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
<circle class="${Be.ClassNames.Background}" fill="#f8f8f8" cx="9" cy="9" r="8.5"></circle>
<path class="${Be.ClassNames.ComponentShadow}" fill="#e8e8e8" d="M9,1A8,8,0,1,1,1,9,8,8,0,0,1,9,1M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
<path d="M8.57,6.76,8.11,9.48l.89.86.89-.86L9.45,6.76ZM9,12.36A3.35,3.35,0,1,1,12.36,9,3.34,3.34,0,0,1,9,12.36Zm.7-8.29V3.62h.82V2.29h-3V3.62H8.3v.45a5,5,0,1,0,1.4,0Z"></path>`,iu=`
  <path
    class="${Be.ClassNames.Shadow}"
    d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"
    opacity=".3"></path>
  <path
    class="${Be.ClassNames.Background}"
    d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"
    fill="#8a8886"></path>
  <path
    d="M3.59,10.23a.25.25,0,0,1,.24-.31l1.08-.15a.49.49,0,0,1,.2.06.25.25,0,0,1,.11.2,3.58,3.58,0,0,0,.42,1.28,3.68,3.68,0,0,0,.84,1.06,3.76,3.76,0,0,0,1.16.69A3.9,3.9,0,0,0,9,13.31,3.58,3.58,0,0,0,10.47,13a3.94,3.94,0,0,0,1.22-.81A4.09,4.09,0,0,0,12.5,11a3.74,3.74,0,0,0,0-3,4.09,4.09,0,0,0-.81-1.2A3.94,3.94,0,0,0,10.47,6,3.65,3.65,0,0,0,9,5.69a3.61,3.61,0,0,0-1.23.21,3.23,3.23,0,0,0-1.09.6L7.77,7.59c.16.15.21.29.16.38s-.18.17-.4.17H4.37a.36.36,0,0,1-.2,0A.76.76,0,0,1,4,8a.52.52,0,0,1-.17-.38V4.45c0-.2.06-.33.17-.38s.25,0,.41.16L5.51,5.34a5.83,5.83,0,0,1,1.64-1A5.19,5.19,0,0,1,9,4.05a5.3,5.3,0,0,1,2.12.44,5,5,0,0,1,1.73,1.16A5.59,5.59,0,0,1,14,7.38a5.23,5.23,0,0,1,.44,2.12A5.16,5.16,0,0,1,14,11.62a5.59,5.59,0,0,1-1.16,1.73,5.32,5.32,0,0,1-1.73,1.18A5.64,5.64,0,0,1,9,15a5.23,5.23,0,0,1-1.94-.37A5.27,5.27,0,0,1,4.21,12.1,5.1,5.1,0,0,1,3.59,10.23Z"
    class="${Be.ClassNames.ComponentShadow}"
    opacity=".3"></path>
  <path
    d="M3.59,9.73a.25.25,0,0,1,.24-.31l1.08-.15a.49.49,0,0,1,.2.06.25.25,0,0,1,.11.2,3.58,3.58,0,0,0,.42,1.28,3.68,3.68,0,0,0,.84,1.06,3.76,3.76,0,0,0,1.16.69A3.9,3.9,0,0,0,9,12.81a3.58,3.58,0,0,0,1.47-.31,3.94,3.94,0,0,0,1.22-.81,4.09,4.09,0,0,0,.81-1.2,3.74,3.74,0,0,0,0-3,4.09,4.09,0,0,0-.81-1.2,3.94,3.94,0,0,0-1.22-.81A3.65,3.65,0,0,0,9,5.19a3.61,3.61,0,0,0-1.23.21A3.23,3.23,0,0,0,6.68,6L7.77,7.09c.16.15.21.29.16.38s-.18.17-.4.17H4.37a.36.36,0,0,1-.2,0A.76.76,0,0,1,4,7.49a.52.52,0,0,1-.17-.38V4c0-.2.06-.33.17-.38s.25,0,.41.16L5.51,4.84a5.83,5.83,0,0,1,1.64-1A5.19,5.19,0,0,1,9,3.55,5.3,5.3,0,0,1,11.12,4a5,5,0,0,1,1.73,1.16A5.59,5.59,0,0,1,14,6.88,5.23,5.23,0,0,1,14.45,9,5.16,5.16,0,0,1,14,11.12a5.59,5.59,0,0,1-1.16,1.73A5.32,5.32,0,0,1,11.12,14,5.64,5.64,0,0,1,9,14.45a5.23,5.23,0,0,1-1.94-.37A5.27,5.27,0,0,1,4.21,11.6,5.1,5.1,0,0,1,3.59,9.73Z"
    class="${Be.ClassNames.Component}"
    fill="#ffffff"></path>
`,Is=`<g id="winner">
    <g>
      <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
      <path class="${Be.ClassNames.Background}" fill="#dbac16" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    </g>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
      <path class="cls-4" d="M4.35,12.66,2.86,7.72a.37.37,0,0,1,0-.21A.35.35,0,0,1,3,7.34a.31.31,0,0,1,.2-.07.3.3,0,0,1,.21.05L6.27,9.15l.14,0h.14a.31.31,0,0,0,.13-.06A.48.48,0,0,0,6.77,9L8.69,5.54a.4.4,0,0,1,.13-.13.37.37,0,0,1,.18,0,.36.36,0,0,1,.31.18L11.22,9a.52.52,0,0,0,.1.11.31.31,0,0,0,.13.06h.14l.13,0,2.89-1.83a.3.3,0,0,1,.21-.05.31.31,0,0,1,.2.07.35.35,0,0,1,.12.17.37.37,0,0,1,0,.21l-1.49,4.94a.34.34,0,0,1-.13.18.31.31,0,0,1-.21.07H4.69a.31.31,0,0,1-.21-.07A.34.34,0,0,1,4.35,12.66Z"></path>
    </g>
    <path class="${void 0}" fill-rule="evenodd" d="M4.35,12.06,2.86,7.12a.37.37,0,0,1,0-.21A.35.35,0,0,1,3,6.74a.31.31,0,0,1,.2-.07.3.3,0,0,1,.21,0L6.27,8.55l.14,0h.14a.31.31,0,0,0,.13-.06.48.48,0,0,0,.09-.11L8.69,4.94a.4.4,0,0,1,.13-.13.37.37,0,0,1,.18,0,.36.36,0,0,1,.31.18l1.91,3.48a.52.52,0,0,0,.1.11.31.31,0,0,0,.13.06h.14l.13,0,2.89-1.83a.3.3,0,0,1,.21,0,.31.31,0,0,1,.2.07.35.35,0,0,1,.12.17.38.38,0,0,1,0,.21l-1.49,4.94a.34.34,0,0,1-.13.18.31.31,0,0,1-.21.07H4.69a.31.31,0,0,1-.21-.07A.34.34,0,0,1,4.35,12.06Z"></path>
  </g>`,Os=`<g id="winner-white" fill="#fff">
    <g>
      <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>
      <path class="${Be.ClassNames.Background}" fill="#dbac16" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>
    </g>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
      <path class="cls-4" d="M4.35,12.66,2.86,7.72a.37.37,0,0,1,0-.21A.35.35,0,0,1,3,7.34a.31.31,0,0,1,.2-.07.3.3,0,0,1,.21.05L6.27,9.15l.14,0h.14a.31.31,0,0,0,.13-.06A.48.48,0,0,0,6.77,9L8.69,5.54a.4.4,0,0,1,.13-.13.37.37,0,0,1,.18,0,.36.36,0,0,1,.31.18L11.22,9a.52.52,0,0,0,.1.11.31.31,0,0,0,.13.06h.14l.13,0,2.89-1.83a.3.3,0,0,1,.21-.05.31.31,0,0,1,.2.07.35.35,0,0,1,.12.17.37.37,0,0,1,0,.21l-1.49,4.94a.34.34,0,0,1-.13.18.31.31,0,0,1-.21.07H4.69a.31.31,0,0,1-.21-.07A.34.34,0,0,1,4.35,12.66Z"></path>
    </g>
    <path class="${void 0}" fill-rule="evenodd" d="M4.35,12.06,2.86,7.12a.37.37,0,0,1,0-.21A.35.35,0,0,1,3,6.74a.31.31,0,0,1,.2-.07.3.3,0,0,1,.21,0L6.27,8.55l.14,0h.14a.31.31,0,0,0,.13-.06.48.48,0,0,0,.09-.11L8.69,4.94a.4.4,0,0,1,.13-.13.37.37,0,0,1,.18,0,.36.36,0,0,1,.31.18l1.91,3.48a.52.52,0,0,0,.1.11.31.31,0,0,0,.13.06h.14l.13,0,2.89-1.83a.3.3,0,0,1,.21,0,.31.31,0,0,1,.2.07.35.35,0,0,1,.12.17.38.38,0,0,1,0,.21l-1.49,4.94a.34.34,0,0,1-.13.18.31.31,0,0,1-.21.07H4.69a.31.31,0,0,1-.21-.07A.34.34,0,0,1,4.35,12.06Z"></path>
  </g>`,rs=`<g id="interesting">
    <path class="${Be.ClassNames.Shadow}" d="m9 .5a9 9 0 1 0 9 9 9 9 0 0 0 -9-9z" opacity="0.3"></path>
    <path  class="${Be.ClassNames.Background}" d="m0 9a9 9 0 1 0 9-9 9 9 0 0 0 -9 9z" fill="#7979a1"></path>
    <g  class="${Be.ClassNames.Component}" opacity=".2">
      <path d="m4.75 12.9a.28.28 0 0 1 0-.13.25.25 0 0 1 .08-.1.33.33 0 0 1 .23-.1h2 .12l.11.08a.36.36 0 0 1 .07.1.59.59 0 0 1 0 .13v1.9a.36.36 0 0 1 -.09.24.27.27 0 0 1 -.1.08h-.13-2-.12a.44.44 0 0 1 -.19-.19.28.28 0 0 1 0-.13zm-.06-8.8a.41.41 0 0 1 .08-.24.35.35 0 0 1 .23-.1h2.14.13l.11.08a.5.5 0 0 1 .09.24l-.15 6.77c0 .21-.15.31-.34.31h-1.78a.3.3 0 0 1 -.2-.06.3.3 0 0 1 -.1-.1.31.31 0 0 1 0-.13z"/><path d="m12.39 14.82a.25.25 0 0 1 0 .12.28.28 0 0 1 -.08.11l-.1.07h-.12-1.91a.27.27 0 0 1 -.13 0 .39.39 0 0 1 -.05-.12.35.35 0 0 1 -.08-.22v-1.78a.32.32 0 0 1 .09-.23l.1-.07h.12 1.89a.33.33 0 0 1 .23.09.61.61 0 0 1 .07.1.27.27 0 0 1 0 .13zm2.2-7.17a2.49 2.49 0 0 1 -.36.73 4.51 4.51 0 0 1 -.48.6 6 6 0 0 1 -.52.49q-.39.34-.66.63a1 1 0 0 0 -.27.7v.2a.22.22 0 0 1 0 .12.35.35 0 0 1 -.17.17.2.2 0 0 1 -.11 0h-1.75-.12a.23.23 0 0 1 -.1-.07.26.26 0 0 1 -.07-.1.22.22 0 0 1 .02-.12v-.35a2.41 2.41 0 0 1 .12-.84 2.91 2.91 0 0 1 .33-.66 3.38 3.38 0 0 1 .45-.55l.49-.42a6.55 6.55 0 0 0 .61-.62 1 1 0 0 0 .26-.67.66.66 0 0 0 -.08-.34.64.64 0 0 0 -.18-.27 1.18 1.18 0 0 0 -.77-.28 1.66 1.66 0 0 0 -.49.07 3 3 0 0 0 -.41.18 2.29 2.29 0 0 0 -.29.18l-.1.09a.53.53 0 0 1 -.24.06c-.12 0-.19-.07-.21-.13l-1-1.21a.29.29 0 0 1 0-.4 1.36 1.36 0 0 1 .21-.2 3 3 0 0 1 .55-.38 5.87 5.87 0 0 1 .9-.37 3.75 3.75 0 0 1 1.2-.17 4.12 4.12 0 0 1 1.2.19 4 4 0 0 1 1.09.56 2.73 2.73 0 0 1 .77.92 2.7 2.7 0 0 1 .29 1.28 2.72 2.72 0 0 1 -.11.98z"/></g><g fill="#fff"><path d="m4.75 12.4a.28.28 0 0 1 0-.13.25.25 0 0 1 .08-.1.33.33 0 0 1 .23-.1h2 .12l.11.08a.36.36 0 0 1 .07.1.59.59 0 0 1 0 .13v1.9a.36.36 0 0 1 -.09.24.27.27 0 0 1 -.1.08h-.13-2-.12a.44.44 0 0 1 -.19-.19.28.28 0 0 1 0-.13zm-.06-8.8a.41.41 0 0 1 .08-.24.35.35 0 0 1 .23-.1h2.14.13l.11.08a.5.5 0 0 1 .09.24l-.15 6.77c0 .21-.15.31-.34.31h-1.78a.3.3 0 0 1 -.2-.06.3.3 0 0 1 -.07-.1.31.31 0 0 1 0-.13z"/><path d="m12.39 14.32a.25.25 0 0 1 0 .12.28.28 0 0 1 -.08.11l-.1.07h-.12-1.91a.27.27 0 0 1 -.13 0 .39.39 0 0 1 -.1-.08.35.35 0 0 1 -.08-.22v-1.83a.32.32 0 0 1 .09-.23l.1-.07h.12 1.89a.33.33 0 0 1 .23.09.61.61 0 0 1 .07.1.27.27 0 0 1 0 .13zm2.2-7.17a2.49 2.49 0 0 1 -.36.73 4.51 4.51 0 0 1 -.48.6 6 6 0 0 1 -.52.49q-.39.34-.66.63a1 1 0 0 0 -.27.7v.22a.22.22 0 0 1 0 .12.35.35 0 0 1 -.17.17.2.2 0 0 1 -.11 0h-1.75-.12a.23.23 0 0 1 -.1-.07.26.26 0 0 1 -.07-.1.22.22 0 0 1 0-.12v-.35a2.41 2.41 0 0 1 .12-.84 2.91 2.91 0 0 1 .33-.66 3.38 3.38 0 0 1 .45-.55l.49-.42a6.55 6.55 0 0 0 .63-.64 1 1 0 0 0 .26-.67.66.66 0 0 0 -.08-.34.64.64 0 0 0 -.18-.27 1.18 1.18 0 0 0 -.73-.24 1.66 1.66 0 0 0 -.49.07 3 3 0 0 0 -.41.18 2.29 2.29 0 0 0 -.37.21l-.1.09a.53.53 0 0 1 -.24.06c-.12 0-.19-.07-.21-.13l-1-1.21a.29.29 0 0 1 0-.4 1.36 1.36 0 0 1 .21-.2 3 3 0 0 1 .55-.38 5.87 5.87 0 0 1 .9-.37 3.75 3.75 0 0 1 1.2-.17 4.12 4.12 0 0 1 1.2.19 4 4 0 0 1 1.16.52 2.73 2.73 0 0 1 .77.92 2.7 2.7 0 0 1 .29 1.28 2.72 2.72 0 0 1 -.14.95z"/>
    </g>
  </g>`,ou=`<g id="warning">
    <g>
      <g class="${Be.ClassNames.Shadow}" opacity="0.3">
        <path d="M.32,14.3,6.94,2.83a2.37,2.37,0,0,1,4.11,0L17.68,14.3a2.38,2.38,0,0,1-2.06,3.56H2.38A2.38,2.38,0,0,1,.32,14.3Z"></path>
      </g>
      <path class="${Be.ClassNames.Background}" fill="#ec6250" d="M.32,13.8,6.94,2.33a2.37,2.37,0,0,1,4.11,0L17.68,13.8a2.38,2.38,0,0,1-2.06,3.56H2.38A2.38,2.38,0,0,1,.32,13.8Z"></path>
    </g>
    <g>
      <g class="${Be.ClassNames.ComponentShadow}" opacity="0.2">
        <path d="M10.21,15.19a.5.5,0,0,1,0,.12.26.26,0,0,1-.07.1.31.31,0,0,1-.22.09H8.1a.25.25,0,0,1-.12,0,.31.31,0,0,1-.09-.07.35.35,0,0,1-.08-.22V13.45a.29.29,0,0,1,.09-.21A.22.22,0,0,1,8,13.17l.11,0H9.9a.31.31,0,0,1,.22.09.27.27,0,0,1,.09.21ZM10.1,11.6a.22.22,0,0,1,0,.11.23.23,0,0,1-.07.1.27.27,0,0,1-.21.07H8.18a.29.29,0,0,1-.31-.28L7.73,5.41a.35.35,0,0,1,.08-.22.23.23,0,0,1,.1-.07A.25.25,0,0,1,8,5.1H10a.32.32,0,0,1,.23.09.35.35,0,0,1,.08.22Z"></path>
      </g>
      <path class="${Be.ClassNames.Component}" fill="#fff" d="M10.21,14.69a.5.5,0,0,1,0,.12.26.26,0,0,1-.07.1A.31.31,0,0,1,9.9,15H8.1A.25.25,0,0,1,8,15a.31.31,0,0,1-.09-.07.35.35,0,0,1-.08-.22V13a.29.29,0,0,1,.09-.21A.22.22,0,0,1,8,12.67l.11,0H9.9a.31.31,0,0,1,.22.09.27.27,0,0,1,.09.21ZM10.1,11.1a.22.22,0,0,1,0,.11.23.23,0,0,1-.07.1.27.27,0,0,1-.21.07H8.18a.29.29,0,0,1-.31-.28L7.73,4.91a.35.35,0,0,1,.08-.22.23.23,0,0,1,.1-.07A.25.25,0,0,1,8,4.6H10a.32.32,0,0,1,.23.09.35.35,0,0,1,.08.22Z"></path>
    </g>
  </g>`,au=`<g id="equal">
    <path class="${Be.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>
    <path class="${Be.ClassNames.Background}" fill="#a88865" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>
    <g class="${Be.ClassNames.ComponentShadow}" opacity="0.4">
      <path d="M5.31,8.36l-.15,0A.57.57,0,0,1,5,8.25.57.57,0,0,1,5,8.12a.4.4,0,0,1,0-.15V6a.38.38,0,0,1,.39-.39h7.38a.38.38,0,0,1,.39.39V8a.4.4,0,0,1,0,.15.57.57,0,0,1-.08.13.57.57,0,0,1-.13.08l-.15,0Z"/>
      <path d="M5.31,13.36l-.15,0A.57.57,0,0,1,5,13.25.57.57,0,0,1,5,13.12a.4.4,0,0,1,0-.15V11a.38.38,0,0,1,.39-.39h7.38a.38.38,0,0,1,.39.39V13a.4.4,0,0,1,0,.15.33.33,0,0,1-.21.21l-.15,0Z"/>
    </g>
    <g>
      <path class="${Be.ClassNames.Component}" fill="#f1f2f2" d="M5.31,7.86l-.15,0A.57.57,0,0,1,5,7.75.57.57,0,0,1,5,7.62a.4.4,0,0,1,0-.15V5.53a.38.38,0,0,1,.39-.39h7.38a.38.38,0,0,1,.39.39V7.47a.4.4,0,0,1,0,.15.57.57,0,0,1-.08.13.57.57,0,0,1-.13.08l-.15,0Z"/>
      <path class="${Be.ClassNames.Component}" fill="#f1f2f2" d="M5.31,12.86l-.15,0A.57.57,0,0,1,5,12.75.57.57,0,0,1,5,12.62a.4.4,0,0,1,0-.15V10.53a.38.38,0,0,1,.39-.39h7.38a.38.38,0,0,1,.39.39v1.94a.4.4,0,0,1,0,.15.33.33,0,0,1-.21.21l-.15,0Z"/>
    </g>
  </g>`,fa={[_e.Alternative]:ae,[_e.BestMove]:Le,[_e.Blunder]:Ve,[_e.Book]:tt,[_e.Brilliant]:De,[_e.CheckmateBlack]:_t,[_e.CheckmateWhite]:fn,[_e.Correct]:Kn,[_e.Critical]:Vn,[_e.DrawBlack]:Jr,[_e.DrawWhite]:D,[_e.Excellent]:pe,[_e.FastWin]:ne,[_e.Forced]:ft,[_e.FreePiece]:we,[_e.Gamechanger]:J,[_e.Good]:Ht,[_e.GreatFind]:Z,[_e.Inaccuracy]:gt,[_e.Incorrect]:ze,[_e.Mate]:Bn,[_e.Miss]:Qn,[_e.MissedWin]:yr,[_e.Mistake]:Sr,[_e.ResignBlack]:Ur,[_e.ResignWhite]:ai,[_e.Sharp]:Pn,[_e.Takeback]:ts,[_e.Threat]:Oa,[_e.TimeoutBlack]:Na,[_e.TimeoutWhite]:ns,[_e.Undo]:iu,[_e.Winner]:Is,[_e.WinnerWhite]:Os,[_e.Interesting]:rs,[_e.Warning]:ou,[_e.Equal]:au};function On({className:e="",path:t="",size:n="24",viewBox:r="0 0 18 19"}){return`
    <svg xmlns="http://www.w3.org/2000/svg" class="${e}" width="${n}" height="${n}" viewBox="${r}">
      ${t}
    </svg>
  `}function nr({square:e,isFlipped:t,effectEl:n}){const r=$t(e,t);r.top&&n.classList.add("tuck-top"),r.right&&n.classList.add("tuck-right")}function $t(e,t){const n={top:t?"1":"8",right:t?"a":"h"};return{top:e.includes(n.top),right:e.includes(n.right)}}function We({board:e,el:t,options:n}){const r=document.createComment("/Effects");e.addToDom({el:r,insertAfter:!0,type:cn.HoverSquare});const i=new Map;return{addEffects:a,getEffectElements:u,removeEffects:s};function a(f){f.forEach(p=>{const{data:{square:h,type:y},key:b}=p,S=document.createElement("div");S.classList.add("effect"),S.innerHTML=On({path:fa[y],size:"100%"}),or({el:S,square:h}),n.test&&Ar(S,{[Rn.Element]:Cr.Effect,[Rn.Square]:h,[Rn.Type]:y}),ot(h)&&nr({square:h,isFlipped:e.el.classList.contains("flipped"),effectEl:S});const $=i.get(b);$&&e.el.removeChild($),t.insertBefore(S,r),i.set(b,S)})}function s(f){f.forEach(p=>{const{key:h}=p,y=i.get(h);!y||(e.el.removeChild(y),i.delete(h))})}function u(){return i}}function an(e){const{api:t,options:n,renderer:r}=e;if(r?.extendRenderer(We),!t.markings)return;const i=t.markings,a=n.allowMarkings?i.getAllWhere({types:[re]}):[];r?.addEffects(a,e)}function kn(){return[{condition:Pt(re),handler:t},{condition:mr(re),handler:n},{condition:at(k.InstanceEvents.RendererSet),handler:e}];function e(r,i){an(i)}function t(r,i){const{renderer:a}=i,s=r.data.filter(Nt(re));a?.addEffects(s,i)}function n(r,i){const{renderer:a}=i,s=r.data.filter(Nt(re));a?.removeEffects(s,i)}}function Sn(){return{create:an,match:kn(),name:nt.Plugin.Name,destroy:e};function e(t){const{api:n,renderer:r}=t;if(!n.markings)return;const a=n.markings.getAllWhere({types:[re]});r?.removeEffects(a,t)}}function sn(){return{match:[{condition:on([k.InstanceEvents.RendererSet,k.APIEvents.Load]),handler:e}],name:E.Plugin.Name};function e(t,n){var r;(r=n?.renderer)==null||r.fadeSetup(n)}}var rn;(function(e){e.FlipBoardModifierKey="x",function(t){t.Name="flip-board"}(e.Plugin||(e.Plugin={}))})(rn||(rn={}));var An;(function(e){(function(t){t.Name="keys"})(e.Plugin||(e.Plugin={})),function(t){t.Keydown="Keydown",t.Keyup="Keyup"}(e.Events||(e.Events={}))})(An||(An={}));function Un(e=rn.FlipBoardModifierKey){let t;return{match:[{condition:on([k.InstanceEvents.Create,k.InstanceEvents.RendererSet,k.OptionsEvents.Update]),handler:r},{condition:at(An.Events.Keydown),handler:n}],name:rn.Plugin.Name};function n(i,a){const{api:s,options:u,queue:f}=a;i.data===e&&f.add(s.setOptions,{flipped:!u.flipped})}function r(i,a){const{options:s,renderer:u,state:f}=a;if(!!u){if(s.flipped!==t){u.flipBoard(s.flipped,a);const p=f.get(k.State.PromotionMove);p&&u.openPromotionWindow(p,a)}t=s.flipped}}}function Br(e){return Object.prototype.toString.call(e)==="[object Object]"}function Fn(e,t,{isDuplicateWhen:n}={}){const r=new Set(e);return t.forEach(i=>{if(Br(i)&&n){const a=e.find(s=>n(s,i));a&&r.delete(a);return}r.delete(i)}),[...r]}function Yt(e,t){return e.key===t.key&&e.data.color===t.data.color}function Rr(e){const t=new Set(e),n=new Map;return he(Se({},t),{addModule:i,getModules:s,removeModule:u,getAll:a,update:f,clearState:r});function r(){n.clear()}function i(p){return t.add(p)}function a(){return Array.from(n.values())}function s(){return Array.from(t)}function u(p){return t.delete(p)}function f(...p){const h=a();r();const y=Array.from(s().reduce(($,G)=>(G(...p).forEach(ce=>{$.set(ce.data.square,ce)}),$),new Map).values());y.forEach($=>n.set($.data.square,$));const b=Fn(y,h,{isDuplicateWhen:Yt}),S=Fn(h,y,{isDuplicateWhen:Yt});return{toAdd:b,toRemove:S}}}function zn(e){return function(){return Rr(e)}}function Jn(e){const{api:t,renderer:n}=e;if(!t.markings||!t.highlights)return;const r=t.highlights;r.clearState();const{toAdd:i}=r.update({data:{},type:"DummyHighlightInitEventName"},e);n?.addHighlights(i,e)}function Jt(e){const t=new Set(Array.isArray(e)?e:Object.values(e));return function(r){return!t.has(r.type)}}function si(){return[{condition:Jt([k.UserEvents.Pointermove,k.InstanceEvents.RendererSet,k.APIEvents.NodeUpdated]),handler:t},{condition:at(k.InstanceEvents.RendererSet),handler:e}];function e(n,r){Jn(r)}function t(n,r){const{api:i,renderer:a}=r;if(!a)return;const s=i.highlights,{toAdd:u,toRemove:f}=s.update(n,r);a.removeHighlights(f,r),a.addHighlights(u,r)}}function jr(e){return{api:zn(e),destroy:t,create:Jn,match:si(),name:vt.Plugin.Name};function t(n){const{api:r,renderer:i}=n,a=r.highlights;i?.removeHighlights(a.getAll(),n)}}function kr(...e){return function(n,r){return e.every(i=>i(n,r))}}function Mi(e){return function(n,r){var i,a;return Boolean((a=(i=r.api)==null?void 0:i.getOptions)==null?void 0:a.call(i)[e])}}function so(){const e=(0,A.c)({data:{square:void 0},initialState:"hidden",states:{hidden:{dragPiece:n=>({data:{square:n},nextState:"showing"})},showing:{dragPiece:n=>({data:{square:n},nextState:"showing"}),dropPiece:()=>({nextState:"hidden"}),setOptionToFalse:()=>({nextState:"hidden"})}}});return{match:[{condition:kr(Mi(Xn.BooleanOptions.HoverSquareOutline),Jt([k.APIEvents.ClearMarkings,He.Events.Tick])),handler:t}],name:je.Plugin.Name};function t(n,r){const{options:i,renderer:a,state:s}=r,u=s.get(k.State.HideHoverSquare)!==!0&&s.get(k.State.MachineState)!==L.States.PromotionAreaShowing&&s.get(k.State.DraggingPiece),f=n.data&&(n.data.square||n.data.squareInsideBoard||e.getData().square||u);let p=!1;i.highlightMoves?u?p=e.transition("dragPiece",f):p=e.transition("dropPiece"):p=e.transition("setOptionToFalse"),!(!p||!a)&&(e.getCurrentState()==="hidden"?a.hideHoverSquare(r):a.showHoverSquare(e.getData().square,r))}}function Kr(e){return Array.isArray(e)?e:[e]}function da(e){return e.reduce((t,n,r,i)=>{if(r%2===0)return t;const a=i[r-1];return t[a]=n,t},{})}var bi;(function(e){e.Alt="a",e.Ctrl="l",e.Custom="c",e.Default="d",e.Shift="s"})(bi||(bi={}));function Oi(e){var t;const{color:n,data:r,type:i}=e,a=da(r);Object.keys(a).forEach(h=>{a[h]=decodeURIComponent(a[h])});const s=a,{persistent:u}=s,f=Ge(s,["persistent"]),p={key:ci(e.key,e.type),node:!0,data:he(Se({},f),{keyPressed:(t=f.keyPressed)!=null?t:wi(n)}),type:i};return typeof u<"u"&&(p.persistent=u==="true"),p}function ci(e,t){return`${t}|${e}`}function wi(e){switch(e){case bi.Alt:return It.Alt;case bi.Default:return It.None;case bi.Shift:return It.Shift;case bi.Ctrl:return It.Ctrl;default:return}}function mi(e,t){const n=[],r=t??e.markings();return Object.values(r).forEach(i=>{Object.values(i).forEach(a=>{n.push(Oi(a))})}),n}function os(e,t,n){const{key:r}=t,i=e.ids(),a=t.node&&typeof t.node=="object",{move:s,line:u}=t.node;a&&e.selectPosition(s,u);const f=mi(e,n);return a&&e.selectPosition(i.move,i.line),Boolean(f.find(p=>p.key===r))}function xi(e,...t){const n=Se({},e);return t.forEach(r=>{delete n[r]}),n}function Di(e){return Object.entries(e).reduce((t,[n,r])=>(r===void 0||t.push(n,r.toString()),t),[])}function Ki(e){const{data:t,persistent:n}=e,r=n!==void 0?he(Se({},t),{persistent:n}):t,i=as(t.keyPressed),a=i===bi.Custom?r:xi(r,"color");return Object.keys(a).forEach(s=>{a[s]=encodeURIComponent(a[s])}),{color:i!==bi.Custom?i:void 0,data:Di(a),key:nl(e),type:e.type}}function nl(e){const{data:{from:t,square:n,to:r},key:i}=e;return n||(t&&r?`${t}${r}`:i)}function as(e){switch(e){case It.Alt:return bi.Alt;case It.None:return bi.Default;case It.Shift:return bi.Shift;case It.Ctrl:return bi.Ctrl;default:return bi.Custom}}var ei;(function(e){(function(t){t.$1="$1",t.$2="$2",t.$3="$3",t.$4="$4",t.$5="$5",t.$6="$6",t.$9="$9",t.$10="$10",t.$11="$11",t.$12="$12",t.$13="$13",t.$14="$14",t.$15="$15",t.$16="$16",t.$17="$17",t.$18="$18",t.$19="$19",t.$22="$22",t.$36="$36",t.$40="$40",t.$146="$146",t.$256="$256"})(e.Nags||(e.Nags={})),function(t){t.$1="!",t.$2="?",t.$3="!!",t.$4="??",t.$5="!?",t.$6="?!",t.$9="\u2612",t.$10="=",t.$11="=",t.$12="=",t.$13="\u221E",t.$14="\u2A72",t.$15="\u2A71",t.$16="\xB1",t.$17="\u2213",t.$18="+-",t.$19="-+",t.$22="\u2A00",t.$40="\u2191",t.$146="N",t.$256="=/\u221E"}(e.Values||(e.Values={})),function(t){t.GreatFind="!",t.Mistake="?",t.Brilliant="!!",t.Blunder="??",t.Interesting="!?",t.Inaccuracy="?!"}(e.Effects||(e.Effects={})),function(t){t.Drawish="=",t.Unclear="\u221E",t.WhiteHasModerateAdvantage="\xB1",t.BlackHasModerateAdvantage="\u2213",t.WhiteHasDecisiveAdvantage="+-",t.BlackHasDecisiveAdvantage="-+",t.PositionInZugzwang="\u2A00",t.WithCompensation="\u2191",t.Novelty="N",t.WithAttack="=/\u221E"}(e.Additional||(e.Additional={}))})(ei||(ei={}));function ta(e,t,n){const r=Ki(t),i=e.ids(),a=t.node&&typeof t.node=="object";if(a){const{move:u,line:f}=t.node;e.selectPosition(u,f)}e.mark(r,!0),ei.Effects[t.data.type]&&n.updateNode(a?t.node:i,{annotation:"",isSync:!0}),a&&e.selectPosition(i.move,i.line)}function su(e,t,n){const r=Ki(t),i=e.ids(),a=t.node&&typeof t.node=="object";if(a){const{move:h,line:y}=t.node;e.selectPosition(h,y)}e.mark(r);const s=ei.Effects[t.data.type],u=n.getSelectedNode(),f=u?.to===t.data.square,p=u?.annotation===s;s&&f&&!p&&n.updateNode(a?t.node:i,{annotation:s,isSync:!0}),a&&e.selectPosition(i.move,i.line)}const _o=[k.APIEvents.CreateGame,k.APIEvents.DeletePosition,k.APIEvents.Load,k.APIEvents.Move,k.APIEvents.MoveBackward,k.APIEvents.MoveForward,k.APIEvents.MoveVariation,k.APIEvents.PromoteVariation,k.APIEvents.SelectLineEnd,k.APIEvents.SelectLineStart,k.APIEvents.SelectNode,k.APIEvents.Reload,k.APIEvents.ResetToMainLine,k.APIEvents.Undo];function ss(...e){if(e.length===1)return e[0];const t=new Set;for(const n of e)for(const r of n)e.every(i=>i.has(r))&&t.add(r);return t}function Zi(...e){const t=new Set;for(const n of e)for(const r of n)t.add(r);return t}function ls({batchCallbacks:e=!0,onEntryAdded:t,onEntryRemoved:n,primaryKey:r="id"}={primaryKey:"id"}){const i=new Map,a=new Map,{flush:s,isBatching:u,stack:f,startBatching:p}=G({added:t,removed:n});function h(Wt){return e&&u()?f("added")(Wt):t?.(Wt)}function y(Wt){return e&&u()?f("removed")(Wt):n?.(Wt)}return{addOne:$,addMany:b(S),batch:b,getAll:ce,getManyByTags:St,getMatchingKeys:Kt,getMap:At,getMany:Re,getOne:it,removeAll:b(Yn),removeMany:b(hr),removeManyByTags:b(cr),removeOne:un};function b(Wt){return(...Tn)=>{p();const Dn=Wt(...Tn);return s(),Dn}}function S(Wt,Tn){return Wt.map((vr,Zn)=>$(vr,Tn?.[Zn]))}function $(Wt,Tn){const Dn=Wt[r],vr=i.get(Dn);return vr&&(i.delete(Dn),y?.(vr)),Tn?.forEach(Zn=>{var xr;a.get(Zn)||a.set(Zn,new Set),(xr=a.get(Zn))==null||xr.add(Dn)}),i.set(Dn,Wt),h?.(Wt),Dn}function G(Wt){let Tn=!1;const Dn=new Map;return Object.entries(Wt).forEach(([ir,hi])=>{hi&&Dn.set(ir,{callback:hi,entries:new Set})}),{flush:xr,isBatching(){return Tn},stack:vr,startBatching:Zn};function vr(ir){return function(Ji){var ao;(ao=Dn.get(ir))==null||ao.entries.add(Ji)}}function Zn(){Tn=!0}function xr(){Dn.forEach(ir=>{var hi;const Ji=Array.from(ir.entries.values());Ji.length&&((hi=ir.callback)==null||hi.call(ir,Ji),ir.entries.clear()),Tn=!1})}}function ce(){return Array.from(i.values())}function Re(Wt){return Wt.map(Tn=>i.get(Tn)).filter(Tn=>Tn!==void 0)}function At(){return i}function it(Wt){return i.get(Wt)}function St(Wt,Tn={}){return Kt(Wt,Tn).map(Dn=>i.get(Dn)).filter(Dn=>Dn!==void 0)}function Kt(Wt,Tn={}){const{matchAll:Dn}=Tn,vr=Wt.map(xr=>a.get(xr)).filter(xr=>xr!==void 0);let Zn;return Dn?Zn=Array.from(ss(...vr)):Zn=Array.from(Zi(...vr)),Zn}function Yn(){for(const[Wt,Tn]of i.entries())y?.(Tn);return i.clear(),a.clear(),!0}function hr(Wt){return Wt.every(un)}function cr(Wt,Tn={}){return Kt(Wt,Tn).every(Dn=>un(Dn))}function un(Wt){var Tn;const Dn=i.get(Wt);Dn&&(i.delete(Wt),y?.(Dn));const vr=a.entries();for(const[Zn,xr]of vr)xr.has(Wt)&&xr.delete(Wt),((Tn=a.get(Zn))==null?void 0:Tn.size)===0&&a.delete(Zn);return!0}}function rl(e){const{node:t,persistent:n,tags:r=[],type:i}=e;return[t?"node":"board",n?"persistent":"temporary",...r,i]}function Ns(e){const{from:t,square:n,to:r}=e.data,i=n?[n]:[t,r];for(const a of i)if(!us(a))return!1;return!0}function us(e){return/^([a-h][1-8])$/.test(e)}function il(e,t){const n={a:Object.getOwnPropertyNames(e),b:Object.getOwnPropertyNames(t)};return n.a.length!==n.b.length?!1:n.a.every(r=>e[r]===t[r])}function La({generateKey:e=na,context:t,onMarkingAdded:n,onMarkingRemoved:r}={}){const i=ls({batchCallbacks:!0,onEntryAdded:n,onEntryRemoved:r,primaryKey:"key"}),a=ls({batchCallbacks:!0,onEntryAdded:n,onEntryRemoved:r,primaryKey:"id"});return{addOne:f,addMany:s,getMany:i.getMany,getAll:i.getAll,getAllWhere:y,getOne:i.getOne,removeAll:i.removeAll,removeAllWhere:S,removeOne:h,removeMany:p,toggleMany:$,toggleOne:G,factory:{buildStandardAnalysisHighlight:Re,buildStandardArrow:At}};function s(it){return u(it)}function u(it){return it.map(f)}function f(it){if(!Ns(it))return null;const St=rl(it);if(it.node&&typeof it.node=="object"){const Kt=t?.api.getSelectedNode(),Yn=Kt?.ids.move===it.node.move&&Kt?.ids.line===it.node.line,hr=ce(it),{move:cr,line:un}=hr.node;if(hr.id=`${hr.key}-${cr}|${un}`,a.addOne(hr,St),Yn)it.node=!0;else return hr.key}return i.addOne(ce(it),St)}function p(it){return it.every(h)}function h(it,St){if(typeof it!="string"&&it.node&&typeof it.node=="object")return h(it.key,it.node),!1;if(St&&typeof St=="object"){const{move:Kt,line:Yn}=St;a.removeOne(`${it}-${Kt}|${Yn}`)}return typeof it!="string"?!1:i.removeOne(it)}function y(it={}){return b(it).map(St=>i.getMap().get(St)).filter(Boolean)}function b(it={}){const{node:St,persistent:Kt,tags:Yn,types:hr}=it;let cr;St!==void 0&&(cr=St?"node":"board");let un;Kt!==void 0&&(un=Kt?"persistent":"temporary");const Wt=[cr,un,Yn,hr].filter(Dn=>Dn!==void 0);if(!Wt.length)return Array.from(i.getMap().keys());const Tn=Wt.map(Kr).map(Dn=>new Set(i.getMatchingKeys(Dn)));return Array.from(ss(...Tn))}function S(it={}){var St;return((St=it.types)==null?void 0:St.length)===0&&(it.types=void 0),i.removeMany(b(it))}function $(it){return it.map(G)}function G(it){const St=ce(it),Kt=i.getOne(St.key);return Kt&&il(Kt.data,St.data)?i.removeOne(St.key):f(St)}function ce(it){return he(Se({},it),{key:it.key||e(it)})}function Re(it,St=It.None){const Kt=t?.api.getOptions?t?.api.getOptions():qi();return{data:{keyPressed:St,opacity:Kt.analysisHighlightOpacity,square:it},node:!0,persistent:!1,type:Zt}}function At(it,St,Kt=It.None){const Yn=t?.api.getOptions?t?.api.getOptions():qi();return{data:{keyPressed:Kt,from:it,opacity:Yn.analysisHighlightOpacity,to:St},node:!0,persistent:!1,type:qe}}}function na(e){const{data:{from:t,square:n,to:r},type:i}=e;if(!n&&!(t&&r))throw new Error('Markings that do not have a "square" property must provide a "from" and "to"');const a=n||`${t}${r}`;return`${i}|${a}`}function cs(e){if(!e)return;const t=new Map;return Object.keys(ei.Effects).forEach(n=>{t.set(ei.Effects[n],n)}),t.get(e)}const pa=e=>(t,n)=>{n.api.getOptions().syncEffects&&e(t,n)},ol=[{condition:on(_o),handler:lu},{condition:at(k.APIEvents.Mark),handler:pa(Ls)},{condition:at(k.APIEvents.Unmark),handler:pa(al)},{condition:at(k.APIEvents.Load),handler:pa(Ra)},{condition:at(k.APIEvents.NodeUpdated),handler:pa(uu)}];function Ls(e,t){const{data:n}=e,{game:r}=t.api.getContext();(Array.isArray(n)?n:[n]).forEach(a=>{a.node&&!os(r,a)&&su(r,a,t.api)})}function al(e,t){const{data:n}=e,{game:r}=t.api.getContext();(Array.isArray(n)?n:[n]).forEach(a=>{a.node&&os(r,a)&&ta(r,a,t.api)})}function lu(e,t){const{api:n,queue:r}=t;e.data.plyDiff===0&&e.data.lineDiff===0||r.add(()=>Fo(n))}function Ra(e,t){const{api:n}=t,r=n.getRawLines(),i=[];Fo(n),r.forEach(a=>{a.forEach(s=>{const u=cs(s.annotation);u&&i.push({data:{square:s.to,type:u},type:re,node:s.ids,persistent:!0})})}),n.markings.addMany(i)}function uu(e,t){var n,r,i;const{api:a}=t,{ids:s,changes:u}=e.data;if(!("annotation"in u)||u.isSync)return;const f=a.getPosition(s.move,s.line);if(!("to"in f))return;const p=cs(u.annotation),h=a.getNodeByIds(s);if(!p&&h?.commands){const y=((i=(r=(n=h.commands.c_effect)==null?void 0:n.split(","))==null?void 0:r.find($=>$.includes(h.to)))==null?void 0:i.split(";"))||[],b=y[y.length-1];ei.Effects[b]&&a.markings.addOne({data:y,key:h?.to,type:re,persistent:!0})}if(!p){const y=na({data:{square:f.to},type:re});a.markings.removeOne(y,s);return}a.markings.addOne({data:{square:f.to,type:p},type:re,node:s,persistent:!0})}function Fo(e){const{game:t}=e.getContext(),n=mi(t);e.markings.removeAllWhere({node:!0}),n.length&&e.markings.addMany(n)}function gi(e,t){return e.reduce((n,r)=>(n[+!t(r)].push(r),n),[[],[]])}function fs(e){const{respond:t}=e;return La({onMarkingAdded:r=>n("Mark",r),onMarkingRemoved:r=>n("Unmark",r),context:e});function n(r,i){const a={Mark:Ls,Unmark:al}[r],s=e.api.getContext().game.ids(),[u,f]=gi(Kr(i),p=>Br(p.node)&&s!==p.node);u.length&&a({data:u},e),f.length&&t(k.APIEvents[r],f)}}var Rs;(function(e){(function(t){t.Name="markings"})(e.Plugin||(e.Plugin={}))})(Rs||(Rs={}));function sl(){return{api:fs,match:ol,name:Rs.Plugin.Name}}function Ds(e){return[...new Set(e)]}var U;(function(e){(function(n){n[n.White=1]="White",n[n.Black=2]="Black"})(e.ColorsAsNumbers||(e.ColorsAsNumbers={}));let t;(function(n){n.Bughouse="bughouse",n.Chess="chess",n.Chess960="chess960",n.Crazyhouse="crazyhouse",n.KingOfTheHill="kingofthehill",n.ThreeCheck="threecheck"})(t=e.Variants||(e.Variants={})),e.JCEVariantTypes={[t.Bughouse]:"Bughouse",[t.Chess]:"Chess",[t.Chess960]:"Chess960",[t.Crazyhouse]:"Crazyhouse",[t.ThreeCheck]:"3-check",[t.KingOfTheHill]:"King of the Hill"},function(n){n.White="w",n.Black="b"}(e.ColorsAsLetters||(e.ColorsAsLetters={})),function(n){n.White="white",n.Black="black"}(e.ColorsAsWords||(e.ColorsAsWords={})),e.DefaultTimeControl=5,function(n){n.Black="?",n.Event="?",n.Date="????.??.??",n.Site="?",n.Value="?",n.Result="*",n.Round="?",n.White="?"}(e.EmptyPGNHeaders||(e.EmptyPGNHeaders={})),function(n){(function(r){r[r.Capture=1]="Capture",r[r.BigPawn=2]="BigPawn",r[r.EPCapture=4]="EPCapture",r[r.AnyCapture=5]="AnyCapture",r[r.Promotion=8]="Promotion",r[r.CapturePromotion=9]="CapturePromotion",r[r.KingsideCastle=16]="KingsideCastle",r[r.QueensideCastle=32]="QueensideCastle",r[r.AnyCastle=48]="AnyCastle",r[r.Drop=64]="Drop",r[r.DropOrCapture=69]="DropOrCapture",r[r.DropOrPromote=72]="DropOrPromote"})(n.Flags||(n.Flags={})),function(r){r[r.Capture=0]="Capture",r[r.Castle=1]="Castle",r[r.Check=2]="Check",r[r.Checkmate=3]="Checkmate",r[r.Normal=4]="Normal",r[r.Premove=5]="Premove",r[r.Promotion=6]="Promotion"}(n.Types||(n.Types={}))}(e.Move||(e.Move={})),function(n){(function(r){(function(i){(function(a){(function(s){s.Arrows="arrows",s.Effects="effects",s.Pieces="pieces"})(a.Targets||(a.Targets={})),function(s){s.Above="above",s.Below="below"}(a.Positions||(a.Positions={}))})(i.VisualOrder||(i.VisualOrder={})),function(a){a.Image="Image",a.Star="Star",a.TextBox="TextBox"}(i.Types||(i.Types={}))})(r.CustomItem||(r.CustomItem={})),function(i){i.alt="a",i.custom="c",i.default="d",i.shift="s",i.ctrl="l"}(r.ColorKeys||(r.ColorKeys={})),function(i){i.a="alt",i.c="custom",i.d="default",i.s="shift",i.l="ctrl"}(r.JCEColorsMap||(r.JCEColorsMap={})),function(i){i.Arrow="arrow",i.Effect="effect",i.Square="square",i.CustomItem="customItem"}(r.Types||(r.Types={}))})(n.Marking||(n.Marking={}))}(e.Node||(e.Node={})),function(n){(function(r){r.p="pawn",r.n="knight",r.b="bishop",r.r="rook",r.q="queen",r.k="king"})(n.Names||(n.Names={})),function(r){r.Pawn="p",r.Knight="n",r.Bishop="b",r.Rook="r",r.Queen="q",r.King="k"}(n.Types||(n.Types={}))}(e.Piece||(e.Piece={})),function(n){(function(r){r.Color="#ffff00",r[r.Opacity=.5]="Opacity"})(n.Defaults||(n.Defaults={})),function(r){r.Analysis="analysis",r.Move="move",r.Premove="premove",r.Selection="selection"}(n.Types||(n.Types={}))}(e.Highlight||(e.Highlight={})),function(n){n.Blitz="blitz",n.Bullet="bullet",n.Rapid="rapid"}(e.TimeControlTypes||(e.TimeControlTypes={})),function(n){n.Black="0-1",n.Draw="1/2-1/2",n.None="*",n.White="1-0"}(e.Results||(e.Results={}))})(U||(U={}));function be({addMoveHints:e,addCaptureHints:t,context:n,currentHints:r,getNextHints:i,removeHints:a}){let s=r;const{api:u,mode:f,options:p,state:h}=n;if(!p||!p.highlightLegalMoves||!f.isAllowedToMove())return a([...r],n),s.length=0,s;const y=h.get(k.State.SelectedPiece)||h.get(k.State.DraggingPiece);if(!y)return s.length&&(a(s,n),s=[]),s;const b=h.get(k.State.MachineState)===L.States.PromotionAreaShowing?[]:u.getLegalMoves().filter(St=>St.from===y),S=Ds(b.map(St=>St.to));S.push(...it(b));const $=s.filter(St=>!S.includes(St));a($,n);const G=i(S),ce=[],Re=[],At=u.getPieces().keys();return G.forEach(St=>{t&&At.includes(St)?Re.push(St):ce.push(St)}),ce.length&&e(ce,n),Re.length&&t?.(Re,n),s.filter(St=>!$.includes(St)).concat(G);function it(St){if(u.getVariant()===U.Variants.Chess960||St.length===0||St[0].from===void 0)return[];const Kt=u.getPieces().getCollection(),Yn=Kt[St[0].from];return Yn?.type!=="k"?[]:St.reduce((hr,cr)=>{let un;if(cr.san==="O-O-O")un=cr.color===U.ColorsAsNumbers.White?"a1":"a8";else if(cr.san==="O-O")un=cr.color===U.ColorsAsNumbers.White?"h1":"h8";else return hr;const Wt=Kt[un];return Wt?.type.toLowerCase()==="r"&&Wt?.color===Yn.color&&!Wt?.promoted&&cr.to!==un&&hr.push(un),hr},[])}}function oe(){let e=[];return{match:[{condition:Jt([k.UserEvents.Pointermove,He.Events.Tick]),handler:n},{condition:at(k.InstanceEvents.RendererSet),handler:t}],name:ve.Plugin.Name};function t(r,i){e=[],n(r,i)}function n(r,i){const{renderer:a}=i;!a||(e=be({addMoveHints:a.addMoveHints,addCaptureHints:a.addCaptureHints,context:i,currentHints:e,getNextHints:s=>s.filter(u=>!e.includes(u)),removeHints:a.removeHints}))}}function ke(){return{match:[{condition:on(k.APIEvents),handler:t},{condition:at(k.InstanceEvents.RendererSet),handler:e}],name:Dt.Plugin.Name};function e(n,r){const{api:i,renderer:a}=r;a?.loadPieces({pieces:i.getPieces()},r)}function t(n,r){const{renderer:i}=r;if(!i)return;if(n.type===k.APIEvents.IllegalMove){i.illegalMove(!1,r);return}const{plyDiff:a,move:s,pieces:u}=n.data;if(u){i.loadPieces({pieces:u},r);return}if(s&&a===-1){s.san!=="--"&&i.undoMove(s,r);return}s&&i.makeMove(s,r)}}var ye;(function(e){(function(t){t.StateDesynchronisation="StateDesynchronisation"})(e.ErrorCodes||(e.ErrorCodes={})),function(t){t.Name="rendererErrorCatcher"}(e.Plugin||(e.Plugin={}))})(ye||(ye={}));function Pe({context:e,method:t}){return function(...r){try{return t(...r)}catch(i){const{api:a,renderer:s}=e;console.error(`Board position reloaded due to game and renderer state desynchronisation:
`,i),a.logger.log({code:ye.ErrorCodes.StateDesynchronisation,data:i,level:Ae.Levels.Error}),s?.loadPieces({pieces:a.getPieces(),reloadAll:!0},e)}}}const xt=()=>!1;function ln(){let e={};return{create:t,destroy:n,match:[{condition:at(k.InstanceEvents.RendererSet),handler:(r,i)=>t(i)}],name:ye.Plugin.Name};function t(r){const{options:i,renderer:a}=r;!a||xt()||i.test||["dragPiece","dropPiece","makeMove","removePiece","undoMove"].forEach(s=>{const u=Pe({context:r,method:a[s]});e[s]=a[s],a[s]=u})}function n(r){const{renderer:i}=r;!i||(Object.keys(e).forEach(a=>{i[a]=e[a]}),e={})}}const Ut={enPassant:"https://www.chess.com/article/view/how-to-capture-en-passant",soundsDefault:"https://www.chess.com/bundles/web/sounds",soundsTheme:"https://images.chesscomfiles.com/chess-themes/sounds/",webglAssetPaths:"__CHESSCOM_WEBGL_ASSET_PATHS__",webglDataUrl:"https://www.chess.com/bundles/web/images/webgl_data",webglDataUrlDev:"static/webgl_data"};function pt({theme:e="default",type:t,format:n}){return`${Ut.soundsTheme}_${n.toUpperCase()}_/${e}/${t}.${n}`}function $n(e,t){return["webm","ogg","mp3","wav"].map(n=>pt({format:n,theme:e,type:t}))}function er(e,t){return["webm","ogg","mp3","wav"].map(n=>`${e}/${n}/${t}.${n}`)}const gr=[P.BoardSounds.GameStart,P.BoardSounds.GameEnd,P.BoardSounds.Capture,P.BoardSounds.Castle,P.BoardSounds.Premove,P.BoardSounds.MoveSelf,P.BoardSounds.MoveCheck,P.BoardSounds.MoveOpponent,P.BoardSounds.Promote,P.BoardSounds.Notify,P.BoardSounds.TenSeconds,P.BoardSounds.Illegal];function Er(e){let t=gr,n="default";e&&(t=e.codes,n=e.theme);let r,i=n;return f({codes:t,theme:n}),{destroy:a,getSounds:s,getTheme:u,load:f,loadExtra:p,play:h};function a(){Object.keys(r).forEach(y=>{r[y].unload()})}function s(){return r}function u(){return i}function f(y){i=y.theme,r=(y.codes||gr).reduce((b,S)=>(b[S]=(0,A.l)($n(i,S)),b),{}),(0,A.e)()}function p(y){const b=y.codes.reduce((S,$)=>(S[$]=(0,A.l)(er(y.baseURL,$)),S),{});Object.keys(b).forEach(S=>{var $;($=r[S])==null||$.unload(),r[S]=b[S]}),(0,A.e)()}function h(y){const b=r[y],S=u();if(!b)return S;try{return(0,A.p)(b),S}catch{return S}}}function zr(e){return e.flags===void 0?!1:Boolean((e.flags&1)===1)||e.flags===U.Move.Flags.EPCapture}function ni(e){return e.flags===U.Move.Flags.AnyCastle||e.flags===U.Move.Flags.KingsideCastle||e.flags===U.Move.Flags.QueensideCastle}function Ln(e){return!e||!e.san?!1:["+","#"].includes(e.san.slice(-1))}function ll(e){return e.flags===U.Move.Flags.Promotion||e.flags===U.Move.Flags.CapturePromotion}function cu(e,t){if(!e||!e.san)return null;let n;return Ln(e)?n=P.BoardSounds.MoveCheck:e.isPremove?n=P.BoardSounds.Premove:ll(e)?n=P.BoardSounds.Promote:zr(e)?n=P.BoardSounds.Capture:ni(e)?n=P.BoardSounds.Castle:n=t?P.BoardSounds.MoveOpponent:P.BoardSounds.MoveSelf,n}function pv(e){return function(n){return e!==n.type}}function Bc(e){let t=e;return{api:()=>({getSoundsInstance:()=>t}),match:[{condition:pv(k.UserEvents.Pointermove),handler:r}],name:P.Plugin.Name,create:n};function n(i){t||(t=Er({theme:i.options.soundTheme}))}function r(i,a){var s;if(!t)return;const{api:u,options:f,state:p}=a;if(i.type===k.OptionsEvents.Update&&f.soundTheme!==t.getTheme()){t.destroy(),t.load({theme:f.soundTheme});return}if(i.type===k.SoundEvents.Play){t.play(i.data.sound),p.set({soundPlayed:i.data.sound});return}if(!f.playSounds||!((s=i.data)!=null&&s.plyDiff))return;let h=u.getSelectedNode();if(i.type===k.APIEvents.MoveBackward&&(h=i.data.move),!h)return;const y=u.getPlayingAs(),b=Boolean(y&&y!==h.color),S=cu(h,b);S&&(t.play(S),p.set({soundPlayed:S}))}}function Fc(e){return{create:t,name:X.Plugin.Name};function t(n){const{api:r}=n;e&&r.timeControl.set(e)}}function yo(e){return Boolean(!e||e.isContentEditable||["INPUT","TEXTAREA"].includes(e.tagName))}var bo;(function(e){(function(t){t.Shift="Shift",t.Control="Control",t.Alt="Alt",t.Meta="Meta"})(e.Modifiers||(e.Modifiers={}))})(bo||(bo={}));const C0=["Escape","Tab","Backspace","Enter","Backlash","Period","Slash","Comma","Space","Delete","Home","End","PageUp","PageDown","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],hv=[bo.Modifiers.Meta.toLowerCase(),bo.Modifiers.Alt.toLowerCase(),bo.Modifiers.Control.toLowerCase()];function E0(e){let t;if(!!e)return e.includes("Digit")?t=e.replace("Digit",""):e.includes("Numpad")?t=e.replace("Numpad",""):e.includes("Key")?t=e.replace("Key",""):e.includes(bo.Modifiers.Control)?t=bo.Modifiers.Control:e.includes(bo.Modifiers.Shift)?t=bo.Modifiers.Shift:e.includes(bo.Modifiers.Alt)?t=bo.Modifiers.Alt:e.includes(bo.Modifiers.Meta)?t=bo.Modifiers.Meta:C0.includes(e)&&(t=e),t?.toLowerCase()}function vv({onKeydown:e,onKeyup:t}={}){let n=!0;const r=new Set;return document.addEventListener("keydown",s),document.addEventListener("keyup",u),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),{isPressed:i,getPressedKeys:a,disable:p,enable:h,destroy:y};function i(b){return r.has(b.toLowerCase())}function a(){return[...r].sort()}function s(b){const S=document.activeElement;if(!n||yo(S))return;const $=E0(b.code);$&&(r.add($),e?.($))}function u(b){const S=E0(b.code);S&&(hv.includes(S)&&r.clear(),r.delete(S),t?.(S))}function f(){r.clear()}function p(){n=!1,r.clear()}function h(){n=!0}function y(){document.removeEventListener("keydown",s),document.removeEventListener("keyup",u),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f),r.clear()}}function w0(){let e;const t=vv({onKeydown:s(An.Events.Keydown),onKeyup:s(An.Events.Keyup)}),n={[An.Events.Keydown]:{},[An.Events.Keyup]:{}},r={isPressed:t.isPressed,getPressedKeys:t.getPressedKeys,setOverrides:f,removeOverrides:p};return{api:()=>r,create:i,destroy:a,match:[{condition:at(k.OptionsEvents.Update),handler:h},{condition:at(An.Events.Keydown),handler:u},{condition:at(An.Events.Keyup),handler:u}],name:An.Plugin.Name};function i({run:b,options:S}){e=b,y(S.enabled)}function a(){t.destroy()}function s(b){return function($){e?.(pr(b,$))}}function u(b,S){const{type:$,data:G}=b,ce=n[$][G];!ce||S.queue.add(ce(S.api))}function f(b){b.forEach(({key:S,callback:$,trigger:G=An.Events.Keydown})=>{n[G][S]=$})}function p(b){b.forEach(({trigger:S=An.Events.Keydown,key:$})=>{delete n[S][$]})}function h(b,S){const{options:$}=S,G=$.captureKeyStrokes&&$.enabled;y(G)}function y(b){b?t.enable():t.disable()}}var fu;(function(e){e.DefaultAcceptableFrequency=1e3,function(t){t.Name="webgl-context-lost"}(e.Plugin||(e.Plugin={}))})(fu||(fu={}));function mv(e=fu.DefaultAcceptableFrequency){let t,n=0,r=!1,i=!1;return{api:()=>({activateBoard:u}),destroy:b,match:[{condition:at(k.InstanceEvents.RendererSet),handler:a}],name:fu.Plugin.Name};function a(S,$){t=$;const{renderer:G}=t,ce=G?.name===wn.Types.WebGL2D||G?.name===wn.Types.WebGL3D;!G||!ce||!G.getWebGLCanvas||f(G.getWebGLCanvas())}function s(){if(!t)return;i=!0;const S=n&&Date.now()-n<e;if(n=Date.now(),S){y();return}r&&h()}function u(S=!0){r=S,r&&i&&h()}function f(S){S.removeEventListener("webglcontextlost",s),S.addEventListener("webglcontextlost",s)}function p(S){S.removeEventListener("webglcontextlost",s)}function h(){var S;if(!t||!t.renderer)return;const{renderer:$}=t;(S=$.handleWebGLContextLost)==null||S.call($),i=!1,$.getWebGLCanvas&&f($.getWebGLCanvas())}function y(){if(!t)return;const{api:S,renderer:$}=t,G={animationType:Xn.Animation.Types.Default};$?.name===wn.Types.WebGL3D&&(G.pieceStyle="neo"),S.setOptions(G)}function b(){!t||!t.renderer||!t.renderer.getWebGLCanvas||p(t.renderer.getWebGLCanvas())}}var Gi;(function(e){(function(t){t.Name="recorder"})(e.Plugin||(e.Plugin={})),function(t){t.Idle="Idle",t.Playing="Playing",t.Recording="Recording"}(e.Mode||(e.Mode={}))})(Gi||(Gi={}));const P0=[{name:"addMoveToEndOfLine"},{name:"agreeDraw"},{name:"blinkSquare"},{name:"claimDraw"},{name:"clearMarkings"},{name:"createContinuation"},{name:"createGame"},{name:"setPlayingAs"},{name:"usePlayingAs"},{name:"deletePosition"},{name:"load"},{name:"mark"},{name:"move"},{name:"moveBackward"},{name:"moveForward"},{name:"moveVariation"},{name:"outOfTime"},{name:"promoteVariation"},{name:"reload"},{name:"resetGame"},{name:"resetToMainLine"},{name:"resign"},{name:"selectLineEnd"},{name:"selectLineStart"},{name:"selectNode"},{name:"setGameDetails"},{name:"setResult"},{name:"setTurn"},{name:"toggleMarking"},{name:"undo"},{name:"unmark"},{name:"updateLineComment"},{name:"updateNode"},{name:"setOptions"},{name:"setMode"},{name:"playSound"},{namespace:"arrowKeys",name:"setKeys"},{namespace:"arrowKeys",name:"resetKeys"},{namespace:"boardImages",name:"mark"},{namespace:"boardImages",name:"unmark"},{namespace:"boardImages",name:"showWindow"},{namespace:"boardImages",name:"hideWindow"},{namespace:"clocks",name:"activate"},{namespace:"clocks",name:"deactivate"},{namespace:"clocks",name:"resetClocks"},{namespace:"clocks",name:"stopClocks"},{namespace:"hml",name:"addDiagramActions"},{namespace:"hml",name:"addCommentLink"},{namespace:"hml",name:"setScrollContainer"},{namespace:"hml",name:"updateNodeLimits"},{namespace:"keys",name:"setOverrides"},{namespace:"keys",name:"removeOverrides"},{namespace:"premoves",name:"cancel"},{namespace:"premoves",name:"consumeNext"},{namespace:"premoves",name:"loadQueue"},{namespace:"premoves",name:"move"},{namespace:"premoves",name:"reload"},{namespace:"threats",name:"enable"},{namespace:"threats",name:"onlyShowThreatsCreatedByColor"},{namespace:"vml",name:"activate"},{namespace:"vml",name:"deactivate"},{namespace:"vml",name:"waitForVMLReady"},{namespace:"markings",name:"addMany"},{namespace:"markings",name:"addOne"},{namespace:"markings",name:"removeAll"},{namespace:"markings",name:"removeAllWhere"},{namespace:"markings",name:"removeMany"},{namespace:"markings",name:"removeOne"},{namespace:"markings",name:"toggleMany"},{namespace:"markings",name:"toggleOne"}];function gv(e,t){const{api:n}=e;return{record:a,play:p,step:h,forward:y,stop:s,init:f,clear:u,get:()=>t,getJSON:r,load:i};function r(){return t.recording?JSON.stringify(t.recording):""}function i(S){const $=JSON.parse(S);return u(),t.recording=$,f()}function a(S=!0){u(),t.recording={modeName:n.getMode().name,variant:n.getVariant(),modeOptions:n.getMode().getOptions(),boardOptions:n.getOptions(),pgn:n.getPGN(),plugins:n.plugins.get().map($=>$.name),timestamp:new Date().toISOString(),events:[]},t.mode=Gi.Mode.Recording,t.recordEvents=S}function s(){return t.mode=Gi.Mode.Idle,t.recording.events.length}function u(){t.mode=Gi.Mode.Idle,t.lastRecordedEventTime=0,t.recording={events:[],pgn:"",modeName:"",variant:"",modeOptions:{},boardOptions:{},plugins:[],timestamp:""},t.playState={playCounter:0,initDirty:!1,playedEvents:[]}}function f(){if(s(),!t.recording)return 0;t.playState={playCounter:0,playedEvents:[],initDirty:!1};const{pgn:S,events:$}=t.recording;return e.api.load({pgn:S}),e.api.markings.removeAll(),window.location.hostname==="localhost"&&e.api.boardImages&&!e.api.boardImages.isInitialized()&&e.api.boardImages.initDefault(),t.playState.initDirty=!1,$.length}function p({fixedDelay:S,skipEvents:$=!1,verbose:G=!0}={}){s(),t.playState.initDirty&&f(),t.mode=Gi.Mode.Playing,t.verbose=G,t.verbose&&console.log("Playing",t.recording.events.length-1),b({fixedDelay:S,skipEvents:$,autoContinue:!0})}function h({fastForwardEvents:S=!1,skipEvents:$=!1,verbose:G=!0}={}){s(),t.mode=Gi.Mode.Playing,t.verbose=G,b({fixedDelay:0,skipEvents:$,fastForwardEvents:S,autoContinue:!1})}function y({eventNumber:S,skipEvents:$=!1,verbose:G=!0}){s(),(!t.playState.playCounter||t.playState.playCounter>=S||t.playState.playCounter===t.recording.events.length)&&f(),t.mode=Gi.Mode.Playing,t.verbose=G,b({fixedDelay:0,maxEventNumber:S,skipEvents:$,autoContinue:!0})}function b({maxEventNumber:S,fixedDelay:$,skipEvents:G,fastForwardEvents:ce,autoContinue:Re}){const At=t.recording.events[t.playState.playCounter];if(!At){t.mode=Gi.Mode.Idle;return}const{name:it,args:St,namespace:Kt}=At;Kt?n[Kt][it](...St):it==="event"?G?(t.playState.playCounter+=1,t.playState.playedEvents.push(`skipped: ${St[0].type}`)):n.emit(St[0].type,St[0]):n[it](...St);const Yn=t.recording.events[t.playState.playCounter];if(t.mode!==Gi.Mode.Playing||!Yn||!Re&&(!G||!ce)||S&&t.playState.playCounter>=S){t.mode=Gi.Mode.Idle,!Yn&&t.verbose&&console.log("Finished playing");return}let hr=$??Yn.time;G&&Yn.name==="event"&&(hr=0),(Re||(G||ce)&&Yn.name==="event")&&setTimeout(()=>{b({maxEventNumber:S,fixedDelay:$,skipEvents:G,fastForwardEvents:ce,autoContinue:Re})},hr)}}const Ai={mode:Gi.Mode.Idle,recordEvents:!1,lastRecordedEventTime:0,verbose:!1,playState:{playCounter:0,initDirty:!1,playedEvents:[]},recording:{events:[],pgn:"",modeName:"",variant:"",modeOptions:{},boardOptions:{},plugins:[],timestamp:""}};function $c(){return{api:t=>gv(t,Ai),create:t=>setTimeout(()=>e(t)),match:[{condition:()=>Ai.mode===Gi.Mode.Recording&&Ai.recordEvents,handler:t=>{Ai.recording.events.push({name:"event",args:[t],time:Uc()})}},{condition:()=>Ai.mode===Gi.Mode.Playing,handler:t=>{Ai.verbose&&console.log(`${Ai.playState.playCounter} / ${Ai.recording.events.length-1}`,t),Ai.playState.playCounter+=1,Ai.playState.playedEvents.push(t)}}],name:Gi.Plugin.Name};function e(t){const{api:n}=t;Hc(n);const r=(i,a,s)=>{const f=(Array.isArray(s[0])?s[0]:s).map(h=>h.name),p=i(...s);return f.forEach(h=>{Hc(n,h)}),p};t.api.plugins.add=new Proxy(t.api.plugins.add,{apply:r}),t.api.plugins.addMany=new Proxy(t.api.plugins.addMany,{apply:r})}}function Hc(e,t){(t?P0.filter(r=>r.namespace===t):P0).forEach(({namespace:r,name:i})=>{if(!r&&!e[i]||r&&!e[r]||r&&e[r]&&!e[r][i])return;const a=_v(i,r);r?e[r][i]=new Proxy(e[r][i],{apply:a}):e[i]=new Proxy(e[i],{apply:a})})}function _v(e,t){return function(r,i,a){if(Ai.playState.initDirty=!0,Ai.mode===Gi.Mode.Recording){const s=Uc(),u=t?{namespace:t}:{};Ai.recording.events.push(Se({name:e,args:a,time:s},u))}if(Ai.mode===Gi.Mode.Playing){const s=Ai.recording.events[Ai.playState.playCounter];if(s&&s.name===e&&(!s.namespace||s.namespace===t)&&JSON.stringify(s.args).substring(0,50)===JSON.stringify(a).substring(0,50)){if(Ai.verbose){const f=s.namespace?`${s.namespace}.${s.name}`:s.name;console.log(`${Ai.playState.playCounter} / ${Ai.recording.events.length-1}`,`${f}`,...s.args)}Ai.playState.playCounter+=1}const u=t?{namespace:t}:{};Ai.playState.playedEvents.push(Se({name:e,args:a},u))}return r(...a)}}function Uc(){const e=Date.now(),t=Ai.lastRecordedEventTime===0?0:e-Ai.lastRecordedEventTime;return Ai.lastRecordedEventTime=e,t}function Da({color:e,type:t,opacity:n,square:r,turn:i}){return{data:{color:e,opacity:n,square:r,turn:i,type:t},key:`${t}|${r}`,type:"highlight"}}function jc(e,t){switch(e){case It.Alt:return t.analysisHighlightColors.alt;case It.Ctrl:return t.analysisHighlightColors.ctrl;case It.Shift:return t.analysisHighlightColors.shift;case It.None:return t.analysisHighlightColors.default;default:return}}function ds(e,t){const{api:n,options:r}=t;return!r||!r.allowMarkings?[]:n.markings.getAllWhere({types:[Zt]}).map(({data:{color:i,keyPressed:a,opacity:s,square:u}})=>{var f,p;return Da({color:(p=(f=jc(a,r))!=null?f:i)!=null?p:r.analysisHighlightColors.default,opacity:s??r.analysisHighlightOpacity,square:u,type:"analysis"})})}function Ao(e){return e.id!==void 0}const Gc="move";function Bs(e,t){const{api:n,options:r}=t,i=[];if(!r||!r.highlightMoves)return i;const a=n.getSelectedNode();return!a||Ao(a)||[a.from,a.to].forEach(s=>{var u,f,p;if(!s)return;const h=Da({color:(p=(f=r.highlightColor)!=null?f:(u=mo(r.boardStyle))==null?void 0:u.highlightColor)!=null?p:Xn.HighlightColors.Selected,opacity:r.highlightOpacity,square:s,turn:a.color,type:Gc});i.push(h)}),i}function ha(e,t){var n,r;const{options:i,state:a}=t;if(!i||!i.highlightMoves)return[];const s=a.get(k.State.SelectedPiece)||a.get(k.State.DraggingPiece);return s?[Da({color:(r=(n=mo(i.boardStyle))==null?void 0:n.highlightColor)!=null?r:Xn.HighlightColors.Selected,opacity:i.highlightOpacity,square:s,type:"SelectionHiglight"})]:[]}function du(e,t){return t._withIDBStore("readwrite",n=>{e.forEach(r=>{n.put(r,r.f)})})}const S0="e2992d839bbeb7eff7ae6145f8bdcdb3";let Ba;const zc="IS_POPULATED",Wc="VERSION";function T0({name:e,table:t}){Ba=new A.S(e,t)}function Vc(){return Ba}async function qc({ecoPath:e,http:t}){const n=S0,r=await x0(),i=await M0();if(!r||!i&&n||i!==n)return Zc(n),pu({ecoPath:e,http:t}).then(Kc)}function Kc(){return(0,A.s)(zc,!0,Ba)}function Zc(e){return(0,A.s)(Wc,e,Ba)}async function M0(){return(0,A.g)(Wc,Ba).then(String)}async function x0(){return(0,A.g)(zc,Ba).then(Boolean)}async function pu({ecoPath:e,http:t}){return t.get(e).then(n=>{var r,i;du((i=(r=n?.data)!=null&&r.positions?n.data.positions:n.data)!=null?i:n,Ba)})}function k0(e){return e.reverse().map(t=>t.split(" ").slice(0,3).join(" "))}async function I0({ecoPath:e,fens:t,http:n}){const r=k0(t);return await qc({ecoPath:e,http:n}),(await O0(r)).find(Boolean)}function O0(e){return Promise.all(e.map(t=>(0,A.g)(t,Vc())))}function Xc(e,t){let n;return{get:()=>n,update:r};async function r(){const{api:i,respond:a}=e;n=await I0(he(Se({},t),{fens:i.getHistoryFENs()})),a(Ue.Events.Update,n)}}var hu;(function(e){e.ECO="chesscom_eco"})(hu||(hu={}));var vu;(function(e){e.ECO="eco"})(vu||(vu={}));const N0={get:e=>fetch(e,{method:"GET"}).then(t=>t.json())};function ul({ecoPath:e="",http:t=N0,storeData:n={name:hu.ECO,table:vu.ECO}}={}){if(!("indexedDB"in window))return{name:Ue.Name};function r(a){Vc()||T0(Se({},n)),i(null,a)}return{api:a=>Xc(a,{ecoPath:e,http:t}),create:r,match:[{condition:on(_o),handler:i}],name:Ue.Name};function i(a,s){s.api.eco.update()}}function L0(){let e,t=!1;return{create:i,destroy:a,match:[{condition:at(k.APIEvents.SetPlayingAs),handler:(s,u)=>r(u.api)}],name:te.Plugin.Name,requires:["premoves"]};function n(s){const{api:u}=s;return{get:f,set:p};function f(){return t}function p(h){var y,b,S,$,G;if(t=h,r(u),h===!1){const ce=(b=(y=u.getPositionDetails())==null?void 0:y.sideToMove)!=null?b:U.ColorsAsNumbers.White;if(u.setTurn(ce),(($=(S=u.premoves)==null?void 0:S.getQueue()[0])==null?void 0:$.color)===ce){const Re=(G=u.premoves)==null?void 0:G.consumeNext(),At=Re===null?k.APIEvents.IllegalMove:k.APIEvents.Move;u.getContext().respond(At,Re)}}}}function r(s){t&&s.setTurn(s.getPlayingAs()===U.ColorsAsNumbers.White?U.ColorsAsNumbers.Black:U.ColorsAsNumbers.White)}function i(s){const{api:u}=s;if(!u.premoves)return"The premoves plugin must be registered in order to use the pregame plugin.";e=u.extendAPI(te.Plugin.Name,{pregame:()=>n(s)})}function a(){e()}}function Co(e,t){return function(...r){e.premoves.cancel(),t(...r)}}function R0(e){const t=e.getLegalMovesForSquare;return function(r){return e.getPlayingAs()!==e.getTurn()?e.premoves.getLegalMovesForSquare(r):t(r)}}function Qc(e){const t=e.getLegalMoves;return function(){return e.getPlayingAs()!==e.getTurn()?e.premoves.getLegalMoves():t()}}function Yc(e){const t=e.getMove;return function(r){return e.getPlayingAs()!==e.getTurn()?e.premoves.getMove(r):t(r)}}function cl(e){const t=e.getPieces;return function(){return e.premoves.getQueue().length?e.premoves.getPieces():t()}}function mu(e){const t=e.move;return function(r){const{respond:i}=e.getContext();if(e.getPlayingAs()===e.getTurn())return t(r);if(r.userGenerated)return e.premoves.move(r);const s=e.premoves.getQueue().length>0;s&&e.premoves.reload();const u=t(r);return s&&i(k.APIEvents.SetBoardPosition,{pieces:e.premoves.getPieces(),holdSelectedPiece:!0}),u}}function Jc(e,t){return function(...r){var i;e.premoves.cancel();const a=(i=r[0])==null?void 0:i.premoves;if(a){const s=e.getContext().game;a.forEach(u=>{s.premove.move(u)}),e.premoves.loadQueue(a),r[0].pieces=e.premoves.getPieces()}t(...r)}}function ef(){return{agreeDraw:({api:e})=>Co(e,e.agreeDraw),deletePosition:({api:e})=>Co(e,e.deletePosition),getLegalMovesForSquare:({api:e})=>R0(e),getLegalMoves:({api:e})=>Qc(e),getMove:({api:e})=>Yc(e),getPieces:({api:e})=>cl(e),load:({api:e})=>Jc(e,e.load),move:({api:e})=>mu(e),moveBackward:({api:e})=>Co(e,e.moveBackward),moveForward:({api:e})=>Co(e,e.moveForward),outOfTime:({api:e})=>Co(e,e.outOfTime),resign:({api:e})=>Co(e,e.resign),selectLineEnd:({api:e})=>Co(e,e.selectLineEnd),selectLineStart:({api:e})=>Co(e,e.selectLineStart),selectNode:({api:e})=>Co(e,e.selectNode),undo:({api:e})=>Co(e,e.undo)}}function tf({api:e,canMoveWhenNotPlayerTurn:t,modeOptions:n}){const{canAddMovesToMainLine:r,canMoveWhenGameIsOver:i,canModifyExistingMovesOnMainLine:a}=n;return Boolean((i||!e.isGameOver())&&(r&&e.isAtEndOfLine()||a)&&(t||e.getPlayingAs()===e.getTurn()))}function D0(e,t){return function(){return tf({api:t,canMoveWhenNotPlayerTurn:!0,modeOptions:e.getOptions()})}}function B0(){return{isAllowedToMove:D0}}function F0(e){return function(){const{api:n,game:r}=e;return n.premoves.getQueue().length?(r.premove.cancel(),n.reload()):null}}function Bi({api:e,node:t,timestamp:n}){var r;const{game:i,respond:a}=e.getContext(),{line:s,move:u}=t.ids;if(n===null)return(r=t.commands)!=null&&r.timestamp&&delete t.commands.timestamp,a(k.APIEvents.NodeUpdated,{changes:{timestamp:n,node:t}});t.commands||(t.commands={}),i.updateNode({commands:Object.assign(t.commands,{timestamp:`${n}`})},u,s)}const fl=1;function Fa(e){return Math.round(e/100)}function Eo(e){return e?.ids!==void 0}function $0({api:e,node:t}){const n=e.getNodeByIds({move:t.ids.move-2,line:t.ids.line});return Eo(n)?n:null}function yv({api:e,timeControl:t}){const n=e.getLine(0);if(!n)return null;const r=n[n.length-1],i=$0({api:e,node:r}),{baseTime:a,increment:s}=t,u=bv({baseTime:Fa(a),increment:Fa(s),lastNodeTime:i?.time});return u&&r&&(r.time=u),u}function bv({baseTime:e,increment:t,lastNodeTime:n}){return r()-fl;function r(){return n?n+t:e}}function Av(e){return function(){const{api:n,game:r,mutateGame:i}=e;if(!n.premoves.getQueue().length)return null;if(n.isGameOver())return n.premoves.cancel();n.premoves.reload();const s=i(function(){r.premove.consume()});if(!s||s.plyDiff===0)return null;if(s.consumedPremove=!0,n.premoves.getQueue().length&&(s.pieces=n.premoves.getPieces()),s.move){const u=n.timeControl.get();u&&(yv({api:n,timeControl:u}),Bi({api:n,node:s.move,timestamp:fl})),Object.assign(s.move,{animate:!1,userGenerated:!0})}return s.result&&n.setResult(s.result),s}}function $o(e){return function(n){const{game:r}=e,i=r.premove.moves(n);return i?Ds(i.filter(a=>typeof n>"u"||a.from===n).map(a=>a.to)):[]}}function gu(e){return function(){const{game:n}=e;return n.premove.moves()||[]}}function _u(e){return function(n){const{game:r}=e,i=r.premove.moves(n.from);let a=i?i.find(s=>s.to===n.to):null;if(!a&&r.premove.getPieces(!0)[n.from].type.toLowerCase()==="k"){const s=[...r.premove.queue];a=r.premove.move(n),a&&(r.premove.cancel(),s.forEach(r.premove.move))}return a?r.moveDetails(Se({},a)):null}}function nf(e){return function(){const{game:n}=e;return Ye(n.premove.getPieces(!0))}}function H0(e){return function(){const{game:n}=e;return n.premove.queue}}function U0(e){return function(n){const{game:r}=e;return r.premove.move(n)?(r.undo(),!0):!1}}function j0(e){return function(n){const{game:r}=e;r.premove.queue.length=0,r.premove.queue.push(...n)}}function Cv(e){return function(n){const{api:r,game:i,respond:a}=e;return i.premove.move(n)?(r.getOptions().playSounds&&a(k.SoundEvents.Play,{sound:P.BoardSounds.Premove}),a(k.APIEvents.SetBoardPosition,{pieces:r.premoves.getPieces()})):null}}function G0(e){return function(){const{api:n}=e;if(n.premoves.getQueue().length){const r=[...n.premoves.getQueue()];n.reload(),n.premoves.loadQueue(r)}else n.reload()}}function z0(){return function(t){return{cancel:F0(t),consumeNext:Av(t),getLegalMovesForSquare:$o(t),getLegalMoves:gu(t),getMove:_u(t),getPieces:nf(t),getQueue:H0(t),isLegalMove:U0(t),loadQueue:j0(t),move:Cv(t),reload:G0(t)}}}function W0(e){return e.type===k.APIEvents.Move&&!e.data.consumedPremove}const rf="premove";function V0(e,t){var n;const{api:r,options:i}=t,a=(n=r.premoves)==null?void 0:n.getQueue();if(!i||!i.allowMarkings||!a.length)return[];const s=[];return a.forEach(u=>{if(u.from){const p=Da({color:i.premoveHighlightColor,opacity:i.premoveHighlightOpacity,square:u.from,type:rf});s.push(p)}const f=Da({color:i.premoveHighlightColor,opacity:i.premoveHighlightOpacity,square:u.kingTo||u.to,type:rf});s.push(f)}),s}function va(){return{api:z0(),apiOverrides:ef(),beforeState:[{condition:at(k.UserEvents.PointerdownRight),handler:n},{condition:at(k.APIEvents.Move),handler:r}],create:e,destroy:t,modeOverrides:B0(),name:xe.Plugin.Name};function e(i){const{api:a}=i;a.highlights&&a.highlights.addModule(V0)}function t(i){var a;const{api:s}=i;(a=s.highlights)==null||a.removeModule(V0)}function n(i,a){const{api:s,queue:u}=a;return s.premoves.getQueue().length>0?(u.add(s.premoves.cancel),!1):!0}function r(i,a){const{api:s,queue:u}=a;return s.premoves.getQueue().length&&W0(i)?(u.add(function(){const p=s.premoves.consumeNext(),h=p===null?k.APIEvents.IllegalMove:k.APIEvents.Move;s.once(k.APIEvents.Move,()=>{s.getContext().respond(h,he(Se({},p),{holdSelectedPiece:!0}))})}),!1):!0}}function dl(e,t){const{requestIdleCallback:n}=window;if(n){n(e,t);return}r(e);function r(i){const a=Date.now();return setTimeout(function(){i({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-a))})},1)}}function yu({onAll:e,onDebug:t,onError:n}){return{create:r,name:N.Plugin.Name};function r(s){if(!e&&!t&&!n)return;const{api:{logger:u}}=s;u.on(Ae.Events.EntryAdded,f=>i(f,u))}function i(s,u){const f=u.get();e&&a({callback:e,entry:s,previousLogs:f}),t&&s.level===Ae.Levels.Debug&&a({callback:t,entry:s,previousLogs:f}),n&&s.level===Ae.Levels.Error&&a({callback:n,entry:s,previousLogs:f})}function a({callback:s,entry:u,previousLogs:f}){dl(()=>s(u,f))}}const ma=()=>{};function pl(e=!0){const t=[];let n=!1;return{add:r,clear:i,flush:a,getEntries:s};function r(u,...f){let p=ma,h=ma;const y=new Promise((b,S)=>{h=b,p=S});return t.push({fn:u,params:f,reject:p,resolve:h}),e&&n===!1&&a(),y}function i(){n=!1,t.length=0}async function a(){const u=t.shift();if(!u){n=!1;return}n=!0;try{const f=await u.fn(...u.params);return u.resolve(f),a()}catch(f){u.reject(f)}}function s(){return t}}function of(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),reject:t,resolve:e}}function q0(){let e=!1;const t=of();return{isReady:()=>e,ready:n,waitForReady:()=>t.promise};function n(r){var i;e=!0,(i=t.resolve)==null||i.call(t,r)}}function K0(e){return function({context:n,event:r,line:i,selectedNode:a,queue:s}){const{data:u,type:f}=r,p=a?.ply;return f===k.APIEvents.AddMove&&u.listMove?e.addNode(u.listMove):u&&u.plyDiff===1&&a?(e.addNode(a),e.selectNode(p)):f===k.APIEvents.CreateGame||f===k.APIEvents.Load||f===k.APIEvents.DeletePosition?e.loadNodes(i):f===k.APIEvents.LineUpdated?(e.loadNodes(i),e.selectNode(p)):u.moveListDisplayType?(e.setMoveListDisplayType(u.moveListDisplayType),e.loadNodes(i,p)):f===k.APIEvents.NodeUpdated&&u.changes&&Object.prototype.hasOwnProperty.call(u.changes,"timestamp")?e.updateTimestamp(u.changes.node):f===k.APIEvents.UpdatePGNHeaders&&u.Result?(e.setResult(u.Result),n.game.inThreefoldRepetition()&&s.add(e.addThreeFoldIcons,i),n.api.isAtEndOfLine()&&s.add(e.selectResultNode)):p===0?e.deselectNode():f!==k.OptionsEvents.Update&&e.selectNode(p),u.changes&&Object.prototype.hasOwnProperty.call(u.changes,"customColor")&&e.updateNodeColor(u.ids.move+1,u.changes.customColor),p}}var no;(function(e){(function(t){t.EnPassant="circle-info",t.MoveInfoIcon="move-info-icon",t.ThreeFoldIcon="redo",t.IconFont="icon-font-chess",t.MoveList="move-list"})(e.Classes||(e.Classes={})),function(t){t.EnPassantIcon="span"}(e.Tags||(e.Tags={})),function(t){t.Color="--nodeCustomColor"}(e.CssVariables||(e.CssVariables={}))})(no||(no={}));function af({el:e,value:t,variable:n}){if(t!==void 0)return e.style.setProperty(n,t);e.style.removeProperty(n)}function hl(e,t){Object.values(no.CssVariables).forEach(n);function n(r){af({el:e,value:t,variable:r})}}var Ot;(function(e){(function(t){(function(n){n.ClearAllAnalysis="Clear All Analysis",n.DeleteCommentAfter="Delete Comment After",n.DeleteCommentBefore="Delete Comment Before",n.DeleteLine="Delete Entire Variation",n.DeleteMove="Delete Move",n.InsertCommentAfter="Comment After",n.InsertCommentBefore="Comment Before",n.InsertContinuation="Insert Continuation",n.MoveVariationDown="Move Variation Down",n.MoveVariationUp="Move Variation Up",n.Promote="Promote",n.RemoveAnnotation="Remove Annotation",n.RemoveBegin="Remove Begin",n.RemoveEnd="Remove End",n.RemoveEvaluationAnnotation="Remove Evaluation Annotation",n.RemoveFocus="Remove Focus",n.SetBegin="Set Begin",n.SetEnd="Set End",n.SetFocus="Set Focus"})(t.Actions||(t.Actions={})),function(n){n.BadMove="Bad move",n.BlackHasDecisiveAdvantage="Black has a decisive advantage",n.BlackHasModerateAdvantage="Black has a moderate advantage",n.BlackHasSlightAdvantage="Black has a slight advantage",n.Blunder="Blunder",n.Drawish="Drawish",n.DubiousMove="Dubious move",n.ExcellentMove="Excellent move",n.GoodMove="Good move",n.Miss="Miss",n.Novelty="Novelty",n.Unclear="Unclear",n.PositionInZuqZwang="The position is in zugzwang",n.SpeculativeMove="Speculative move",n.WhiteHasSlightAdvantage="White has a slight advantage",n.WhiteHasModerateAdvantage="White has a moderate advantage",n.WhiteHasDecisiveAdvantage="White has a decisive advantage",n.WithInitiative="With initiative",n.WithCompensation="With compensation",n.WithAttack="With an attack"}(t.Annotations||(t.Annotations={})),function(n){n.B="B",n.K="K",n.N="N",n.P="P",n.Q="Q",n.R="R"}(t.Pieces||(t.Pieces={})),function(n){n.NumberOfDays="numberOfDays",n.NumberOfHours="numberOfHours",n.NumberOfMinutes="numberOfMinutes"}(t.Plural||(t.Plural={})),function(n){n.AddComment="Add Comment..."}(t.Prompt||(t.Prompt={})),function(n){n.EnPassant="En passant is a special pawn move by which a pawn captures another pawn that has advanced two squares.",n.ThreeFoldRepetition="This game ended in a draw because the same position was repeated three times."}(t.Tooltips||(t.Tooltips={}))})(e.Translation||(e.Translation={})),function(t){t.HML="hml",t.VML="vml"}(e.Types||(e.Types={}))})(Ot||(Ot={}));var Xr;(function(e){e.Mousedown="mousedown",e.MouseMove="mousemove",e.Mouseup="mouseup",e.PointerDown="pointerdown",e.PointerMove="pointermove",e.PointerUp="pointerup",e.Touchstart="touchstart",e.Touchmove="touchmove",e.Touchend="touchend"})(Xr||(Xr={}));const{Pointerdown:lo,Pointermove:ga,Pointerup:vl}=_i();function _i(){const e="onpointerdown"in window,t="ontouchstart"in window;let n,r,i;return e?(n=Xr.PointerDown,r=Xr.PointerMove,i=Xr.PointerUp):t?(n=Xr.Touchstart,r=Xr.Touchmove,i=Xr.Touchend):(n=Xr.Mousedown,r=Xr.MouseMove,i=Xr.Mouseup),{Pointerdown:n,Pointermove:r,Pointerup:i}}function Z0(e,t){const n=document.createElement("div"),r=document.createElement(no.Tags.EnPassantIcon);return n.appendChild(r),n.classList.add(no.Classes.MoveInfoIcon),r.classList.add(no.Classes.IconFont,no.Classes.EnPassant),n.addEventListener(lo,a),n.addEventListener("mouseover",i),n.dataset.tooltip=t[Ot.Translation.Tooltips.EnPassant](),{el:n,listener:{el:n,eventName:lo,handler:a}};function i(){const s=n.getBoundingClientRect().y;n.style.setProperty("--tooltip-top",`${s}px`)}function a(s){s.stopPropagation(),window.open(e,"_blank")}}function X0(e={}){const t=Se({},e);return{get:n,set:r};function n(){return t}function r(i){Object.assign(t,i)}}function Q0(e){return U.Piece.Names[e.toLowerCase()]}function Y0(e,t){return e.toUpperCase()===e?J0(e,t):e}function J0(e,t){return`<span class="icon-font-chess ${Q0(e)}-${t}" data-figurine="${e}"></span>`}function sf({color:e,moveListDisplayType:t,san:n,translations:r}){return n.split("").map(i=>"NBRQK".includes(i)?t===Xn.MoveListDisplayTypes.Figurine?Y0(i,e):r[i]():i).join("")}const lf=65;function ml(e,t){const n=t/40,r=e/n;return lf*2/Math.PI*Math.atan(r/3)}function ps(e){return e===U.ColorsAsNumbers.Black?U.ColorsAsWords.Black:U.ColorsAsWords.White}function bu(e,t){if(!e)return;const n=e.map(({fen:r})=>r.split(" ").slice(0,2).join(" "));return uf(n).map(r=>t[r])}function uf(e){return e.reduceRight((t,n,r,i)=>((n===i[i.length-1]?t.push(r):t.length)===3&&(i.length=0),t),[])}function ep(e){return`time-${e}`}function tp(e){return e===U.Move.Flags.EPCapture}const cf=7;function $a(e){return`.${e}`}var Tr;(function(e){(function(t){(function(n){n.Ply="data-ply",n.Time="data-time",n.WholeMoveNumber="data-whole-move-number",n.VMLElement="data-vml-element"})(t.Attributes||(t.Attributes={})),function(n){n.TimeBarWidth="--timeBarWidth",n.TimeValue="--timeValue",n.MaxMoveTimeTaken="--timeMaxValue",n.TimestampWidth="--timestampWidth"}(t.CSSVariables||(t.CSSVariables={})),function(n){n.ColorsEnabled="movelist-colored",n.List="vertical-move-list",n.GameResult="game-result",n.Move="move",n.Node="node",n.Selected="selected",n.WithBaseTime="timestamps-with-base-time",n.ToggleTimestamps="toggle-timestamps"}(t.ClassNames||(t.ClassNames={})),function(n){n.Timestamp="timestamp"}(t.ElementTypes||(t.ElementTypes={}))})(e.DOM||(e.DOM={})),function(t){t.SelectNode="SelectNode",t.SelectResultNode="SelectResultNode"}(e.Events||(e.Events={}))})(Tr||(Tr={}));function Au({containerEl:e,moveListEl:t,nodeEl:n}){if(!t||!n)return;const r=e||t,i=r.getBoundingClientRect(),a=n.getBoundingClientRect(),s=(i.bottom-i.top)/2,u=i.top-a.top+s;r.scrollTop-=u}function ff(e){const{el:t,resultNodeIsSelectable:n,toggleTimestamps:r}=e;let i=!1;const a=[],s=X0(e);return{addMove:u,addNode:f,addTimestamp:p,clearList:h,createList:y,deselectNode:ce,destroyList:At,enableColors:it,getLastPly:St,getParams:s.get,getResult:Dn,getResultNodeElement:vr,getTimestamp:Zn,hasResultNode:Ji,addThreeFoldMoveIcons:Do,isResultNodeSelected:ao,removeTimestamp:lr,scrollToSelectedNode:Nr,selectNode:Ci,selectNodeElement:qr,selectResultNode:eo,setResultNode:ho,setTimestampValue:$i,setParams:s.set,updateNodeColor:Bo,syncResultNodeDeselect:Ti};function u(yn){const Wn=document.createElement("div");return Wn.classList.add(Tr.DOM.ClassNames.Move),yn&&(Wn.setAttribute(Tr.DOM.Attributes.WholeMoveNumber,`${yn}`),Wn.innerHTML=`${yn}.`),t.appendChild(Wn),Wn}function f(yn){const{color:Wn,flags:Hr,ids:Hi,ply:Oo,san:Vi,wholeMoveNumber:Ni}=yn;if(!Wn||!Oo||!Vi||!Ni||Wt(Oo))return;let Qo=Yn(Ni);Qo||(Qo=u(Ni));const Yo=b({color:ps(Wn),moveId:Hi.move,isEPCapture:Hr?tp(Hr):!1,ply:Oo,san:Vi});if(!!Yo)return yn.ply&&Object.prototype.hasOwnProperty.call(yn,"customColor")&&hl(Yo,yn.customColor),Qo.appendChild(Yo)}function p({baseTime:yn,node:Wn,timestamp:Hr,title:Hi,value:Oo}){const{color:Vi,ply:Ni,wholeMoveNumber:Qo}=Wn;if(!Vi||!Ni||!Qo)return;const Yo=Yn(Qo);if(!Yo)return;const Ya=xr(Ni);Ya&&Yo.removeChild(Ya);const ks=G(Ni);return Hi&&ua(Hi,ks),Xo(Vi,ks),$i({baseTime:yn,ply:Ni,timestamp:Hr,value:Oo},ks),Yo.appendChild(ks),ks}function h(){At(),y()}function y(){At(),t.classList.add(Tr.DOM.ClassNames.List),r&&t.classList.add(Tr.DOM.ClassNames.ToggleTimestamps)}function b({color:yn,isEPCapture:Wn,isResultNode:Hr,moveId:Hi,ply:Oo,san:Vi}){const{EPIconInfoPath:Ni,moveListDisplayType:Qo,translations:Yo}=s.get(),Ya=document.createElement("div");if(Ya.setAttribute(Tr.DOM.Attributes.Ply,Oo.toString()),Ya.classList.add(yn,Tr.DOM.ClassNames.Node),Ya.innerHTML=sf({color:yn,moveListDisplayType:Qo,san:Vi,translations:Yo}),Wn){const{el:Ag,listener:r8}=Z0(Ni,Yo);Ya.appendChild(Ag),a.push({el:Ag,eventName:lo,handler:r8.handler})}return Ya.addEventListener(lo,ks),a.push({eventName:lo,handler:ks}),Ya;function ks(){t.dispatchEvent(new CustomEvent(Tr.Events.SelectNode,{detail:{ids:{move:Hi,line:0},ply:Oo,isResultNode:Hr}}))}}function S(yn,Wn){const Hr=document.createElement("span");return Hr.innerHTML=yn,Hr.classList.add(Wn,Tr.DOM.ClassNames.GameResult),Hr}function $(){const{translations:yn}=s.get(),Wn=document.createElement("div"),Hr=document.createElement("span");return Wn.appendChild(Hr),Wn.classList.add(no.Classes.MoveInfoIcon),Hr.classList.add(no.Classes.IconFont,no.Classes.ThreeFoldIcon),Wn.dataset.tooltip=yn[Ot.Translation.Tooltips.ThreeFoldRepetition](),Wn.addEventListener("mouseover",Hi),Wn;function Hi(){const Oo=Wn.getBoundingClientRect().y;Wn.style.setProperty("--tooltip-top",`${Oo}px`)}}function G(yn){const Wn=document.createElement("div");return Wn.setAttribute(Tr.DOM.Attributes.Ply,yn.toString()),Wn.setAttribute(Tr.DOM.Attributes.VMLElement,Tr.DOM.ElementTypes.Timestamp),Wn}function ce(yn){const Wn=yn?Wt(yn):hi();!Wn||Re(Wn)}function Re(yn){yn.classList.remove(Tr.DOM.ClassNames.Selected)}function At(){a.forEach(yn=>{t.removeEventListener(yn.eventName,yn.handler)}),t.classList.remove(Tr.DOM.ClassNames.List),t.innerHTML=""}function it(yn){const{colorsEnabled:Wn}=s.get();Wn!==yn&&(s.set({colorsEnabled:yn}),t.classList[yn?"add":"remove"](Tr.DOM.ClassNames.ColorsEnabled))}function St(){const yn=Tn();if(!yn.length)return;const Wn=un(yn[yn.length-1]);if(!!Wn)return Wn}function Kt(){const yn=t.style.getPropertyValue(Tr.DOM.CSSVariables.MaxMoveTimeTaken);return yn.length?parseFloat(yn):null}function Yn(yn){return t.querySelector(`[${Tr.DOM.Attributes.WholeMoveNumber}="${yn}"]`)}function hr(){return Array.from(t.querySelectorAll(`${$a(Tr.DOM.ClassNames.Move)}`))}function cr(yn){return yn.classList.contains(U.ColorsAsWords.Black)?U.ColorsAsNumbers.Black:U.ColorsAsNumbers.White}function un(yn){const Wn=yn.getAttribute(Tr.DOM.Attributes.Ply);return Wn?parseInt(Wn,10):null}function Wt(yn){return t.querySelector(`${$a(Tr.DOM.ClassNames.Node)}[${Tr.DOM.Attributes.Ply}="${yn}"]`)}function Tn(){return Array.from(t.querySelectorAll(`${$a(Tr.DOM.ClassNames.Node)}`))}function Dn(){const yn=vr();return yn?yn.innerText:U.Results.None}function vr(){return t.querySelector($a(Tr.DOM.ClassNames.GameResult))}function Zn(yn){const Wn=xr(yn);if(!Wn)return null;const Hr=Wn.getAttribute(Tr.DOM.Attributes.Time);return Hr?.length===0?null:parseFloat(Hr)}function xr(yn){return t.querySelector(`[${Tr.DOM.Attributes.VMLElement}="${Tr.DOM.ElementTypes.Timestamp}"][${Tr.DOM.Attributes.Ply}="${yn}"]`)}function ir(){const yn=t.style.getPropertyValue(Tr.DOM.CSSVariables.TimestampWidth);return yn.length?parseFloat(yn):null}function hi(){return t.querySelector($a(Tr.DOM.ClassNames.Selected))}function Ji(){return Boolean(t.querySelector($a(Tr.DOM.ClassNames.GameResult)))}function ao(){return i}function lr(yn){const Wn=xr(yn);!Wn||Wn.parentNode.removeChild(Wn)}function Nr(){const{scrollContainer:yn}=s.get(),Wn=hi(),Hr=yn||t;if(!Wn){Hr.scrollTop=0;return}Au({containerEl:Hr,moveListEl:t,nodeEl:Wn})}function qr(yn,Wn=!1){i=Wn;const Hr=hi();yn!==Hr&&(Hr&&Re(Hr),yn.classList.add(Tr.DOM.ClassNames.Selected))}function Ci(yn){const Wn=Wt(yn);!Wn||qr(Wn)}function Ti(){i=!1}function eo(){const yn=vr();yn&&(qr(yn,!0),t.dispatchEvent(new CustomEvent(Tr.Events.SelectResultNode)))}function Li(yn){if(yn===null){t.style.removeProperty(Tr.DOM.CSSVariables.MaxMoveTimeTaken);return}t.style.setProperty(Tr.DOM.CSSVariables.MaxMoveTimeTaken,yn.toString())}function ho(yn){const Wn=vr();if(Wn!==null){const Ni=Wn.parentNode;if(!Ni)return;Ni.removeChild(Wn),Ni.childNodes.length===0&&Ni.parentNode.removeChild(Ni)}if(yn===U.Results.None)return;const Hr=Tn().slice(-1)[0],Hi=!Hr||cr(Hr)===U.ColorsAsNumbers.Black?U.ColorsAsWords.White:U.ColorsAsWords.Black,Oo=Hi===U.ColorsAsWords.White?u():hr().slice(-1)[0];let Vi;if(n){const Ni=St()||2;Vi=b({color:Hi,isEPCapture:!1,moveId:Tn().length-1,ply:Ni,san:yn,isResultNode:!0}),Vi.classList.add(Hi,Tr.DOM.ClassNames.GameResult)}else Vi=S(yn,Hi);Oo.appendChild(Vi)}function Do(yn){const Wn=bu(yn,Tn());!Wn||Wn.length!==3||Wn.forEach(Hr=>{Hr.querySelector($a(no.Classes.MoveInfoIcon))||Hr.appendChild($())})}function Xo(yn,Wn){Wn.classList.add(ep(ps(yn)))}function ua(yn,Wn){Wn.title=yn}function $i({baseTime:yn,ply:Wn,value:Hr,timestamp:Hi},Oo){const Vi=Oo||xr(Wn);if(!Vi)return;const Ni=ir(),Qo=Kt();if(Vi.setAttribute(Tr.DOM.Attributes.Time,Hi.toString()),Vi.style.setProperty(Tr.DOM.CSSVariables.TimeValue,Hi.toString()),Vi.innerHTML=Hr,(!Ni||Hr.length*cf>Ni)&&Io(Hr.length),yn){const Yo=ml(Hi,Fa(yn));Vi.style.setProperty(Tr.DOM.CSSVariables.TimeBarWidth,`${Yo}px`),t.classList.add(Tr.DOM.ClassNames.WithBaseTime),Qo&&Li(null);return}t.classList.remove(Tr.DOM.ClassNames.WithBaseTime),(!Qo||Hi>Qo)&&Li(Hi)}function Io(yn){const Wn=yn*cf;t.style.setProperty(Tr.DOM.CSSVariables.TimestampWidth,`${Wn}px`)}function Bo(yn,Wn){const Hr=Wt(yn);!Hr||hl(Hr,Wn)}}const gl={[Ot.Translation.Prompt.AddComment]:()=>Ot.Translation.Prompt.AddComment,[Ot.Translation.Annotations.BadMove]:()=>Ot.Translation.Annotations.BadMove,[Ot.Translation.Annotations.BlackHasDecisiveAdvantage]:()=>Ot.Translation.Annotations.BlackHasDecisiveAdvantage,[Ot.Translation.Annotations.BlackHasModerateAdvantage]:()=>Ot.Translation.Annotations.BlackHasModerateAdvantage,[Ot.Translation.Annotations.BlackHasSlightAdvantage]:()=>Ot.Translation.Annotations.BlackHasSlightAdvantage,[Ot.Translation.Annotations.Blunder]:()=>Ot.Translation.Annotations.Blunder,[Ot.Translation.Actions.ClearAllAnalysis]:()=>Ot.Translation.Actions.ClearAllAnalysis,[Ot.Translation.Actions.DeleteCommentAfter]:()=>Ot.Translation.Actions.DeleteCommentAfter,[Ot.Translation.Actions.DeleteCommentBefore]:()=>Ot.Translation.Actions.DeleteCommentBefore,[Ot.Translation.Actions.DeleteLine]:()=>Ot.Translation.Actions.DeleteLine,[Ot.Translation.Actions.DeleteMove]:()=>Ot.Translation.Actions.DeleteMove,[Ot.Translation.Annotations.Drawish]:()=>Ot.Translation.Annotations.Drawish,[Ot.Translation.Annotations.DubiousMove]:()=>Ot.Translation.Annotations.DubiousMove,[Ot.Translation.Annotations.ExcellentMove]:()=>Ot.Translation.Annotations.ExcellentMove,[Ot.Translation.Tooltips.EnPassant]:()=>Ot.Translation.Tooltips.EnPassant,[Ot.Translation.Annotations.GoodMove]:()=>Ot.Translation.Annotations.GoodMove,[Ot.Translation.Actions.InsertCommentAfter]:()=>Ot.Translation.Actions.InsertCommentAfter,[Ot.Translation.Actions.InsertCommentBefore]:()=>Ot.Translation.Actions.InsertCommentBefore,[Ot.Translation.Actions.InsertContinuation]:()=>Ot.Translation.Actions.InsertContinuation,[Ot.Translation.Annotations.Miss]:()=>Ot.Translation.Annotations.Miss,[Ot.Translation.Actions.MoveVariationDown]:()=>Ot.Translation.Actions.MoveVariationDown,[Ot.Translation.Actions.MoveVariationUp]:()=>Ot.Translation.Actions.MoveVariationUp,[Ot.Translation.Annotations.Novelty]:()=>Ot.Translation.Annotations.Novelty,[Ot.Translation.Pieces.B]:()=>Ot.Translation.Pieces.B,[Ot.Translation.Pieces.K]:()=>Ot.Translation.Pieces.K,[Ot.Translation.Pieces.N]:()=>Ot.Translation.Pieces.N,[Ot.Translation.Pieces.P]:()=>Ot.Translation.Pieces.P,[Ot.Translation.Pieces.Q]:()=>Ot.Translation.Pieces.Q,[Ot.Translation.Pieces.R]:()=>Ot.Translation.Pieces.R,[Ot.Translation.Actions.Promote]:()=>Ot.Translation.Actions.Promote,[Ot.Translation.Actions.RemoveAnnotation]:()=>Ot.Translation.Actions.RemoveAnnotation,[Ot.Translation.Actions.RemoveBegin]:()=>Ot.Translation.Actions.RemoveBegin,[Ot.Translation.Actions.RemoveEnd]:()=>Ot.Translation.Actions.RemoveEnd,[Ot.Translation.Actions.RemoveEvaluationAnnotation]:()=>Ot.Translation.Actions.RemoveEvaluationAnnotation,[Ot.Translation.Actions.RemoveFocus]:()=>Ot.Translation.Actions.RemoveFocus,[Ot.Translation.Actions.SetBegin]:()=>Ot.Translation.Actions.SetBegin,[Ot.Translation.Actions.SetEnd]:()=>Ot.Translation.Actions.SetEnd,[Ot.Translation.Actions.SetFocus]:()=>Ot.Translation.Actions.SetFocus,[Ot.Translation.Annotations.SpeculativeMove]:()=>Ot.Translation.Annotations.SpeculativeMove,[Ot.Translation.Tooltips.ThreeFoldRepetition]:()=>Ot.Translation.Tooltips.ThreeFoldRepetition,[Ot.Translation.Annotations.PositionInZuqZwang]:()=>Ot.Translation.Annotations.PositionInZuqZwang,[Ot.Translation.Annotations.Unclear]:()=>Ot.Translation.Annotations.Unclear,[Ot.Translation.Annotations.WhiteHasDecisiveAdvantage]:()=>Ot.Translation.Annotations.WhiteHasDecisiveAdvantage,[Ot.Translation.Annotations.WhiteHasModerateAdvantage]:()=>Ot.Translation.Annotations.WhiteHasModerateAdvantage,[Ot.Translation.Annotations.WhiteHasSlightAdvantage]:()=>Ot.Translation.Annotations.WhiteHasSlightAdvantage,[Ot.Translation.Annotations.WithAttack]:()=>Ot.Translation.Annotations.WithAttack,[Ot.Translation.Annotations.WithCompensation]:()=>Ot.Translation.Annotations.WithCompensation,[Ot.Translation.Annotations.WithInitiative]:()=>Ot.Translation.Annotations.WithInitiative,[Ot.Translation.Plural.NumberOfDays]:e=>e===1?`${e} day`:`${e} days`,[Ot.Translation.Plural.NumberOfHours]:e=>e===1?`${e} hr`:`${e} hrs`,[Ot.Translation.Plural.NumberOfMinutes]:e=>e===1?`${e} min`:`${e} mins`};var Ev=`@charset "UTF-8";
[data-tooltip] {
  position: relative;
}
[data-tooltip] body.dark-mode:after, body.dark-mode [data-tooltip]:after {
  background: rgba(0, 0, 0, 0.7);
}
[data-tooltip]:after {
  opacity: 0;
  pointer-events: none;
  position: absolute;
  transition: all 0.16s ease-out 0.08s;
  z-index: 1;
  background: #26211b;
  border-radius: 2px;
  color: #ffffff;
  content: attr(data-tooltip);
  font-size: 1.4rem;
  font-weight: 600;
  max-width: 200px;
  padding: 5px 8px;
  text-align: center;
  white-space: nowrap;
}
[data-tooltip]:before {
  opacity: 0;
  pointer-events: none;
  position: absolute;
  transition: all 0.16s ease-out 0.08s;
  z-index: 1;
  border: 5px solid transparent;
  content: "";
  height: 0;
  width: 0;
}
[data-tooltip]:hover:before, [data-tooltip]:hover:after {
  opacity: 1;
}
[data-tooltip][data-tooltip-position=bottom]:after, [data-tooltip][data-tooltip-position=bottom]:before {
  left: 50%;
  top: 100%;
  transform: translate3d(-50%, -4px, 0);
}
[data-tooltip][data-tooltip-position=bottom]:after {
  margin-top: 10px;
}
[data-tooltip][data-tooltip-position=bottom]:before {
  border-bottom-color: #26211b;
}
[data-tooltip][data-tooltip-position=bottom]:before body.dark-mode, body.dark-mode [data-tooltip][data-tooltip-position=bottom]:before {
  border-bottom-color: rgba(0, 0, 0, 0.7);
}
[data-tooltip][data-tooltip-position=bottom]:hover:after, [data-tooltip][data-tooltip-position=bottom]:hover:before {
  transform: translate3d(-50%, 0, 0);
}
[data-tooltip][data-tooltip-position=left]:after, [data-tooltip][data-tooltip-position=left]:before {
  right: 100%;
  top: 50%;
  transform: translate3d(4px, -50%, 0);
}
[data-tooltip][data-tooltip-position=left]:after {
  margin-right: 10px;
}
[data-tooltip][data-tooltip-position=left]:before {
  border-left-color: #26211b;
}
[data-tooltip][data-tooltip-position=left]:before body.dark-mode, body.dark-mode [data-tooltip][data-tooltip-position=left]:before {
  border-left-color: rgba(0, 0, 0, 0.7);
}
[data-tooltip][data-tooltip-position=left]:hover:after, [data-tooltip][data-tooltip-position=left]:hover:before {
  transform: translate3d(0, -50%, 0);
}
[data-tooltip][data-tooltip-position=right]:after, [data-tooltip][data-tooltip-position=right]:before {
  left: 100%;
  top: 50%;
  transform: translate3d(-4px, -50%, 0);
}
[data-tooltip][data-tooltip-position=right]:after {
  margin-left: 10px;
}
[data-tooltip][data-tooltip-position=right]:before {
  border-right-color: #26211b;
}
[data-tooltip][data-tooltip-position=right]:before body.dark-mode, body.dark-mode [data-tooltip][data-tooltip-position=right]:before {
  border-right-color: rgba(0, 0, 0, 0.7);
}
[data-tooltip][data-tooltip-position=right]:hover:after, [data-tooltip][data-tooltip-position=right]:hover:before {
  transform: translate3d(0, -50%, 0);
}
[data-tooltip][data-tooltip-position=top]:after, [data-tooltip][data-tooltip-position=top]:before {
  bottom: 100%;
  left: 50%;
  transform: translate3d(-50%, 4px, 0);
}
[data-tooltip][data-tooltip-position=top]:after {
  margin-bottom: 10px;
}
[data-tooltip][data-tooltip-position=top]:before {
  border-top-color: #26211b;
}
[data-tooltip][data-tooltip-position=top]:before body.dark-mode, body.dark-mode [data-tooltip][data-tooltip-position=top]:before {
  border-top-color: rgba(0, 0, 0, 0.7);
}
[data-tooltip][data-tooltip-position=top]:hover:after, [data-tooltip][data-tooltip-position=top]:hover:before {
  transform: translate3d(-50%, 0, 0);
}
.horizontal-move-list .icon-font-chess:before,
.vertical-move-list .icon-font-chess:before {
  pointer-events: none;
}
.horizontal-move-list .icon-font-chess.knight-black:before,
.vertical-move-list .icon-font-chess.knight-black:before {
  content: "\xC7";
}
.horizontal-move-list .icon-font-chess.knight-white:before,
.vertical-move-list .icon-font-chess.knight-white:before {
  content: "\u0116";
}
.horizontal-move-list .icon-font-chess.bishop-black:before,
.vertical-move-list .icon-font-chess.bishop-black:before {
  content: "\u0102";
}
.horizontal-move-list .icon-font-chess.bishop-white:before,
.vertical-move-list .icon-font-chess.bishop-white:before {
  content: "\xC4";
}
.horizontal-move-list .icon-font-chess.queen-black:before,
.vertical-move-list .icon-font-chess.queen-black:before {
  content: "\u012E";
}
.horizontal-move-list .icon-font-chess.queen-white:before,
.vertical-move-list .icon-font-chess.queen-white:before {
  content: "\u0136";
}
.horizontal-move-list .icon-font-chess.king-black:before,
.vertical-move-list .icon-font-chess.king-black:before {
  content: "\u0100";
}
.horizontal-move-list .icon-font-chess.king-white:before,
.vertical-move-list .icon-font-chess.king-white:before {
  content: "\u0104";
}
.horizontal-move-list .icon-font-chess.rook-black:before,
.vertical-move-list .icon-font-chess.rook-black:before {
  content: "\u013D";
}
.horizontal-move-list .icon-font-chess.rook-white:before,
.vertical-move-list .icon-font-chess.rook-white:before {
  content: "\u013B";
}
.dark-mode .horizontal-move-list .icon-font-chess.knight-black:before,
.dark-mode .vertical-move-list .icon-font-chess.knight-black:before {
  content: "\u0116";
}
.dark-mode .horizontal-move-list .icon-font-chess.knight-white:before,
.dark-mode .vertical-move-list .icon-font-chess.knight-white:before {
  content: "\xC7";
}
.dark-mode .horizontal-move-list .icon-font-chess.bishop-black:before,
.dark-mode .vertical-move-list .icon-font-chess.bishop-black:before {
  content: "\xC4";
}
.dark-mode .horizontal-move-list .icon-font-chess.bishop-white:before,
.dark-mode .vertical-move-list .icon-font-chess.bishop-white:before {
  content: "\u0102";
}
.dark-mode .horizontal-move-list .icon-font-chess.queen-black:before,
.dark-mode .vertical-move-list .icon-font-chess.queen-black:before {
  content: "\u0136";
}
.dark-mode .horizontal-move-list .icon-font-chess.queen-white:before,
.dark-mode .vertical-move-list .icon-font-chess.queen-white:before {
  content: "\u012E";
}
.dark-mode .horizontal-move-list .icon-font-chess.king-black:before,
.dark-mode .vertical-move-list .icon-font-chess.king-black:before {
  content: "\u0104";
}
.dark-mode .horizontal-move-list .icon-font-chess.king-white:before,
.dark-mode .vertical-move-list .icon-font-chess.king-white:before {
  content: "\u0100";
}
.dark-mode .horizontal-move-list .icon-font-chess.rook-black:before,
.dark-mode .vertical-move-list .icon-font-chess.rook-black:before {
  content: "\u013B";
}
.dark-mode .horizontal-move-list .icon-font-chess.rook-white:before,
.dark-mode .vertical-move-list .icon-font-chess.rook-white:before {
  content: "\u013D";
}
:root {
  --nodeBackground: #fff35f;
  --nodeBorder: rgba(0, 0, 0, 0.05);
  --nodeColor: #26211b;
  --nodeColorSelected: #26211b;
  --nodeNumber: rgba(0, 0, 0, 0.7);
}
:global(.dark-mode) {
  --nodeNumber: rgba(255, 255, 255, 0.5);
  --nodeColor: rgba(255, 255, 255, 0.72);
  --nodeBackground: rgba(255, 255, 0, 0.2);
  --nodeBorder: rgba(255, 255, 0, 0.4);
  --nodeColorSelected: #ffffff;
}
.vertical-move-list {
  --timeBarMaxWidth: 65px;
  --timeMaxValue: 0;
  --whiteNodeSpace: 4rem;
  --blackNodeSpace: 12rem;
  overflow-x: hidden;
  overflow-y: auto;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.vertical-move-list body.dark-mode .move, body.dark-mode .vertical-move-list .move {
  color: rgba(255, 255, 255, 0.5);
}
.vertical-move-list body.dark-mode .move:nth-child(even), body.dark-mode .vertical-move-list .move:nth-child(even) {
  background-color: rgba(255, 255, 255, 0.02);
}
.vertical-move-list body.dark-mode .time-white:after, body.dark-mode .vertical-move-list .time-white:after {
  background-color: rgba(255, 255, 255, 0.8);
}
.vertical-move-list body.dark-mode .time-black:after, body.dark-mode .vertical-move-list .time-black:after {
  background-color: rgba(255, 255, 255, 0.2);
}
.vertical-move-list .move {
  box-sizing: border-box;
  color: #26211b;
  font-size: 13px;
  font-weight: 600;
  height: 30px;
  line-height: 30px;
  overflow: hidden;
  padding: 0 5px 0 15px;
  position: relative;
  width: 100%;
}
.vertical-move-list .move:nth-child(even) {
  background-color: #f8f8f8;
}
.vertical-move-list .move .node {
  font-weight: 700;
}
.vertical-move-list .move .node .icon-font-chess {
  display: inline-block;
  font-size: 2.3rem;
  margin-right: 0.2rem;
  margin-top: -1.3rem;
}
.vertical-move-list .move .node .move-info-icon {
  --tooltip-top: 1px;
  cursor: pointer;
  display: inline-block;
  margin-left: 5px;
  margin-top: 0;
  vertical-align: top;
}
.vertical-move-list .move .node .move-info-icon:before {
  display: contents;
}
.vertical-move-list .move .node .move-info-icon[data-tooltip]:after {
  margin-top: 24px;
  position: fixed;
  top: var(--tooltip-top);
  transform: translateX(-50%);
  transition: opacity 0.16s;
  white-space: initial;
  z-index: 1000;
}
.vertical-move-list .move .node .move-info-icon[data-tooltip][data-tooltip-position=top]:after {
  bottom: initial;
  left: initial;
  margin-top: 0;
  right: initial;
  top: initial;
  transform: translate3d(-50%, -100%, 0);
}
.vertical-move-list .move .node .move-info-icon .circle-info:before {
  content: ")";
}
.vertical-move-list .move .node .move-info-icon .redo:before {
  content: "\u1F22";
}
.vertical-move-list [data-ply]:not(.selected) {
  cursor: pointer;
}
.vertical-move-list .white,
.vertical-move-list .black {
  height: 24px;
  line-height: 24px;
  min-width: 40px;
  padding: 0 4px;
  position: absolute;
  top: 3px;
}
.vertical-move-list .white body.dark-mode, body.dark-mode .vertical-move-list .white,
.vertical-move-list .black body.dark-mode,
body.dark-mode .vertical-move-list .black {
  color: rgba(255, 255, 255, 0.72);
}
.vertical-move-list .white.selected,
.vertical-move-list .black.selected {
  background-color: var(--nodeBackground);
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-color: var(--nodeBorder);
  border-radius: 2px;
  color: var(--nodeColorSelected);
  cursor: default;
}
.vertical-move-list .white.selected body.dark-mode, body.dark-mode .vertical-move-list .white.selected,
.vertical-move-list .black.selected body.dark-mode,
body.dark-mode .vertical-move-list .black.selected {
  background-color: rgba(255, 255, 255, 0.2);
  border-color: rgba(255, 255, 255, 0.1);
}
.vertical-move-list.movelist-colored .node {
  color: var(--nodeCustomColor, --nodeColor);
}
.vertical-move-list.movelist-colored .node body.dark-mode, body.dark-mode .vertical-move-list.movelist-colored .node {
  color: var(--nodeCustomColor, rgba(255, 255, 255, 0.65));
}
.vertical-move-list .white {
  left: var(--whiteNodeSpace);
}
.vertical-move-list .black {
  left: var(--blackNodeSpace);
}
.vertical-move-list .time-white,
.vertical-move-list .time-black {
  font-size: 10px;
  height: 10px;
  line-height: 10px;
  position: absolute;
  right: 5px;
  width: var(--timestampWidth);
}
.vertical-move-list .time-white:after,
.vertical-move-list .time-black:after {
  background-clip: content-box;
  border-radius: 2px;
  box-sizing: border-box;
  content: "";
  height: 10px;
  left: -3px;
  max-width: var(--timeBarLimit);
  min-width: 2px;
  position: absolute;
  transform: translateX(-100%);
  width: calc(var(--timeValue) / var(--timeMaxValue) * var(--timeBarMaxWidth));
}
.vertical-move-list.timestamps-with-base-time .time-white:after,
.vertical-move-list.timestamps-with-base-time .time-black:after {
  width: var(--timeBarWidth);
}
.vertical-move-list .time-white {
  top: 4px;
}
.vertical-move-list .time-white:after {
  background-color: rgba(0, 0, 0, 0.2);
  top: 0;
}
.vertical-move-list .time-black {
  bottom: 3px;
}
.vertical-move-list .time-black:after {
  background-color: rgba(0, 0, 0, 0.8);
  bottom: -1px;
}
.toggle-timestamps > .move .time-white,
.toggle-timestamps > .move .time-black {
  color: transparent;
  width: 0;
}
.toggle-timestamps > .move:hover .time-white,
.toggle-timestamps > .move:hover .time-black {
  color: #8b8987;
  width: auto;
}
.toggle-timestamps > .move:hover .time-white body.dark-mode, body.dark-mode .toggle-timestamps > .move:hover .time-white,
.toggle-timestamps > .move:hover .time-black body.dark-mode,
body.dark-mode .toggle-timestamps > .move:hover .time-black {
  color: rgba(255, 255, 255, 0.4);
}
.toggle-timestamps > .move:hover .time-white:after,
.toggle-timestamps > .move:hover .time-black:after {
  visibility: hidden;
}`;function df(e){const t=Math.ceil(e/10);let n=Math.floor(t/(3600*24)),r=Math.floor(t%(3600*24)/3600),i=Math.ceil(t%3600/60);return i===60&&(i=0,r+=1),r===24&&(r=0,n+=1),{days:n,hours:r,minutes:i}}function Cu(e,t){const{days:n,hours:r,minutes:i}=df(e),a={days:r>0||i>0?", ":"",hours:i>0?", ":""},s=n>0?`${t[Ot.Translation.Plural.NumberOfDays](n)}${a.days}`:"",u=r>0?`${t[Ot.Translation.Plural.NumberOfHours](r)}${a.hours}`:"",f=i>0?`${t[Ot.Translation.Plural.NumberOfMinutes](i)}`:"";return`${s}${u}${f}`}function Eu(e,t){const{days:n,hours:r,minutes:i}=df(e);return n?n>0?`${t[Ot.Translation.Plural.NumberOfDays](n)}`:"":r?r>0?`${t[Ot.Translation.Plural.NumberOfHours](r)}`:"":i>0?`${t[Ot.Translation.Plural.NumberOfMinutes](i)}`:""}function pf(e){const t=Math.floor(e/600),n=((e-t*600)/10).toFixed(1);if(t===0)return n;const r=`0${n}`.substr(-4);return`${t}:${r}`}function Fs({formatTimestampAsHumanReadable:e,timestamp:t,translations:n}){return{title:e?Cu(t,n):void 0,value:e?Eu(t,n):pf(t)}}function wu(e){var t;return(t=e.commands)!=null&&t.timestamp?parseInt(e.commands.timestamp,10):null}function hf({colorsEnabled:e=!1,el:t,epIconInfoPath:n=Ut.enPassant,getTimeControl:r,formatTimestampAsHumanReadable:i=!1,moveListDisplayType:a=Xn.MoveListDisplayTypes.Text,resultNodeIsSelectable:s=!1,scrollContainer:u,showResultNode:f=!0,showTimestamps:p=!0,toggleTimestamps:h=!1,translations:y=gl}){let b=r;const S=ff({colorsEnabled:e,el:t,EPIconInfoPath:n,moveListDisplayType:a,resultNodeIsSelectable:s,scrollContainer:u,toggleTimestamps:h,translations:y});return S.createList(),{addNode:$,addThreeFoldIcons:hr,create:S.createList,deselectNode:S.deselectNode,destroy:S.destroyList,enableColors:S.enableColors,handleSelectResultNode:Re,isResultNodeSelected:S.isResultNodeSelected,loadNodes:At,selectNode:it,selectResultNode:St,setMoveListDisplayType:Kt,setResult:Yn,setGetTimeControl:cr,updateNodeColor:S.updateNodeColor,updateTimestamp:un,syncResultNodeDeselect:S.syncResultNodeDeselect};function $(Wt){const Tn=S.getResult();Tn!==U.Results.None&&S.setResultNode(U.Results.None),S.addNode(Wt),G(Wt),Tn!==U.Results.None&&S.setResultNode(Tn)}function G(Wt){const Tn=wu(Wt);if(!Tn||!p)return;const{title:Dn,value:vr}=Fs({formatTimestampAsHumanReadable:i,timestamp:Tn,translations:y});S.addTimestamp({baseTime:ce(),node:Wt,timestamp:Tn,title:Dn,value:vr})}function ce(){var Wt;return(Wt=b?.())==null?void 0:Wt.baseTime}function Re(Wt){Wt.isResultNode?St():S.selectNode(Wt.ply)}function At(Wt,Tn){const Dn=S.getResult();S.clearList(),Wt.forEach(Zn=>{S.addNode(Zn),G(Zn)}),Dn!==U.Results.None&&S.setResultNode(Dn);const vr=Tn??S.getLastPly();vr!==void 0&&S.selectNode(vr),S.scrollToSelectedNode()}function it(Wt){Wt===void 0?S.deselectNode():typeof Wt=="number"?S.selectNode(Wt):S.selectNodeElement(Wt),S.scrollToSelectedNode()}function St(){s&&S.selectResultNode()}function Kt(Wt){S.setParams({moveListDisplayType:Wt})}function Yn(Wt){if(!f){S.getResult()!==U.Results.None&&S.setResultNode(U.Results.None);return}S.setResultNode(Wt)}function hr(Wt){S.addThreeFoldMoveIcons(Wt)}function cr(Wt){b=Wt}function un(Wt){const{ply:Tn}=Wt,Dn=wu(Wt);if(!Tn)return;if(Dn===null)return S.removeTimestamp(Tn);const{title:vr,value:Zn}=Fs({formatTimestampAsHumanReadable:i,timestamp:Dn,translations:y}),xr=S.getTimestamp(Tn);xr?xr!==Dn&&S.setTimestampValue({baseTime:ce(),ply:Tn,timestamp:Dn,value:Zn}):S.addTimestamp({baseTime:ce(),node:Wt,timestamp:Dn,title:vr,value:Zn})}}function np({api:e,namespace:t}){const n=e.moveBackward;return function(){e[t].getMoveList().isResultNodeSelected()?e.selectLineEnd(0):n()}}function Pu({api:e,resultNodeIsSelectable:t,namespace:n}){const r=e.moveForward;return function(...a){var s;if(!t){r(...a);return}const u=e[n].getMoveList(),f=e.getFEN(),p=(s=e.getLastMove())==null?void 0:s.fen;u.isResultNodeSelected()||(p===f?u.selectResultNode():r(...a))}}function Su(e){return function(n,r,i){return vf(e,n,r,i)}}function vf(e,t,n,r=!1,i=rt.Plugin.Name){var a;const{api:s,game:u,respond:f}=e,p=u.moveDetails();u.selectPosition(n,t);const h=u.moveDetails(),y=s.getNodeDiffData(p,h),b=(a=s[i])==null?void 0:a.isResultNodeSelected(),S=!r&&b;if(y.plyDiff===0&&y.lineDiff===0&&!S)return null;y.lineDiff!==0&&(y.pieces=s.getPieces());const $=f(k.APIEvents.SelectNode,y);return s.siblingGame&&(u.selectBughouseMove(u.moveDetails().bughouseOrder),s.siblingGame.reload()),$}function rp({context:e,namespace:t}){return function(r,i,a){return vf(e,r,i,a,t)}}function ip({resultNodeIsSelectable:e,namespace:t}){return{moveBackward:({api:n})=>np({api:n,namespace:t}),moveForward:({api:n})=>Pu({api:n,resultNodeIsSelectable:e,namespace:t}),selectNode:n=>rp({context:n,namespace:t})}}var ra;(function(e){(function(t){t.AddMove="AddMove",t.AnalysisEnd="AnalysisEnd",t.AnalysisStart="AnalysisStart"})(e.APIEvents||(e.APIEvents={})),function(t){t.Name="observing"}(e.Plugin||(e.Plugin={}))})(ra||(ra={}));function _l({colorsEnabled:e=!1,displayTimeInClockFormat:t=!0,el:n,emitter:r=(0,A.a)(),formatTimestampAsHumanReadable:i=!t,loadLineOnCreate:a=!0,namespace:s=rt.Plugin.Name,resultNodeIsSelectable:u=!1,scrollContainer:f,showResultNode:p=!0,showTimestamps:h=!0,toggleTimestamps:y=!1,translations:b=gl}){let S=!0,$;const G=q0(),ce=pl(!1),Re=hf({el:n,formatTimestampAsHumanReadable:i,resultNodeIsSelectable:u,getTimeControl:()=>null,scrollContainer:f||n,showResultNode:p,showTimestamps:h,toggleTimestamps:y,translations:b}),At=K0(Re);return{api:un=>he(Se({activate:()=>{hr(!0),Yn(pr(k.APIEvents.Load),un.api)},deactivate:()=>hr(!1)},r),{getMoveList:()=>Re,isActive:()=>Boolean(S),isReady:()=>G.isReady(),waitForVMLReady:G.waitForReady,isResultNodeSelected:()=>Re.isResultNodeSelected()}),apiOverrides:ip({resultNodeIsSelectable:u,namespace:s}),create:it,destroy:St,match:[{condition:cr,handler:(un,Wt)=>Yn(un,Wt.api)},{condition:at(k.OptionsEvents.Update),handler:un=>{"enabled"in un.data&&hr(un.data.enabled)}},{condition:at(k.APIEvents.SelectLineStart),handler:Re.syncResultNodeDeselect}],name:s};function it(un){var Wt;const{api:Tn}=un;if(Re.setGetTimeControl(Tn.timeControl.get),Re.create(),$=Kt(Tn),e&&Re.enableColors(e),a){const Dn=Tn.getLine(0),vr=(Wt=Tn.getSelectedNode())==null?void 0:Wt.ply,Zn=Tn.getOptions().moveListDisplayType;Zn===Xn.MoveListDisplayTypes.Figurine&&Re.setMoveListDisplayType(Zn),Dn?.length&&Re.loadNodes(Dn,vr),p&&(Re.setResult(Tn.getResult()),Tn.isAtEndOfLine()&&Re.selectResultNode(),Tn.getContext().game.inThreefoldRepetition()&&Re.addThreeFoldIcons(Dn))}G.ready(Re),r.emit(rt.Events.Ready,Re),S=Tn.getOptions().enabled}function St(){$?.(),Re&&Re.destroy()}function Kt(un){return n.addEventListener(Tr.Events.SelectNode,Wt),u&&n.addEventListener(Tr.Events.SelectResultNode,Tn),function(){n.removeEventListener(Tr.Events.SelectNode,Wt),u&&n.removeEventListener(Tr.Events.SelectResultNode,Tn)};function Wt({detail:Dn}){if(!S)return;const{ids:vr}=Dn;un.selectNode(vr.line,vr.move,Dn.isResultNode),u&&un.isAtEndOfLine()&&(ce.flush(),Re.handleSelectResultNode(Dn))}function Tn(){un.getContext().respond(rt.Events.ResultNodeSelected)}}function Yn(un,Wt){var Tn;const Dn=Wt.getRelativeNode();ce.add(At,{context:Wt.getContext(),event:un,line:(Tn=Wt.getLine)==null?void 0:Tn.call(Wt,0),selectedNode:Eo(Dn)?Dn:void 0,queue:ce}),requestAnimationFrame(()=>{requestAnimationFrame(function(){ce.flush(),r.emit(rt.Events.Updated,Re)})})}function hr(un){S=un}function cr(un){return S&&on([..._o,ra.APIEvents.AddMove,k.APIEvents.LineUpdated,k.APIEvents.NodeUpdated,k.APIEvents.DeletePosition,k.APIEvents.UpdatePGNHeaders,k.InstanceEvents.Create,k.InstanceEvents.ModeChanged,k.OptionsEvents.Update])(un)}}var Fr;(function(e){(function(t){t.GameResult="game-result",t.Moves="moves"})(e.Placeholders||(e.Placeholders={})),function(t){t.Component="horizontal-move-list",t.MainLine="main",t.Variation="variation"}(e.ClassNames||(e.ClassNames={})),e.ComponentIdentifier="data-id",function(t){t.Copy="copy",t.UpdateNodeLimit="UpdateNodeLimit"}(e.Events||(e.Events={})),function(t){t.Before="(",t.After=")"}(e.VariationParenthesis||(e.VariationParenthesis={})),function(t){t.Begin="begin",t.Focus="focus",t.End="end"}(e.NodeLimitTypes||(e.NodeLimitTypes={}))})(Fr||(Fr={}));var Fi;(function(e){e.EndOfLineSelected="EndOfLineSelected",e.MiddleOfLineSelected="MiddleOfLineSelected",e.StartingPosition="StartingPosition"})(Fi||(Fi={}));function mf(e,t){return!e||Ao(e)?Fi.StartingPosition:e.ids.move===Object.keys(t[e.ids.line]).length-1?Fi.EndOfLineSelected:Fi.MiddleOfLineSelected}function hs({node:e,lines:t}){return mf(e,t)}function op(){return{[k.APIEvents.SelectNode]:hs,[k.APIEvents.Move]:function({component:t,event:n}){const{api:r,dom:i}=t;return r.getMoveNode({line:n.ids.line,move:n.ids.move})?(r.selectNode({line:n.ids.line,move:n.ids.move}),Fi.MiddleOfLineSelected):n.ids.line!==0?(i.insertVariation({node:n}),Fi.EndOfLineSelected):(i.insertNode({node:n}),Fi.EndOfLineSelected)}}}function Tu(){return{[k.APIEvents.SelectNode]:hs,[k.APIEvents.Move]:function({component:t,event:n}){const{api:r,dom:i}=t;return i.insertNode({node:n,nodeToInsertAfter:r.getSelectedNode()}),Fi.EndOfLineSelected}}}function Mu(){return{[k.APIEvents.SelectNode]:hs,[k.APIEvents.Move]:function({component:t,event:n}){const{api:r,dom:i}=t;return r.getMoveNode({line:n.ids.line,move:n.ids.move})?(r.selectNode({line:n.ids.line,move:n.ids.move}),Fi.MiddleOfLineSelected):(i.insertVariation({node:n}),Fi.EndOfLineSelected)}}}function ap(){return{initialState:Fi.StartingPosition,states:{[Fi.StartingPosition]:op(),[Fi.EndOfLineSelected]:Tu(),[Fi.MiddleOfLineSelected]:Mu()}}}function sp(){return(0,A.c)(ap())}function lp(e,t){const n=e.find(r=>r[0](t));if(n)return n[1](t)}const up={condition:cp,handler:fp};function cp({event:e}){return function(){return e.type===k.APIEvents.AddMove}}function fp({context:e,event:t}){const{moveList:n}=e,{listMove:r}=t.data;if(!r?.ids)return;const i=n.api.getMoveNode({line:0,move:r.ids.move-1});n.dom.insertNode({node:r,nodeToInsertAfter:i})}const dp={condition:pp,handler:hp};function pp({event:e}){return function(){return e.type===k.APIEvents.CreateContinuation}}function hp({context:e,event:t,selectedNode:n}){const{moveList:r,methods:{selectCurrentPosition:i}}=e;if(r.dom.insertVariation({node:t.data.node}),r.api.getMoveNode(t.data.node.ids)){r.api.selectNode(t.data.node.ids);return}i(n)}const vp={condition:mp,handler:gp};function mp({event:e}){return function(){return k.APIEvents.UpdatePGNHeaders===e.type&&e.data.Result}}function gp({context:e,coreContext:t}){const{moveList:n}=e;n.dom.setResultNode(t.api.getResult())}var Ho;(function(e){(function(t){t.FocusOut="comment-field-focus-out",t.CommentChanged="comment-has-changed"})(e.Events||(e.Events={})),function(t){t.Component="editable-comment"}(e.Classes||(e.Classes={})),function(t){t[t.CommentUpdateDelay=500]="CommentUpdateDelay"}(e.Constants||(e.Constants={}))})(Ho||(Ho={}));function gf(e){return Boolean(e.getElement().querySelector((0,A.t)(Ho.Classes.Component)))}const vs={condition:_f,handler:_a};function _f({event:e}){return function(){return e.type===k.APIEvents.LineCommentUpdated}}function _a({context:e,event:t}){const{moveList:n}=e,{data:r}=t;gf(n.dom)||n.dom.updateLineComponent(r.lineId,{initComment:r.comment})}const $s={condition:Ha,handler:_p};function Ha({event:e}){return function(){return[k.APIEvents.CreateGame,k.APIEvents.CreateContinuation,k.APIEvents.DeletePosition,k.APIEvents.Load,k.APIEvents.MoveVariation,k.APIEvents.PromoteVariation,k.APIEvents.ResetToMainLine].includes(e.type)||e.data.linesReordered}}function _p({context:e,coreContext:t}){const{moveList:n,methods:{destroyContextMenu:r},queue:i}=e,{api:a}=t;r(),i.flush(),n.dom.load(),n.dom.setResultNode(a.getResult())}const yp={condition:bp,handler:Ap};function bp({event:e}){return function(){return e.type===k.APIEvents.Move}}function Ap({context:e,event:t,selectedNode:n}){const{moveList:r,stateMachine:i,methods:{selectCurrentPosition:a}}=e;if(r.api.getMoveNode(t.data.move.ids)){r.api.selectNode(t.data.move.ids);return}i.transition(k.APIEvents.Move,{component:r,event:t.data.move,selectedNode:n}),a(n)}const xu={condition:Cp,handler:Ep};function Cp({event:e}){return function(){return e.type===k.APIEvents.NodeUpdated}}function Ep({context:e,event:t}){const{moveList:n}=e,{data:r}=t;gf(n.dom)||!r.ids||n.dom.updateMoveNodeComponent(r.ids,r.changes)}const yf={condition:wp,handler:Hs};function wp({event:e}){return function(){return[k.APIEvents.ResetToMainLine].includes(e.type)}}function Hs({context:e}){const{moveList:t}=e;t.dom.load()}const Pp={condition:bf,handler:Af};function bf({event:e}){return function(){return e.type===k.OptionsEvents.Update}}function Af({coreContext:e,context:t,event:n}){const{el:r,moveList:i,methods:{destroyContextMenu:a}}=t,s=e.api.getOptions();i.api.setOptions(n.data),s.test&&Ar(r,{[Rn.Editable]:n.data.moveListContextMenuEnabled}),n.data.moveListContextMenuEnabled===!1&&a()}const Cf={condition:Sp,handler:Ef};function Sp({event:e}){return function(){return e.type===k.APIEvents.MoveForward||e.type===k.APIEvents.MoveBackward||e.type===k.APIEvents.SelectLineEnd||e.type===k.APIEvents.SelectLineStart||e.type===k.APIEvents.SelectNode||e.type===k.APIEvents.ResetToMainLine}}function Ef({context:e,selectedNode:t}){const{methods:{selectCurrentPosition:n}}=e;n(t)}var wv=`@charset "UTF-8";
.horizontal-move-list .icon-font-chess:before,
.vertical-move-list .icon-font-chess:before {
  pointer-events: none;
}
.horizontal-move-list .icon-font-chess.knight-black:before,
.vertical-move-list .icon-font-chess.knight-black:before {
  content: "\xC7";
}
.horizontal-move-list .icon-font-chess.knight-white:before,
.vertical-move-list .icon-font-chess.knight-white:before {
  content: "\u0116";
}
.horizontal-move-list .icon-font-chess.bishop-black:before,
.vertical-move-list .icon-font-chess.bishop-black:before {
  content: "\u0102";
}
.horizontal-move-list .icon-font-chess.bishop-white:before,
.vertical-move-list .icon-font-chess.bishop-white:before {
  content: "\xC4";
}
.horizontal-move-list .icon-font-chess.queen-black:before,
.vertical-move-list .icon-font-chess.queen-black:before {
  content: "\u012E";
}
.horizontal-move-list .icon-font-chess.queen-white:before,
.vertical-move-list .icon-font-chess.queen-white:before {
  content: "\u0136";
}
.horizontal-move-list .icon-font-chess.king-black:before,
.vertical-move-list .icon-font-chess.king-black:before {
  content: "\u0100";
}
.horizontal-move-list .icon-font-chess.king-white:before,
.vertical-move-list .icon-font-chess.king-white:before {
  content: "\u0104";
}
.horizontal-move-list .icon-font-chess.rook-black:before,
.vertical-move-list .icon-font-chess.rook-black:before {
  content: "\u013D";
}
.horizontal-move-list .icon-font-chess.rook-white:before,
.vertical-move-list .icon-font-chess.rook-white:before {
  content: "\u013B";
}
.dark-mode .horizontal-move-list .icon-font-chess.knight-black:before,
.dark-mode .vertical-move-list .icon-font-chess.knight-black:before {
  content: "\u0116";
}
.dark-mode .horizontal-move-list .icon-font-chess.knight-white:before,
.dark-mode .vertical-move-list .icon-font-chess.knight-white:before {
  content: "\xC7";
}
.dark-mode .horizontal-move-list .icon-font-chess.bishop-black:before,
.dark-mode .vertical-move-list .icon-font-chess.bishop-black:before {
  content: "\xC4";
}
.dark-mode .horizontal-move-list .icon-font-chess.bishop-white:before,
.dark-mode .vertical-move-list .icon-font-chess.bishop-white:before {
  content: "\u0102";
}
.dark-mode .horizontal-move-list .icon-font-chess.queen-black:before,
.dark-mode .vertical-move-list .icon-font-chess.queen-black:before {
  content: "\u0136";
}
.dark-mode .horizontal-move-list .icon-font-chess.queen-white:before,
.dark-mode .vertical-move-list .icon-font-chess.queen-white:before {
  content: "\u012E";
}
.dark-mode .horizontal-move-list .icon-font-chess.king-black:before,
.dark-mode .vertical-move-list .icon-font-chess.king-black:before {
  content: "\u0104";
}
.dark-mode .horizontal-move-list .icon-font-chess.king-white:before,
.dark-mode .vertical-move-list .icon-font-chess.king-white:before {
  content: "\u0100";
}
.dark-mode .horizontal-move-list .icon-font-chess.rook-black:before,
.dark-mode .vertical-move-list .icon-font-chess.rook-black:before {
  content: "\u013B";
}
.dark-mode .horizontal-move-list .icon-font-chess.rook-white:before,
.dark-mode .vertical-move-list .icon-font-chess.rook-white:before {
  content: "\u013D";
}
.horizontal-move-list {
  display: block;
  font-size: 1.3rem;
  min-width: 223px;
  overflow-x: hidden;
  overflow-y: auto;
  padding: 10px 15px;
}
.horizontal-move-list .comment {
  color: #0381b8;
}
.horizontal-move-list .comment body.dark-mode, body.dark-mode .horizontal-move-list .comment {
  color: #52b1dc;
}
.horizontal-move-list .game-result-node {
  color: var(--nodeColor);
  margin-left: 5px;
}
.horizontal-move-list .diagram-begin, .horizontal-move-list .diagram-end {
  padding-left: 3px;
}
.variation.main {
  background-color: #f1f1f1;
  display: block;
  margin: 7px -15px;
  padding: 7px 15px;
}
.variation.main body.dark-mode, body.dark-mode .variation.main {
  background-color: rgba(0, 0, 0, 0.1);
}
.variation.main + .move-node .move-number {
  /**
   * To prevent !important usage and extra DOM modification,
   * this rule should contain indent opposite to the
   * \`.move-number\` \`margin-left\` value
   */
  display: inline-block;
  text-indent: -4px;
}
.variation .variation {
  margin-left: 4px;
}
.variation:before {
  color: rgba(0, 0, 0, 0.7);
  content: "(";
}
.variation:after {
  color: rgba(0, 0, 0, 0.7);
  content: ")";
  position: relative;
  z-index: 2;
}
.variation body.dark-mode:before, .variation body.dark-mode:after, body.dark-mode .variation:before, body.dark-mode .variation:after {
  color: rgba(255, 255, 255, 0.5);
}`,Hn;(function(e){(function(t){t.ClearAnalysis="ClearAnalysis",t.DeleteComment="DeleteComment",t.DeleteCommentBefore="DeleteCommentBefore",t.DeleteMove="DeleteMove",t.DeleteVariation="DeleteVariation",t.InsertComment="InsertComment",t.InsertCommentBefore="InsertCommentBefore",t.InsertContinuation="InsertContinuation",t.MoveVariationDown="MoveVariationDown",t.MoveVariationUp="MoveVariationUp",t.PromoteVariation="PromoteVariation",t.RemoveAnnotation="RemoveAnnotation",t.RemoveBegin="RemoveBegin",t.RemoveEnd="RemoveEnd",t.RemoveAdditionalAnnotation="RemoveAdditionalAnnotation",t.RemoveFocus="RemoveFocus",t.SetBegin="SetBegin",t.SetEnd="SetEnd",t.SetFocus="SetFocus"})(e.Actions||(e.Actions={})),function(t){t.AddAnnotation="AddAnnotation",t.AddAdditionalAnnotation="AddAdditionalAnnotation"}(e.AnnotationActions||(e.AnnotationActions={})),function(t){t.Actions="actions",t.Translations="translations"}(e.Keys||(e.Keys={})),function(t){t.ActionClicked="action-clicked",t.AnnotationClicked="annotation-clicked",t.Close="close-context-menu"}(e.Events||(e.Events={})),function(t){t.Name="contextMenu"}(e.Plugin||(e.Plugin={}))})(Hn||(Hn={}));var Uo;(function(e){(function(t){t.ActionName="action-name",t.Annotation="annotation",t.AnnotationsContainer="annotations-container",t.Component="move-node-context-menu",t.Divider="divider"})(e.Classes||(e.Classes={}))})(Uo||(Uo={}));var yi;(function(e){(function(t){t.Annotation="annotation",t.CustomColor="customColor",t.id="id",t.MoveNumber="moveNumber",t.San="san",t.Selected="selected"})(e.Keys||(e.Keys={})),function(t){t.Annotation="annotation",t.CustomColor="customColor",t.MoveNumber="moveNumber",t.San="san"}(e.TouchableKeys||(e.TouchableKeys={}))})(yi||(yi={}));var fi;(function(e){(function(t){t.Comment="comment",t.GameResultNode="game-result-node",t.IconFont="icon-font-chess",t.MoveNode="move-node",t.MoveNumber="move-number",t.MoveText="move-text",t.Selected="selected",t.StaticComment="static-comment"})(e.Classes||(e.Classes={})),function(t){t[t.TouchDelay=500]="TouchDelay"}(e.Constants||(e.Constants={})),function(t){t.Click="click",t.OpenContextMenu="contextmenu"}(e.Events||(e.Events={}))})(fi||(fi={}));class di extends Error{constructor({code:t,message:n,data:r}){super(n),this.code=t,this.data=r,this.message=n,this.name="ChessError"}}var ri;(function(e){e.BadData="Bad Data",e.BeforeStateHooksConflict="Before State hooks conflict",e.DOMDoesNotMatchJCE="DOM Does Not Match JCE",e.ElementAlreadyExists="Element Already Exists",e.ElementNotFound="Element Not Found",e.IllegalJCECall="Illegal JCE Call",e.IncorrectMode="Incorrect Mode",e.InvalidStateMachine="Invalid State Machine",e.MissingPluginDependency="Missing Plugin Dependency"})(ri||(ri={}));function ku(){return{action:Hn.Actions.ClearAnalysis,handler:e,isVisible(){return!0},name:Ot.Translation.Actions.ClearAllAnalysis};function e(t,{context:{game:n},event:r,moveList:i}){n.hml.contextMenu.requestConfirmation({action:a,data:{event:r},text:"Are you sure you want to clear all analysis?",type:Hn.Actions.ClearAnalysis});function a(){const s=Object.keys(i.api.getNodes()),u=n.getLine(0);if(!u)return;const f={};if(s.length>1)for(let p=s.length-1;p>0;p--){const h=n.getLine(p);if(!h)return;i.dom.removeLine(h),h.parentId===0&&(f[h.atMoveNode]=!0)}Object.keys(i.api.getComments()).forEach(p=>{i.api.getComments()[p].destroy()}),n.resetToMainLine(),u.forEach(p=>{var h,y;const b=[];let S=!1;if(f[p.ids.move]&&b.push(yi.TouchableKeys.MoveNumber),(p.annotation||p.additionalAnnotation)&&b.push(yi.TouchableKeys.Annotation),p.comment&&p.color===U.ColorsAsNumbers.White&&(S=!0),n.updateNode(p.ids,{additionalAnnotation:void 0,annotation:"",comment:void 0}),(h=t.commands)==null||delete h.href,(y=t.commands)==null||delete y.text,Object.keys(b).length>0||S){const $=i.api.getMoveNode(p.ids);if(!$)throw new di({code:ri.ElementNotFound,data:t,message:"No move node found."});b.forEach(G=>{$.touch(G)}),$.touchNextNode()}}),u.initComment&&n.updateLineComment(void 0,u.id)}}}function Iu(){return{action:Hn.Actions.DeleteComment,handler:t,isVisible:e,name:Ot.Translation.Actions.DeleteCommentAfter};function e({node:n}){return typeof n.comment=="string"}function t(n,{context:{game:r},moveList:i,moveNodeComponent:a}){r.updateNode(n.ids,{comment:void 0}),i.dom.removeComment(n),a.touchNextNode()}}function Tp(){return{action:Hn.Actions.DeleteCommentBefore,handler:t,isVisible:e,name:Ot.Translation.Actions.DeleteCommentBefore};function e({api:n,node:r}){if(r.ids.move===0){const a=n.getLine(r.ids.line);return Boolean(a&&a.initComment)}const i=n.getNodeByIds(r.previous);return Eo(i)&&Boolean(i.comment)}function t(n,{context:{game:r},moveList:i,moveNodeComponent:a}){let s=n;const u=r.getLine(n.ids.line);u&&n.ids.move===0?(s=u,r.updateLineComment(void 0,u.id)):(s=r.getNodeByIds(n.previous),r.updateNode(s.ids,{comment:void 0}),a.touch(yi.TouchableKeys.MoveNumber)),i.dom.removeComment(s)}}function Ou(){return{action:Hn.Actions.DeleteMove,handler:t,isVisible:e,name:Ot.Translation.Actions.DeleteMove};function e({api:n,node:r}){return r.ids.line===0?n.getMode().getOptions().canModifyExistingMovesOnMainLine:!0}function t(n,{context:{game:r}}){r.deletePosition(n.ids.move,n.ids.line)}}function ia(){return{action:Hn.Actions.DeleteVariation,handler:t,isVisible:e,name:Ot.Translation.Actions.DeleteLine};function e({node:n}){return n.ids.line!==0}function t(n,{context:{game:r},moveList:i}){r.deletePosition(-1,n.ids.line),i.dom.load()}}function Mp(){return{action:Hn.Actions.InsertComment,handler:t,isVisible:e,name:Ot.Translation.Actions.InsertCommentAfter};function e({node:n}){return typeof n.comment>"u"}function t(n,{moveList:r}){r.dom.insertEditableComment(n)}}function wo(){return{action:Hn.Actions.InsertCommentBefore,handler:t,isVisible:e,name:Ot.Translation.Actions.InsertCommentBefore};function e({api:n,node:r}){if(r.ids.move===0){const a=n.getLine(r.ids.line);return!a||!a.initComment}const i=n.getNodeByIds(r.previous);return Eo(i)&&!i.comment}function t(n,{moveList:r,context:i}){const{game:a}=i;let s=n;const u=a.getLine(n.ids.line);n.ids.move===0&&u?s=u:s=a.getNodeByIds(n.previous),r.dom.insertEditableComment(s)}}function ki(){return{action:Hn.Actions.InsertContinuation,handler:t,isVisible:e,name:Ot.Translation.Actions.InsertContinuation};function e({api:n,node:r}){const i=n.getRawLines();return r.ids.move===i[r.ids.line].length-1}function t(n,{context:{game:r}}){r.createContinuation()}}function wf(e,t){return t.lines?e.ids.line===t.lines[0]:!1}function Us(){return{action:Hn.Actions.MoveVariationUp,handler:t,isVisible:e,name:Ot.Translation.Actions.MoveVariationUp};function e({api:n,node:r}){if(r.ids.line===0)return!1;const i=n.getLine(r.ids.line);if(!i)return!1;const a=n.getNodeByIds({line:i.parentId,move:i.atMoveNode});return a.lines&&a.lines.length>1?!wf(r,a):!1}function t(n,{context:{game:r}}){r.moveVariation(n.ids.line,!0)}}function Pf(e,t){return t.lines?e.ids.line===t.lines[t.lines.length-1]:!1}function ya(){return{action:Hn.Actions.MoveVariationDown,handler:t,isVisible:e,name:Ot.Translation.Actions.MoveVariationDown};function e({api:n,node:r}){if(r.ids.line===0)return!1;const i=n.getLine(r.ids.line);if(!i)return!1;const a=n.getNodeByIds({line:i.parentId,move:i.atMoveNode});return a.lines&&a.lines.length>1?!Pf(r,a):!1}function t(n,{context:{game:r}}){r.moveVariation(n.ids.line,!1)}}var js;(function(e){e[e.MainLine=0]="MainLine",e[e.MainLineChild=-1]="MainLineChild",e[e.Parent=1]="Parent"})(js||(js={}));function Sf(){return{action:Hn.Actions.PromoteVariation,handler:t,isVisible:e,name:Ot.Translation.Actions.Promote};function e({api:n,node:r}){const i=r.ids.line;if(i===0)return!1;const a=n.getLine(i);if(!a)return!1;if(a.parentId===0){const{canAddMovesToMainLine:u,canModifyExistingMovesOnMainLine:f}=n.getMode().getOptions();return u&&f}return!0}function t(n,{context:{game:r}}){r.promoteVariation(n.ids.line,js.Parent)}}function Gs(){return{action:Hn.Actions.RemoveAnnotation,handler:t,isVisible:e,name:Ot.Translation.Actions.RemoveAnnotation};function e({node:n}){return Boolean(n.annotation)}function t(n,{context:{game:r},moveNodeComponent:i}){r.updateNode(n.ids,{annotation:void 0}),i.touch(yi.TouchableKeys.Annotation)}}function oa(){return{action:Hn.Actions.RemoveAdditionalAnnotation,handler:t,isVisible:e,name:Ot.Translation.Actions.RemoveEvaluationAnnotation};function e({node:n}){return Boolean(n.additionalAnnotation&&n.additionalAnnotation.length>0)}function t(n,{context:{game:r},moveNodeComponent:i}){r.updateNode(n.ids,{additionalAnnotation:void 0}),i.touch(yi.TouchableKeys.Annotation)}}const yl={[Hn.Actions.InsertCommentBefore]:wo(),[Hn.Actions.InsertComment]:Mp(),[Hn.Actions.DeleteCommentBefore]:Tp(),[Hn.Actions.DeleteComment]:Iu(),[Hn.Actions.RemoveAnnotation]:Gs(),[Hn.Actions.RemoveAdditionalAnnotation]:oa(),[Hn.Actions.DeleteVariation]:ia(),[Hn.Actions.DeleteMove]:Ou(),[Hn.Actions.PromoteVariation]:Sf(),[Hn.Actions.MoveVariationDown]:ya(),[Hn.Actions.MoveVariationUp]:Us(),[Hn.Actions.InsertContinuation]:ki(),[Hn.Actions.ClearAnalysis]:ku()};function Nu(e){return function(n){Object.keys(n).forEach(r=>{e.contextMenuActions[r]=n[r]})}}function xp(e){const t=new Map;let n=e;return{cancelConfirmation:r,cancelAllConfirmations:i,confirmAction:a,registerConfirmationCallback:s,requestConfirmation:u};function r(f){t.delete(f)}function i(){t.clear()}function a(f){var p;(p=t.get(f))==null||p(),t.delete(f)}function s(f){n=f}async function u(f){const{action:p,data:h,text:y,type:b}=f;if(t.set(b,p),n)return await n({data:h,text:y,type:b})?a(b):r(b);if(window.confirm(y))return a(b);r(b)}}function Lu(e){return xp(e)}function Ru(e){return{api:()=>Lu(e),destroy:t,name:Hn.Plugin.Name};function t(n){!n||n.game.hml.contextMenu.cancelAllConfirmations()}}function Tf(e){return function(n){const{contextMenuActions:r,game:i}=e,a=i.getNodeByIds(n);if(!Eo(a))throw new di({code:ri.BadData,data:n,message:"No move node found"});const s=[];return Object.values(r).forEach(u=>{if(!u)return;u.isVisible({api:i,node:a,options:i.getOptions(),state:e.state})&&s.push(u)}),s}}function kp(e){return function({line:n,move:r}){const{state:i}=e;return i.nodes[n]&&e.state.nodes[n][r]}}function Mf(e){return function(){const{state:n}=e;n.selectedNode&&(n.selectedNode.set({[yi.Keys.Selected]:!1}),n.selectedNode=void 0)}}function Ip(e){return function(n){const{api:r,stateMachine:i}=e;r.resetSelectedNode(),i.transition(k.APIEvents.SelectNode,{lines:r.getNodes(),node:n}),e.scrollContainer.scrollTop=0}}function bl({containerEl:e,moveNode:t,moveListEl:n}){let r;try{r=t.getElement()}catch{}!r||Au({containerEl:e,moveListEl:n,nodeEl:r})}function jo(e,t){return t.querySelector(`[${Fr.ComponentIdentifier}="line-${e}"]`)}function xf(e,t=[]){requestAnimationFrame(()=>{requestAnimationFrame(()=>{e(...t)})})}function Op(e){return function({line:n,move:r}){const{api:i,el:a,scrollContainer:s,state:u,stateMachine:f}=e;if(typeof n>"u"||typeof r>"u")return;i.resetSelectedNode();const p=i.getMoveNode({line:n,move:r});p&&(p.set({[yi.Keys.Selected]:!0}),u.selectedNode=p,f.transition(k.APIEvents.SelectNode,{lines:i.getNodes(),node:u.selectedNode.getNodeData()}),xf(()=>{!a.classList.contains(Fr.ClassNames.Component)||p.ids.line!==0&&!jo(p.ids.line,a)||bl({containerEl:s,moveListEl:a,moveNode:p})}))}}function Np(e,t){Object.keys(e).forEach(n=>{(Object.keys(e[n])||[]).forEach(r=>{t(e[n][r])})})}function Lp(e){const t=e.api.getNodes();Np(t,function(r){r.touch(yi.TouchableKeys.San)})}function Rp(e){const t=e.state.comments;Object.keys(t).forEach(n=>{t[n][e.options.moveListContextMenuEnabled?"registerClickListeners":"deregisterClickListeners"]()})}function Dp(e){const t={moveListContextMenuEnabled:Rp,moveListDisplayType:Lp};return function(r){Object.keys(e.options).forEach(i=>{if(!(i in r))return;const a=e.options[i]!==r[i];e.options[i]=r[i],a&&t[i]&&t[i](e)})}}function zs(e){return{getComments:()=>e.state.comments,getContext:()=>e,getContextMenuActions:Tf(e),getMoveNode:kp(e),getNodes:()=>e.state.nodes,getOptions:()=>e.options,getSelectedNode:()=>e.state.selectedNode,resetSelectedNode:Mf(e),selectLineStart:Ip(e),selectNode:Op(e),setOptions:Dp(e)}}var Pv=':root{--nodeBackground:#fff35f;--nodeBorder:rgba(0, 0, 0, 0.05);--nodeColor:#26211b;--nodeColorSelected:#26211b;--nodeNumber:rgba(0, 0, 0, 0.7)}.dark-mode{--nodeNumber:rgba(255, 255, 255, 0.5);--nodeColor:rgba(255, 255, 255, 0.72);--nodeBackground:rgba(255, 255, 0, 0.2);--nodeBorder:rgba(255, 255, 0, 0.4);--nodeColorSelected:#ffffff}.move-node.svelte-45rxgq.svelte-45rxgq{cursor:pointer;line-height:2rem;padding:0;position:relative;z-index:1}.move-node.selected.customColor.svelte-45rxgq .move-text.svelte-45rxgq{color:#ffffff}.move-node.selected.svelte-45rxgq .move-text.svelte-45rxgq{color:var(--nodeCustomColor, var(--nodeColorSelected));position:relative;z-index:1}.move-node.selected.svelte-45rxgq .move-text.svelte-45rxgq:before{background-color:var(--nodeBackground);border-bottom-style:solid;border-bottom-width:3px;border-color:var(--nodeBorder);border-radius:2px;background-color:var(--nodeCustomColor, var(--nodeBackground));border-width:0 0 3px 0;content:"";height:100%;left:0;margin-left:-2px;position:absolute;top:0;width:calc(100% + 4px);z-index:-1}.move-node.svelte-45rxgq .hidden.svelte-45rxgq{display:none}.move-node.svelte-45rxgq .move-number.svelte-45rxgq{color:var(--nodeNumber)}.move-node.svelte-45rxgq .move-text.svelte-45rxgq{font-weight:700;color:var(--nodeCustomColor, var(--nodeColor));display:inline-block;white-space:pre}.move-node.svelte-45rxgq:not(:first-of-type) .move-number.svelte-45rxgq{margin-left:4px}.move-node.svelte-45rxgq .move-text .icon-font-chess{display:inline-block;font-size:2.3rem;margin-right:0.2rem;margin-top:-1.3rem}.move-node.svelte-45rxgq .comment.svelte-45rxgq{cursor:pointer;font-weight:400;margin-left:5px;outline:none;white-space:normal}.move-node.svelte-45rxgq .comment.svelte-45rxgq:first-child{margin-left:0}';function kf(e){let t,n,r;return{c(){t=(0,A.f)("span"),n=(0,A.h)(e[2]),(0,A.j)(t,"class",r=(0,A.n)(fi.Classes.MoveNumber)+" svelte-45rxgq")},m(i,a){(0,A.k)(i,t,a),(0,A.m)(t,n)},p(i,a){a&4&&(0,A.o)(n,i[2])},d(i){i&&(0,A.q)(t)}}}function Bp(e){let t,n,r,i,a,s,u=(e[4]||"")+"",f,p,h=e[2]&&kf(e);return{c(){t=(0,A.f)("span"),h&&h.c(),n=(0,A.r)(),r=(0,A.f)("span"),i=new A.H,a=(0,A.u)(),s=new A.H,i.a=a,s.a=null,(0,A.j)(r,"class",(0,A.n)(fi.Classes.MoveText)+" svelte-45rxgq"),(0,A.j)(t,"data-id",e[1]),(0,A.j)(t,"class",(0,A.n)(fi.Classes.MoveNode)+" svelte-45rxgq"),(0,A.v)(t,"customColor",e[0]),(0,A.v)(t,"selected",e[5])},m(y,b){(0,A.k)(y,t,b),h&&h.m(t,null),(0,A.m)(t,n),(0,A.m)(t,r),i.m(e[3],r),(0,A.m)(r,a),s.m(u,r),f||(p=[(0,A.w)(t,"click",e[7]),(0,A.w)(t,"contextmenu",e[6]),(0,A.w)(t,"touchstart",e[8]),(0,A.w)(t,"touchend",e[9],{passive:!0})],f=!0)},p(y,[b]){y[2]?h?h.p(y,b):(h=kf(y),h.c(),h.m(t,n)):h&&(h.d(1),h=null),b&8&&i.p(y[3]),b&16&&u!==(u=(y[4]||"")+"")&&s.p(u),b&2&&(0,A.j)(t,"data-id",y[1]),b&1&&(0,A.v)(t,"customColor",y[0]),b&32&&(0,A.v)(t,"selected",y[5])},i:A.x,o:A.x,d(y){y&&(0,A.q)(t),h&&h.d(),f=!1,(0,A.y)(p)}}}function If(e,t,n){const r=(0,A.z)();let i,{customColor:a}=t,{id:s}=t,{moveListEl:u}=t,{moveNumber:f}=t,{san:p}=t,{annotation:h}=t,{selected:y}=t;function b(Re){Re.preventDefault(),r(fi.Events.OpenContextMenu)}function S(Re){r(fi.Events.Click)}function $(Re){S(),i=setTimeout(()=>{b(Re),i=null},fi.Constants.TouchDelay)}function G(){i&&clearTimeout(i)}function ce(Re){const At=u.querySelector(`[${Fr.ComponentIdentifier}="${s}"]`);!At||hl(At,Re)}return e.$$set=Re=>{"customColor"in Re&&n(0,a=Re.customColor),"id"in Re&&n(1,s=Re.id),"moveListEl"in Re&&n(10,u=Re.moveListEl),"moveNumber"in Re&&n(2,f=Re.moveNumber),"san"in Re&&n(3,p=Re.san),"annotation"in Re&&n(4,h=Re.annotation),"selected"in Re&&n(5,y=Re.selected)},e.$$.update=()=>{e.$$.dirty&1&&ce(a)},[a,s,f,p,h,y,b,S,$,G,u]}class Du extends A.b{constructor(t){super(),(0,A.i)(this,t,If,Bp,A.d,{customColor:0,id:1,moveListEl:10,moveNumber:2,san:3,annotation:4,selected:5})}}function Fp(e,t){const n=document.createDocumentFragment(),r=new e(Object.assign({},t,{target:n}));return t.target.replaceWith(n),r}function Ua({ComponentType:e,methods:t,options:n,replaceContainer:r=!0}){const i=r?Fp(e,n):new e(n),a={destroy:s,el:n.target,get:u,instance:i,on:f,set:p};return t&&t.length&&t.forEach(h=>{a[h]=i[h]}),a;function s(){i.$destroy()}function u(h){return typeof h=="string"?i.$$.ctx[h]:(0,A.A)(i.$$.ctx,h)}function f(h,y){i.$on(h,y)}function p(h){i.$set(h)}}function Of(e,{anchor:t,props:n}){return Ua({ComponentType:Du,options:{anchor:t,props:n,target:e},replaceContainer:!1})}function Nf(e){return Boolean(e&&e.charAt(0)==="$")}const vi={$1:"!",$2:"?",$3:"!!",$4:"??",$5:"!?",$6:"?!",$9:"\u2612",$10:"=",$11:"=",$12:"=",$13:"\u221E",$14:"\u2A72",$15:"\u2A71",$16:"\xB1",$17:"\u2213",$18:"+-",$19:"-+",$22:"\u2A00",$23:"\u2A00",$32:"\u27F3",$33:"\u27F3",$36:"\u2192",$37:"\u2192",$40:"\u2191",$41:"\u2191",$44:"\u221E/=",$45:"=/\u221E",$132:"\u21C6",$133:"\u21C6",$146:"N",$256:"=/\u221E"},$p={"??":"?\\?","!?":"!\\?","-+":"-\\+","\u221E/=":"\u221E\\/\\=","=/\u221E":"=\\/\\\u221E","=":"s=",N:"N\\b"},Hp=["!","?","!!","??","!?","?!","="],Al=(0,A.B)(vi),Cl=[{action:Hn.AnnotationActions.AddAnnotation,code:ei.Nags.$1,display:vi.$1,meaning:Ot.Translation.Annotations.GoodMove},{action:Hn.AnnotationActions.AddAnnotation,code:ei.Nags.$2,display:vi.$2,meaning:Ot.Translation.Annotations.BadMove},{action:Hn.AnnotationActions.AddAnnotation,code:ei.Nags.$3,display:vi.$3,meaning:Ot.Translation.Annotations.ExcellentMove},{action:Hn.AnnotationActions.AddAnnotation,code:ei.Nags.$4,display:vi.$4,meaning:Ot.Translation.Annotations.Blunder},{action:Hn.AnnotationActions.AddAnnotation,code:ei.Nags.$5,display:vi.$5,meaning:Ot.Translation.Annotations.SpeculativeMove},{action:Hn.AnnotationActions.AddAnnotation,code:ei.Nags.$6,display:vi.$6,meaning:Ot.Translation.Annotations.DubiousMove},{action:Hn.AnnotationActions.AddAdditionalAnnotation,code:ei.Nags.$9,display:vi.$9,meaning:Ot.Translation.Annotations.Miss},{action:Hn.AnnotationActions.AddAdditionalAnnotation,code:ei.Nags.$10,display:vi.$10,meaning:Ot.Translation.Annotations.Drawish},{action:Hn.AnnotationActions.AddAdditionalAnnotation,code:ei.Nags.$13,display:vi.$13,meaning:Ot.Translation.Annotations.Unclear},{action:Hn.AnnotationActions.AddAdditionalAnnotation,code:ei.Nags.$14,display:vi.$14,meaning:Ot.Translation.Annotations.WhiteHasSlightAdvantage},{action:Hn.AnnotationActions.AddAdditionalAnnotation,code:ei.Nags.$15,display:vi.$15,meaning:Ot.Translation.Annotations.BlackHasSlightAdvantage},{action:Hn.AnnotationActions.AddAdditionalAnnotation,code:ei.Nags.$16,display:vi.$16,meaning:Ot.Translation.Annotations.WhiteHasModerateAdvantage},{action:Hn.AnnotationActions.AddAdditionalAnnotation,code:ei.Nags.$17,display:vi.$17,meaning:Ot.Translation.Annotations.BlackHasModerateAdvantage},{action:Hn.AnnotationActions.AddAdditionalAnnotation,code:ei.Nags.$18,display:vi.$18,meaning:Ot.Translation.Annotations.WhiteHasDecisiveAdvantage},{action:Hn.AnnotationActions.AddAdditionalAnnotation,code:ei.Nags.$19,display:vi.$19,meaning:Ot.Translation.Annotations.BlackHasDecisiveAdvantage},{action:Hn.AnnotationActions.AddAdditionalAnnotation,code:ei.Nags.$22,display:vi.$22,meaning:Ot.Translation.Annotations.PositionInZuqZwang},{action:Hn.AnnotationActions.AddAdditionalAnnotation,code:ei.Nags.$36,display:vi.$36,meaning:Ot.Translation.Annotations.WithInitiative},{action:Hn.AnnotationActions.AddAdditionalAnnotation,code:ei.Nags.$40,display:vi.$40,meaning:Ot.Translation.Annotations.WithCompensation},{action:Hn.AnnotationActions.AddAdditionalAnnotation,code:ei.Nags.$146,display:vi.$146,meaning:Ot.Translation.Annotations.Novelty},{action:Hn.AnnotationActions.AddAdditionalAnnotation,code:ei.Nags.$256,display:vi.$256,meaning:Ot.Translation.Annotations.WithAttack}];function ja(e){return!e||!Object.prototype.hasOwnProperty.call(vi,e)&&!Object.prototype.hasOwnProperty.call(Al,e)?e||"":Nf(e)?vi[e]:ja(Al[e])}function Lf(e){let t="";return e.annotation&&(t=`${t}${ja(e.annotation)}`),e.additionalAnnotation&&e.additionalAnnotation[0]&&(t=`${t}&nbsp;${ja(e.additionalAnnotation[0])}`),t}function Up(e,t){return Boolean(e.color===U.ColorsAsNumbers.White||e.ids&&e.ids.move===0||t&&typeof t.comment=="string"||t&&t.lines&&t.lines.length)}function Rf({color:e,ply:t,startingMoveNumber:n=1}){let r;return e===U.ColorsAsNumbers.White?r=Math.ceil(t/2+1):r=Math.floor(t/2+1),r+(n-1)}function Df(e,t){return Boolean(e.color===U.ColorsAsNumbers.Black&&(t&&typeof t.comment=="string"||t&&t.lines&&t.lines.length||e.ids&&e.ids.move===0))}function Bf({node:e,previous:t,startingMoveNumber:n=1}){let r="";if(!e)return r;const i=Rf({color:e.color,ply:e.moveNumber,startingMoveNumber:n});return Up(e,t)&&(r+=`${i}.`,Df(e,t)&&(r+="..")),r}const ms={[yi.Keys.MoveNumber]:function({game:t,node:n}){return Bf({node:n,previous:n?.previous?t.getNodeByIds(n.previous):void 0,startingMoveNumber:t.getStartingMoveNumber()})},[yi.Keys.Annotation]:function({node:t}){return Lf(t)},[yi.Keys.CustomColor]:function({node:t}){return t.customColor},[yi.Keys.San]:function({moveList:t,node:n,translations:r}){return sf({color:ps(n?.color),moveListDisplayType:t.getOptions().moveListDisplayType,san:n?.san,translations:r})}};function jp({moveList:e,game:t,node:n,options:r,emitter:i,translations:a}){if(Ao(n))throw new di({code:ri.BadData,data:n,message:"Invalid move ids."});const s=Of(r.target,{anchor:r.anchor,props:{annotation:Lf(n),id:h(),moveListEl:e.dom.getElement(),moveNumber:ms[yi.Keys.MoveNumber](f()),san:ms[yi.Keys.San](f()),selected:!1}}),u={addNodeStyles:Re,destroy:s.destroy,getElement:p,getId:h,getNodeData:y,ids:n.ids,insertBeforeNode:G,insertAfterNode:ce,removeNodeStyles:At,set:s.set,touch:S,touchNextNode:$};return b(),u;function f(){return{game:{getNodeByIds:t.getNodeByIds,getStartingMoveNumber:t.getStartingMoveNumber},moveList:{getOptions:e.api.getOptions},node:y(),translations:a}}function p(){var it;const St=e.dom.getElement(),Kt=`[${Fr.ComponentIdentifier}="${h()}"]`,Yn=(it=St.querySelector(Kt))!=null?it:s.el.querySelector(Kt);if(!Yn)throw new di({code:ri.ElementNotFound,data:n.ids,message:`Move node element was not found for ${n.ids.line}-${n.ids.move}.`});return Yn}function h(){const it=n.ids;return`move-node-${it.line}-${it.move}`}function y(){return t.getNodeByIds(n.ids)}function b(){s.on(fi.Events.Click,function(){e.api.getOptions().enabled&&t.selectNode(n.ids.line,n.ids.move)}),s.on(fi.Events.OpenContextMenu,function(){e.api.getOptions().moveListContextMenuEnabled&&(t.selectNode(n.ids.line,n.ids.move),i.emit(fi.Events.OpenContextMenu,{node:n}))})}function S(it){s.set({[it]:ms[it](f())})}function $(it=[yi.TouchableKeys.MoveNumber]){const St=e.api.getMoveNode({line:n.ids.line,move:n.ids.move+1});St&&it.forEach(Kt=>St.touch(Kt))}function G(it){const St=p();St.parentNode&&St.parentNode.insertBefore(it,St)}function ce(it){const St=e.dom.getElement(),Kt=p();Kt.nextElementSibling?St.insertBefore(it,Kt.nextElementSibling):St.appendChild(it)}function Re(it){const St=p();it&&Object.assign(St.style,it)}function At(){p().removeAttribute("style")}}function Ff(e){return function(n,r){var i;const{game:a,getComponent:s,state:u,stateMachine:f,translations:p}=e,h=n.ids;return typeof u.nodes[h.line]>"u"&&(u.nodes[h.line]={}),typeof u.nodes[h.line][h.move]<"u"&&u.nodes[h.line][h.move].destroy(),u.nodes[h.line][h.move]=jp({emitter:f,game:a,moveList:(i=s())!=null?i:e.el,node:n,options:r,translations:p}),u.nodes[h.line][h.move]}}function $f(e){e.preventDefault()}function Hf(e){return function(){const{dom:n,el:r,queue:i}=e;r.classList.remove(Fr.ClassNames.Component),r.removeEventListener("contextmenu",$f),n.reset(),i.clear()}}function Uf(e){const t=document.createElement("textarea");return t.innerHTML=e.replace(/&nbsp;/g," "),t.value}function Bu(e,t){if(t){const n=["br"],r=n.map(s=>`\\/${s}`),i=n.concat(r).join("|"),a=new RegExp(`<(?!${i}s*/?)[^>]+>`,"g");return e.replace(a,"")}return e.replace(/<\/?[^>]+(>|$)/g,"")}function Fu(e){let t;return t=Uf(Bu(e)),t===" "&&(t=""),t}var Gp=".editable-comment.svelte-1toz211{cursor:pointer;font-weight:400;margin-left:5px;outline:none;white-space:normal;color:#52b1dc;display:inline-block}.editable-comment.svelte-1toz211:first-child{margin-left:0}.editable-comment.svelte-1toz211::-moz-selection{background:#cfeaf3}.editable-comment.svelte-1toz211::selection{background:#cfeaf3}.editable-comment[contenteditable=true].svelte-1toz211:empty:before{color:#8b8987;content:attr(placeholder);display:inline}";function jf(e){let t,n,r,i,a;return{c(){t=(0,A.f)("span"),n=(0,A.h)(e[2]),(0,A.j)(t,"class",(0,A.n)(Ho.Classes.Component)+" svelte-1toz211"),(0,A.j)(t,"contenteditable","true"),(0,A.j)(t,"placeholder",r=e[0]["Add Comment..."]())},m(s,u){(0,A.k)(s,t,u),(0,A.m)(t,n),e[7](t),i||(a=[(0,A.w)(t,"focusin",e[3]),(0,A.w)(t,"focusout",e[4]),(0,A.w)(t,"input",e[5])],i=!0)},p(s,[u]){u&4&&(0,A.o)(n,s[2]),u&1&&r!==(r=s[0]["Add Comment..."]())&&(0,A.j)(t,"placeholder",r)},i:A.x,o:A.x,d(s){s&&(0,A.q)(t),e[7](null),i=!1,(0,A.y)(a)}}}function gs(e,t,n){let r;const i=(0,A.z)();let{comment:a=""}=t,{translations:s}=t,u;function f(){!a||document.execCommand("selectAll",!1,null)}function p(){i(Ho.Events.FocusOut,u.innerHTML)}function h(){i(Ho.Events.CommentChanged,u.innerHTML)}(0,A.C)(()=>{u.focus()});function y(b){A.D[b?"unshift":"push"](()=>{u=b,n(1,u)})}return e.$$set=b=>{"comment"in b&&n(6,a=b.comment),"translations"in b&&n(0,s=b.translations)},e.$$.update=()=>{e.$$.dirty&64&&n(2,r=a||"")},[s,u,r,f,p,h,a,y]}class $u extends A.b{constructor(t){super(),(0,A.i)(this,t,gs,jf,A.d,{comment:6,translations:0})}}function El(e,{anchor:t,props:n}){return Ua({ComponentType:$u,options:{anchor:t,props:n,target:e},replaceContainer:!1})}function wl(e,{api:t,comment:n,moveList:r,noUIUpdates:i}){t.updateLineComment(typeof n=="string"&&n.length>0?n:void 0,e.id),!i&&e.initComment&&(e.id===0?r.dom.getElement():jo(e.id,r.dom.getElement())).prepend(r.dom.addComment(e))}function Hu(e,{moveList:t,api:n}){let r,i;e.id===0?i=t.dom.getElement():i=jo(e.id,t.dom.getElement());const a=t.api.getMoveNode({line:e.id,move:0});return a&&(r=a.getElement()),{anchor:r,comment:e.initComment,element:i,handler:function(u,f){wl(e,{api:n,comment:u,moveList:t,noUIUpdates:f})}}}function Gf(e,{api:t,comment:n,moveList:r,noUIUpdates:i}){t.updateNode(e.ids,{comment:typeof n=="string"&&n.length>0?n:void 0}),!i&&(e.getNodeData().comment&&e.getElement().appendChild(r.dom.addComment(e.getNodeData())),e.touchNextNode())}function zf(e,{moveList:t,api:n}){const r=t.api.getMoveNode(e.ids);if(!r)throw new di({code:ri.ElementNotFound,data:e,message:"No move node found."});return{comment:e.comment,element:r.getElement(),handler:function(a,s){Gf(r,{api:n,comment:a,moveList:t,noUIUpdates:s})}}}function Wf(e){return function(n){const{dom:r,game:i,getComponent:a,translations:s}=e;let u,f;if(Eo(n))u=zf(n,{api:i,moveList:a()});else if(Ao(n))u=Hu(n,{api:i,moveList:a()});else throw new di({code:ri.BadData,data:n,message:"No line or node found"});r.removeEditableComment(),e.editableCommentComponent=El(u.element,{anchor:u.anchor,props:{comment:u.comment,translations:s}}),e.editableCommentComponent.on(Ho.Events.CommentChanged,function({detail:y}){clearTimeout(f),f=window.setTimeout(()=>{p(y)},Ho.Constants.CommentUpdateDelay)}),e.editableCommentComponent.on(Ho.Events.FocusOut,function({detail:y}){clearTimeout(f);const b=Fu(y);u.handler(b),e.dom.removeEditableComment()});function p(h=""){const y=Fu(h);u.handler(y,!0)}}}var _s=`.comment {
  cursor: pointer;
  font-weight: 400;
  margin-left: 5px;
  outline: none;
  white-space: normal;
}
.comment:first-child {
  margin-left: 0;
}`,uo;(function(e){(function(t){t.Click="click"})(e.Events||(e.Events={}))})(uo||(uo={}));function Pl(e){if(Ao(e))return`line-comment-${e.id}`;if(Eo(e))return`move-node-comment-${e.ids.line}-${e.ids.move}`;throw new di({code:ri.BadData,data:e,message:"No line or node found"})}function Vf(e){return e.split(" ").map(t=>Nf(t)?ja(t):t).join(" ")}function qf({commentLinkData:e,lineOrNode:t,context:n}){const r=Pl(t);let i=!1,a,s,u;if(Ao(t))a=Vf(t.initComment),u={line:t.id,move:0};else if(Eo(t))a=t.comment?Vf(t.comment):t.comment,u=t.ids;else throw new di({code:ri.BadData,data:t,message:"No line or node found"});return f(),{deregisterClickListeners:y,destroy:p,getElement:()=>s,getId:()=>r,registerClickListeners:h};function f(){var $;const G=e?"a":"span";s=document.createElement(G),s.setAttribute(Fr.ComponentIdentifier,r),s.innerHTML=Bu((($=e?.text)!=null?$:a)||"",!0),s.classList.add(fi.Classes.Comment,fi.Classes.StaticComment),e&&(s.setAttribute("href",e.href),s.setAttribute("target","_blank")),n.editingEnabled&&!e&&h()}function p(){y(),n.removeCommentFromMoveList(r)}function h(){i||(s.addEventListener("click",b,{once:!0}),s.addEventListener("contextmenu",S),i=!0)}function y(){s.removeEventListener("click",b),s.removeEventListener("contextmenu",S),i=!1}function b(){p(),n.emitter.emit(uo.Events.Click,t)}function S($){$.preventDefault(),n.emitter.emit(fi.Events.OpenContextMenu,{node:{ids:u}})}}function Kf(e){return function(n,r=!0,i){const{dom:a,options:s,state:u,stateMachine:f}=e,p=Boolean("isCommentEnabled"in n?n.isCommentEnabled:r),h=qf({commentLinkData:i??null,lineOrNode:n,context:{editingEnabled:s.moveListContextMenuEnabled&&p,emitter:f,removeCommentFromMoveList(){a.removeComment(n)}}});return u.comments[h.getId()]&&a.removeComment(n),u.comments[h.getId()]=h,h.getElement()}}function Ws(e){return e===0}function Uu(e){return function({node:n,nodeToInsertAfter:r}){const{dom:i,el:a,placeholders:s}=e,u=s[Fr.Placeholders.Moves],f=Ws(n.ids.line)?u:void 0;let p=a;if(r){const h=r.getElement();if(!h)throw new di({code:ri.ElementNotFound,message:"Node element does not exist."});p=h.parentNode}i.addNode(n,{anchor:f,target:p})}}function Sl(e,...t){const n=document.createElement("span");return n.setAttribute(Fr.ComponentIdentifier,`line-${e}`),n.classList.add(...t),n}function Sv(e){return function({node:n}){const{api:r,dom:i,el:a,game:s}=e,u=n.ids,f=s.getRawLines()[u.line],p={line:f.parentId,move:f.atMoveNode},h=r.getMoveNode({line:p.line,move:p.move+1}),y=s.getNodeByIds(p);if(!y||Ao(y))throw new di({code:ri.ElementNotFound,message:"Anchor node element for variation not found."});let b=a;const S=Sl(f.id,Fr.ClassNames.Variation);if(y.ids.line===0&&S.classList.add(Fr.ClassNames.MainLine),i.addNode(n,{target:S}),y.lines&&y.lines.length>1)b=jo(y.lines[y.lines.length-2],a);else{const $=r.getMoveNode(y.ids);$&&(b=$.getElement())}b&&b.after(S),typeof h<"u"&&h.touch(yi.TouchableKeys.MoveNumber)}}function ju(e,t){return t.lines?t.lines.reduce((n,r)=>(n.push(e[r]),n),[]):[]}function Tl({api:e,depth:t,parentLineEl:n,lines:r,line:i}){let a;t===1?a=document.createDocumentFragment():a=Sl(i.id,Fr.ClassNames.Variation),i.initComment&&a.appendChild(e.addComment(i)),i.forEach(s=>{const u=e.addNode(s,{target:a});s.comment&&u.getElement().appendChild(e.addComment(s)),s.lines&&ju(r,s).forEach(f=>{Tl({api:e,depth:t+1,line:f,lines:r,parentLineEl:a})})}),n.appendChild(a)}function Zf({dom:e,game:t}){t.getRawLines().forEach(r=>{r.forEach(i=>{const a=t.getNodeByIds(i.ids);if(!Eo(a))return;const s=a.customColor;s&&e.updateMoveNodeComponent(i.ids,{customColor:s})})})}function zp(e){return function(){const{api:n,dom:r,el:i,game:a,placeholders:s}=e,u=s[Fr.Placeholders.Moves];r.reset();const f=a.getRawLines();f[0].initComment&&i.insertBefore(r.addComment(f[0]),u),f[0].forEach(h=>{var y,b;const S=r.addNode(h,{anchor:u,target:i});if(h.comment&&S.getElement().appendChild(r.addComment(h)),((y=h.commands)==null?void 0:y.text)&&((b=h.commands)==null?void 0:b.href)){const{text:$,href:G}=h.commands;a.hml.addCommentLink({node:h,text:$,href:G})}h.lines&&ju(f,h).forEach($=>{const G=Sl($.id,Fr.ClassNames.Variation,Fr.ClassNames.MainLine);Tl({api:{addComment:r.addComment,addNode:r.addNode},depth:1,line:$,lines:f,parentLineEl:G}),i.insertBefore(G,u)})});const p=a.getSelectedNode();p&&n.selectNode(p.ids),Zf(e),e.state.nodeLimit&&e.game.hml.updateNodeLimits(e.state.nodeLimit)}}function Wp(e,t){const n=t.querySelector(`[${Fr.ComponentIdentifier}="${Pl(e)}"`);n&&n.parentNode&&n.parentNode.removeChild(n)}function Vp(e){return function(n){const{state:r}=e,i=Pl(n),a=e.el;r.comments[i]&&(Wp(n,a),delete r.comments[i])}}function qp(e){return function(){if(typeof e.editableCommentComponent<"u"){try{e.editableCommentComponent.destroy()}catch{}e.editableCommentComponent=void 0}}}function Xf(e){return function(n){const{api:r,dom:i,el:a,state:s}=e,u=n.id;if(typeof s.nodes[u]>"u")throw new di({code:ri.BadData,data:n,message:`No line with id ${u} found`});s.nodes[u][0]&&i.removeNode({line:u,move:0});const f=jo(u,a);f&&f.parentNode.removeChild(f),delete s.nodes[u];let p;typeof n.atMoveNode<"u"&&typeof n.parentId<"u"&&(p=r.getMoveNode({line:n.parentId,move:n.atMoveNode+1})),p&&p.touch(yi.TouchableKeys.MoveNumber)}}function Qf({el:e,game:t,state:n}){const r=t.getRawLines();Object.keys(n.nodes).forEach(i=>{var a;if(r[i])return;Object.values(n.nodes[i]).forEach(u=>u.destroy()),(a=jo(Number(i),e))==null||a.remove(),delete n.nodes[i]})}function Yf(e){return function({line:n,move:r}){const{api:i,state:a}=e,s=i.getMoveNode({line:n,move:r});if(!s)return;const u=Object.keys(a.nodes[s.ids.line]).length-1;if(a.nodes[s.ids.line][s.ids.move]!==a.nodes[s.ids.line][u])for(let p=u;p>s.ids.move;p--)a.nodes[s.ids.line][p].destroy(),delete a.nodes[s.ids.line][p];s.destroy(),delete a.nodes[s.ids.line][s.ids.move],Qf(e);const f=i.getMoveNode({line:s.ids.line,move:s.ids.move+1});f&&f.touch(yi.TouchableKeys.MoveNumber)}}function Jf(e){return function(){const{dom:n,el:r,state:i,placeholders:a}=e;n.removeEditableComment(),r.innerHTML="",i.comments={},i.nodes={},i.selectedNode=void 0,r.appendChild(a[Fr.Placeholders.Moves]),r.appendChild(a[Fr.Placeholders.GameResult])}}function Ml(e){return function(n){var r;const{el:i}=e,a=i.querySelector(`.${fi.Classes.GameResultNode}`),s=e.placeholders[Fr.Placeholders.GameResult];if(a&&((r=a.parentElement)==null||r.removeChild(a)),n===U.Results.None)return;const u=document.createElement("span");u.classList.add(fi.Classes.GameResultNode),u.innerText=n,i.insertBefore(u,s)}}function Kp(e){return function(n,r){var i;const{dom:a,game:s}=e,u=s.getLine(n);if(!u)return;const{initComment:f}=r;if(f!==void 0){const p=u.id===0?(i=a?.getElement())!=null?i:e.el:jo(u.id,e.el);p?.prepend(a.addComment(u))}}}function ed(e){return function(n,r){const{api:i,dom:a,game:s}=e,u=s.getNodeByIds(n),f=i.getMoveNode(n);if(!u||Ao(u)||!f)return;const p=f?.getElement(),h=[],{additionalAnnotation:y,annotation:b,comment:S,customColor:$,isCommentEnabled:G}=r;if((y!==void 0||b!==void 0)&&h.push(yi.TouchableKeys.Annotation),S!==void 0)if(S==="")a.removeComment(u);else{const ce=f.getNodeData(),Re=a.addComment(ce,G??!0);p.appendChild(Re)}$!==void 0&&h.push(yi.TouchableKeys.CustomColor),h.forEach(ce=>f.touch(ce))}}function Gu(e){const{el:t,placeholders:n}=e;return t.classList.add(Fr.ClassNames.Component),t.addEventListener("contextmenu",$f),t.appendChild(n[Fr.Placeholders.Moves]),t.appendChild(n[Fr.Placeholders.GameResult]),{addComment:Kf(e),addNode:Ff(e),destroy:Hf(e),getElement:()=>t,insertEditableComment:Wf(e),insertNode:Uu(e),insertVariation:Sv(e),load:zp(e),removeComment:Vp(e),removeEditableComment:qp(e),removeLine:Xf(e),removeNode:Yf(e),reset:Jf(e),setResultNode:Ml(e),setScrollContainer:r=>e.scrollContainer=r,updateLineComponent:Kp(e),updateMoveNodeComponent:ed(e)}}var aa;(function(e){(function(t){t.PluginAdded="PluginAdded",t.PluginRemoved="PluginRemoved",t.ContextSet="ContextSet"})(e.Events||(e.Events={}))})(aa||(aa={}));function td(e=[],t,n=(0,A.a)()){const r=new Map;let i=t;return s(e),he(Se({add:a,addMany:s,destroy:u},n),{getAll:f,getContext:p,getOne:h,has:r.has.bind(r),remove:y,setContext:b});function a(S){var $;return S.name?(r.has(S.name)&&y(S.name),r.set(S.name,S),($=S.create)==null||$.call(S,i),n.emit(aa.Events.PluginAdded,S),!0):!1}function s(S){return!S||S.length===0?!1:(Array.isArray(S)?S:[S]).reduce(function(ce,Re){return a(Re)||(ce=!1),ce},!0)}function u(){r.forEach(S=>y(S.name))}function f(){return[...r.values()]}function p(){return i}function h(S){return r.get(S)}function y(S){var $;const G=r.get(S);return G?(($=G.destroy)==null||$.call(G,i),r.delete(S),n.emit(aa.Events.PluginRemoved,G),!0):!1}function b(S){i=S,n.emit(aa.Events.ContextSet,i)}}function Zp(e,t){return function(r,i){const a=e[r];return e[r]=i(t),function(){var u,f;(f=(u=e[r]).destroy)==null||f.call(u),e[r]=a}}}function nd(e,t,n){const r=Zp(t,n),i=new Map;return e.on(aa.Events.PluginAdded,function(s){if(s.api){const u=r(s.name,s.api);u&&i.set(s.name,u)}}),e.on(aa.Events.PluginRemoved,function(s){const u=i.get(s.name);u?.(),i.delete(s.name)}),e}function zu(e,t){const n=td([],t);return nd(n,e,t)}function rd({el:e,game:t,nodeLimit:n,options:r,plugins:i=[Ru()],stateMachineListeners:a,stateMachine:s,queue:u,placeholders:f,scrollContainer:p,translations:h=gl}){const y={},b={api:y,contextMenuActions:yl,dom:{getElement:()=>e},editableCommentComponent:void 0,el:e,game:t,getComponent:At,options:r,queue:u,placeholders:f,scrollContainer:p,state:{comments:{},nodes:{},nodeLimit:n,selectedNode:void 0},stateMachine:s,stateMachineListeners:a,translations:h},{dom:S,game:$}=b,G=zu($.hml,b);G.addMany(i),Object.assign(y,Se({},zs(b))),Object.assign(S,Se({},Gu(b))),$.extendAPI(me.Plugin.Name,{addContextMenuActions(){return Nu(b)}});const ce={api:y,destroy:Re,dom:S,plugins:G};return ce;function Re(){G.destroy()}function At(){return ce}}function id({context:e,coreContext:t}){var n,r;const{el:i,nodeLimit:a,scrollContainer:s,translations:u}=e,{api:f}=t,p=f.getOptions();(r=(n=e.moveList)==null?void 0:n.destroy)==null||r.call(n),e.methods.destroy(),e.stateMachineListeners.push([uo.Events.Click,e.methods.handleCommentClick]),e.stateMachine.on(uo.Events.Click,e.methods.handleCommentClick),e.moveList=rd({el:i,game:f,nodeLimit:a,options:{enabled:p.enabled,moveListContextMenuEnabled:p.moveListContextMenuEnabled,moveListDisplayType:p.moveListDisplayType},queue:e.queue,placeholders:e.placeholders,scrollContainer:s,stateMachine:e.stateMachine,stateMachineListeners:e.stateMachineListeners,translations:u}),e.moveList.dom.load(),e.moveList.dom.setResultNode(f.getResult())}function Xp({node:e,game:t,data:n,moveNodeComponent:r}){const i=ja(n),s=r.getNodeData().annotation===i?void 0:i;t.updateNode(e.ids,{annotation:s}),r.touch(yi.TouchableKeys.Annotation)}function Qp({node:e,game:t,data:n,moveNodeComponent:r}){const i=ja(n),a=r.getNodeData().additionalAnnotation,u=a?.[0]===i?void 0:[i];t.updateNode(e.ids,{additionalAnnotation:u}),r.touch(yi.TouchableKeys.Annotation)}function Yp(e,t){return function({action:r,data:i,event:a,moveNode:s}){const u=t.api.getMoveNode(s.ids);if(!u)throw new di({code:ri.BadData,data:s.ids,message:"No move node found."});r.handler(s,{context:e,data:i,moveList:t,moveNodeComponent:u,event:a}),e.queue.flush()}}var Tv=".move-node-context-menu.svelte-1hoe0fe.svelte-1hoe0fe{background-color:#ffffff;border:1px solid rgba(0, 0, 0, 0.15);border-radius:4px;box-shadow:0 6px 12px rgba(0, 0, 0, 0.175);color:#000000;font-size:1.4rem;list-style:none;margin:2px 0 0;min-width:16rem;padding:5px 0;position:fixed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1000}.move-node-context-menu.svelte-1hoe0fe .action-name.svelte-1hoe0fe{padding:0.5rem 2rem}.move-node-context-menu.svelte-1hoe0fe .action-name.svelte-1hoe0fe,.move-node-context-menu.svelte-1hoe0fe .annotation.svelte-1hoe0fe{cursor:pointer;display:block}.move-node-context-menu.svelte-1hoe0fe .action-name.svelte-1hoe0fe:hover,.move-node-context-menu.svelte-1hoe0fe .annotation.svelte-1hoe0fe:hover{background-color:#f1f1f1}.move-node-context-menu.svelte-1hoe0fe .annotations-container.svelte-1hoe0fe{display:grid;grid-template-columns:1fr 1fr 1fr 1fr}.move-node-context-menu.svelte-1hoe0fe .annotation.svelte-1hoe0fe{display:inline-block;padding:3px;text-align:center}.move-node-context-menu.svelte-1hoe0fe .divider.svelte-1hoe0fe{background-color:#f1f1f1;height:1px}";function od(e,t,n){const r=e.slice();return r[9]=t[n],r}function Wu(e,t,n){const r=e.slice();return r[12]=t[n],r}function ad(e){let t,n=(e[1][e[12].name]?e[1][e[12].name]():e[12].name)+"",r,i,a,s;function u(...f){return e[6](e[12],...f)}return{c(){t=(0,A.f)("span"),r=(0,A.h)(n),(0,A.j)(t,"class",i=(0,A.n)(Uo.Classes.ActionName)+" svelte-1hoe0fe")},m(f,p){(0,A.k)(f,t,p),(0,A.m)(t,r),a||(s=(0,A.w)(t,"click",u),a=!0)},p(f,p){e=f,p&3&&n!==(n=(e[1][e[12].name]?e[1][e[12].name]():e[12].name)+"")&&(0,A.o)(r,n)},d(f){f&&(0,A.q)(t),a=!1,s()}}}function sd(e){let t,n=e[9].display+"",r,i,a,s,u,f;function p(){return e[7](e[9])}return{c(){t=(0,A.f)("span"),r=(0,A.h)(n),i=(0,A.r)(),(0,A.j)(t,"alt",a=e[1][e[9].meaning]()),(0,A.j)(t,"class",s=(0,A.n)(Uo.Classes.Annotation)+" svelte-1hoe0fe")},m(h,y){(0,A.k)(h,t,y),(0,A.m)(t,r),(0,A.m)(t,i),u||(f=(0,A.w)(t,"click",p),u=!0)},p(h,y){e=h,y&2&&a!==(a=e[1][e[9].meaning]())&&(0,A.j)(t,"alt",a)},d(h){h&&(0,A.q)(t),u=!1,f()}}}function Jp(e){let t,n,r,i,a,s,u,f,p=e[0],h=[];for(let S=0;S<p.length;S+=1)h[S]=ad(Wu(e,p,S));let y=Cl,b=[];for(let S=0;S<y.length;S+=1)b[S]=sd(od(e,y,S));return{c(){t=(0,A.f)("div");for(let S=0;S<h.length;S+=1)h[S].c();n=(0,A.r)(),r=(0,A.f)("div"),i=(0,A.r)(),a=(0,A.f)("div");for(let S=0;S<b.length;S+=1)b[S].c();s=(0,A.r)(),(0,A.j)(r,"class",(0,A.n)(Uo.Classes.Divider)+" svelte-1hoe0fe"),(0,A.j)(a,"class",(0,A.n)(Uo.Classes.AnnotationsContainer)+" svelte-1hoe0fe"),(0,A.j)(t,"class",(0,A.n)(Uo.Classes.Component)+" svelte-1hoe0fe")},m(S,$){(0,A.k)(S,t,$);for(let G=0;G<h.length;G+=1)h[G].m(t,null);(0,A.m)(t,n),(0,A.m)(t,r),(0,A.m)(t,i),(0,A.m)(t,a);for(let G=0;G<b.length;G+=1)b[G].m(a,null);(0,A.m)(t,s),e[8](t),u||(f=(0,A.w)(document.body,"click",e[4]),u=!0)},p(S,[$]){if($&11){p=S[0];let G;for(G=0;G<p.length;G+=1){const ce=Wu(S,p,G);h[G]?h[G].p(ce,$):(h[G]=ad(ce),h[G].c(),h[G].m(t,n))}for(;G<h.length;G+=1)h[G].d(1);h.length=p.length}if($&10){y=Cl;let G;for(G=0;G<y.length;G+=1){const ce=od(S,y,G);b[G]?b[G].p(ce,$):(b[G]=sd(ce),b[G].c(),b[G].m(a,null))}for(;G<b.length;G+=1)b[G].d(1);b.length=y.length}},i:A.x,o:A.x,d(S){S&&(0,A.q)(t),(0,A.E)(h,S),(0,A.E)(b,S),e[8](null),u=!1,f()}}}function eh(e,t,n){let{actions:r}=t,{translations:i}=t;const a=(0,A.z)();let s;function u(){return s}function f(b){b.target.classList.contains(Uo.Classes.Component)||a(Hn.Events.Close)}const p=(b,S)=>a(Hn.Events.ActionClicked,{action:b,event:S}),h=b=>a(Hn.Events.AnnotationClicked,{action:b.action,data:b.code});function y(b){A.D[b?"unshift":"push"](()=>{s=b,n(2,s)})}return e.$$set=b=>{"actions"in b&&n(0,r=b.actions),"translations"in b&&n(1,i=b.translations)},[r,i,s,a,f,u,p,h,y]}class th extends A.b{constructor(t){super(),(0,A.i)(this,t,eh,Jp,A.d,{actions:0,translations:1,getElement:5})}get getElement(){return this.$$.ctx[5]}}function nh(e,{anchor:t,props:n}){return Ua({ComponentType:th,methods:["getElement"],options:{anchor:t,props:n,target:e},replaceContainer:!1})}function ld({contextMenu:e,moveNode:t,padding:n={x:10,y:20}}){const r=t.y+n.y-window.pageYOffset,i=window.innerHeight-e.height,a={left:0,top:0};return a.top=Math.min(r,i),a.bottom=a.top+e.height,t.x>window.innerWidth-e.width?a.left=t.x+t.width-e.width:(r<i&&(n.x=0),a.left=t.x+n.x),a}function rh(e,t){let n;return function(...i){clearTimeout(n),n=setTimeout(()=>{n=null,e(...i)},t)}}function ih(e){let t;return function(...r){t&&cancelAnimationFrame(t),t=requestAnimationFrame(()=>{t=null,e(...r)})}}function oh({actions:e,el:t,moveNode:n,emitter:r,translations:i}){const a=n?.getElement(),s=nh(a?.parentElement||t,{anchor:a,props:{actions:e,translations:i}});return p(),f(),{destroy:s.destroy};function u(h){return function({detail:b}){r.emit(h,{action:b.action,data:b.data,event:b.event,moveNode:n.getNodeData()})}}function f(){s.on(Hn.Events.ActionClicked,u(Hn.Events.ActionClicked)),s.on(Hn.Events.AnnotationClicked,u(Hn.Events.AnnotationClicked)),s.on(Hn.Events.Close,()=>r.emit(Hn.Events.Close)),t.addEventListener("scroll",rh(p,50))}function p(){const h=s?.getElement();if(!h)return;const{left:y,top:b}=ld({contextMenu:h.getBoundingClientRect(),moveNode:a?.getBoundingClientRect()||t.getBoundingClientRect()});h.style.left=`${y}px`,h.style.top=`${b}px`}}function ah(e){const{el:t,moveList:n,stateMachine:r,methods:{destroyContextMenu:i},translations:a}=e;e.stateMachineListeners.push([Hn.Events.ActionClicked,s],[Hn.Events.AnnotationClicked,u],[Hn.Events.Close,i],[fi.Events.OpenContextMenu,f]),r.on(Hn.Events.Close,i),r.on(Hn.Events.ActionClicked,s),r.on(Hn.Events.AnnotationClicked,u),r.on(fi.Events.OpenContextMenu,f);function s(p){i(),Yp(n.api.getContext(),n)(p)}function u({action:p,data:h,moveNode:y}){i();const b=n.api.getMoveNode(y.ids);if(!b)throw new di({code:ri.BadData,data:y.ids,message:"No move node found."});const S={data:h,game:n.api.getContext().game,moveNodeComponent:b,node:y};p===Hn.AnnotationActions.AddAnnotation?Xp(S):p===Hn.AnnotationActions.AddAdditionalAnnotation&&Qp(S)}function f(p){var h;n.api.selectNode(p.node.ids);const y=n.api.getContextMenuActions(p.node.ids);i(),e.contextMenu=oh({actions:y,el:(h=e.scrollContainer)!=null?h:t,emitter:r,moveNode:n.api.getMoveNode(p.node.ids),translations:a})}}const sh={condition:lh,handler:uh};function lh({context:e,event:t}){return function(){return t.type===k.InstanceEvents.Create||t.type===k.InstanceEvents.ModeChanged||!e.moveList||Object.entries(e.moveList).length===0}}function uh({context:e,coreContext:t}){id({context:e,coreContext:t}),e.enableContextMenu&&ah(e)}function ch(e,t){return function(r){r.selectedNode=Se({},r.coreContext.api.getRelativeNode()),e.add(t,r)}}function xl({conditionParams:e,handlerContext:t}){const{queue:n}=t.context,r=[up,dp,vp,sh,vs,$s,yp,xu,yf,Cf,Pp].map(({condition:i,handler:a})=>[i(e),ch(n,a)]);lp(r,t),xf(function(){n.flush()})}function fh(e){return function(n){if(!!n){if(Ao(n)){e.moveList.api.selectLineStart(n);return}!Eo(n)||e.moveList.api.selectNode(n.ids)}}}function dh(e){return function(){var n,r;e.stateMachineListeners.forEach(([i,a])=>{e.stateMachine.off({handler:a,type:i})}),e.stateMachineListeners=[],!(!e.moveList||!((r=(n=e.moveList)==null?void 0:n.dom)!=null&&r.destroy))&&(e.moveList.dom.destroy(),e.moveList.plugins.destroy())}}function ph(e){return function(){!e.contextMenu||(e.contextMenu.destroy(),e.contextMenu=void 0)}}const hh=Fr.VariationParenthesis.Before,ud=Fr.VariationParenthesis.After;function vh({api:e,el:t,win:n=window}){const r=n.getSelection(),i=r?.anchorNode,a=r?.focusNode;if(!i||!a)return null;const s=e.getPGN(),u=Vu({moveList:t,node:i,pgn:s}),f=Vu({moveList:t,node:a,pgn:s});if(u===null||f===null)return null;const p=Math.min(u,f),h=Math.max(u,f),y=u<f?a:i,b=pd(qu(y)).length,S=h+b-p;let $=s.substr(p,S);return $=cd({lastIndex:h+b,pgn:s,pgnPiece:$}),fd($),$}function cd({lastIndex:e,pgn:t,pgnPiece:n}){const r=new RegExp(`\\${hh}`,"g"),i=(n.match(r)||[]).length;let a=n;for(let s=0;s<i&&t[e+s]===ud;s++)a+=ud;return a}function fd(e){const t=document.createElement("textarea");document.body.append(t),t.value=e,t.focus(),t.select(),document.execCommand("cut"),t.remove()}function Vu({moveList:e,pgn:t,node:n}){const r=qu(n),i=pd(r);let a=dd(e,r)||0;return t.split("").findIndex((s,u)=>{if(t.substr(u,i.length)===i){if(a===0)return u;a--}return!1})}function qu(e){var t;return!e.parentNode||((t=e?.classList)==null?void 0:t.contains(fi.Classes.MoveNode))?e:qu(e.parentNode)}function dd(e,t){return Array.from(e.querySelectorAll(`.${fi.Classes.MoveNode}`)).filter(i=>i.textContent===t.textContent).findIndex(i=>i===t)}function pd(e){const t=e.querySelector(`.${fi.Classes.MoveNumber}`),n=e.querySelector(`.${fi.Classes.MoveText}`),r=e.querySelector(`.${fi.Classes.Comment}`);let i="";return t&&(i+=`${t.textContent} `),n&&(i+=n.textContent),r&&(i+=` {${r.textContent}}`),i}function hd({context:e,el:t}){return function(r){var i;if((i=r.target.classList)==null?void 0:i.contains(Ho.Classes.Component))return;vh({api:e.api,el:t})&&r.preventDefault()}}function vd(e){return function(n){e.moveList.dom.insertEditableComment(n)}}function Ga({action:e,nodeLimit:t}){const n=e.includes("Set");return{action:Hn.Actions[e],handler:i,isVisible:r,name:Ot.Translation.Actions[e]};function r({state:a}){var s,u;const f=(s=a.nodeLimit)==null?void 0:s[t],p=Boolean(f?.move===((u=a.selectedNode)==null?void 0:u.getNodeData().move));return Boolean(n?!f||!p:f&&p)}function i(a,{moveList:s,moveNodeComponent:u}){gd({limitType:t,isSettingNodeLimits:n,moveList:s,moveNodeComponent:u,node:a})}}const md={[Hn.Actions.SetBegin]:Ga({action:Hn.Actions.SetBegin,nodeLimit:Fr.NodeLimitTypes.Begin}),[Hn.Actions.SetFocus]:Ga({action:Hn.Actions.SetFocus,nodeLimit:Fr.NodeLimitTypes.Focus}),[Hn.Actions.SetEnd]:Ga({action:Hn.Actions.SetEnd,nodeLimit:Fr.NodeLimitTypes.End}),[Hn.Actions.RemoveBegin]:Ga({action:Hn.Actions.RemoveBegin,nodeLimit:Fr.NodeLimitTypes.Begin}),[Hn.Actions.RemoveFocus]:Ga({action:Hn.Actions.RemoveFocus,nodeLimit:Fr.NodeLimitTypes.Focus}),[Hn.Actions.RemoveEnd]:Ga({action:Hn.Actions.RemoveEnd,nodeLimit:Fr.NodeLimitTypes.End})};function mh(e,t){const{api:n}=e;return function(){n.addContextMenuActions(md),bd(e,t)}}function gd({limitType:e,isSettingNodeLimits:t,moveList:n,moveNodeComponent:r,node:i}){var a,s;const u=n.api.getContext(),f=(a=u.state.nodeLimit)==null?void 0:a[e],{respond:p}=u.game.getContext();let h;f&&(h=n.api.getMoveNode({line:f.ids.line,move:f.ids.move})),t?gh({limitType:e,moveList:n,moveNodeComponent:r,node:i}):((s=u.state.nodeLimit)==null||delete s[e],_d({limitType:e,moveList:n,moveNodeComponent:r})),h&&_d({limitType:e,moveList:n,moveNodeComponent:h}),p(Fr.Events.UpdateNodeLimit,{isSettingNodeLimits:t,limitType:e,node:i})}function gh({limitType:e,moveList:t,moveNodeComponent:n,node:r}){const i=t.api.getContext();if(i.state.nodeLimit&&(i.state.nodeLimit[e]=r),e===Fr.NodeLimitTypes.Focus){n.addNodeStyles({fontStyle:"italic"});return}const a=document.createElement("span"),s=`diagram-${e}`,u=e===Fr.NodeLimitTypes.Begin?"[[":"]]";a.classList.add(s),a.innerHTML=u,e===Fr.NodeLimitTypes.Begin?n.insertBeforeNode(a):e===Fr.NodeLimitTypes.End&&n.insertAfterNode(a)}function _d({limitType:e,moveList:t,moveNodeComponent:n}){const r=t.dom.getElement().querySelector(`.diagram-${e}`);r?r.remove():n.removeNodeStyles()}function yd(e,t){return function(r){const{moveList:i}=t;e.api.getDiagramNodeLimits||bd(e,t),Object.entries(r).forEach(([a,s])=>{const u=i.api.getMoveNode({line:s.ids.line,move:s.ids.move});gd({limitType:a,isSettingNodeLimits:!0,moveList:i,moveNodeComponent:u,node:s})})}}function bd(e,t){var n;const r=t.moveList.api.getContext();r.state.nodeLimit=(n=e.api.getDiagramNodeLimits)!=null?n:{},t.methods.destroyDiagramActions=e.api.extendAPI(me.Plugin.Name,{getDiagramNodeLimits(){var i;return(i=r?.state.nodeLimit)!=null?i:{}}})}function _h(e,t){return function({node:r,text:i,href:a}){var s,u;const f=t.moveList.dom.addComment(r,!1,{text:i,href:a});e.api.getOptions().test&&Ar(f,{[Rn.Element]:Cr.CommentLink}),r.commands||(r.commands={}),e.api.updateNode(r.ids,{commands:Object.assign(r.commands,{href:`${a}`,text:`${i}`})}),r.ids.line===0?(s=t.moveList.api.getMoveNode(r.ids))==null||s.getElement().appendChild(f):(u=jo(r.ids.line,t.el))==null||u.append(f)}}function Ku(e){return function(n){e.scrollContainer=n,e.moveList.dom.setScrollContainer(n)}}function kl(e,t){return{addDiagramActions:mh(e,t),addCommentLink:_h(e,t),setScrollContainer:Ku(t),updateNodeLimits:yd(e,t)}}function Ad({el:e,enableContextMenu:t=!0,nodeLimit:n,scrollContainer:r,translations:i=gl}){const a={[Fr.Placeholders.GameResult]:document.createComment("/Game Result"),[Fr.Placeholders.Moves]:document.createComment("/Moves")},s={contextMenu:void 0,el:e,enableContextMenu:t,methods:{destroy:ma,destroyContextMenu:ma,destroyDiagramActions:ma,handleCommentClick:ma,handleCopy:ma,selectCurrentPosition:ma},moveList:{},nodeLimit:n,queue:pl(!1),placeholders:a,scrollContainer:r||e,stateMachine:sp(),stateMachineListeners:[],translations:i};return{api:S=>kl(S,s),create:f,destroy:p,match:[{condition:on([k.APIEvents.AddMove,k.APIEvents.CreateContinuation,k.APIEvents.CreateGame,k.APIEvents.DeletePosition,k.APIEvents.LineCommentUpdated,k.APIEvents.Load,k.APIEvents.Move,k.APIEvents.MoveBackward,k.APIEvents.MoveForward,k.APIEvents.MoveVariation,k.APIEvents.NodeUpdated,k.APIEvents.PromoteVariation,k.APIEvents.ResetToMainLine,k.APIEvents.SelectLineEnd,k.APIEvents.SelectLineStart,k.APIEvents.SelectNode,k.APIEvents.Undo,k.APIEvents.UpdatePGNHeaders,k.InstanceEvents.Create,k.OptionsEvents.Update]),handler:b},{condition:at(k.InstanceEvents.ModeChanged),handler:u}],name:me.Plugin.Name};function u(S,$){p(),y($),h(),b({data:null,type:k.InstanceEvents.ModeChanged},$)}function f(S){p(),y(S),h(),b({data:null,type:k.APIEvents.Load},S)}function p(){var S,$;s.queue.clear(),s.methods.destroy(),($=(S=s.methods).destroyDiagramActions)==null||$.call(S),e.removeEventListener(Fr.Events.Copy,s.methods.handleCopy)}function h(){e.addEventListener(Fr.Events.Copy,s.methods.handleCopy)}function y(S){s.methods.destroy=dh(s),s.methods.destroyContextMenu=ph(s),s.methods.handleCommentClick=vd(s),s.methods.handleCopy=hd({context:S,el:e}),s.methods.selectCurrentPosition=fh(s)}function b(S,$){xl({conditionParams:{context:s,event:S},handlerContext:{context:s,coreContext:$,event:S}})}}var yh=`/* stylelint-disable */
.board-images {
  position: absolute;
  -ms-overflow-style: none;
  /* IE and Edge */
}
.board-images ::-webkit-scrollbar {
  /* Chrome */
  display: none;
}
.board-images:not(.board-images--palette) {
  z-index: 10;
}
.board-images:not(.board-images--palette) .board-images__window {
  border-radius: 1.25rem;
}
.board-images__title {
  white-space: nowrap;
  position: absolute;
  opacity: 0.8;
  font-size: small;
  pointer-events: none;
  left: 0;
  right: 0;
  width: 100%;
  top: 0;
  padding: 0.5rem 0;
  text-align: center;
  background-color: white;
  border-radius: 1.25rem;
  color: #312e2b;
}
.board-images__window {
  width: 100%;
  height: 100%;
  padding: 3%;
  background-color: white;
  box-shadow: 0 7px 9.5px 0.5px rgba(0, 0, 0, 0.2);
  overflow: scroll;
  scrollbar-width: none;
  /* hide scrollbar Firefox */
}
.board-images__window-body > div:not(:last-child) {
  border-bottom: 1px solid lightgray;
}
.board-images__hover-container {
  position: relative;
}
.board-images__effects-container {
  width: 100%;
}
.board-images__effect {
  border: 2px solid transparent;
  border-radius: 3px;
  cursor: pointer;
  padding: 3%;
  display: inline-flex;
}
.board-images__effect.selected {
  border: 2px solid #85a94e;
}
.board-images__break {
  display: inline-flex;
}
.board-images__image {
  width: 100%;
  cursor: pointer;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.board-images__hover {
  border: 2px solid #85a94e;
  border-radius: 3px;
  position: absolute;
  pointer-events: none;
}
.board-images__close-button {
  position: absolute;
  width: 15%;
  height: 0;
  padding-bottom: 15%;
  top: 0;
  pointer-events: none;
}
.board-images__close-button > div {
  pointer-events: auto;
  cursor: pointer;
  position: absolute;
  height: 100%;
  width: 100%;
  top: -50%;
}
.board-images.horizontal-overflow .board-images__close-button {
  right: 0;
}
.board-images.horizontal-overflow .board-images__close-button > div {
  right: -50%;
}
.board-images:not(.horizontal-overflow) .board-images__close-button {
  left: 0;
}
.board-images:not(.horizontal-overflow) .board-images__close-button > div {
  left: -50%;
}
.board-images--hidden {
  display: none;
}
.board .custom-item__frame {
  opacity: 1;
  overflow: hidden;
}
.board .custom-item__frame div {
  width: 115%;
  height: 115%;
  margin: -7.5%;
  filter: drop-shadow(0 0.5rem 0 rgba(0, 0, 0, 0.3));
  opacity: 1;
}
.board .custom-item__frame--animated div {
  width: 100%;
  height: 100%;
  margin: 0;
}
.board .custom-item__frame--disappear {
  transition: opacity 500ms;
  opacity: 0;
}`;function bh(e){return function(){e.boardImages.setFrames(),e.boardImages.clearMarkings(),e.boardImages.hideWindow(),e.boardImages.setWindow(),e.boardImages.setHotkeys()}}function Il(e){return function(){return[...e.values()]}}function Ah(e){const{id:t,itemsPerRow:n,rows:r,itemsConfiguration:i=[]}=e;return[...Array(n*r)].map((s,u)=>{const f=i[u],{name:p,animatedImageURL:h=void 0,removalSoundBaseURL:y=void 0}=typeof f=="object"?f:{name:f??`${t}-${u}`},b=u%n,S=Math.floor(u/n);return{name:p,frameId:t,xIndex:b,yIndex:S,animatedImageURL:h,removalSoundBaseURL:y}})}function Zu(e){const t=new Image;return t.src=e,t}function Cd({api:e,framesMap:t,shortcuts:n}){return function(a=[]){t.clear(),n.clear(),a.forEach(s=>{t.set(s.id,s),Zu(s.imageURL)}),a.map(Ah).forEach(s=>{s.forEach(u=>{n.set(u),u.animatedImageURL&&Zu(u.animatedImageURL)})}),r()};function r(){const i=n.getAsArray().filter(u=>u.removalSoundBaseURL);if(!i.length)return;const a=i.reduce((u,f)=>{var p;const{name:h,removalSoundBaseURL:y=""}=f,b=(p=u[y])!=null?p:[];return b.push(h),u[y]=b,u},{}),s=Object.keys(a);if(s.length){const u=e.sounds.getSoundsInstance();s.forEach(f=>{u.loadExtra({baseURL:f,codes:a[f]})})}}}function Xu(e){return function(){return e.getAsArray()}}function Ch(e){return function(n){return e.find({name:n})}}function Ol({xIndex:e,yIndex:t,frameId:n}){return`frameId=${n}, xIndex=${e}, yIndex=${t}`}function Mv(e){if("xIndex"in e){const{xIndex:t,yIndex:n,frameId:r}=e;return`Marking shortcut: '${Ol({xIndex:t,yIndex:n,frameId:r})}' not found`}return`Marking shortcut: '${e.name}' not found`}function Ed(e,t){return`Frame: '${e}' not found (frames available: ${t.join(", ")})`}function Nl(e){return`Hotkey combination already in use: ${e.join(", ")})`}function ba({markings:e,framesMap:t,shortcuts:n}){const r=[],i=[];return e.forEach(a=>{const{model:s}=a;(Array.isArray(a.square)?a.square:[a.square]).forEach(f=>{if(typeof s=="string"){const y={data:{square:f,type:_e[s]},type:"effect",persistent:!0,node:!0};r.push({square:f,input:a,marking:y});return}const{customMarking:p,itemDisappears:h}=wd({model:s,shortcuts:n,framesMap:t,square:f});r.push({square:f,input:a,marking:p}),h&&i.push(f)})}),{resultMarkings:r,disappearingMarkingSquares:i}}function wd({model:e,shortcuts:t,framesMap:n,square:r}){var i;const a=t.find(e);if(!a)throw new Error(Mv(e));const s=n.get(a.frameId);if(!s)throw new Error(Ed(a.frameId,[...n.keys()]));const{xIndex:u,yIndex:f,animatedImageURL:p,removalSoundBaseURL:h,name:y}=a,{itemsPerRow:b,rows:S,imageURL:$}=s,G=p?{imageAnimated:!0,imageURL:p,positionRatioX:0,positionRatioY:0,widthRatio:1,heightRatio:1}:{imageURL:$,positionRatioX:u/b,positionRatioY:f/S,widthRatio:1/b,heightRatio:1/S};return{customMarking:{data:{square:r,type:W.Image,removalTimeout:2e3,removalClass:p?void 0:"custom-item__frame--disappear",removalSound:h?y:void 0,frame:G},type:"customItem",persistent:!0},itemDisappears:(i=e.autoRemove)!=null?i:!1}}function Qu({api:e,markedSquares:t,framesMap:n,shortcuts:r}){return function(s){const u=Array.isArray(s)?s:[s],{resultMarkings:f,disappearingMarkingSquares:p}=ba({markings:u,framesMap:n,shortcuts:r});let h;f.length&&(h=i(f.map(y=>y.marking))),f.forEach((y,b)=>{var S;const{input:$,marking:G,square:ce}=y,Re=(S=h?.[b])!=null?S:"";Re.length&&G.type!=="effect"&&t.set(ce,{input:$,marking:he(Se({},G),{key:Re})})}),p.length&&setTimeout(()=>{e.boardImages.unmark(p)},1500)};function i(a){var s;return a.length?a.length>1?e.markings.addMany(a).map(f=>f??""):[(s=e.markings.addOne(a[0]))!=null?s:""]:[]}}function Yu(e,t){return function(r){const i=Array.isArray(r)?r:[r],a=[];i.forEach(s=>{const u=t.get(s);u&&(a.push(u.marking.key),t.delete(s))}),a.length&&(a.length>1?e.markings.removeMany(a):e.markings.removeOne(a[0]))}}function Ju(e){return function(){return[...e.values()].map(n=>n.input)}}function ec(e,t){return function(){const r=[...e.keys()];r.length&&t.boardImages.unmark(r)}}function tc(e){return function(n){return e.has(n)}}function Pd(e){return function(){return e.boardImages.getFrames().length>0}}function Eh(e){return function(){return e.window}}function nc({boardImagesDOM:e,framesMap:t,windowState:n,hotkeysMap:r,shortcuts:i,showCloseButton:a,api:s}){return function(S){var $,G;n.window=S,e.clearElement(),S&&(e.setSize(S.widthPercent/(($=S.boardContainerAspectRatio)!=null?$:1),S.heightPercent),e.setWindow({elements:u((G=S.elements)!=null?G:[]),elementClickedCallback:S.paletteMode?y:h,closeButtonCallback:a?s.boardImages.hideWindow:void 0,addTitleElement:!S.paletteMode,addHoverElement:S.paletteMode}))};function u(b){const S=new Map,$=G=>[...G,"left click"].join(" + ");return[...r.values()].forEach(G=>{const{keys:ce,model:Re}=G;if(typeof Re=="string")S.set(Re,$(ce));else{const At=i.find(Re);if(At){const{xIndex:it,yIndex:St,frameId:Kt}=At;S.set(Ol({xIndex:it,yIndex:St,frameId:Kt}),$(ce))}}}),b.map(G=>{if("frameId"in G)return f(G,S);{const{effects:ce,id:Re,emptyItemsPerRow:At,itemsPerRow:it}=G,St=ce.map(Kt=>{if(typeof Kt=="string"){const Yn=S.get(Kt);return Yn?{title:Yn,type:Kt}:Kt}else return Kt});return{id:Re,emptyItemsPerRow:At,itemsPerRow:it,effects:St}}})}function f(b,S){const $=t.get(b.frameId);if(!$){const Kt=Ed(b.frameId,[...t.keys()]);throw new Error(Kt)}const{frameId:G,emptyItemsPerRow:ce,itemsAutoRemove:Re}=b,{itemsPerRow:At,rows:it,imageURL:St}=$;return{id:G,emptyItemsPerRow:ce,itemsPerRow:At,rows:it,imageURL:St,itemsAutoRemove:Re,titles:p($,S)}}function p(b,S){const{itemsPerRow:$,rows:G,id:ce}=b;return[...Array($*G)].map((Re,At)=>{var it;const St=At%$,Kt=Math.floor(At/$),Yn=Ol({xIndex:St,yIndex:Kt,frameId:ce});return(it=S.get(Yn))!=null?it:""})}function h(b){!n.windowPosition||("type"in b?s.boardImages.mark({square:n.windowPosition,model:b.type}):s.boardImages.mark({square:n.windowPosition,model:b}),s.boardImages.hideWindow())}function y(b){const S=s.boardImages.getSelectedMarking();if("type"in b)b.type===S?s.boardImages.selectMarking():s.boardImages.selectMarking(b.type);else{const $=S;b.frameId===$?.frameId&&b.yIndex===$?.yIndex&&b.xIndex===$?.xIndex?s.boardImages.selectMarking():s.boardImages.selectMarking(b)}}}function za(e,t){return Math.min(Math.max(e,t.min),t.max)}function wh({squareCoords:e,heightInPercent:t,widthInPercent:n,allowOverflow:r}){let i=!1,a=e.x,s=e.y;return r||(s+t>100&&(s=za(100-t,{min:0,max:100})),a+n>100&&(a=za(a-n-(e.centered?0:12.5),{min:0,max:100}),i=!0)),{top:s,left:a,overflows:i}}function Ph({windowState:e,api:t,boardImagesDOM:n}){return function(i){var a;const{window:s,windowPosition:u}=e;if(!s)return;if(!i){n.showWindow();return}const{square:f,squareCoords:p,allowWindowOverflow:h=!1}=i;if(u){const $=t.markings.getAllWhere({types:[Zt]}).find(G=>G.data.square===u);$&&t.markings.removeOne($.key)}e.windowPosition=f,t.markings.addOne({data:{square:f,color:Xn.HighlightColors.Selected,opacity:.5},persistent:!0,type:Zt});const{top:y,left:b,overflows:S}=wh({squareCoords:p,heightInPercent:s.heightPercent,widthInPercent:s.widthPercent/((a=s.boardContainerAspectRatio)!=null?a:1),allowOverflow:h});n.setPosition(y,b,S),n.showWindow()}}function Ll({state:e,api:t,boardImagesDOM:n}){return function(){const{window:i,windowPosition:a}=e.windowState;if(!!i){if(a){const s=t.markings.getAllWhere({types:[Zt]}).find(u=>u.data.square===a);s&&t.markings.removeOne(s.key),e.windowState.windowPosition=void 0,n.setPosition()}e.selectedMarking&&t.boardImages.selectMarking(),n.hideWindow()}}}function Sh(e,t){return function(r){const i=t.isVisible();if(!r){i?e.boardImages.hideWindow():e.boardImages.showWindow();return}const{square:a,squareCoords:s,allowWindowOverflow:u=!1}=r,f=e.boardImages.getWindowPosition();a===f?e.boardImages.hideWindow():e.boardImages.showWindow({square:a,squareCoords:s,allowWindowOverflow:u})}}function Th(e){return function(){const{window:n,windowPosition:r}=e;if(!(!n||n.paletteMode))return r}}function Sd({imagesBaseURL:e,soundsBaseURL:t,paletteMode:n,boardContainerAspectRatio:r}){const i={heightPercent:n?100:50,widthPercent:n?100:40,boardContainerAspectRatio:r,paletteMode:n,elements:[{id:"effects",itemsPerRow:5,effects:[_e.Brilliant,_e.GreatFind,_e.BestMove,_e.Excellent,_e.Inaccuracy,_e.Mistake,_e.Miss,_e.Blunder,_e.Equal,_e.Correct,_e.Interesting,_e.Incorrect,_e.Book,_e.Warning,_e.WinnerWhite]},{frameId:"objective-markers"},{frameId:"emotive-markers",itemsAutoRemove:!0}]},a=`${e}/animated-images`,s=[{id:"objective-markers",imageURL:`${e}/objective-markers.png`,rows:1,itemsPerRow:5,itemsConfiguration:[{name:"star",animatedImageURL:`${a}/star.png`,removalSoundBaseURL:t},{name:"coin",animatedImageURL:`${a}/coin.png`,removalSoundBaseURL:t},{name:"target",animatedImageURL:`${a}/target.png`,removalSoundBaseURL:t},{name:"skull",animatedImageURL:`${a}/skull.png`,removalSoundBaseURL:t},{name:"bomb",animatedImageURL:`${a}/bomb.png`,removalSoundBaseURL:t}]},{id:"emotive-markers",imageURL:`${e}/emotive-markers.png`,rows:17,itemsPerRow:5,itemsConfiguration:["happy","sad","wut","wink","cry","cheeky","meh","bigsmile","cringe","mad","blush","shock","dead","sleepy","tongue","lol","crying","horror","love","nerd","glasses","mustache","kisses","mindblow","stareyes","sick","devil","ghost","scream","facepalm","thumbsup","thumbsdown","worship","wave","clap","knuckles","muscle","donkey","clock","fire","troll","donut","earth","panda","unicorn","shakehands","resign","gameover","bullet","blitz","skewer","fork","pin","fish","trophy","arena","puzzle","computer","scc","tt","tilt","960","doubleexclam","doublequestion","10","1","12","hype","gg","rip","present","gold","stockfish","lc0","komodo","danny","omg","robert","hikaru","anna","alexandra","andrea","levy","eric","aman"]}],u=[{keys:["B"],model:_e.Brilliant},{keys:["G"],model:_e.GreatFind},{keys:["B","E"],model:_e.BestMove},{keys:["G","D"],model:_e.Excellent},{keys:["K"],model:_e.Correct},{keys:["E","Q"],model:_e.Equal},{keys:["I"],model:_e.Interesting},{keys:["D"],model:_e.Inaccuracy},{keys:["M"],model:_e.Mistake},{keys:["L"],model:_e.Blunder},{keys:["W"],model:_e.Incorrect},{keys:["O"],model:_e.Book},{keys:["H"],model:_e.Warning},{keys:["shift","8"],model:_e.WinnerWhite},{keys:["S"],model:{name:"star"}},{keys:["C"],model:{name:"coin"}},{keys:["T"],model:{name:"target"}},{keys:["S","K"],model:{name:"skull"}},{keys:["F"],model:{name:"bomb"}},{keys:["0"],model:{name:"happy",autoRemove:!0}},{keys:["shift","S"],model:{name:"sad",autoRemove:!0}},{keys:["shift","W"],model:{name:"wut",autoRemove:!0}},{keys:["shift","0"],model:{name:"wink",autoRemove:!0}},{keys:["shift","R"],model:{name:"cry",autoRemove:!0}},{keys:["shift","Q"],model:{name:"cheeky",autoRemove:!0}},{keys:["shift","E"],model:{name:"meh",autoRemove:!0}},{keys:["shift","B"],model:{name:"bigsmile",autoRemove:!0}},{keys:["shift","C"],model:{name:"cringe",autoRemove:!0}},{keys:["shift","1"],model:{name:"mad",autoRemove:!0}},{keys:["shift","U"],model:{name:"blush",autoRemove:!0}},{keys:["shift","O"],model:{name:"shock",autoRemove:!0}},{keys:["shift","D"],model:{name:"dead",autoRemove:!0}},{keys:["S","E"],model:{name:"sleepy",autoRemove:!0}},{keys:["shift","P"],model:{name:"tongue",autoRemove:!0}},{keys:["shift","L"],model:{name:"lol",autoRemove:!0}},{keys:["shift","I"],model:{name:"crying",autoRemove:!0}},{keys:["shift","H"],model:{name:"horror",autoRemove:!0}},{keys:["shift","V"],model:{name:"love",autoRemove:!0}},{keys:["shift","N"],model:{name:"nerd",autoRemove:!0}},{keys:["shift","G"],model:{name:"glasses",autoRemove:!0}},{keys:["shift","T"],model:{name:"mustache",autoRemove:!0}},{keys:["shift","K"],model:{name:"kisses",autoRemove:!0}},{keys:["shift","M"],model:{name:"mindblow",autoRemove:!0}},{keys:["shift","Y"],model:{name:"stareyes",autoRemove:!0}},{keys:["S","I"],model:{name:"sick",autoRemove:!0}},{keys:["D","V"],model:{name:"devil",autoRemove:!0}},{keys:["G","H"],model:{name:"ghost",autoRemove:!0}},{keys:["shift","J"],model:{name:"scream",autoRemove:!0}},{keys:["shift","F"],model:{name:"facepalm",autoRemove:!0}},{keys:["arrowup"],model:{name:"thumbsup",autoRemove:!0}},{keys:["arrowdown"],model:{name:"thumbsdown",autoRemove:!0}},{keys:["I","P"],model:{name:"worship",autoRemove:!0}},{keys:["W","V"],model:{name:"wave",autoRemove:!0}},{keys:["L","P"],model:{name:"clap",autoRemove:!0}},{keys:["K","N"],model:{name:"knuckles",autoRemove:!0}},{keys:["M","U"],model:{name:"muscle",autoRemove:!0}},{keys:["D","K"],model:{name:"donkey",autoRemove:!0}},{keys:["L","K"],model:{name:"clock",autoRemove:!0}},{keys:["F","R"],model:{name:"fire",autoRemove:!0}},{keys:["T","R"],model:{name:"troll",autoRemove:!0}},{keys:["N","T"],model:{name:"donut",autoRemove:!0}},{keys:["E","T"],model:{name:"earth",autoRemove:!0}},{keys:["P","N"],model:{name:"panda",autoRemove:!0}},{keys:["U","I"],model:{name:"unicorn",autoRemove:!0}},{keys:["S","H"],model:{name:"shakehands",autoRemove:!0}},{keys:["R","E"],model:{name:"resign",autoRemove:!0}},{keys:["G","M"],model:{name:"gameover",autoRemove:!0}},{keys:["B","U"],model:{name:"bullet",autoRemove:!0}},{keys:["B","T"],model:{name:"blitz",autoRemove:!0}},{keys:["W","E"],model:{name:"skewer",autoRemove:!0}},{keys:["R","R"],model:{name:"fork",autoRemove:!0}},{keys:["I","N"],model:{name:"pin",autoRemove:!0}},{keys:["H","I"],model:{name:"fish",autoRemove:!0}},{keys:["H","Y"],model:{name:"trophy",autoRemove:!0}},{keys:["A","R"],model:{name:"arena",autoRemove:!0}},{keys:["U","L"],model:{name:"puzzle",autoRemove:!0}},{keys:["M","P"],model:{name:"computer",autoRemove:!0}},{keys:["S","C"],model:{name:"scc",autoRemove:!0}},{keys:["T","Y"],model:{name:"tt",autoRemove:!0}},{keys:["T","L"],model:{name:"tilt",autoRemove:!0}},{keys:["9"],model:{name:"960",autoRemove:!0}},{keys:["2"],model:{name:"doubleexclam",autoRemove:!0}},{keys:["3"],model:{name:"doublequestion",autoRemove:!0}},{keys:["J"],model:{name:"10",autoRemove:!0}},{keys:["Q"],model:{name:"1",autoRemove:!0}},{keys:["V"],model:{name:"12",autoRemove:!0}},{keys:["Y"],model:{name:"hype",autoRemove:!0}},{keys:["G","E"],model:{name:"gg",autoRemove:!0}},{keys:["R","I"],model:{name:"rip",autoRemove:!0}},{keys:["P"],model:{name:"present",autoRemove:!0}},{keys:["G","L"],model:{name:"gold",autoRemove:!0}},{keys:["S","T"],model:{name:"stockfish",autoRemove:!0}},{keys:["L","0"],model:{name:"lc0",autoRemove:!0}},{keys:["K","O"],model:{name:"komodo",autoRemove:!0}},{keys:["D","N"],model:{name:"danny",autoRemove:!0}},{keys:["O","M"],model:{name:"omg",autoRemove:!0}},{keys:["R","B"],model:{name:"robert",autoRemove:!0}},{keys:["H","K"],model:{name:"hikaru",autoRemove:!0}},{keys:["N","R"],model:{name:"anna",autoRemove:!0}},{keys:["D","R"],model:{name:"alexandra",autoRemove:!0}},{keys:["E","A"],model:{name:"andrea",autoRemove:!0}},{keys:["L","Y"],model:{name:"levy",autoRemove:!0}},{keys:["E","C"],model:{name:"eric",autoRemove:!0}},{keys:["M","N"],model:{name:"aman",autoRemove:!0}}];return{defaultFrames:s,defaultWindow:i,defaultHotkeys:n?[]:u}}function Mh({api:e,boardImagesDOM:t,imagesBaseURL:n,soundsBaseURL:r,paletteContainer:i}){return function(s={}){var u,f,p,h,y;const b=window.location.href.replace(window.location.search,""),S=Boolean(i),{defaultFrames:$,defaultWindow:G,defaultHotkeys:ce}=Sd({imagesBaseURL:(f=(u=s.imagesBaseURL)!=null?u:n)!=null?f:`${b}/static/test`,soundsBaseURL:(h=(p=s.soundsBaseURL)!=null?p:r)!=null?h:`${b}/static/test/sounds`,paletteMode:S,boardContainerAspectRatio:(y=s.boardContainerAspectRatio)!=null?y:1});e.boardImages.reset(),e.boardImages.setFrames($),e.boardImages.setWindow(G),e.boardImages.setHotkeys(ce),i&&(t.resetBoardElement(i),t.showWindow())}}function xh(e,t){return function(){e.boardImages.reset(),t.getElement().remove()}}function Td(e){return[...e.map(t=>t.toLowerCase())].sort().join("-")}function kh({hotkeysMap:e,windowState:t,api:n}){return function(i=[]){e.clear(),i.forEach(a=>{const s=Td(a.keys);if(e.has(s))throw new Error(Nl(a.keys));e.set(s,a)}),n.boardImages.setWindow(t.window)}}function ys(e){return function(){return[...e.values()]}}function Ih(e){return function(n){return e.get(Td(n))}}function Oh(e,t){return function(r){e.selectedMarking=r,r||t.clearSelection()}}function Md(e){return function(){return e.selectedMarking}}function Nh(e){return function(){return e}}const Lh=`
<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 19">
  <defs>
    <style>
      .cls-1 {
        opacity: 0.3;
      }

      .cls-2 {
        fill: #f8f8f8;
      }

      .cls-3 {
        fill: #8a8886;
      }
    </style>
  </defs>
  <g>
    <path class="cls-1" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>
    <circle class="cls-2" cx="9" cy="9" r="8.5"/>
    <path class="cls-2" d="M9,1A8,8,0,1,1,1,9,8,8,0,0,1,9,1M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>
    <path class="cls-3" d="M13.37,12a.53.53,0,0,1,0,.78l-.59.61a.56.56,0,0,1-.4.17.54.54,0,0,1-.4-.17l-3-3-3,3a.58.58,0,0,1-.4.17.54.54,0,0,1-.39-.17l-.59-.59a.54.54,0,0,1-.17-.4.52.52,0,0,1,.17-.4l3-3-3-3a.52.52,0,0,1-.17-.4.54.54,0,0,1,.17-.4l.59-.59a.56.56,0,0,1,.8,0l3,3,3-3a.58.58,0,0,1,.4-.17.56.56,0,0,1,.4.17l.59.59a.54.54,0,0,1,.17.41.5.5,0,0,1-.17.39l-3,3,3,3Z"/>
  </g>
</svg>
`;function Rh({element:e,elements:t,addCloseButton:n,addTitleElement:r,addHoverElement:i}){const a=document.createElement("div");a.className="board-images__window";const s=document.createElement("div");s.className="board-images__window-body";const u=document.createElement("div");u.className="board-images__close-button";const f=document.createElement("div");f.innerHTML=Lh,u.appendChild(f);const p=document.createElement("div");p.className="board-images__title";const h=t.map(y=>"effects"in y?Dh(y):Bh(y,i));return h.forEach(y=>{s.appendChild(y.container)}),a.appendChild(s),e.appendChild(a),r&&e.appendChild(p),n&&e.appendChild(u),{closeButton:n?u:void 0,titleElement:p,domElements:h,windowElement:a}}function Dh(e){const{id:t,effects:n,itemsPerRow:r,emptyItemsPerRow:i=0}=e,a=r+i,s=document.createElement("div");s.className="board-images__effects-container";const u=n.map((f,p)=>{const h=typeof f=="string"?f:f.type,y=document.createElement("div");if(y.className="board-images__effect",typeof f=="object"&&f.title&&y.setAttribute("custom-title",f.title),y.style.width=`${100/a}%`,y.innerHTML=On({path:fa[h],size:"100%"}),i>0&&p/r>0&&p%r===0){const b=document.createElement("div");b.className="board-images__break",b.style.width=`${100*(i/a)}%`,s.append(b)}return s.append(y),{container:y,type:h}});return{id:t,container:s,domEffects:u}}function Bh(e,t){const{id:n,itemsPerRow:r,rows:i,imageURL:a,emptyItemsPerRow:s=0,itemsAutoRemove:u,titles:f}=e,p=r+s,h=document.createElement("div");h.className="board-images__hover-container",h.style.width=`${100*(r/p)}%`;const y=document.createElement("div");y.className="board-images__hover",y.style.width=`${100/r}%`,y.style.height=`${100/i}%`,y.style.display="none";const b=document.createElement("img");return b.className="board-images__image",b.src=a,b.draggable=!1,h.appendChild(b),t&&h.appendChild(y),{id:n,container:h,imageElement:b,hoverElement:y,itemsPerRow:r,rows:i,itemsAutoRemove:u,titles:f}}function Fh({offsetX:e,offsetY:t,itemsPerRow:n,rows:r,width:i,height:a}){const s=i/n,u=a/r,f=za(e,{min:0,max:i}),p=za(t,{min:0,max:a});return{xIndex:za(Math.floor(f/s),{min:0,max:n-1}),yIndex:za(Math.floor(p/u),{min:0,max:r-1})}}const xd=-1,kd=-1;let Id=xd,Od=kd;function Nd({clientX:e,clientY:t,pointer:n,type:r,touches:i}){return(r===Xr.Touchmove||r===Xr.Touchstart)&&i.length>0&&(Id=i[0].clientX,Od=i[0].clientY),r===Xr.Touchend?{x:Id,y:Od}:n?{x:n.x,y:n.y}:i&&i.length>0?{x:i[0].clientX,y:i[0].clientY}:{x:e??xd,y:t??kd}}function $h({itemsPerRow:e,rows:t,imageElement:n,event:r}){const{width:i,height:a}=n;let s,u;if("offsetX"in r)s=r.offsetX,u=r.offsetY;else{const{x:f,y:p}=Nd(r);s=f,u=p}return Fh({offsetX:s,offsetY:u,itemsPerRow:e,rows:t,width:i,height:a})}function Hh({windowElement:e,titleElement:t,domElements:n,elementClickedCallback:r,allowToggling:i,closeButton:a,closeButtonCallback:s}){var u;e.addEventListener("contextmenu",b=>(b.stopPropagation(),b.preventDefault(),!1)),(u=a?.firstChild)==null||u.addEventListener(lo,b=>{b.stopPropagation(),s?.()});let f;const p=b=>(i&&f?.xIndex===b.xIndex&&f?.yIndex===b.yIndex&&f?.frameId===b.frameId?f=void 0:f=b,f),h=()=>{n.filter(b=>"hoverElement"in b).map(b=>b.hoverElement).forEach(b=>{b&&(b.style.display="none")}),n.filter(b=>"domEffects"in b).map(b=>b.domEffects).forEach(b=>{b.forEach(S=>S.container.classList.remove("selected"))})},y=()=>{t.style.display="none",t.innerHTML=""};n.forEach(b=>{"domEffects"in b?rc({domElement:b,titleElement:t,hideTitle:y,clearSelection:h,elementClickedCallback:r,allowToggling:i}):Uh({domElement:b,titleElement:t,hideTitle:y,clearSelection:h,elementClickedCallback:r,toggleEmoji:p})})}function rc({domElement:e,titleElement:t,hideTitle:n,clearSelection:r,elementClickedCallback:i,allowToggling:a}){const{domEffects:s,id:u}=e;s.forEach((f,p)=>{const{container:h,type:y}=f,b=h.getAttribute("custom-title");h.addEventListener(lo,S=>{if(S.stopPropagation(),a){const $=h.classList.contains("selected");r(),h.classList.toggle("selected",!$)}i({effectsId:u,index:p,type:y})}),b&&(h.addEventListener(ga,()=>{t.innerHTML=b,t.style.display=""}),h.addEventListener("pointerout",n))})}function Uh({domElement:e,titleElement:t,hideTitle:n,clearSelection:r,elementClickedCallback:i,toggleEmoji:a}){const{container:s,imageElement:u,hoverElement:f,id:p,itemsPerRow:h,rows:y,itemsAutoRemove:b,titles:S=[]}=e;s.addEventListener(lo,$=>{$.stopPropagation();const{xIndex:G,yIndex:ce}=$h({itemsPerRow:h,rows:y,imageElement:u,event:$});if(i({frameId:p,xIndex:G,yIndex:ce,autoRemove:b}),f){const Re=a({xIndex:G,yIndex:ce,frameId:p});r(),Re&&(f.style.display="block",f.style.left=`${G/h*100}%`,f.style.top=`${ce/y*100}%`)}}),u.addEventListener(ga,$=>{var G;n();const{xIndex:ce,yIndex:Re}=$h({itemsPerRow:h,rows:y,imageElement:u,event:$});t.innerHTML=(G=S[ce+Re*h])!=null?G:"",t.style.display=""}),u.addEventListener("pointerout",n)}function Ld(e){return function(n){const{elements:r,elementClickedCallback:i,closeButtonCallback:a,addTitleElement:s=!0,addHoverElement:u=!1}=n,{closeButton:f,titleElement:p,domElements:h,windowElement:y}=Rh({element:e,elements:r,addCloseButton:Boolean(a),addTitleElement:s,addHoverElement:u});Hh({windowElement:y,titleElement:p,domElements:h,elementClickedCallback:i,allowToggling:u,closeButton:f,closeButtonCallback:a})}}function jh(e){return function(){e.classList.remove("board-images--hidden")}}function Gh(e){return function(){e.classList.add("board-images--hidden")}}function zh(e){return function(n,r){e.style.width=n?`${n}%`:"",e.style.height=r?`${r}%`:""}}function Wh(e){const t="horizontal-overflow";return function(r,i,a){e.classList.contains(t)&&e.classList.remove(t),e.style.top=r?`${r}%`:"",e.style.left=i?`${i}%`:"",a&&e.classList.add(t)}}function Rd(e){return function(){e.innerHTML=""}}function ic(e){return function(n){e.remove(),n.appendChild(e)}}function Vh(e){return function(){return!e.classList.contains("board-images--hidden")}}function qh(e){return function(){e.querySelectorAll(".board-images__hover").forEach(n=>{n.style.display="none"}),e.querySelectorAll(".board-images__effect.selected").forEach(n=>{n.classList.remove("selected")})}}function Kh(e){const t=n();return{showWindow:jh(t),hideWindow:Gh(t),setWindow:Ld(t),setSize:zh(t),setPosition:Wh(t),getElement:Nh(t),clearElement:Rd(t),resetBoardElement:ic(t),isVisible:Vh(t),clearSelection:qh(t)};function n(){const r=document.createElement("div");return r.className="board-images",r.classList.add("board-images--hidden"),e&&r.classList.add("board-images--palette"),r.addEventListener("pointerdown",i=>{i.stopPropagation()}),r.addEventListener("wheel",i=>{i.stopPropagation()}),r}}function oc({items:e=[],keys:t=[],createKey:n}={}){if(!n&&!t.length)throw new Error("Need to specify at least one key or createKey function");const r=!t.includes("id")&&n?["id",...t]:t,i=r.map(()=>new Map);e.forEach(p=>{s(p)});function a(p){let h;const y=i.find(b=>{let S=!1;const $=r.find(ce=>{const Re=p[ce];return Re&&(S=!0),Re&&b.has(Re)});if($)return h=p[$],!0;const G=n?.(p);if(!S&&!G)throw new Error("Could not find a key or create a key with passed in parameter");return G&&b.has(G)?(h=G,!0):!1});return h&&y?.get(h)}function s(p){r.forEach((h,y)=>{var b;const S=(b=p[h])!=null?b:n?.(p);S&&i[y].set(S,p)})}function u(){var p;return[...(p=i[0])==null?void 0:p.values()]}function f(){i.forEach(p=>p.clear())}return{find:a,set:s,getAsArray:u,clear:f}}function ac({context:e,imagesBaseURL:t,soundsBaseURL:n,showCloseButton:r,paletteContainer:i}){const a=e.api,s=new Map,u=new Map,f=new Map,p=oc({keys:["id","name"],createKey:Ol}),h={windowPosition:void 0,window:void 0},y=Kh(Boolean(i)),b={framesMap:s,markedSquares:u,hotkeysMap:f,shortcuts:p,windowState:h};return S(y);function S($){const G=Ih(f),ce=ys(f),Re=Il(s),At=Cd({api:a,framesMap:s,shortcuts:p}),it=Xu(p),St=Ch(p),Kt=Yu(a,u),Yn=Qu({api:a,markedSquares:u,framesMap:s,shortcuts:p}),hr=tc(u),cr=Ju(u),un=ec(u,a),Wt=Eh(h),Tn=Ll({state:b,api:a,boardImagesDOM:$}),Dn=Pd(a),vr=nc({boardImagesDOM:$,framesMap:s,windowState:h,hotkeysMap:f,shortcuts:p,showCloseButton:r,api:a}),Zn=kh({windowState:h,hotkeysMap:f,api:a}),xr=Ph({windowState:h,api:a,boardImagesDOM:$}),ir=Th(h),hi=Sh(a,$),Ji=bh(a),ao=Mh({api:a,boardImagesDOM:y,imagesBaseURL:t,soundsBaseURL:n,paletteContainer:i}),lr=xh(a,$),Nr=Oh(b,$),qr=Md(b);return{initDefault:ao,reset:Ji,destroy:lr,isInitialized:Dn,getFrames:Re,setFrames:At,getAllMarkingShortcuts:it,getMarkingShortcut:St,setHotkeys:Zn,getHotkeys:ce,getHotkey:G,mark:Yn,unmark:Kt,isMarked:hr,getMarkings:cr,clearMarkings:un,selectMarking:Nr,getSelectedMarking:qr,getWindow:Wt,setWindow:vr,showWindow:xr,hideWindow:Tn,toggleWindow:hi,getWindowPosition:ir,dom:$}}}function Rl(...e){return function(n,r){return Boolean(e.find(i=>i(n,r)))}}function Go(e){return function(n,r){return e in n.data&&typeof n.data[e]<"u"&&n.data[e]!==null}}function sc(e){return function(n,r){return r.api.keys.getPressedKeys().includes(e)}}function Dd({context:e,squares:t=[],whereOptions:n}){const r=e.api,i=Array.isArray(t)?t:[t],a=n?r.markings.getAllWhere(n):r.markings.getAll();return i.length>0?a.filter(s=>i.includes(s.data.square)):a}function lc({getSquares:e,whereOptions:t}){return function(r,i){return Dd({context:i,squares:e?.(r,i),whereOptions:t}).length>0}}function Dl({getSquares:e,whereOptions:t}){return function(r,i){return Dd({context:i,squares:e?.(r,i),whereOptions:t}).length===0}}function uc({getSquares:e}){return function(n,r){const i=e(n,r);if(!i)return!1;const a=Array.isArray(i)?i:[i],s=r.api;return Boolean(a.find(u=>s.boardImages.isMarked(u)))}}function ro(e,t){return t.api.keys.getPressedKeys().length>0}function Vs(e,t){return!ro(e,t)}function Bl(e,t){const n=t.api,r=n.keys.getPressedKeys();return Boolean(n.boardImages.getHotkey(r))}function cc(e,t){const n=t.api;return Boolean(n.boardImages.getWindowPosition())}function Zh(e,t){return!t.api.boardImages.isInitialized()}function Po(e,t){return t.api.boardImages.isInitialized()}function Fl(e,t){const n=t.api;return Boolean(n.boardImages.getSelectedMarking())}function Xh({getValue:e,ignoreFirstValue:t=!1}){let n,r=!1;return function(a,s){const u=e(a,s);if(t&&!r)return r=!0,n=u,!1;const f=n!==u;return n=u,f}}function Qh(e,t){const{queue:n}=t,r=t.api;return n.add(r.boardImages.hideWindow),!1}function Bd({square:e,el:t,renderer:n,boardFlipped:r=!1}){if(!n)return{x:0,y:0};const i=n.getCoordsFromSquare(e,r);return n.name===wn.Types.WebGL2D?{x:i.x/t.clientWidth*100+6.25,y:i.y/t.clientHeight*100-6.25}:n.name===wn.Types.WebGL3D?{x:i.x/t.clientWidth*100,y:i.y/t.clientHeight*100,centered:!0}:{x:(i.x+100)/800*100,y:i.y/800*100}}function Fd({getContainer:e}){return function(n,r){const i=e(n,r);if(!i)return;const{queue:a,renderer:s,options:u}=r,f=r.api,p=f.boardImages.getWindowPosition();if(!p)return;const h=Bd({square:p,el:i,renderer:s,boardFlipped:u.flipped});a.add(f.boardImages.showWindow,{square:p,squareCoords:h})}}function zo({getContainer:e}){return function(n,r){const i=e(n,r);if(!i)return!0;const{renderer:a}=r,s=r.api;return s.boardImages.initDefault({boardContainerAspectRatio:a?.getBoardContainerAspectRatio()}),s.boardImages.dom.resetBoardElement(i),!0}}function fc({getSquares:e}){return function(n,r){const i=e?.(n,r),{queue:a}=r,s=r.api;return i?a.add(s.boardImages.unmark,i):a.add(s.boardImages.clearMarkings),!1}}function $d({getSquare:e}){return function(n,r){const i=e(n,r);if(!i)return!0;const{queue:a}=r,s=r.api,u=s.keys.getPressedKeys(),f=s.boardImages.getHotkey(u);return f?(a.add(s.boardImages.mark,{square:i,model:f.model}),!1):!0}}function dc({getSquares:e,whereOptions:t}){return function(r,i){const a=e?.(r,i),{queue:s}=i,u=i.api,f=t?u.markings.getAllWhere(t):u.markings.getAll(),p=Array.isArray(a)?a:[a],y=(a?f.filter(b=>p.includes(b.data.square)):f).map(b=>b.key);return y.length?(y.length===1?s.add(u.markings.removeOne,y[0]):y.length>1&&s.add(u.markings.removeMany,y),!1):!0}}function pc({getContainer:e,getSquare:t}){return function(r,i){const a=e(r,i),s=t(r,i);if(!a||!s)return!0;const{queue:u,renderer:f,options:p}=i,h=i.api,y=Bd({square:s,el:a,renderer:f,boardFlipped:p.flipped});return u.add(h.boardImages.toggleWindow,{square:s,squareCoords:y}),!1}}function Hd({getSquares:e,getMarking:t}){return function(r,i){const a=e(r,i),s=t(r,i);if(!a||!s)return!0;const{queue:u}=i,f=i.api,p={model:s,square:a};return u.add(f.boardImages.mark,p),!1}}function Ud(e,t){const{queue:n}=t,r=t.api;return n.add(r.boardImages.selectMarking),!1}function jd(e,t){return e.data}function zi(...e){return function(n,r){const a=e.map(s=>s.includes(".")?s.split(".").reduce((u,f)=>u?.[f],n.data):s.length>0?n.data[s]:n.data).filter(s=>typeof s<"u");if(a.length!==0)return a.length>1?a:a[0]}}function $l(e){return function(n,r){return e??r.el}}function Yh(){return function(t,n){return n.api.boardImages.getSelectedMarking()}}const Ei="square",Gd="move",Hl="move.to",Wa="move.rookTo",Jh="flipped";function zd(e){return[{condition:kr(on(_o),Go(Gd),Po,uc({getSquares:zi(Hl,Wa)})),handler:fc({getSquares:zi(Hl,Wa)})},{condition:kr(at(k.InstanceEvents.RendererSet),Xh({getValue:jd,ignoreFirstValue:!0}),Po),handler:zo({getContainer:$l(e)})}]}function e1(e){return[{condition:kr(at(k.OptionsEvents.Update),Go(Jh),Po,cc),handler:Fd({getContainer:$l(e)})}]}function t1({keyToOpenWindow:e,useLeftClick:t,container:n}){const r=t?k.UserEvents.PointerdownLeft:k.UserEvents.PointerdownRight;return[{condition:kr(at(r),ro,Go(Ei),Zh),handler:zo({getContainer:$l(n)})},{condition:kr(at(r),ro,Go(Ei),Po,Dl({getSquares:zi(Ei),whereOptions:{persistent:!0,types:[re,m]}}),sc(e)),handler:pc({getContainer:$l(n),getSquare:zi(Ei)})},{condition:kr(on([k.UserEvents.PointerdownLeft,k.UserEvents.PointerdownRight]),Vs,Po,cc),handler:Qh}]}function n1({keyToOpenWindow:e,useLeftClick:t}){const n=t?k.UserEvents.PointerdownLeft:k.UserEvents.PointerdownRight;return[{condition:kr(at(n),ro,Go(Ei),Po,Dl({getSquares:zi(Ei),whereOptions:{persistent:!0,types:[re,m]}}),Bl),handler:$d({getSquare:zi(Ei)})},{condition:kr(at(n),ro,Go(Ei),Po,uc({getSquares:zi(Ei)}),Rl(sc(e),Bl)),handler:fc({getSquares:zi(Ei)})},{condition:kr(at(n),ro,Go(Ei),Po,lc({getSquares:zi(Ei),whereOptions:{persistent:!0,types:[re]}}),Rl(sc(e),Bl)),handler:dc({getSquares:zi(Ei),whereOptions:{persistent:!0,types:[re]}})}]}function r1(e){const t=e?k.UserEvents.PointerdownLeft:k.UserEvents.PointerdownRight,n=e?k.UserEvents.PointerdownRight:k.UserEvents.PointerdownLeft;return[{condition:kr(at(n),Po,Fl),handler:Ud},{condition:kr(at(t),Go(Ei),Vs,Po,Dl({getSquares:zi(Ei),whereOptions:{persistent:!0,types:[re,m]}}),Fl),handler:Hd({getSquares:zi(Ei),getMarking:Yh()})},{condition:kr(at(t),Go(Ei),Vs,Po,uc({getSquares:zi(Ei)}),Fl),handler:fc({getSquares:zi(Ei)})},{condition:kr(at(t),Go(Ei),Vs,Po,lc({getSquares:zi(Ei),whereOptions:{persistent:!0,types:[re]}}),Fl),handler:dc({getSquares:zi(Ei),whereOptions:{persistent:!0,types:[re]}})}]}function i1({keyToOpenWindow:e=lt.DefaultKeyToOpenWindow,imagesBaseURL:t,soundsBaseURL:n,useLeftClick:r=!0,paletteContainer:i}={}){const{commonBeforeHandlers:a,windowBeforeHandlers:s,commonHandlers:u,windowHandlers:f,paletteModeBeforeHandlers:p}=S(),h=Boolean(i);return{api:$=>ac({context:$,imagesBaseURL:t,soundsBaseURL:n,showCloseButton:!h,paletteContainer:i}),beforeState:[...h?p:s,...a],match:[...h?[]:f,...u],name:lt.Plugin.Name,requires:["keys","custom-items","effects","sounds"],create:y,destroy:b};function y($){$.api.boardImages.dom.resetBoardElement(i??$.el)}function b($){$.api.boardImages.destroy()}function S(){return{commonBeforeHandlers:n1({keyToOpenWindow:e,useLeftClick:r}),windowBeforeHandlers:t1({keyToOpenWindow:e,useLeftClick:r,container:i}),commonHandlers:zd(i),windowHandlers:e1(i),paletteModeBeforeHandlers:r1(r)}}}function qs(){return[ka(),$e(),ke(),ln()]}function Ks({exclude:e}={}){const t={[An.Plugin.Name]:w0,[de.Plugin.Name]:Xt,[jt.Plugin.Name]:vn,[pn.Plugin.Name]:Ui,[O.Plugin.Name]:ea,[Ft.Plugin.Name]:bt,[rn.Plugin.Name]:Un,[vt.Plugin.Name]:jr,[je.Plugin.Name]:so,[Rs.Plugin.Name]:sl,[Ii.Plugin.Name]:Mt,[ve.Plugin.Name]:oe,[P.Plugin.Name]:Bc};e&&e.forEach(i=>{delete t[i]});const n=[ha,Bs,ds],r=[...qs()];return Object.keys(t).forEach(i=>i===vt.Plugin.Name?r.push(t[i](n)):r.push(t[i]())),r}function Wd(){return[...Ks(),sn(),Sn(),Te(),Gt()]}function o1(){return[...Wd(),ut(),Ne(),$c()]}var a1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",createAnalysisOverlayPlugin:ut,createArrowKeysPlugin:vn,createArrowsPlugin:Ui,createAssetsPlugin:ka,createBlinkingHighlightPlugin:ea,createBoardDisabledPlugin:Mt,createBoardSizePlugin:$e,createCheatDetectionPlugin:Gt,createCoordinatesPlugin:bt,createCustomItemsPlugin:Te,createDebugPlugin:Ne,createEffectsPlugin:Sn,createFadeSetupPlugin:sn,createFlipBoardPlugin:Un,createHighlightsPlugin:jr,createHoverSquarePlugin:so,createMoveHintsPlugin:oe,createPiecesPlugin:ke,createRendererErrorCatcherPlugin:ln,createSoundsPlugin:Bc,createTimeControlPlugin:Fc,createKeysPlugin:w0,createWebGLContextLostPlugin:mv,createRecorderPlugin:$c,createMinimalPlugins:qs,createStandardPlugins:Ks,createPremiumPlugins:Wd,createKitchenSinkPlugins:o1,createEcoPlugin:ul,createPregamePlugin:L0,createPremovesPlugin:va,createReportingPlugin:yu,createVerticalMoveListPlugin:_l,createHorizontalMoveListPlugin:Ad,createBoardImagesPlugin:i1});const s1=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*((\d|\.)+))?\)$/;function Vd(e){if(e.search("rgb")===-1)return e;const t=e.match(s1);return`#${hc(t[1])}${hc(t[2])}${hc(t[3])}`}function l1(e){return e.search("rgba")===-1?1:parseFloat(e.match(s1)[4])}function hc(e){return`0${parseInt(e,10).toString(16)}`.slice(-2)}function vc(e,t){return window.getComputedStyle(e,t).backgroundImage}function Ul(e){const[t,n]=e.split("/").pop().split(".")[0];return t==="w"?n.toUpperCase():n}function u1(e){return{file:e.toLowerCase().charCodeAt(0)-96,rank:Number(e.charAt(1))}}function qd(e){if(!(!e||!e.file||!e.rank||e.file>8||e.rank>8))return`${String.fromCharCode(96+e.file)}${e.rank.toString()}`}function xv(e,t){return function(r){const i=Object.entries(r).map(([a,s])=>{var u;if(!s||!((u=e.overridableMethods)!=null&&u.includes(a)))return;const f=e[a];return e[a]=s(e,t),function(){e[a]=f}});return function(){i.map(s=>s?.())}}}function jl({base:e,initialOptions:t}){return function(r){const i=Object.keys(t).reduce((p,h)=>(p[h]=t[h].default,p),{}),a=e({api:r,options:i}),s=xv(a,r);return Object.assign(a,{extendMode:s,getOptions:u,setOption:f});function u(){return i}function f(p,h){var y;if(!((y=t[p])!=null&&y.editable)){Kd(p);return}i[p]=h,r.emit(k.OptionsEvents.UpdateMode,pr(k.OptionsEvents.UpdateMode,{[p]:h}))}}}function sa(e,t){return function(r={}){const i=Object.keys(r).reduce((a,s)=>{var u;return(u=t[s])!=null&&u.editable?Object.assign(a,{[s]:{default:r[s],editable:!0}}):Kd(s),a},t);return jl({base:e,initialOptions:i})}}function Kd(e){console.warn(`${e} is not an editable option in this mode.`)}function Zd({api:e,followAlternateLines:t=!1,mv:n}){const{game:r,mutateGame:i}=e.getContext(),a=i(function(){r.moveForward(t,n)});return a?.plyDiff?(r.moveBackward(),!0):!1}function c1({canAddMovesToMainLine:e,isAtEndOfLine:t,node:n}){var r;const i=Eo(n)?(r=n?.ids)==null?void 0:r.line:n?.id;return!e&&t&&i===0}function f1(e){const{api:t}=e,n=t.move;return function(i){const a=t.isAtEndOfLine(),{canAddMovesToMainLine:s}=t.getMode().getOptions();if(Zd({api:t,followAlternateLines:!0,mv:i}))return n(i);if(c1({canAddMovesToMainLine:s,isAtEndOfLine:a,node:t.getRelativeNode()}))return u();return n(i);function u(){return t.createContinuation()?n(i):null}}}var Gl;(function(e){(function(t){t.Name="analysis"})(e.Plugin||(e.Plugin={}))})(Gl||(Gl={}));function zl(){return{apiOverrides:{move:f1},name:Gl.Plugin.Name}}var co;(function(e){(function(t){t.Analysis="analysis",t.CaptureTheStar="capture-the-star",t.Explorer="exploring",t.GuessTheMove="guess-the-move",t.PassiveObserving="passive-observing",t.Observing="observing",t.Playing="playing",t.Setup="setup"})(e.Types||(e.Types={}))})(co||(co={}));function d1({api:e}){return{isAllowedToMove:t,name:co.Types.Analysis,plugins:[zl(),ut()]};function t(){const{canAddMovesToMainLine:n}=e.getMode().getOptions();return n||Boolean(e.getSelectedNode())}}const p1=sa(d1,{canAddMovesToMainLine:{default:!0,editable:!0},canInteractWithPieces:{default:!0,editable:!0},canMoveWhenGameIsOver:{default:!0,editable:!1},canModifyExistingMovesOnMainLine:{default:!0,editable:!0}});var Xd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:p1}),Wl;(function(e){(function(t){t.Completed="CTSCompleted"})(e.Events||(e.Events={})),function(t){t.Name="captureTheStar"}(e.Plugin||(e.Plugin={}))})(Wl||(Wl={}));function h1(e){return function(n){e.config.set("items",n)}}function o(e){return function(){var n;return((n=e.getHistorySANs())==null?void 0:n.length)-1||0}}function l(e,t){return function(){const r=e.captureTheStar;return{completed:t.status.get("completed")||!1,completedMoveCount:t.status.get("completedMoveCount"),itemsRemaining:r.getNumItemsRemaining(),moveCount:r.getCurrentMoveCount()}}}function c(e){return function t(n={}){const{api:r,game:i}=e,a=r.markings,{previousNode:s}=n;let u=[];if(s){const f=i.ids();i.moveBackward(),u=t(),i.selectPosition(f.move,f.line)}else u=a.getAllWhere({types:[m]});return u}}function d(e){return function(){return e.captureTheStar.getItems().map(r=>r.data.square)}}const v={noFromSquareOnMoveObj:'Move object has no "from" square.',cannotLoadWithoutItems:"Cannot load without any items.",cannotLoadWithoutPiece:"Cannot load without a piece.",configurationMissingForItem:"Configuration missing for custom item"};function _(e,t){const{file:n,rank:r}=fr(e),{file:i,rank:a}=fr(t),s="abcdefgh",u="12345678";if(n===i)return R(r,a).map(h=>`${s.charAt(n-1)}${u.charAt(h-1)}`);if(r===a)return R(n,i).map(h=>`${s.charAt(h-1)}${u.charAt(r-1)}`);if(Math.abs(i-n)!==Math.abs(a-r))throw new Error("Squares are not on same file, rank, or diagonal");const f=R(n,i),p=R(r,a);return f.reduce((h,y,b)=>(h.push(`${s.charAt(y-1)}${u.charAt(p[b]-1)}`),h),[])}function R(e,t){const[n,r]=[e,t].sort();return Array(r-n-1).fill(void 0).map((i,a)=>n+a+1)}function q(e){return function(n){const r=e.captureTheStar,{from:i,to:a}=n;if(!i)throw new Error(v.noFromSquareOnMoveObj);let s=[];return n.piece.toLowerCase()==="n"?s=[a]:s=[a,..._(i,a)],r.getItems({previousNode:!0}).filter(u=>!s.includes(u.data.square))}}function ge(e){return function(){const n=e.captureTheStar;return Object.keys(n.getItems()).length}}function st(e){return function(){return Boolean(e.status.get("completed"))}}function kt(e,t,n){const r=e?.[n];if(!W[n]&&!r)return null;const i={data:{square:t,type:r?W.Image:W.Star},node:!0,persistent:!0,type:m,key:`cts-${t}`};return r&&(i.data.image={url:r}),i}function zt(e,t){return function(r){const{items:i,piece:a}=r,{api:s,game:u,respond:f}=e,p=s.captureTheStar,h=s.markings;if(!Object.keys(i).length)throw new Error(v.cannotLoadWithoutItems);if(!a)throw new Error(v.cannotLoadWithoutPiece);return s.clearMarkings(),u.load("8/8/8/8/8/8/8/8"),u.put(a,a.square),Object.entries(i).forEach(([y,b])=>{const S=kt(t.config.get("items"),y,b);if(!S)throw new Error(v.configurationMissingForItem);h.addOne(S)}),s.setPlayingAs(a.color),s.setTurn(a.color),p.resetPuzzleStatus(),f(k.APIEvents.Load,{pieces:s.getPieces()})}}function Nn(e){return function(){e.status.set("completed",!1),e.status.delete("completedMoveCount")}}function tr(e,t){return function(){const r=e.captureTheStar;r.getNumItemsRemaining()===0&&!r.isCompleted()&&(t.status.set("completed",!0),t.status.set("completedMoveCount",r.getCurrentMoveCount()),r.emit(Wl.Events.Completed,r.getData()))}}function Or(e){const{api:t}=e,n=(0,A.a)(),r=a();r.config.set("items",{});const i=Nn(r);return i(),he(Se({configureItems:h1(r),getCurrentMoveCount:o(t),getData:l(t,r),getItems:c(e),getItemSquares:d(t),getNextItems:q(t),getNumItemsRemaining:ge(t)},n),{isCompleted:st(r),load:zt(e,r),resetPuzzleStatus:i,updatePuzzleStatus:tr(t,r)});function a(){return{config:new Map,status:new Map}}}function Tt(e){return e===U.ColorsAsNumbers.Black?U.ColorsAsNumbers.White:U.ColorsAsNumbers.Black}function ar(e,t){const n=Tt(t.color)===U.ColorsAsNumbers.Black?"p":"P",r=t.color===U.ColorsAsNumbers.Black?t.type:t.type.toUpperCase(),i=new Array(8).fill(void 0).map(()=>new Array(8).fill("."));return i[8-t.rank][t.file-1]=r,e.reduce((a,s)=>{const{file:u,rank:f}=fr(s);return!u||!f||(a[8-f][u-1]=n),a},i).map(a=>a.join("").replace(/(\.+)/g,s=>s.length.toString())).join("/")}function Ir(e,t){return[...new Map(e.map(n=>[n[t],n])).values()]}function dr(e){const{api:t,game:n}=e,r=t.getLegalMoves;return function(){const a=t.captureTheStar;if(!t.getPlayingAs())return[];const u=r(),f=n.getPieces(!1)[0];if(!f||f.type!=="p")return u;const p=ar(a.getItemSquares(),f),h=A.J.getLegalMoves(p);return Ir([...u,...h],"san")}}function Pr(e){const{api:t}=e,n=t.getMove;return function(i){var a;const s=n(i);return s||((a=t.getLegalMoves().find(u=>u.to===i.to))!=null?a:null)}}function Qr(e){const{api:t,game:n}=e,r=t.move;return function(a){if(!t.isAtEndOfLine())return t.selectLineEnd();if(!a.userGenerated||!("flags"in a))return r(a);const s=a;return zr(s)&&s.piece==="p"&&n.put({type:"p",color:Tt(s.color)},a.to),r(a)}}function sr(e){return function(){var n;const{respond:r,game:i,mutateGame:a}=e,s=a(function(){i.moveBackward()});return!s||s.lineDiff===0&&s.plyDiff===0?r(k.APIEvents.MoveBackward,null):((n=s.move)!=null&&n.captured&&(s.move.captured=void 0),r(k.APIEvents.MoveBackward,s))}}function ti(e){return{api:Or,apiOverrides:{getLegalMoves:dr,getMove:Pr,move:Qr,moveBackward:sr},create:t,match:[{condition:on(_o),handler:r},{condition:at(k.APIEvents.Move),handler:n}],name:Wl.Plugin.Name};function t(i){const{api:a}=i,s=a.captureTheStar;e&&s.configureItems(e.items)}function n(i,a){const{api:s,queue:u}=a,f=s.captureTheStar,p=s.markings,h=s.getContext().game,y=f.getNextItems(i.data.move);u.add(function(){u.add(function(){p.addMany(y),h.turn(s.getPlayingAs()),f.updatePuzzleStatus()})})}function r(i,a){const{api:s,queue:u}=a,f=s.getPlayingAs();!f||u.add(s.setTurn,f)}}function Yr(e){return function(){e.isAtEndOfLine()||e.selectLineEnd()}}function No({api:e}){return{isAllowedToMove:t,handleIllegalMove:Yr(e),name:co.Types.CaptureTheStar,plugins:[ti()],usePlayingAs:!0};function t(){return!0}}const bs=sa(No,{canAddMovesToMainLine:{default:!0,editable:!1},canInteractWithPieces:{default:!0,editable:!0},canModifyExistingMovesOnMainLine:{default:!1,editable:!1}});var So=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:bs});function To(e){return Eo(e)?{line:e.ids.line,move:e.ids.move+1}:{line:0,move:0}}function Aa(e){const{api:t}=e,n=t.move;return function(i){if(t.isAtEndOfLine())return n(i);const{line:a,move:s}=To(t.getRelativeNode());return t.deletePosition(s,a),n(i)}}var As;(function(e){(function(t){t.Name="exploring"})(e.Plugin||(e.Plugin={}))})(As||(As={}));function Lo(){return{apiOverrides:{move:Aa},name:As.Plugin.Name}}function Ca(){return{isAllowedToMove:e,name:co.Types.Explorer,plugins:[Lo()]};function e(){return!0}}const Zs=sa(Ca,{canAddMovesToMainLine:{default:!0,editable:!1},canInteractWithPieces:{default:!0,editable:!0},canModifyExistingMovesOnMainLine:{default:!0,editable:!1}});var Et=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:Zs}),dt;(function(e){(function(t){t.Name="guessTheMove"})(e.Plugin||(e.Plugin={})),function(t){t.CancelGuess="CancelGuess",t.GuessConfirmed="GuessConfirmed",t.GuessMade="GuessMade"}(e.APIEvents||(e.APIEvents={})),function(t){t.Correct="#96bc4b",t.Incorrect="#c93430"}(e.Colors||(e.Colors={}))})(dt||(dt={}));function tn(e){let t=[];return{cancel:n,confirm:r,get:i,getActiveGuess:a,guess:u,reset:f};function n(){const{api:p,respond:h}=e,y=a();!y||(t.pop(),h(k.APIEvents.SetBoardPosition,{pieces:p.getPieces()}),h(dt.APIEvents.CancelGuess,y))}function r(p){const{respond:h}=e,y=s();!y||(Object.assign(y,{confirmed:!0,correct:p}),h(dt.APIEvents.GuessConfirmed,y))}function i(){return t}function a(){const p=s();return p?.confirmed?void 0:p}function s(){return t[t.length-1]}function u(p){var h,y;const{api:b,respond:S}=e,$=he(Se({},p),{confirmed:!1,correct:!1,ids:(y=(h=b.getSelectedNode())==null?void 0:h.ids)!=null?y:{line:0,move:0}});t.push($),S(dt.APIEvents.GuessMade,$)}function f(){t=[]}}function rr(e){const{api:t,game:n,respond:r}=e,i=t.move;return function(f){return f.userGenerated?s(f):a(f)};function a(u){const f=Se({},u),p=t.guessTheMove.getActiveGuess(),h=t.getMove(u);if(!h||!p)return t.isAtEndOfLine()?i(u):t.addMoveToEndOfLine(f);const y=h.color===t.getPlayingAs()&&h.san===p.san;return u.animate=!y,t.reload(),i(u),t.guessTheMove.confirm(y)}function s(u){if(t.isLegalMove(u)){const f=n.move(u);if(!f)return r(k.APIEvents.IllegalMove);t.guessTheMove.guess(f);const p=Se({},t.getPieces());return n.undo(),r(k.APIEvents.SetBoardPosition,{pieces:p})}return r(k.APIEvents.IllegalMove)}}const wr="gtm";function Zr(e,t){var n;const{api:r,options:i}=t,a=(n=r.guessTheMove)==null?void 0:n.getActiveGuess();if(!i||!i.allowMarkings||!a)return[];const s=[];if(a.from){const f=Da({color:i.premoveHighlightColor,opacity:i.premoveHighlightOpacity,square:a.from,type:wr});s.push(f)}const u=Da({color:i.premoveHighlightColor,opacity:i.premoveHighlightOpacity,square:a.kingTo||a.to,type:wr});return s.push(u),s}function Wr(){let e=!1;return{api:tn,apiOverrides:{move:rr},beforeState:[{condition:at(k.UserEvents.PointerdownRight),handler:n}],destroy:r,match:[{condition:on(_o),handler:a},{condition:on(dt.APIEvents),handler:t},{condition:at(dt.APIEvents.GuessConfirmed),handler:i}],name:dt.Plugin.Name};function t(s,u){var f,p,h;if(e)return;const{api:y}=u;(f=y.highlights)==null||f.addModule(Zr),((h=(p=y.highlights)==null?void 0:p.getModules())!=null?h:[]).find(b=>b.name==="getGuessTheMoveHighlights")&&(e=!0)}function n(s,{api:u,queue:f}){return u.guessTheMove.getActiveGuess()?(f.add(u.guessTheMove.cancel),!1):!0}function r(s){var u;const{api:f}=s;(u=f.highlights)==null||u.removeModule(Zr)}function i(s,u){const{api:f}=u,{correct:p,ids:h}=s.data;f.updateNode(h,{customColor:p?dt.Colors.Correct:dt.Colors.Incorrect})}function a(s,u){const{api:f,queue:p}=u;s.type===k.APIEvents.Load&&f.guessTheMove.reset();const h=f.getTurn();p.add(f.setPlayingAs,h)}}function Vr({api:e}){return{isAllowedToMove:t,handleIllegalMove:Yr(e),name:co.Types.GuessTheMove,plugins:[Wr()],usePlayingAs:!0};function t(){return e.guessTheMove&&e.isAtEndOfLine()&&!e.guessTheMove.getActiveGuess()}}const li=sa(Vr,{canAddMovesToMainLine:{default:!0,editable:!1},canInteractWithPieces:{default:!0,editable:!0},canModifyExistingMovesOnMainLine:{default:!1,editable:!1}});var ii=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:li});function oi(e){const{api:t,respond:n}=e,r=t.load;return function(a,s){const u=t.observing;return u.setCachedPGN(""),u.isAnalyzing()&&(u.clearCachedIds(),n(ra.APIEvents.AnalysisEnd)),r(a,s)}}function pi(e){return Boolean(e&&"san"in e&&e.san==="--")}function Mo({move:e,api:t,game:n}){const r=t.observing,i=n.ids();n.selectPosition(0,0),n.createVariation(),n.move(e);const a=t.getRawLines().length-1;n.promoteVariation(a,0),n.deletePosition(0,a);const{playSounds:s}=t.getOptions();s&&t.setOptions({playSounds:!1});const u=r.getCachedIds();u&&r.clearCachedIds(),t.load({pgn:t.getPGN()}),s&&t.setOptions({playSounds:!0}),u&&r.setCachedIds(u.move,u.line),t.selectNode(i.line,i.move)}function Va(e){const{api:t,respond:n,game:r}=e,i=t.move;return function(f){const p=t.observing.getCachedPGN();return p&&t.load({pgn:p}),f.userGenerated?a(f):s(f)};function a(u){var f;const p=t.observing,{move:h,line:y}=r.ids(),b=p.isAnalyzing(),S=Ws(y);((f=t.getLine(0))==null?void 0:f.length)===0&&r.move("--");const $=t.getNodeByIds({line:0,move:0});if(pi($)&&pi(t.getSelectedNode())&&t.selectNode(0,-1),pi($)&&"san"in u){const Re=A.J.sanToObj(u.san,t.getFEN());Object.assign(u,Re),u.san=""}S&&!Zd({api:t,followAlternateLines:!0,mv:u})&&t.isAtEndOfLine()&&t.createContinuation();const G=i(u);if(G?.type!==k.APIEvents.Move)return G;const ce=Ws(r.ids().line);return S&&!ce&&!b&&(p.setCachedIds(h,y),n(ra.APIEvents.AnalysisStart)),G}function s(u){const f=t.observing,p=pi(t.getNodeByIds({line:0,move:0})),h=t.getLine(0);if(p&&h?.length===1){Mo({move:u,api:t,game:r});return}return f.isAnalyzing()||!t.isAtEndOfLine()?t.addMoveToEndOfLine(u,0):i(u,!1)}}function Ea({api:e}){const t=e.moveForward;return function(r,i){return t(a(),i);function a(){return r??(e.observing.isAnalyzing()?void 0:!1)}}}function wa(e){const{api:t}=e;return function(r,i){const a=t.observing;if(!a.isAnalyzing())return;if(pi(t.getNodeByIds({line:0,move:0}))){const u=t.getPGN();t.load({pgn:"*"}),a.setCachedPGN(u);return}const s=a.getCachedIds();r?t.load(r,i):t.load({pgn:t.getPGN()}),s&&t.selectNode(s.line,s.move)}}function Qd(e){let t,n="";return{clearCachedIds:r,getCachedIds:i,isAnalyzing:a,restorePosition:wa(e),setCachedIds:s,setCachedPGN:u,getCachedPGN:f};function r(){t=void 0}function i(){return t}function a(){return Boolean(t)}function s(p,h){t={move:p,line:h}}function u(p){n=p}function f(){return n}}function mc({data:e}){return e.lineDiff!==void 0&&e.lineDiff!==0}function Cg(e,t){return!kv(e,t)}function kv(e,{api:t}){return t.observing.isAnalyzing()}function gc(e,t){const{api:n}=t;return pi(n.getNodeByIds({line:0,move:0}))}function v1(e,t){const{api:n}=t;return!pi(n.getNodeByIds({line:0,move:0}))}function m1(e,t){const{api:n}=t;return pi(n.getSelectedNode())}function Iv(e,t){var n,r;const{api:i}=t,a=i.getSelectedNode();return((n=a?.ids)==null?void 0:n.line)===0&&((r=a?.ids)==null?void 0:r.move)===-1}function Ov(e,t){const{api:n}=t,r=n.getSelectedNode();return Boolean(r&&r.ids.line!==0)}function Nv(e,t){const{api:n}=t,r=n.getLine(1);return Boolean(!r||r.length===0)}function Eg(e,t){var n;const{data:r}=e;return Boolean(((n=r.line)==null?void 0:n.atMoveNode)===0)}function g1(e,t){const{api:n,queue:r}=t;if(n.observing.isAnalyzing())return;r.add(function(){const s=i();!s||(n.observing.setCachedIds(s.move,s.line),n.getContext().respond(ra.APIEvents.AnalysisStart))});function i(){var a;const s=(a=n.getSelectedNode())==null?void 0:a.ids;if(!s)return;if(s.line===0)return s;let u=n.getLine(s.line);for(;u.parentId&&u.parentId>1;)u=n.getLine(u.parentId);return{line:u.parentId,move:u.atMoveNode}}}function wg(e,t){const{api:n,queue:r}=t;r.add(function(){n.selectNode(1,0)})}function Pg(e,t){const{api:n,queue:r}=t,i=n.getLine(1);if(i){const a=Math.max(...i.map(s=>s.moveNumber));r.add(function(){n.selectNode(1,a)})}}function Lv(e,t){const{api:n}=t,r=n.observing;n.deletePosition(0,0),r.setCachedPGN(""),r.restorePosition()}function Sg(e,t){const{api:n,queue:r}=t;r.add(function(){n.selectNode(0,-1)})}function Tg(e,t){const{api:n}=t,r=n.observing,{overlayInAnalysisMode:i}=n.getOptions(),a=r.isAnalyzing();a!==i&&n.setOptions({overlayInAnalysisMode:a})}function Rv(e,t){const{api:n}=t;n.observing.restorePosition()}function Mg(e,t){const{api:n,queue:r}=t;r.add(function(){n.selectNode(0,0)})}function xg(e,t){var n,r,i,a,s,u;const{api:f}=t,p=f.observing,h=(n=f.getSelectedNode())==null?void 0:n.ids;if(!h)return;if(h.line===0){p.setCachedIds(h.move,h.line);return}let y=(r=f.getLine(h.line))==null?void 0:r.id;if(!y)return;for(;(i=f.getLine(y))!=null&&i.parentId;){const S=(a=f.getLine(y))==null?void 0:a.parentId;if(typeof S=="number"&&(y=S),!S)break}const b=((u=(s=f.getLine(y))==null?void 0:s.atMoveNode)!=null?u:0)-1;p.setCachedIds(b,0)}function kg(){return[{condition:on([ra.APIEvents.AnalysisStart,ra.APIEvents.AnalysisEnd]),handler:Tg},{condition:kr(on(_o),kv),handler:xg},{condition:kr(at(k.APIEvents.ResetToMainLine),gc),handler:Lv},{condition:kr(at(k.APIEvents.ResetToMainLine),v1),handler:Rv},{condition:kr(at(k.APIEvents.DeletePosition),gc,Nv),handler:Lv},{condition:kr(at(k.APIEvents.DeletePosition),gc,Eg),handler:Mg},{condition:kr(at(k.APIEvents.DeletePosition),v1,Nv),handler:Rv},{condition:kr(at(k.APIEvents.SelectNode),m1),handler:Sg},{condition:kr(at(k.InstanceEvents.ModeChanged),Ov),handler:g1},{condition:kr(at(k.APIEvents.SelectNode),v1,Ov),handler:g1},{condition:kr(at(k.APIEvents.MoveForward),Cg,mc),handler:g1},{condition:kr(at(k.APIEvents.MoveForward),gc,Rl(m1,Iv)),handler:wg},{condition:kr(at(k.APIEvents.SelectLineEnd),gc,Rl(m1,Iv)),handler:Pg}]}function Ig(){return{api:Qd,apiOverrides:{load:oi,move:Va,moveForward:Ea},create:e,match:kg(),name:ra.Plugin.Name};function e(t){const{api:n}=t;n.setOptions({overlayInAnalysisMode:!1})}}function Og(){return{isAllowedToMove:e,name:co.Types.Observing,plugins:[ut(),Ig()]};function e(){return!0}}const Ng=sa(Og,{canAddMovesToMainLine:{default:!0,editable:!1},canInteractWithPieces:{default:!0,editable:!0},canModifyExistingMovesOnMainLine:{default:!1,editable:!1}});var Lg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:Ng});function Rg(e){const{api:t}=e;return function(){if(!t.isAtEndOfLine())if(t.getMode().getOptions().canModifyExistingMovesOnMainLine){const{line:r,move:i}=To(t.getRelativeNode());t.deletePosition(i,r)}else t.selectLineEnd()}}function Dg(e){const{api:t}=e,n=t.move,r=Rg(e);return function(a){return t.isGameOver()&&t.getMode().getOptions().canMoveWhenGameIsOver&&t.setResult(U.Results.None),r(),n(a)}}var _1;(function(e){(function(t){t.Name="playing"})(e.Plugin||(e.Plugin={}))})(_1||(_1={}));function Bg(){return{apiOverrides:{move:Dg},name:_1.Plugin.Name}}function Fg({api:e}){return{handleIllegalMove:Yr(e),isAllowedToMove:t,name:co.Types.Playing,plugins:[Bg()],overridableMethods:["isAllowedToMove"],usePlayingAs:!0};function t(){return tf({api:e,canMoveWhenNotPlayerTurn:!1,modeOptions:e.getMode().getOptions()})}}const $g=sa(Fg,{canAddMovesToMainLine:{default:!0,editable:!0},canMoveWhenGameIsOver:{default:!1,editable:!0},canInteractWithPieces:{default:!0,editable:!0},canModifyExistingMovesOnMainLine:{default:!1,editable:!0}});var Dv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:$g});function Hg(){return{isAllowedToMove:e,name:co.Types.PassiveObserving};function e(){return!1}}const Ug=sa(Hg,{canAddMovesToMainLine:{default:!1,editable:!1},canInteractWithPieces:{default:!1,editable:!1},canModifyExistingMovesOnMainLine:{default:!1,editable:!1}});var Bv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:Ug}),y1;(function(e){(function(t){t.DropPiece="DropPiece",t.MovePiece="MovePiece",t.RemovePiece="RemovePiece"})(e.Events||(e.Events={})),function(t){t.Name="setup"}(e.Plugin||(e.Plugin={}))})(y1||(y1={}));function jg(e){return function({piece:n,square:r}){const{api:i,game:a}=e;return a.remove(r),a.put(n,r),i.setGameDetails({FEN:a.fen()}),i.reload()}}function Gg(e){return function({from:n,piece:r,to:i}){const{api:a,game:s}=e;return s.remove(n),s.remove(i),s.put(r,i),a.setGameDetails({FEN:s.fen()}),a.reload()}}function zg(e){return function(n){const{api:r,game:i}=e;return i.remove(n),r.setGameDetails({FEN:i.fen()}),r.reload()}}function Wg(e){return{dropPiece:jg(e),movePiece:Gg(e),removePiece:zg(e)}}function Vg(){return function(t){return t}}function qg(e){const{api:t}=e;return function(r){const{color:i,drop:a,from:s,to:u}=r,{setup:f}=t,p=i&&a?{color:i,type:a}:t.getPiece(s);!p||(s&&u?f.movePiece({from:s,piece:p,to:u}):u?f.dropPiece({piece:p,square:u}):s&&f.removePiece(s))}}function Kg(){return{api:Wg,apiOverrides:{getMove:Vg,isLegalMove:()=>!0,move:qg},name:y1.Plugin.Name}}function Zg(){return{isAllowedToMove:e,name:co.Types.Setup,plugins:[Kg()]};function e(){return!0}}const Xg=sa(Zg,{canAddMovesToMainLine:{default:!1,editable:!1},canDropOffBoard:{default:!0,editable:!1},canInteractWithPieces:{default:!0,editable:!0},canModifyExistingMovesOnMainLine:{default:!1,editable:!1},canDropPiecesContinuously:{default:!0,editable:!0}});var Qg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:Xg});function _c({move:e,startingMoveNumber:t}){if(!e)return null;const{moveNumber:n}=e,r=n%2===0&&e.color===U.ColorsAsNumbers.Black||n%2!==0&&e.color===U.ColorsAsNumbers.White,i=t+Math.floor(n/2)+(r&&e.color===U.ColorsAsNumbers.White?1:0);return he(Se({},e),{ply:e.ids.move+1,wholeMoveNumber:i})}function Fv({baseTimeDs:e,incrementDs:t,lastTimeDs:n,currentTimeDs:r}){if(!r)return fl;const i=n??e,a=r-t,s=i-a;return Math.max(s,fl)}function b1({api:e,node:t}){const n=e.getLine(0),r=e.timeControl.get();if(!n||!r)return null;const i=t.time,a=$0({api:e,node:t}),s=a?.time,{baseTime:u,increment:f}=r;return Fv({baseTimeDs:Fa(u),incrementDs:Fa(f),lastTimeDs:s,currentTimeDs:i})}function Yg(e){const t=Math.floor(e%36e3/600),n=Math.floor(e%36e3%600)/10;return`${Math.floor(e/36e3)}:${t<10?"0":""}${t}:${n<10?"0":""}${n}`}function Jg({api:e,node:t,clk:n}){const{line:r,move:i}=t.ids,a=e.getContext().game;t.commands||(t.commands={}),a.updateNode({commands:Object.assign(t.commands,{clk:n===null?n:Yg(n)})},i,r)}function $v({context:e,time:t}){const{api:n,game:r}=e,i=r.moveDetails();i.time=t,Jg({api:n,node:i,clk:t});const a=b1({api:n,node:i});a&&Bi({api:n,node:i,timestamp:a})}function e_(e){return function(n,r=0){var i;const{api:a,game:s,mutateGame:u,respond:f}=e,{ids:p}=(i=a.getSelectedNode())!=null?i:{ids:{move:-1,line:0}},{move:h,line:y}=p;s.selectLineEnd(r);const b=u(function(){s.move(n,!1),n.time&&$v({context:e,time:n.time})});return s.selectPosition(h,y),b===null?f(k.APIEvents.IllegalMove,{fen:s.fen(),move:n}):(b.move=_c({move:b.move,startingMoveNumber:s.startingMoveNumber()})||void 0,f(k.APIEvents.AddMove,{listMove:b.move}))}}function t_(e){return function(){const{api:n,respond:r}=e;return n.isGameOver()?null:(n.setResult(U.Results.Draw),r(k.APIEvents.DrawAgreed))}}function n_(e){return function(n){const{respond:r}=e,i={data:n,type:Zt};return r(k.APIEvents.BlinkHighlight,[i])}}function Hv(e){const{move:t,followContinuations:n=!0,steps:r=1,context:i}=e,{mutateGame:a,game:s}=i,u=s.ids(),f=a(function(){s.moveForward(n,t)});let p=f?.plyDiff===1;if(r>1&&p)for(let y=1;y<r&&(p=s.moveForward(n),!!p);y++);const h=s.ids();return s.selectPosition(u.move,u.line),{firstStepData:f,startIds:u,endIds:h,success:p}}function r_(e){return function(n){const{move:r,followContinuations:i,steps:a}=n??{},{success:s}=Hv({context:e,move:r,followContinuations:i,steps:a});return s}}function Uv(e){return e.inThreefoldRepetition()||e.in50MoveRule()}function i_(e){return function(){const{api:n,game:r}=e;return n.isGameOver()?null:Uv(r)?(n.setResult(U.Results.Draw),e.respond(k.APIEvents.DrawClaimed)):null}}const Yd={ClearMarkings:Jd("clearMarkings","api.markings.removeAll/removeAllWhere/removeMany/removeOne"),Mark:Jd("mark","api.markings.addOne/addMany"),ToggleMarking:Jd("toggleMarking","api.markings.toggleOne/toggleMany"),Unmark:Jd("unmark","api.markings.removeOne/removeMany")};function Jd(e,t){return`The "${e}" method is deprecated and will be removed in v2.0.0. Please use the ${t} methods instead.`}function o_(e){return function(n,r={}){console.warn(Yd.ClearMarkings);const{api:i,respond:a}=e,s=i.markings,u=n?.map(f=>f==="square"?"highlight":f);return s.removeAllWhere(he(Se({},r),{types:u})),a(k.APIEvents.ClearMarkings)}}function a_(e){return function(){const{api:n,game:r,respond:i}=e,a=r._getPos();if("initial"in a)return null;r.createVariation(),r.move(a);const s=n.getRelativeNode();return i(k.APIEvents.CreateContinuation,{node:s})}}function s_(e){return function(n,r){const{api:i,game:a,respond:s}=e,u=i.getRawLines()[r];return a.deletePosition(n,r),r===0&&i.getResult()!==U.Results.None&&i.setResult(U.Results.None),s(k.APIEvents.DeletePosition,{ids:{line:r,move:n},line:u,pieces:i.getPieces()})}}function l_(e){const t={};return function(r,i){const a=Object.entries(i).map(([s,u])=>{if(!!u)return t[s]||(t[s]={extensions:{},original:e.api[s]}),e.api[s]=u(e),t[s].extensions[r]=u,function(){delete t[s].extensions[r],e.api[s]=t[s].original,Object.keys(t[s].extensions).map(p=>e.api[s]=t[s].extensions[p](e))}});return function(){a.map(u=>u&&u())}}}function u_(e){return e.inCheckmate()||Boolean(e.isVariantWin())||Boolean(e.isBughouseWin())}function c_(e){return function(){const{api:n,game:r}=e;let i=U.Results.None;const a=Uv(r);return u_(r)?i=r.turn()===U.ColorsAsNumbers.Black?U.Results.White:U.Results.Black:(a&&n.getOptions().autoClaimDraw||!a&&r.inDraw())&&(i=U.Results.Draw),i}}function f_(e){return function(){return e}}function d_(e){return function(){const{game:n}=e;return n.history({toCurrent:!0,verbose:!0})}}function p_(e){return function(){const{game:n}=e;return n.fen()}}function h_(e){return function(){return A.J.gameFingerprints({game:e.game,analysis:!0})}}function v_(e){return function(){const{game:n}=e;return n.headers()}}function e0(e){return e===-1}function m_(e){return function(n=!1){const{game:r}=e,i=r._getPos();return i.ids&&i.ids.line===0&&e0(i.ids.move)&&i.fen?[i.fen]:r.history({toCurrent:!n,verbose:!0}).map(a=>a.fen)}}function g_(e){return function(){const{game:n}=e;return n.history(!1)}}function __(e){return function(){var n;const{api:r}=e,i=((n=r.premoves)==null?void 0:n.getQueue())||[],a=A.J.createGame({pgn:r.getPGN(),analysis:!0,timestamps:r.times.get()||r.timestamps.get()||void 0});return a?(a.premove.queue.push(...i),a):null}}function y_(e){return function(){const{game:n}=e;return n.history(!0).slice(-1)[0]}}function b_(e){return function(){const{game:n}=e;return A.J.getLegalMoves({game:n})}}function A_(e){return function(n){return Ds(e.api.getLegalMoves().filter(r=>typeof n>"u"||r.from===n).map(r=>r.to))}}function C_(e){return function(n){const{game:r}=e,i=r.startingMoveNumber(),a=e.api.getRawLines()[n];if(!!a)return a.forEach((s,u)=>{const f=_c({move:s,startingMoveNumber:i});a[u]=f}),a}}function E_(e){const t={[U.Node.Marking.Types.Arrow]:{},[U.Node.Marking.Types.CustomItem]:{},[U.Node.Marking.Types.Effect]:{},[U.Node.Marking.Types.Square]:{}};return e.map(r=>{var i;return Se({markingType:r.type==="highlight"?"square":r.type,key:(i=r.data.square)!=null?i:`${r.data.from}${r.data.to}`,color:bi.Default},r.data)}).reduce((r,i)=>{const{key:a,markingType:s}=i;return r[s][a]=i,r},t)}function w_(e){return function(){const{api:n}=e,r=n.markings;return E_(r.getAll())}}function P_(e){return function(){const{game:n}=e;return n.material()}}function S_(e){return function(n){const{game:r}=e;if(n.to===null)return null;let i=r.getMove(n);return i===null&&(Object.assign(n,{promotion:"q"}),i=r.getMove(n)),i&&(i=r.moveDetails(i)),i}}function T_(e){return function(n){const{api:r,game:i}=e,a=r.getRawLines()[n.line];return a?e0(n.move)?a:_c({move:a[n.move],startingMoveNumber:i.startingMoveNumber()}):null}}function M_(e,t){return t.ids.line-e.ids.line}function jv(e){const{moveNumber:t}=e;return typeof t<"u"?t:-1}function x_(e,t){return jv(t)-jv(e)}function k_(e){if(!(e.flags!==U.Move.Flags.EPCapture||!e.from))return`${e.to.slice(0,1)}${e.from.slice(-1)}`}function A1(e){const t=he(Se({},e),{EPCapturedSquare:k_(e)});return e.rookFrom&&e.rookTo&&(t.rookMove={animate:!0,from:e.rookFrom,to:e.rookTo}),t}function I_(e){return function(n,r){const{api:i,game:a}=e,s=r??a._getPos(),u=n??a._getPos(-1,0),f={};return f.plyDiff=x_(u,s),f.lineDiff=M_(u,s),f.plyDiff===-1?f.move=A1(he(Se({},n),{animate:!0})):f.plyDiff===1?(f.animate=!0,f.move=A1(he(Se({},s),{animate:!0}))):f.pieces=i.getPieces(),f}}function O_(e){return function(){const{game:n}=e;return n.ids()}}function N_(e){return function(){const{game:n}=e;return Ye(n.getPieces(!0))}}function L_(e){return function(n={}){const{game:r}=e;return r.pgn(he(Se({},n),{useResultHeader:!0}))}}function R_(e){return function(n){const{game:r}=e;return r.get(n)}}function D_(e){return function(n,r){const{game:i}=e;return i._getPos(n,r)}}function B_(e){return function(n){const r=e.api.getPGN();return A.J.getPositionDetails({pgn:r},n)}}function F_(e){return function(n=[]){const{api:r}=e,i=U.JCEVariantTypes[r.getVariant()],a=A.J.getPositionInfo({game:e.game,analysis:!0},n,{variant:i});return typeof a=="object"?he(Se({},a),{gameOver:r.isGameOver()||a.gameOver,draw:r.getResult()===U.Results.Draw||a.draw}):!1}}function $_(e){return function(){const{game:n}=e;return n._lines()}}function H_(e){return function(n=0){const{game:r}=e,i=Se({},r.ids());i.move+=n;const a=e.api.getRawLines()[i.line];return e0(i.move)?a:_c({move:a[i.move],startingMoveNumber:r.startingMoveNumber()})}}function U_(e){return function(){const{game:n}=e;return n.headers().Result}}function j_(e){return function(){const{api:n,game:r}=e,i=r.ids();if(e0(i.move))return null;const a=n.getRawLines()[i.line];return _c({move:a[i.move],startingMoveNumber:r.startingMoveNumber()})}}function G_(e){return function(){const{game:n}=e;return A.J.encodeTCN(n.history(!0))}}function z_(e){return function(){const{game:n}=e;return n.turn()}}const W_={"3-check":U.Variants.ThreeCheck,Bughouse:U.Variants.Bughouse,Chess:U.Variants.Chess,Chess960:U.Variants.Chess960,Crazyhouse:U.Variants.Crazyhouse,"King of the Hill":U.Variants.KingOfTheHill};function V_(e){return function(){var n;const{api:r}=e,i=r.getHeaders().Variant;return i&&(n=W_[i])!=null?n:U.Variants.Chess}}function q_(e){return function(){const{game:n}=e,r=n.ids();return e.api.getRawLines()[r.line].length-1===r.move}}function K_(e){return function(){const{game:n}=e;if(n.inCheck()){const r=e.api.getPieces();return r.keys().filter(i=>{const a=r.get(i);return a.type==="k"&&a.color===n.turn()})[0]}return!1}}function Z_(e){return function(){const{api:n}=e;return n.getResult()!=="*"}}function X_(e){return function(n){const{game:r}=e;return r.getMove(n)!==null}}function Q_(e,t){if(t&&e){const n=Fa(e.baseTime),r=Fa(e.increment);return t.map((i,a)=>typeof i!="number"?i:Fv({baseTimeDs:n,incrementDs:r,lastTimeDs:a<=1?void 0:t[a-2],currentTimeDs:i}))}return t}function Y_(e){let t=e;return Object.keys(vi).reverse().forEach(n=>{t=t.replace(new RegExp(`\\${n}`,"gm"),vi[n])}),t}function J_(e){return function({fen:n,moves:r,pgn:i,times:a,timestamps:s,timeControl:u,variant:f=U.Variants.Chess,pieces:p},h){const{api:y,game:b,respond:S}=e;let $=!1;if(i){const At=Y_(i);$=b.loadPgn(At)}else n&&($=b.load(n,f));(r||r==="")&&($=b.loadMoves(r,Se({autoPromote:!0},h)));const G=y.getLine(0),ce=a?Q_(u||y.timeControl.get(),a):s;if(ce&&G&&G.forEach((At,it)=>{const St=ce[it];St!==void 0&&Bi({api:y,node:At,timestamp:St})}),u&&y.timeControl.set(u),!$)throw new di({code:ri.BadData,data:{fen:n,pgn:i},message:"Unable to load with provided data."});const Re=y.getResult();return y.setResult(Re===U.Results.None?y.getCalculatedResult():Re),S(k.APIEvents.Load,he(Se(Se({},A.J.getPositionDetails({game:b,skipValidation:!0})),A.J.getPositionInfo({analysis:!0,game:b})),{line:G,pieces:p??y.getPieces(),variant:f}))}}function C1(e,t={}){const[n,r]=Object.entries(e)[0],{node:i,persistent:a}=t;return Kr(r).map(s=>{const u={data:s,node:i,persistent:a,type:n==="square"?Zt:n};return he(Se({},u),{key:na(u)})})}function e3(e){return function(n,r,i){var a,s;console.warn(Yd.Mark);const{api:u}=e,f=u.markings,p=C1(n,{node:(a=i?.node)!=null?a:r,persistent:(s=i?.persistent)!=null?s:!0});return f.addMany(p),pr(k.APIEvents.Mark,p)}}function t3(e={}){let t=s(e);return{add:n,clear:r,get:i,remove:a};function n(u,...f){let p=t;f.forEach(h=>{h in p||(p[h]={}),p=p[h]}),Object.assign(p,u)}function r(u){u?t[u]={}:t=s(e)}function i(){return s(t)}function a(...u){let f=t;const p=u.length-1;u.forEach((h,y)=>{h in f&&y!==p&&(f=f[h])}),delete f[u[p]]}function s(u){return JSON.parse(JSON.stringify(u))}}function n3(e,t){const n=typeof e=="string"?A.J.sanToObj(e,t):e,{animate:r=!0,san:i,tcn:a,time:s,userGenerated:u,userGeneratedDrop:f}=n;return{animate:r,san:i,tcn:a,time:s,userGenerated:u,userGeneratedDrop:f}}function r3(e){return function(n,r=!0){const{api:i,game:a,mutateGame:s,respond:u}=e,{animate:f,san:p,tcn:h,time:y,userGenerated:b,userGeneratedDrop:S}=n3(n,i.getFEN()),$=s(function(){if(!(h?a.loadMoves(h.slice(0,2),{atCurrent:!0,method:"merge"}):a.move(p||n,r)))return null;y&&$v({context:e,time:y})});return $===null?u(k.APIEvents.IllegalMove,{fen:a.fen(),move:n}):($.result&&i.setResult($.result),$.move&&(Object.assign($.move,{animate:f,userGenerated:b,userGeneratedDrop:S}),$.move=A1($.move)),u(k.APIEvents.Move,$))}}function i3(e){return function(){const{respond:n,game:r,mutateGame:i}=e,a=i(function(){r.moveBackward()});return!a||a.lineDiff===0&&a.plyDiff===0?n(k.APIEvents.MoveBackward,null):n(k.APIEvents.MoveBackward,a)}}function o3(e){return function(n,r){const{respond:i,api:a,game:s}=e,{move:u,followContinuations:f,steps:p}=a3(n,r);if(p<1)return null;const{firstStepData:h,success:y,endIds:b}=Hv({context:e,move:u,followContinuations:f,steps:p});return p===1||h?.plyDiff!==1?(s.selectPosition(b.move,b.line),i(k.APIEvents.MoveForward,h)):y?a.selectNode(b.line,b.move):i(k.APIEvents.MoveForward,null)}}function a3(e,t){var n;let r={},i;typeof e=="object"?r=e:i=e;const{move:a,followContinuations:s,steps:u}=r;return{move:a??t,followContinuations:(n=s??i)!=null?n:!0,steps:u??1}}function s3(e){return function(n,r){const{game:i,respond:a}=e;return i.moveVariation(n,r)?a(k.APIEvents.MoveVariation):null}}function l3(e,t){return function(r){const i=e.moveDetails(),a=t.getCalculatedResult();if(r()===null)return null;const u=e.moveDetails(),f=t.getCalculatedResult(),p=t.getNodeDiffData(i,u);a!==f&&Ws(u?.ids.line)&&(p.result=f);const{line:h,move:y}=e.ids();return p.linesReordered=h!==0&&y===0&&e.reorderLines(),p}}function Gv(e){return Object.keys(e).reduce((t,n)=>(e[n]!==U.EmptyPGNHeaders.Value&&e[n]!==U.EmptyPGNHeaders.Date&&(t[n]=e[n]),t),{})}const u3={trans:c3,transChoice:f3};function c3(e,t,n){return e}function f3(e,t,n,r){return`${t}`}function d3(e){return function(n){const{api:r,game:i,respond:a}=e,s=Tt(n),u=(0,A.F)(ps(s)),f=r.getHeaders()[u];r.setResult(s===U.ColorsAsNumbers.Black?U.Results.Black:U.Results.White),i.header({Termination:u3.trans("%username% won on time",{"%username":f})});const p=he(Se({},Gv(i.header())),{color:n});return a(k.APIEvents.OutOfTime,p)}}function p3(e){return function(){const{api:n,game:r,respond:i}=e;return i(k.APIEvents.Reload,{holdSelectedPiece:!0,pieces:Ye(r.getPieces(!0)),variant:n.getVariant()})}}function h3(e){let t=U.ColorsAsNumbers.White,n=!1;return{getPlayingAs:r,setPlayingAs:i,usePlayingAs:a};function r(){return n?t:void 0}function i(s){if(s===t)return null;const{respond:u}=e;return t=s,u(k.APIEvents.SetPlayingAs,s)}function a(s){n=s||!1}}function v3(e){return function(n,r){const{game:i,respond:a}=e;return i.promoteVariation(n,r)?a(k.APIEvents.PromoteVariation):null}}const m3="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";function g3(e){return function(){const{api:n,respond:r}=e;return n.setResult(U.Results.None),n.load({fen:m3}),r(k.APIEvents.ResetGame)}}function _3(e){return function(n){const{api:r,respond:i}=e;if(r.isGameOver())return null;const a=n===U.ColorsAsNumbers.White?U.Results.Black:U.Results.White;return r.setResult(a),i(k.APIEvents.GameResigned,a)}}function y3(e){return function(){const{api:n,game:r,respond:i}=e;return r.resetToMainLine(),i(k.APIEvents.ResetToMainLine,{pieces:n.getPieces()})}}function b3(e){return function(n,r){const i=pr(n,r);return e.emit(n,i),i}}function A3(e){return function(n){const{api:r,game:i,mutateGame:a,respond:s}=e,u=a(function(){i.selectLineEnd(n)});return u&&(u.pieces=r.getPieces()),s(k.APIEvents.SelectLineEnd,u)}}function C3(e){return function(){const{api:n,game:r,mutateGame:i,respond:a}=e,s=i(function(){r.selectLineStart()});return s&&(s.pieces=n.getPieces()),a(k.APIEvents.SelectLineStart,s)}}function E3(e){return function(n){const{game:r,respond:i}=e,a=Gv(r.header(n));return i(k.APIEvents.UpdatePGNHeaders,a)}}function w3(e){return function(n){const{api:r}=e;return r.setGameDetails({Result:n})}}function P3(e){return function(n){const{game:r,respond:i}=e;return r.turn()===n?null:(r.turn(n),i(k.APIEvents.TurnSet,n))}}function S3(e){return function(n,r,i){var a,s;console.warn(Yd.ToggleMarking);const{api:u}=e,f=u.markings,p=C1(n,{node:(a=i?.node)!=null?a:r,persistent:(s=i?.persistent)!=null?s:!0});return f.toggleMany(p),pr(k.APIEvents.Mark,p)}}function T3(e){return function(){const{api:n}=e,r=n.getSelectedNode();return r?n.deletePosition(r.ids.move,r.ids.line):null}}function M3(e){return function(n,r){const{game:i,respond:a}=e;return i.updateNode(r,n.move,n.line),a(k.APIEvents.NodeUpdated,{changes:r,ids:n,node:i._getPos(n.move,n.line)})}}function x3(e){return function(n,r){const{game:i,respond:a}=e;return i.updateLineComment(n,r),a(k.APIEvents.LineCommentUpdated,{comment:n,lineId:r})}}function k3(e){return function(n,r,i){var a,s;console.warn(Yd.Unmark);const{api:u}=e,f=u.markings,p=C1(n,{node:(a=i?.node)!=null?a:r,persistent:(s=i?.persistent)!=null?s:!0});return f.removeMany(p.map(h=>h.key)),pr(k.APIEvents.Unmark,p)}}function zv(e){return Array.isArray(e)&&Array.isArray(e[0])?e[0]:e}function I3(e){return function(n){const r=A.J.createGame(he(Se({timestamps:n.times||n.timestamps||void 0},n),{analysis:!0,autoPromote:!0}));if(!r)return;const{api:i}=e;let{times:a,timestamps:s}=n;return n.variant===U.Variants.Bughouse&&(a=zv(a),s=zv(s)),i.load({pgn:r.pgn({useResultHeader:!0}),variant:n.variant,times:a,timestamps:s,premoves:r.premove.queue&&r.premove.queue.length>0?r.premove.queue:void 0})}}function O3(e){return function(){const n=e.api.getHeaders().TimeControl;if(!n||n===X.Header.Null||n.includes(X.Header.Unset)||n.includes(X.Header.TimePerMove))return null;const[r,i]=n.split(X.Header.Separator).map(a=>Math.round(parseFloat(a)*1e3));return{baseTime:r,increment:i||0}}}function N3(e){const{baseTime:t,increment:n}=e;return(t+40*(n||0))/1e3}const L3={baseTime:3e5,increment:0},R3=1800,D3=6e3;function B3(e){return function(){const{api:n}=e,r=n.timeControl.get();if(r){const i=N3(r);if(i<R3)return X.Types.Bullet;if(i>D3)return X.Types.Rapid}return X.Types.Blitz}}function F3(e){return function(n){const{api:r}=e;if(n===null)return r.setGameDetails({TimeControl:X.Header.Null});const{baseTime:i,increment:a}=n,s=i/1e3,u=a/1e3;return r.setGameDetails({TimeControl:u?`${s}+${u}`:`${s}`})}}function $3(e){return{get:O3(e),getType:B3(e),set:F3(e)}}function Wv(e,t){if(e===null)return null;let n;switch(t){case Ct.Units.Milliseconds:n=e*100;break;case Ct.Units.Seconds:n=e*10;break;case Ct.Units.Deciseconds:default:n=e;break}return n}function H3(e,t){let n;switch(t){case Ct.Units.Milliseconds:n=e/100;break;case Ct.Units.Seconds:n=e*10;break;case Ct.Units.Deciseconds:default:n=e;break}return Math.round(n)}function Vv(e,t){return e===null?null:Math.max(fl,H3(e,t))}function U3(e){return{get:t,set:r,setMany:i};function t(a,{filtered:s=!0}={},u=Ct.Units.Deciseconds){var f;const{api:p}=e,h=(f=p.getLine(0))==null?void 0:f.map(wu);return a!==void 0?h[a]&&Wv(h[a],u):(s?h.filter(b=>b!==void 0):h).map(b=>Wv(b,u))}function n(){return t(void 0,{filtered:!1})}function r(a,s,u=Ct.Units.Deciseconds){var f;const{api:p,respond:h}=e,{getLine:y}=p,b=(f=y(0))==null?void 0:f[s];if(!b)return null;const S=Vv(a,u);return S===void 0?null:(Bi({api:p,node:b,timestamp:S}),h(k.APIEvents.NodeUpdated,{changes:{timestamp:S,node:b}}))}function i(a=[],s=Ct.Units.Deciseconds){const{api:u,respond:f}=e,p=a.length===0?n().map(()=>null):a;return u.getRawLines()[0].forEach((h,y)=>{if(p[y]===void 0)return;const b=Vv(p[y],s);b!==void 0&&Bi({api:u,node:h,timestamp:b})}),f(k.APIEvents.LineUpdated)}}function j3(e){return function(n){var r;const{api:i}=e,a=i.getLine(0);return n!==void 0?(r=a[n])==null?void 0:r.time:a.map(s=>s.time)}}function G3(e){return function(n=[]){const{api:r,respond:i}=e;return r.getRawLines()[0].forEach((a,s)=>{n[s]!==void 0&&(!a.time&&n[s]&&(a.time=n[s]),r.timestamps.set(b1({api:r,node:a}),s))}),i(k.APIEvents.LineUpdated)}}function z3(e){return function(n,r){var i;const{api:a,respond:s}=e,{getLine:u}=a,f=(i=u(0))==null?void 0:i[r];return f?(f.time||(f.time=n),a.timestamps.set(b1({api:a,node:f}),r),s(k.APIEvents.NodeUpdated,{changes:{time:n,node:f}})):null}}function W3(e){return{get:j3(e),set:z3(e),setMany:G3(e)}}function V3(e=100){const t=(0,A.a)(),n=[];let r=Ae.Levels.Debug;const i={[Ae.Levels.None]:0,[Ae.Levels.Error]:1,[Ae.Levels.Debug]:2};return he(Se({},t),{clear:a,get:s,log:u,setLogLevel:f});function a(){n.length=0}function s(p){return p?n.filter(h=>Object.entries(p).every(([y,b])=>h[y]===b)):n}function u({code:p,data:h,level:y=Ae.Levels.Debug,message:b}){if(i[y]>i[r])return;n.length===e&&n.shift();const S={code:p,data:h,level:y,message:b,timestamp:Date.now()};n.push(S),t.emit(Ae.Events.EntryAdded,S)}function f(p){r=p}}function q3({game:e,logger:t,options:n,eventEmitter:r}){const i=e||A.J.createGame(he(Se({},n),{analysis:!0,autoPromote:!0}));if(!i)throw new di({code:ri.BadData,data:n,message:"Error creating game from createAPI"});const a=r||(0,A.a)(),s=t3({arrow:{},customItem:{},effect:{},square:{}}),u={},f=l3(i,u),p=b3(a),h={api:u,emitter:a,game:i,markingCache:s,mutateGame:f,respond:p};return Object.assign(h.api,y()),h.api;function y(){return he(Se(he(Se({addMoveToEndOfLine:e_(h),agreeDraw:t_(h),blinkSquare:n_(h),canMoveForward:r_(h),claimDraw:i_(h),clearMarkings:o_(h),createContinuation:a_(h),createGame:I3(h)},h3(h)),{deletePosition:s_(h)}),a),{extendAPI:l_(h),getCalculatedResult:c_(h),getContext:f_(h),getCurrentFullLine:d_(h),getFEN:p_(h),getFingerprints:h_(h),getHeaders:v_(h),getHistoryFENs:m_(h),getHistorySANs:g_(h),getJCEGameCopy:__(h),getLastMove:y_(h),getLegalMoves:b_(h),getLegalMovesForSquare:A_(h),getLine:C_(h),getMarkings:w_(h),getMaterial:P_(h),getMove:S_(h),getNodeByIds:T_(h),getNodeDiffData:I_(h),getNodeIds:O_(h),getPGN:L_(h),getPiece:R_(h),getPieces:N_(h),getPosition:D_(h),getPositionDetails:B_(h),getPositionInfo:F_(h),getRawLines:$_(h),getRelativeNode:H_(h),getResult:U_(h),getSelectedNode:j_(h),getStartingMoveNumber:h.game.startingMoveNumber,getTCN:G_(h),getTurn:z_(h),getVariant:V_(h),isAtEndOfLine:q_(h),isCheck:K_(h),isGameOver:Z_(h),isLegalMove:X_(h),load:J_(h),logger:t||V3(),mark:e3(h),move:r3(h),moveBackward:i3(h),moveForward:o3(h),moveVariation:s3(h),outOfTime:d3(h),promoteVariation:v3(h),reload:p3(h),resetGame:g3(h),resetToMainLine:y3(h),resign:_3(h),selectLineEnd:A3(h),selectLineStart:C3(h),selectNode:Su(h),setGameDetails:E3(h),setResult:w3(h),setTurn:P3(h),timeControl:$3(h),times:W3(h),timestamps:U3(h),toggleMarking:S3(h),undo:T3(h),unmark:k3(h),updateLineComment:x3(h),updateNode:M3(h)})}}function qv(e={}){const t=e;return{get:n,set:r};function n(i){return i?t[i]:t}function r(i){Object.assign(t,i)}}function K3({params:e,run:t}){const n=pl(!1),r=Se({queue:n,reset:i,run:t,setMode:a,setRenderer:s,state:qv()},e);return r.reset(),r;function i(){r.queue=pl(!1),r.state=qv()}function a(u){r.mode=u}function s(u){r.renderer=u}}function Z3(e){return Object.values(k.APIEvents).includes(e.type)}function X3(e){return[k.APIEvents.AddMove,k.APIEvents.BlinkHighlight,k.APIEvents.ClearMarkings,k.APIEvents.Mark,k.APIEvents.LineUpdated,k.APIEvents.NodeUpdated,k.APIEvents.Unmark,k.APIEvents.UpdatePGNHeaders].includes(e)}const Q3={anyAPIEvent:({UpdateParams:e})=>(e.cancelMarkingStartSquare(),L.States.Idle),[k.UserEvents.PointerdownLeft]:({UpdateParams:e})=>(e.cancelMarkingStartSquare(),L.States.Idle),[k.UserEvents.Pointerup]:({context:e,data:{keyPressed:t,square:n},params:{markingStartSquare:r},UpdateParams:i})=>{const{api:{markings:a},queue:s}=e;if(n&&r){const u=r===n?a.factory.buildStandardAnalysisHighlight(n,t):a.factory.buildStandardArrow(r,n,t);s.add(a.toggleOne,u)}return i.cancelMarkingStartSquare(),L.States.Idle}};function Y3(e){return{cancelMarkingStartSquare:t,cancelPromotion:n,deselectPiece:r,dragPiece:i,dropPiece:a,resetElevatedState:s,selectPiece:u,setMarkingStartSquare:f,showPromotionArea:p};function t(){e.markingStartSquare=void 0}function n(){e.promotionMove=void 0}function r(){e.selectedPiece=void 0}function i(h,y){e.draggingPiece=y,e.draggingCoords=h}function a(){e.draggingPiece=void 0,e.draggingCoords=void 0}function s(){e.draggingPiece=void 0,e.draggingCoords=void 0,e.promotionMove=void 0,e.selectedPiece=void 0}function u(h){e.selectedPiece=h}function f(h){e.markingStartSquare=h}function p(h){e.promotionMove=Se({},h)}}const J3={[k.UserEvents.PointerdownLeft]:({context:e,data:{coords:t,square:n},UpdateParams:r})=>{const{api:{getPieces:i,markings:a},mode:{getOptions:s},options:u,queue:f,renderer:p,state:h}=e;if(n&&!u.disableUserMarkings&&f.add(a.removeAllWhere,{node:!0,persistent:!1,types:[qe,re,Zt]}),!u.enabled||!s().canInteractWithPieces||!i().isDefined(n))return L.States.Idle;if(u.moveMethod===Xn.MoveMethods.Click){const S=p?.getCoordsFromSquare(n,u.flipped);if(typeof S>"u")throw new di({code:ri.BadData,message:`getCoordsFromSquare returned undefined for ${n}`});return r.dragPiece(S,n),h.set({hideHoverSquare:!0}),p?.dragPiece({coords:S,square:n},e),L.States.PieceDragging}r.dragPiece(t,n);const b=t||p?.getCoordsFromSquare(n,u.flipped);return p?.dragPiece({coords:b,square:n},e),L.States.PieceDragging},[k.UserEvents.PointerdownRight]:({context:e,data:{square:t},UpdateParams:n})=>{const{options:r}=e;if(!(!r.enabled||r.disableUserMarkings))return n.setMarkingStartSquare(t),L.States.AddingMarkings}};function Kv({api:e,move:t,plyDiff:n,pieceSquare:r}){var i;const a=r&&((i=e.getPieces().getCollection()[r])==null?void 0:i.color);return!t||n!==1||!a||a===t.color&&!t.userGenerated?!0:t.from===r||t.to===r}const e2={anyAPIEvent:({context:e,data:{holdSelectedPiece:t,move:n,plyDiff:r},params:{draggingPiece:i},UpdateParams:a})=>{const{renderer:s}=e;return i&&!t&&Kv({api:e.api,move:n,pieceSquare:i,plyDiff:r})?(a.resetElevatedState(),s?.dropPiece(i,e),L.States.Idle):L.States.PieceDragging},[k.UserEvents.MousedownRight]:({context:e,params:{draggingPiece:t},UpdateParams:n})=>{const{renderer:r}=e;if(!t)throw new di({code:ri.BadData,message:"Attempted to pointerdown on a dragging piece but dragging piece is null or undefined"});return n.dropPiece(),n.deselectPiece(),r?.dropPiece(t,e),L.States.Idle},[k.UserEvents.Pointermove]:({context:e,data:{coordsInsideBoard:t},params:{draggingPiece:n},UpdateParams:r})=>{const{renderer:i}=e;if(!n)throw new di({code:ri.BadData,message:"Attempted to drag a piece but draggingPiece is null or undefined"});return r.dragPiece(t,n),i?.dragPiece({coords:t,square:n},e),L.States.PieceDragging},[k.UserEvents.Pointerup]:({context:e,data:{keyPressed:t,square:n},params:{draggingPiece:r,selectedPiece:i},UpdateParams:a})=>{var s;const{api:{getMove:u,getPiece:f,getTurn:p,isCheck:h,move:y,playSound:b},mode:S,options:$,queue:G,renderer:ce}=e;if(!r)throw new di({code:ri.BadData,message:"Attempted to pointerup on a dragging piece but dragging piece is null or undefined"});if(e.options.test){const St=e.el.querySelector(".dragging");St?.setAttribute("data-test-dragging","false"),St?.removeAttribute("dragging")}if(r===n)return a.dropPiece(),ce?.dropPiece(r,e),i===n||$.moveMethod===Xn.MoveMethods.DragOnly?(a.deselectPiece(),L.States.Idle):(a.selectPiece(r),L.States.PieceSelected);i&&a.deselectPiece();const Re={from:r,to:n},At=u(Re),it=S.isAllowedToMove()&&At?he(Se({},At),{animate:!1,userGenerated:!0,userGeneratedDrop:!0}):!1;if(!it){a.dropPiece(),S.handleIllegalMove&&G.add(S.handleIllegalMove,Re);const St=h();let Kt=!1;return((s=f(r))==null?void 0:s.color)===p()&&St&&($.playSounds&&G.add(b,P.BoardSounds.Illegal),Kt=St),ce?.illegalMove(Kt,e),ce?.dropPiece(r,e),$.moveMethod===Xn.MoveMethods.DragOnly?(a.deselectPiece(),L.States.Idle):(a.selectPiece(r),L.States.PieceSelected)}return ll(it)?!$.autoPromote||t==="alt"?(a.dragPiece({},r),a.showPromotionArea(it),ce?.dragPiece({square:r,toSquare:it.to},e),ce?.openPromotionWindow(it,e),L.States.PromotionAreaShowing):(a.dropPiece(),ce?.dropPiece(it.to,e),G.add(y,he(Se({},it),{promotion:U.Piece.Types.Queen})),L.States.Idle):(a.dropPiece(),n===null&&S.getOptions().canDropOffBoard?ce?.removePiece(r,e):ce?.dropPiece(n,e),G.add(y,it),L.States.Idle)}},t2={anyAPIEvent:({context:e,data:{holdSelectedPiece:t,move:n,plyDiff:r},params:{selectedPiece:i},UpdateParams:a})=>!t&&Kv({api:e.api,move:n,pieceSquare:i,plyDiff:r})?(a.resetElevatedState(),L.States.Idle):L.States.PieceSelected,[k.UserEvents.PointerdownLeft]:({context:e,data:{coords:t,keyPressed:n,square:r},params:{selectedPiece:i},UpdateParams:a})=>{const{api:{getMove:s,getPieces:u,move:f},mode:{isAllowedToMove:p},options:h,queue:y,renderer:b,state:S}=e;if(!i)throw new di({code:ri.BadData,message:"Attempted to interact with a selectedPiece but selectedPiece is null or undefined"});if(r===i){const At=h.moveMethod===Xn.MoveMethods.Drag||h.moveMethod===Xn.MoveMethods.DragOnly?t:b?.getCoordsFromSquare(r,h.flipped)||t;return a.dragPiece(At,i),h.moveMethod===Xn.MoveMethods.Click&&S.set({hideHoverSquare:!0}),b?.dragPiece({coords:At,square:i},e),L.States.PieceDragging}const $={from:i,to:r},G=u(),ce=s($),Re=p()&&ce?he(Se({},ce),{userGenerated:!0}):!1;if(!Re){if(a.deselectPiece(),!G.isDefined(r))return L.States.Idle;if(h.moveMethod===Xn.MoveMethods.Click){const At=b?.getCoordsFromSquare(r,h.flipped)||t;return a.dragPiece(At,r),S.set({hideHoverSquare:!0}),b?.dragPiece({coords:At,square:r},e),L.States.PieceDragging}return a.dragPiece(t,r),b?.dragPiece({coords:t,square:r},e),L.States.PieceDragging}return ll(Re)?!h.autoPromote||n==="alt"?(a.deselectPiece(),a.dragPiece({},i),a.showPromotionArea(Re),b?.dragPiece({square:i,toSquare:Re.to},e),b?.openPromotionWindow(Re,e),L.States.PromotionAreaShowing):(a.deselectPiece(),y.add(f,Re,he(Se({},Re),{promotion:U.Piece.Types.Queen})),L.States.Idle):(a.deselectPiece(),y.add(f,Re),L.States.Idle)},[k.UserEvents.PointerdownRight]:({context:e,data:{square:t},UpdateParams:n})=>{const{options:r}=e;if(!(!r.enabled||r.disableUserMarkings))return n.deselectPiece(),n.setMarkingStartSquare(t),L.States.AddingMarkings}};function t0({context:e,params:{draggingPiece:t},UpdateParams:n}){const{renderer:r}=e;return n.dropPiece(),n.cancelPromotion(),r?.dropPiece(t,e),r?.closePromotionWindow(e),L.States.Idle}const n2={anyAPIEvent:e=>e.type===k.APIEvents.Move?L.States.PromotionAreaShowing:t0(e),[k.BoardEvents.PromotionPiecePointerdown]:({context:e,data:{piece:t},params:{draggingPiece:n,promotionMove:r},UpdateParams:i})=>{const{api:{move:a},queue:s,renderer:u}=e;return i.dropPiece(),i.cancelPromotion(),u?.dropPiece(n,e),u?.closePromotionWindow(e),r&&s.add(a,{animate:!1,flags:r.flags,from:r.from,piece:U.Piece.Types.Pawn,promotion:t,to:r.to,userGenerated:!0}),L.States.Idle},[k.BoardEvents.PromotionAreaClosePointerdown]:t0,[k.UserEvents.PointerdownLeft]:t0,[k.UserEvents.PointerdownRight]:t0},Vl={createUpdateParams:Y3,getCurrentState:()=>L.States.Idle,getParams:()=>({draggingCoords:void 0,draggingPiece:void 0,markingStartSquare:void 0,promotionMove:void 0,selectedPiece:void 0}),states:{[L.States.AddingMarkings]:Q3,[L.States.PieceDragging]:e2,[L.States.Idle]:J3,[L.States.PromotionAreaShowing]:n2,[L.States.PieceSelected]:t2}};function r2(){const e=Vl.getParams(),t=Vl.createUpdateParams(e);let n=Vl.getCurrentState();const r=[He.Events.Tick];return function(s,u){if(r.includes(s.type))return;const{state:f}=u;f.set({draggingPiece:e.draggingPiece,machineState:n,promotionMove:e.promotionMove,selectedPiece:e.selectedPiece});const p=Z3(s)&&!X3(s.type)?"anyAPIEvent":s.type;if(!Vl.states[n]||!Vl.states[n][p]){f.set({machineState:n});return}const h=Vl.states[n][p]({context:u,data:s.data,params:e,UpdateParams:t,type:s.type}),y=n;if(n=h||n,y!==n&&(n===L.States.PieceDragging?document.onselectstart=()=>!1:y===L.States.PieceDragging&&(document.onselectstart=null)),!i())throw{data:{draggingPiece:e.draggingPiece,machineState:n,oldState:y,selectedPiece:e.selectedPiece},error:new di({code:ri.InvalidStateMachine,message:"The machine parameters and state do not match up."})};f.set({draggingPiece:e.draggingPiece,machineState:n,selectedPiece:e.selectedPiece})};function i(){return n===L.States.Idle?!e.draggingPiece&&!e.selectedPiece:n===L.States.PieceDragging?Boolean(e.draggingPiece):n===L.States.PieceSelected?!e.draggingPiece&&Boolean(e.selectedPiece):!0}}function i2(e,t){if(!e.beforeState)return!0;let n=!0;return e.beforeState.forEach(r=>{o2(r,t)===!1&&(n=!1)}),n}function o2(e,t){if(!!e.condition(...t))return e.handler(...t)}function Zv(e,t){if(!e.match)return;e.match.forEach(r=>n(r,t));function n(r,i){!r.condition(...i)||r.handler(...i)}}function a2(e){return e.reduce((t,n)=>(n.afterRender?t.afterRender.push(n):t.beforeRender.push(n),t),{beforeRender:[],afterRender:[]})}function s2({params:e,plugins:t}){const n=K3({params:e,run:s}),r=r2();return{getContext:i,getMode:a,run:s,setMode:u,setRenderer:f};function i(){return n}function a(){return n.mode}function s(h){const{api:{logger:y}}=n;y.log({code:k.LogCodes.Event,data:h}),n.reset();const b=t.get();p(h,b)&&r(h,n);const{beforeRender:$,afterRender:G}=a2(b);try{$.forEach(ce=>Zv(ce,[h,n])),n.queue.flush(),G.forEach(ce=>Zv(ce,[h,n])),n.queue.flush(),y.log({code:k.LogCodes.State,data:n.state.get()})}catch(ce){throw y.log({code:k.LogCodes.State,data:he(Se({},ce.data),{event:h,queue:n.queue,state:n.state.get()}),level:Ae.Levels.Error}),ce}}function u(h){n.setMode(h)}function f(h){n.setRenderer(h)}function p(h,y){return y.every(b=>i2(b,[h,n]))}}function n0(e){return e.altKey?It.Alt:e.ctrlKey?It.Ctrl:e.shiftKey?It.Shift:It.None}function Xv(e){return e.touches!==void 0}function Xs(e){return!Xv(e)&&e.which===3}function Qv(e){setTimeout(e)}function l2({el:e,getPointerPosition:t,options:n,run:r}){const i=ih(f);return{handleDocumentPointerdown:a,handlePointerdown:s,handlePointermove:i,handlePointerup:p};function a(h){const y=Xs(h)?k.UserEvents.PointerdownRight:k.UserEvents.PointerdownLeft,b=pr(y);return b.data={square:null},r(b)}function s(h){h.stopPropagation(),document.addEventListener(ga,i),document.addEventListener(vl,p);const y=Xs(h)?k.UserEvents.PointerdownRight:k.UserEvents.PointerdownLeft,b=pr(y);return b.data=he(Se({},t({el:e,event:h,flipped:n.flipped})),{keyPressed:n0(h)}),Qv(function(){document.addEventListener(Xr.Mousedown,u,{once:!0})}),r(b)}function u(h){const y=Xs(h)?k.UserEvents.MousedownRight:k.UserEvents.MousedownLeft,b=pr(y);return b.data=he(Se({},t({el:e,event:h,flipped:n.flipped})),{keyPressed:n0(h)}),r(b)}function f(h){const y=pr(k.UserEvents.Pointermove);y.data=he(Se({},t({el:e,event:h,flipped:n.flipped})),{keyPressed:n0(h)}),r(y)}function p(h){document.removeEventListener(Xr.Mousedown,u),document.removeEventListener(ga,i),document.removeEventListener(vl,p);const y=pr(k.UserEvents.Pointerup);return y.data=he(Se({},t({el:e,event:h,flipped:n.flipped})),{keyPressed:n0(h)}),r(y)}}var E1;(function(e){(function(t){t.CreateFailure="CreateFailure"})(e.LogCodes||(e.LogCodes={}))})(E1||(E1={}));function Yv(e){return(Array.isArray(e)?e:[e]).map(n=>{var r;return`${n.name} (requires: ${(r=n.requires)==null?void 0:r.join(", ")})`}).join(", ")}function u2(e,t=new Map){return!e||e.every(n=>t.has(n))}function c2(e,t=new Map){return Jv(e,t,new Map)}function Jv(e,t,n){if(e.size===0)return n;const r=e.size,i=new Map([...t.entries(),...n.entries()]);return e.forEach(a=>{u2(a.requires,i)&&(n.set(a.name,a),e.delete(a.name))}),r===e.size?(n.clear(),n):Jv(e,t,n)}function f2(e,t){if(e.length===0)return[];const n=new Map(e.map(a=>[a.name,a])),r=new Map(t.map(a=>[a.name,a])),i=c2(n,r);if(i.size===0){const a=Yv(e);throw new Error(`Required plugins do not exist: ${a}`)}return[...i.values()]}function d2(e=[],t){const n=td();return n.addMany(e),{add:i,addMany:i,get:n.getAll,has:n.has,remove:a,setCreatePluginContext:n.setContext};function r(s){const u=n.getContext();if(!u)return;const{api:f,apiOverrides:p,modeOverrides:h,name:y}=s;f&&(s.destroyAPIMethods=u.api.extendAPI(y,{[y]:f})),p&&(s.destroyAPIOverrides=u.api.extendAPI(y,p)),h&&(s.destroyModeOverrides=u.mode.extendMode(h))}function i(s){const u=Array.isArray(s)?s:[s];f2(u,n.getAll()).forEach(p=>{if(n.has(p.name)&&n.remove(p.name),r(p),!n.add(p)){const{name:y}=p;t?.log({code:E1.LogCodes.CreateFailure,data:{currentPlugins:n.getAll().map(b=>b.name),data:Yv(s),plugin:y},level:Ae.Levels.Error,message:`Could not create ${y} plugin`}),a(p.name)}})}function a(s){var u,f,p;if(!n.has(s))return;const h=n.getOne(s);n.remove(s),(u=h?.destroyAPIMethods)==null||u.call(h),(f=h?.destroyAPIOverrides)==null||f.call(h),(p=h?.destroyModeOverrides)==null||p.call(h)}}var r0;(function(e){(function(t){t.Default="staunton_executive",t.Trigger="real3d"})(e.PieceStyles||(e.PieceStyles={})),function(t){t.CameraSettings="cameraSettings"}(e.CacheKeys||(e.CacheKeys={})),function(t){t.Board="board-webgl-3d",t.PieceDrag="piece-dragging",t.PieceHover="piece-hover",t.PromotionWindow="promotion-window-3d",t.StatisticsPanel="statistics-panel"}(e.CssClasses||(e.CssClasses={})),function(t){t[t.AnalysisOverlay=1]="AnalysisOverlay",t[t.NotationPlane=2]="NotationPlane",t[t.OverSquare=3]="OverSquare",t[t.HighligtedSquare=4]="HighligtedSquare",t[t.Hint=5]="Hint",t[t.CustomItem=6]="CustomItem",t[t.PieceShadow=7]="PieceShadow",t[t.Arrow=8]="Arrow",t[t.Effect=9]="Effect",t[t.Highest=10]="Highest"}(e.ObjectsRenderOrder||(e.ObjectsRenderOrder={})),function(t){t[t.PositionY=.005]="PositionY"}(e.Arrow||(e.Arrow={})),function(t){t[t.PositionY=.005]="PositionY"}(e.CustomItem||(e.CustomItem={})),function(t){t[t.PositionY=.005]="PositionY"}(e.Effect||(e.Effect={})),function(t){t[t.Size=10]="Size",t[t.HalfSize=5]="HalfSize",t[t.BorderSize=.5]="BorderSize",t[t.OverBorderSize=.5]="OverBorderSize",t[t.VisibleY=.005]="VisibleY",t[t.InvisibleY=-.2]="InvisibleY",t[t.InsideTolerance=.01]="InsideTolerance"}(e.Square||(e.Square={})),function(t){t[t.MarginSize=4]="MarginSize",t[t.Size=88]="Size"}(e.Board||(e.Board={})),function(t){t[t.Distance=140]="Distance",t[t.DistanceMin=50]="DistanceMin",t[t.DistanceMax=500]="DistanceMax",t[t.PanAngle=0]="PanAngle",t[t.TiltAngle=100]="TiltAngle",t[t.HorizontalPanning=0]="HorizontalPanning",t[t.VerticalPanning=-12]="VerticalPanning",t[t.ZoomIncrement=5]="ZoomIncrement"}(e.Camera||(e.Camera={}))})(r0||(r0={}));function p2(e){return e===wn.Types.WebGL3D?Promise.all([j.e(525),j.e(804)]).then(j.bind(j,2804)):e===wn.Types.WebGL2D?Promise.all([j.e(525),j.e(87),j.e(155)]).then(j.bind(j,2155)):Promise.all([j.e(87),j.e(442)]).then(j.bind(j,2867))}function w1(e){const{Arcade:t,Natural:n}=Xn.Animation.Types;return e.pieceStyle===r0.PieceStyles.Trigger?wn.Types.WebGL3D:[t,n].includes(e.animationType)?wn.Types.WebGL2D:wn.Types.Default}function em(e){return p2(w1(e))}function h2(e,t,n,r){const i=w1(n),a=i!==r,s=i===wn.Types.WebGL2D,u="animationType"in e,f=e.animationType!==t.animationType,p=s&&u&&f;return Object.keys(e).some(y=>wn.TriggerOptions.includes(y))&&(a||p)}function v2(e){const t=w1(e);if(!(t===wn.Types.WebGL2D||t===wn.Types.WebGL3D)||(typeof window.hasWebGLSupport>"u"&&(window.hasWebGLSupport=r()),window.hasWebGLSupport))return!0;return tm(e,t===wn.Types.WebGL3D),!1;function r(){const i=document.createElement("canvas"),a=i.getContext("webgl")||i.getContext("experimental-webgl");return Boolean(a)&&a instanceof WebGLRenderingContext}}function tm(e,t=!1){const{pieceStyle:n,animationType:r}=qi();e.animationType=r,t&&(e.pieceStyle=n)}function m2(e){switch(e){case"../analysis/index.ts":return Promise.resolve().then(function(){return Xd});case"../capture-the-star/index.ts":return Promise.resolve().then(function(){return So});case"../exploring/index.ts":return Promise.resolve().then(function(){return Et});case"../guess-the-move/index.ts":return Promise.resolve().then(function(){return ii});case"../observing/index.ts":return Promise.resolve().then(function(){return Lg});case"../passive-observing/index.ts":return Promise.resolve().then(function(){return Bv});case"../playing/index.ts":return Promise.resolve().then(function(){return Dv});case"../setup/index.ts":return Promise.resolve().then(function(){return Qg});default:return new Promise(function(t,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}async function g2(e){return m2(`../${e.toLowerCase()}/index.ts`)}function _2(e){return function(){return e.state.get().machineState===L.States.PieceDragging}}const y2="1.19.0";function b2({api:e,apiOptions:t,el:n,emitter:r,init:i,logger:a,mode:s,options:u=qi(),plugins:f=Ks(),renderer:p}){const h=e||q3({eventEmitter:r,logger:a,options:t||{}}),y=Se(Se({},qi()),u);n.id=`board-${y.id}`;const b=d2(),S=vr();let $,G;const ce=s2({params:{api:h,el:n,options:y},plugins:b});b.setCreatePluginContext(ce.getContext());const Re=Object.assign(h,{destroy:St,getMode:ce.getMode,getOptions:Yn,getVersion:()=>y2,isDragging:_2(ce.getContext()),getRenderer:()=>$,playSound:cr,plugins:b,resize:un,run:hr,setMode:Wt,setOptions:Dn,setRenderer:S}),At=Wt(s);return"name"in At?it():At.then(it),Re;function it(){b.add(f),hr(pr(k.InstanceEvents.Create)),n.addEventListener("contextmenu",Zn=>(Zn.stopPropagation(),Zn.preventDefault(),!1)),h.onAll(hr),h.emit(k.InstanceEvents.Create,pr(k.InstanceEvents.Create,ce.getMode().name)),S(p).then(()=>{i&&h.load(i)})}function St(){Kt(),h.offAll(hr);const Zn=pr(k.InstanceEvents.Destroy);hr(Zn),h.emit(k.InstanceEvents.Destroy,Zn)}function Kt(){ce.setRenderer(),$?.offAll(h.logger.log),$?.destroy(),$=void 0,n.removeEventListener(lo,G?.handlePointerdown),document.removeEventListener(lo,G?.handleDocumentPointerdown),document.removeEventListener(ga,G?.handlePointermove),document.removeEventListener(vl,G?.handlePointerup)}function Yn(){return Se({},y)}function hr(Zn){return ce.run(Zn),Zn}function cr(Zn){hr(pr(k.SoundEvents.Play,{sound:Zn}))}function un(Zn,xr){hr(pr(k.UIEvents.Resize,{height:xr,width:Zn}))}function Wt(Zn){return"modeType"in Zn?g2(Zn.modeType).then(xr=>{const ir=xr.create(Zn.options);return Tn(ir)}):Tn(Zn)}function Tn(Zn){var xr,ir;const hi=ce&&ce.getMode();hi&&((xr=hi.plugins)==null||xr.forEach(ao=>b.remove(ao.name)),b.get().forEach(ao=>{var lr;return(lr=ao.destroyModeOverrides)==null?void 0:lr.call(ao)}),(ir=hi.destroy)==null||ir.call(hi));const Ji=Zn(h);return h.usePlayingAs(Ji.usePlayingAs),Ji.plugins&&b.add(Ji.plugins),b.get().forEach(ao=>ao.modeOverrides&&Ji.extendMode(ao.modeOverrides)),ce&&(ce.setMode(Ji),hr(pr(k.InstanceEvents.ModeChanged)),h.emit(k.InstanceEvents.ModeChanged,pr(k.InstanceEvents.ModeChanged,ce.getMode().name))),Ji}function Dn(Zn){const xr=Se({},y);if(Object.assign(y||{},Zn),Zn&&$&&h2(Zn,xr,y,$.name)){S();return}h.emit(k.OptionsEvents.Update,pr(k.OptionsEvents.Update,Zn))}function vr(){const Zn=pl();return async function(hi){Zn.add(xr,hi)};async function xr(ir){if(Kt(),ir)$=ir;else try{v2(y)||h.emit(k.InstanceEvents.RendererSetFailed,pr(k.InstanceEvents.RendererSetFailed,{message:"WebGL is not supported by the browser. Will fallback to default.",isWebGLRenderError:!0})),$=(await em(y)).createRenderer({el:n,options:y})}catch(hi){h.emit(k.InstanceEvents.RendererSetFailed,pr(k.InstanceEvents.RendererSetFailed,{message:"Problem creating renderer. Will fallback to default.",error:hi})),tm(y,!0),$=(await em(y)).createRenderer({el:n,options:y})}ce.setRenderer($),Object.assign(Re,{animationComplete:$.animationComplete,getPointerPosition:$.getPointerPosition,isAnimating:$.isAnimating}),G=l2({el:n,getPointerPosition:$.getPointerPosition,options:y,run:hr}),n.addEventListener(lo,G.handlePointerdown),document.addEventListener(lo,G.handleDocumentPointerdown),$.onAll(h.logger.log),h.emit(k.InstanceEvents.RendererSet,pr(k.InstanceEvents.RendererSet,$.name))}}}function P1(e){return e===U.ColorsAsLetters.Black||e===U.ColorsAsWords.Black?U.ColorsAsNumbers.Black:U.ColorsAsNumbers.White}function nm({game:e,piece:t,toSquare:n}){const[r,i]=t;if(n&&t&&e.getMode().isAllowedToMove()){const a=e.move({color:P1(r),drop:i,to:n,userGenerated:!0});return a?.type==="Move"}return!1}function A2(e,t){return typeof e.getPlayingAs()>"u"?!0:Boolean(e.getPlayingAs()===P1(t))}function C2(e,t){const n=document.createElement("style");return document.head.append(n),{getPieceStyles:i,removePieceStyleElement:r,updatePieceStyle:a};function r(){n.remove()}function i(s){const{path:u,format:f,isPseudo3d:p}=t[s],h=Jo(u),y=p?"::after":"";return Ri.reduce((b,S)=>`${b} .hand-piece.${S}${y} { background-image: url('${h}/${S}.${f}'); }`,"")}function a(s){n.innerHTML=i(s);const{isPseudo3d:u}=t[s];e(Boolean(u))}}var Wo;(function(e){(function(t){t.BodyDragging="hand-pieces-dragging-body",t.Component="hand-pieces",t.Dragging="dragging",t.Flipped="flipped",t.Horizontal="horizontal",t.Piece="hand-piece",t.Pseudo3d="pseudo3d",t.Vertical="vertical",t.WithKing="with-king"})(e.Classes||(e.Classes={})),function(t){t.Dragging="data-hand-piece-dragging",t.Selected="data-hand-piece-selected"}(e.DataAttributes||(e.DataAttributes={})),function(t){t.Horizontal="horizontal",t.Vertical="vertical"}(e.DisplayDirections||(e.DisplayDirections={}))})(Wo||(Wo={}));var ui;(function(e){e.Dragging="dragging",e.Idle="idle",e.Selected="selected"})(ui||(ui={}));var io;(function(e){e.RESET="RESET",e.PLACE="PLACE",e.SELECT="SELECT",e.DESELECT="DESELECT",e.START_DRAG="START_DRAG",e.MOVE="MOVE"})(io||(io={}));var i8='.hand-piece.svelte-sg5tpd.svelte-sg5tpd{background-size:cover;cursor:-webkit-grab;cursor:grab;position:absolute}.hand-piece.dragging.svelte-sg5tpd.svelte-sg5tpd{cursor:-webkit-grabbing;cursor:grabbing;position:fixed;will-change:left, top;z-index:11 !important}.hand-piece.hidden.svelte-sg5tpd.svelte-sg5tpd{display:none}body.hand-pieces-dragging-body{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.hand-pieces.svelte-sg5tpd.svelte-sg5tpd{height:100%;position:relative;width:100%}.hand-pieces.horizontal.svelte-sg5tpd.svelte-sg5tpd{height:auto;padding-top:calc(100% * 2 / (10 / 2))}.hand-pieces.horizontal.with-king.svelte-sg5tpd.svelte-sg5tpd{height:auto;padding-top:calc(100% * 2 / (12 / 2))}.board .hand-pieces.svelte-sg5tpd.svelte-sg5tpd{left:calc(-1 * calc(100% / 10));position:absolute;width:calc(100% / 10)}.board-webgl-3d .hand-pieces.svelte-sg5tpd.svelte-sg5tpd{left:calc(-1 * calc(100% / 10 * 3 / 4));width:calc(100% / 10 * 3 / 4)}.board-webgl-3d .hand-pieces.with-king.svelte-sg5tpd.svelte-sg5tpd{left:calc(-1 * calc(100% / 12 * 3 / 4));width:calc(100% / 12 * 3 / 4)}.hand-pieces.svelte-sg5tpd .hand-piece-count.svelte-sg5tpd{align-items:center;background:#ffffff;border-radius:50%;bottom:0;color:#26211b;display:flex;font-size:100%;font-weight:900;height:30%;justify-content:center;position:absolute;right:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:30%}.hand-pieces.svelte-sg5tpd .hand-piece.svelte-sg5tpd{height:calc(100% / 10);width:100%}.hand-pieces.svelte-sg5tpd .hand-piece.bp.svelte-sg5tpd{top:calc(100% / 10 * (1 - 1))}.hand-pieces.svelte-sg5tpd .hand-piece.bb.svelte-sg5tpd{top:calc(100% / 10 * (2 - 1))}.hand-pieces.svelte-sg5tpd .hand-piece.bn.svelte-sg5tpd{top:calc(100% / 10 * (3 - 1))}.hand-pieces.svelte-sg5tpd .hand-piece.br.svelte-sg5tpd{top:calc(100% / 10 * (4 - 1))}.hand-pieces.svelte-sg5tpd .hand-piece.bq.svelte-sg5tpd{top:calc(100% / 10 * (5 - 1))}.hand-pieces.svelte-sg5tpd .hand-piece.wq.svelte-sg5tpd{top:calc(100% / 10 * (6 - 1))}.hand-pieces.svelte-sg5tpd .hand-piece.wr.svelte-sg5tpd{top:calc(100% / 10 * (7 - 1))}.hand-pieces.svelte-sg5tpd .hand-piece.wn.svelte-sg5tpd{top:calc(100% / 10 * (8 - 1))}.hand-pieces.svelte-sg5tpd .hand-piece.wb.svelte-sg5tpd{top:calc(100% / 10 * (9 - 1))}.hand-pieces.svelte-sg5tpd .hand-piece.wp.svelte-sg5tpd{top:calc(100% / 10 * (10 - 1))}.hand-pieces.flipped.svelte-sg5tpd .hand-piece.wp.svelte-sg5tpd{top:calc(100% / 10 * (1 - 1))}.hand-pieces.flipped.svelte-sg5tpd .hand-piece.wb.svelte-sg5tpd{top:calc(100% / 10 * (2 - 1))}.hand-pieces.flipped.svelte-sg5tpd .hand-piece.wn.svelte-sg5tpd{top:calc(100% / 10 * (3 - 1))}.hand-pieces.flipped.svelte-sg5tpd .hand-piece.wr.svelte-sg5tpd{top:calc(100% / 10 * (4 - 1))}.hand-pieces.flipped.svelte-sg5tpd .hand-piece.wq.svelte-sg5tpd{top:calc(100% / 10 * (5 - 1))}.hand-pieces.flipped.svelte-sg5tpd .hand-piece.bq.svelte-sg5tpd{top:calc(100% / 10 * (6 - 1))}.hand-pieces.flipped.svelte-sg5tpd .hand-piece.br.svelte-sg5tpd{top:calc(100% / 10 * (7 - 1))}.hand-pieces.flipped.svelte-sg5tpd .hand-piece.bn.svelte-sg5tpd{top:calc(100% / 10 * (8 - 1))}.hand-pieces.flipped.svelte-sg5tpd .hand-piece.bb.svelte-sg5tpd{top:calc(100% / 10 * (9 - 1))}.hand-pieces.flipped.svelte-sg5tpd .hand-piece.bp.svelte-sg5tpd{top:calc(100% / 10 * (10 - 1))}.hand-pieces.with-king.svelte-sg5tpd .hand-piece.svelte-sg5tpd{height:calc(100% / 12)}.hand-pieces.with-king.svelte-sg5tpd .hand-piece.bp.svelte-sg5tpd{top:calc(100% / 12 * (1 - 1))}.hand-pieces.with-king.svelte-sg5tpd .hand-piece.bb.svelte-sg5tpd{top:calc(100% / 12 * (2 - 1))}.hand-pieces.with-king.svelte-sg5tpd .hand-piece.bn.svelte-sg5tpd{top:calc(100% / 12 * (3 - 1))}.hand-pieces.with-king.svelte-sg5tpd .hand-piece.br.svelte-sg5tpd{top:calc(100% / 12 * (4 - 1))}.hand-pieces.with-king.svelte-sg5tpd .hand-piece.bq.svelte-sg5tpd{top:calc(100% / 12 * (5 - 1))}.hand-pieces.with-king.svelte-sg5tpd .hand-piece.bk.svelte-sg5tpd{top:calc(100% / 12 * (6 - 1))}.hand-pieces.with-king.svelte-sg5tpd .hand-piece.wk.svelte-sg5tpd{top:calc(100% / 12 * (7 - 1))}.hand-pieces.with-king.svelte-sg5tpd .hand-piece.wq.svelte-sg5tpd{top:calc(100% / 12 * (8 - 1))}.hand-pieces.with-king.svelte-sg5tpd .hand-piece.wr.svelte-sg5tpd{top:calc(100% / 12 * (9 - 1))}.hand-pieces.with-king.svelte-sg5tpd .hand-piece.wn.svelte-sg5tpd{top:calc(100% / 12 * (10 - 1))}.hand-pieces.with-king.svelte-sg5tpd .hand-piece.wb.svelte-sg5tpd{top:calc(100% / 12 * (11 - 1))}.hand-pieces.with-king.svelte-sg5tpd .hand-piece.wp.svelte-sg5tpd{top:calc(100% / 12 * (12 - 1))}.hand-pieces.with-king.flipped.svelte-sg5tpd .hand-piece.wp.svelte-sg5tpd{top:calc(100% / 12 * (1 - 1))}.hand-pieces.with-king.flipped.svelte-sg5tpd .hand-piece.wb.svelte-sg5tpd{top:calc(100% / 12 * (2 - 1))}.hand-pieces.with-king.flipped.svelte-sg5tpd .hand-piece.wn.svelte-sg5tpd{top:calc(100% / 12 * (3 - 1))}.hand-pieces.with-king.flipped.svelte-sg5tpd .hand-piece.wr.svelte-sg5tpd{top:calc(100% / 12 * (4 - 1))}.hand-pieces.with-king.flipped.svelte-sg5tpd .hand-piece.wq.svelte-sg5tpd{top:calc(100% / 12 * (5 - 1))}.hand-pieces.with-king.flipped.svelte-sg5tpd .hand-piece.wk.svelte-sg5tpd{top:calc(100% / 12 * (6 - 1))}.hand-pieces.with-king.flipped.svelte-sg5tpd .hand-piece.bk.svelte-sg5tpd{top:calc(100% / 12 * (7 - 1))}.hand-pieces.with-king.flipped.svelte-sg5tpd .hand-piece.bq.svelte-sg5tpd{top:calc(100% / 12 * (8 - 1))}.hand-pieces.with-king.flipped.svelte-sg5tpd .hand-piece.br.svelte-sg5tpd{top:calc(100% / 12 * (9 - 1))}.hand-pieces.with-king.flipped.svelte-sg5tpd .hand-piece.bn.svelte-sg5tpd{top:calc(100% / 12 * (10 - 1))}.hand-pieces.with-king.flipped.svelte-sg5tpd .hand-piece.bb.svelte-sg5tpd{top:calc(100% / 12 * (11 - 1))}.hand-pieces.with-king.flipped.svelte-sg5tpd .hand-piece.bp.svelte-sg5tpd{top:calc(100% / 12 * (12 - 1))}.hand-pieces.horizontal.svelte-sg5tpd .hand-piece.svelte-sg5tpd{height:50%;width:calc(100% / (10 / 2))}.hand-pieces.horizontal.svelte-sg5tpd .hand-piece.bp.svelte-sg5tpd{left:calc(100% / 5 * (1 - 1));top:0}.hand-pieces.horizontal.svelte-sg5tpd .hand-piece.bb.svelte-sg5tpd{left:calc(100% / 5 * (2 - 1));top:0}.hand-pieces.horizontal.svelte-sg5tpd .hand-piece.bn.svelte-sg5tpd{left:calc(100% / 5 * (3 - 1));top:0}.hand-pieces.horizontal.svelte-sg5tpd .hand-piece.br.svelte-sg5tpd{left:calc(100% / 5 * (4 - 1));top:0}.hand-pieces.horizontal.svelte-sg5tpd .hand-piece.bq.svelte-sg5tpd{left:calc(100% / 5 * (5 - 1));top:0}.hand-pieces.horizontal.svelte-sg5tpd .hand-piece.wp.svelte-sg5tpd{left:calc(100% / 5 * (1 - 1));top:50%}.hand-pieces.horizontal.svelte-sg5tpd .hand-piece.wb.svelte-sg5tpd{left:calc(100% / 5 * (2 - 1));top:50%}.hand-pieces.horizontal.svelte-sg5tpd .hand-piece.wn.svelte-sg5tpd{left:calc(100% / 5 * (3 - 1));top:50%}.hand-pieces.horizontal.svelte-sg5tpd .hand-piece.wr.svelte-sg5tpd{left:calc(100% / 5 * (4 - 1));top:50%}.hand-pieces.horizontal.svelte-sg5tpd .hand-piece.wq.svelte-sg5tpd{left:calc(100% / 5 * (5 - 1));top:50%}.hand-pieces.horizontal.flipped.svelte-sg5tpd .hand-piece.wp.svelte-sg5tpd{left:calc(100% / 5 * (1 - 1));top:0}.hand-pieces.horizontal.flipped.svelte-sg5tpd .hand-piece.wb.svelte-sg5tpd{left:calc(100% / 5 * (2 - 1));top:0}.hand-pieces.horizontal.flipped.svelte-sg5tpd .hand-piece.wn.svelte-sg5tpd{left:calc(100% / 5 * (3 - 1));top:0}.hand-pieces.horizontal.flipped.svelte-sg5tpd .hand-piece.wr.svelte-sg5tpd{left:calc(100% / 5 * (4 - 1));top:0}.hand-pieces.horizontal.flipped.svelte-sg5tpd .hand-piece.wq.svelte-sg5tpd{left:calc(100% / 5 * (5 - 1));top:0}.hand-pieces.horizontal.flipped.svelte-sg5tpd .hand-piece.bp.svelte-sg5tpd{left:calc(100% / 5 * (1 - 1));top:50%}.hand-pieces.horizontal.flipped.svelte-sg5tpd .hand-piece.bb.svelte-sg5tpd{left:calc(100% / 5 * (2 - 1));top:50%}.hand-pieces.horizontal.flipped.svelte-sg5tpd .hand-piece.bn.svelte-sg5tpd{left:calc(100% / 5 * (3 - 1));top:50%}.hand-pieces.horizontal.flipped.svelte-sg5tpd .hand-piece.br.svelte-sg5tpd{left:calc(100% / 5 * (4 - 1));top:50%}.hand-pieces.horizontal.flipped.svelte-sg5tpd .hand-piece.bq.svelte-sg5tpd{left:calc(100% / 5 * (5 - 1));top:50%}.hand-pieces.horizontal.with-king.svelte-sg5tpd .hand-piece.svelte-sg5tpd{width:calc(100% / (12 / 2))}.hand-pieces.horizontal.with-king.svelte-sg5tpd .hand-piece.bp.svelte-sg5tpd{left:calc(100% / 6 * (1 - 1));top:0}.hand-pieces.horizontal.with-king.svelte-sg5tpd .hand-piece.bb.svelte-sg5tpd{left:calc(100% / 6 * (2 - 1));top:0}.hand-pieces.horizontal.with-king.svelte-sg5tpd .hand-piece.bn.svelte-sg5tpd{left:calc(100% / 6 * (3 - 1));top:0}.hand-pieces.horizontal.with-king.svelte-sg5tpd .hand-piece.br.svelte-sg5tpd{left:calc(100% / 6 * (4 - 1));top:0}.hand-pieces.horizontal.with-king.svelte-sg5tpd .hand-piece.bq.svelte-sg5tpd{left:calc(100% / 6 * (5 - 1));top:0}.hand-pieces.horizontal.with-king.svelte-sg5tpd .hand-piece.bk.svelte-sg5tpd{left:calc(100% / 6 * (6 - 1));top:0}.hand-pieces.horizontal.with-king.svelte-sg5tpd .hand-piece.wp.svelte-sg5tpd{left:calc(100% / 6 * (1 - 1));top:50%}.hand-pieces.horizontal.with-king.svelte-sg5tpd .hand-piece.wb.svelte-sg5tpd{left:calc(100% / 6 * (2 - 1));top:50%}.hand-pieces.horizontal.with-king.svelte-sg5tpd .hand-piece.wn.svelte-sg5tpd{left:calc(100% / 6 * (3 - 1));top:50%}.hand-pieces.horizontal.with-king.svelte-sg5tpd .hand-piece.wr.svelte-sg5tpd{left:calc(100% / 6 * (4 - 1));top:50%}.hand-pieces.horizontal.with-king.svelte-sg5tpd .hand-piece.wq.svelte-sg5tpd{left:calc(100% / 6 * (5 - 1));top:50%}.hand-pieces.horizontal.with-king.svelte-sg5tpd .hand-piece.wk.svelte-sg5tpd{left:calc(100% / 6 * (6 - 1));top:50%}.hand-pieces.horizontal.flipped.with-king.svelte-sg5tpd .hand-piece.wp.svelte-sg5tpd{left:calc(100% / 6 * (1 - 1));top:0}.hand-pieces.horizontal.flipped.with-king.svelte-sg5tpd .hand-piece.wb.svelte-sg5tpd{left:calc(100% / 6 * (2 - 1));top:0}.hand-pieces.horizontal.flipped.with-king.svelte-sg5tpd .hand-piece.wn.svelte-sg5tpd{left:calc(100% / 6 * (3 - 1));top:0}.hand-pieces.horizontal.flipped.with-king.svelte-sg5tpd .hand-piece.wr.svelte-sg5tpd{left:calc(100% / 6 * (4 - 1));top:0}.hand-pieces.horizontal.flipped.with-king.svelte-sg5tpd .hand-piece.wq.svelte-sg5tpd{left:calc(100% / 6 * (5 - 1));top:0}.hand-pieces.horizontal.flipped.with-king.svelte-sg5tpd .hand-piece.wk.svelte-sg5tpd{left:calc(100% / 6 * (6 - 1));top:0}.hand-pieces.horizontal.flipped.with-king.svelte-sg5tpd .hand-piece.bp.svelte-sg5tpd{left:calc(100% / 6 * (1 - 1));top:50%}.hand-pieces.horizontal.flipped.with-king.svelte-sg5tpd .hand-piece.bb.svelte-sg5tpd{left:calc(100% / 6 * (2 - 1));top:50%}.hand-pieces.horizontal.flipped.with-king.svelte-sg5tpd .hand-piece.bn.svelte-sg5tpd{left:calc(100% / 6 * (3 - 1));top:50%}.hand-pieces.horizontal.flipped.with-king.svelte-sg5tpd .hand-piece.br.svelte-sg5tpd{left:calc(100% / 6 * (4 - 1));top:50%}.hand-pieces.horizontal.flipped.with-king.svelte-sg5tpd .hand-piece.bq.svelte-sg5tpd{left:calc(100% / 6 * (5 - 1));top:50%}.hand-pieces.horizontal.flipped.with-king.svelte-sg5tpd .hand-piece.bk.svelte-sg5tpd{left:calc(100% / 6 * (6 - 1));top:50%}.hand-pieces.pseudo3d.svelte-sg5tpd .hand-piece.svelte-sg5tpd{overflow:visible}.hand-pieces.pseudo3d.svelte-sg5tpd .hand-piece.svelte-sg5tpd::after{background-position-y:bottom;background-repeat:no-repeat;background-size:contain;bottom:0;content:" ";height:132%;left:0;position:absolute;width:100%}.hand-pieces.pseudo3d.svelte-sg5tpd .hand-piece.bp.svelte-sg5tpd{z-index:1}.hand-pieces.pseudo3d.svelte-sg5tpd .hand-piece.bb.svelte-sg5tpd{z-index:2}.hand-pieces.pseudo3d.svelte-sg5tpd .hand-piece.bn.svelte-sg5tpd{z-index:3}.hand-pieces.pseudo3d.svelte-sg5tpd .hand-piece.br.svelte-sg5tpd{z-index:4}.hand-pieces.pseudo3d.svelte-sg5tpd .hand-piece.bq.svelte-sg5tpd{z-index:5}.hand-pieces.pseudo3d.svelte-sg5tpd .hand-piece.wq.svelte-sg5tpd{z-index:6}.hand-pieces.pseudo3d.svelte-sg5tpd .hand-piece.wr.svelte-sg5tpd{z-index:7}.hand-pieces.pseudo3d.svelte-sg5tpd .hand-piece.wn.svelte-sg5tpd{z-index:8}.hand-pieces.pseudo3d.svelte-sg5tpd .hand-piece.wb.svelte-sg5tpd{z-index:9}.hand-pieces.pseudo3d.svelte-sg5tpd .hand-piece.wp.svelte-sg5tpd{z-index:10}.hand-pieces.pseudo3d.flipped.svelte-sg5tpd .hand-piece.wp.svelte-sg5tpd{z-index:1}.hand-pieces.pseudo3d.flipped.svelte-sg5tpd .hand-piece.wb.svelte-sg5tpd{z-index:2}.hand-pieces.pseudo3d.flipped.svelte-sg5tpd .hand-piece.wn.svelte-sg5tpd{z-index:3}.hand-pieces.pseudo3d.flipped.svelte-sg5tpd .hand-piece.wr.svelte-sg5tpd{z-index:4}.hand-pieces.pseudo3d.flipped.svelte-sg5tpd .hand-piece.wq.svelte-sg5tpd{z-index:5}.hand-pieces.pseudo3d.flipped.svelte-sg5tpd .hand-piece.bq.svelte-sg5tpd{z-index:6}.hand-pieces.pseudo3d.flipped.svelte-sg5tpd .hand-piece.br.svelte-sg5tpd{z-index:7}.hand-pieces.pseudo3d.flipped.svelte-sg5tpd .hand-piece.bn.svelte-sg5tpd{z-index:8}.hand-pieces.pseudo3d.flipped.svelte-sg5tpd .hand-piece.bb.svelte-sg5tpd{z-index:9}.hand-pieces.pseudo3d.flipped.svelte-sg5tpd .hand-piece.bp.svelte-sg5tpd{z-index:10}.hand-pieces.pseudo3d.with-king.svelte-sg5tpd .hand-piece.bp.svelte-sg5tpd{z-index:1}.hand-pieces.pseudo3d.with-king.svelte-sg5tpd .hand-piece.bb.svelte-sg5tpd{z-index:2}.hand-pieces.pseudo3d.with-king.svelte-sg5tpd .hand-piece.bn.svelte-sg5tpd{z-index:3}.hand-pieces.pseudo3d.with-king.svelte-sg5tpd .hand-piece.br.svelte-sg5tpd{z-index:4}.hand-pieces.pseudo3d.with-king.svelte-sg5tpd .hand-piece.bq.svelte-sg5tpd{z-index:5}.hand-pieces.pseudo3d.with-king.svelte-sg5tpd .hand-piece.bk.svelte-sg5tpd{z-index:6}.hand-pieces.pseudo3d.with-king.svelte-sg5tpd .hand-piece.wk.svelte-sg5tpd{z-index:7}.hand-pieces.pseudo3d.with-king.svelte-sg5tpd .hand-piece.wq.svelte-sg5tpd{z-index:8}.hand-pieces.pseudo3d.with-king.svelte-sg5tpd .hand-piece.wr.svelte-sg5tpd{z-index:9}.hand-pieces.pseudo3d.with-king.svelte-sg5tpd .hand-piece.wn.svelte-sg5tpd{z-index:10}.hand-pieces.pseudo3d.with-king.svelte-sg5tpd .hand-piece.wb.svelte-sg5tpd{z-index:11}.hand-pieces.pseudo3d.with-king.svelte-sg5tpd .hand-piece.wp.svelte-sg5tpd{z-index:12}.hand-pieces.pseudo3d.flipped.with-king.svelte-sg5tpd .hand-piece.wp.svelte-sg5tpd{z-index:1}.hand-pieces.pseudo3d.flipped.with-king.svelte-sg5tpd .hand-piece.wb.svelte-sg5tpd{z-index:2}.hand-pieces.pseudo3d.flipped.with-king.svelte-sg5tpd .hand-piece.wn.svelte-sg5tpd{z-index:3}.hand-pieces.pseudo3d.flipped.with-king.svelte-sg5tpd .hand-piece.wr.svelte-sg5tpd{z-index:4}.hand-pieces.pseudo3d.flipped.with-king.svelte-sg5tpd .hand-piece.wq.svelte-sg5tpd{z-index:5}.hand-pieces.pseudo3d.flipped.with-king.svelte-sg5tpd .hand-piece.wk.svelte-sg5tpd{z-index:6}.hand-pieces.pseudo3d.flipped.with-king.svelte-sg5tpd .hand-piece.bk.svelte-sg5tpd{z-index:7}.hand-pieces.pseudo3d.flipped.with-king.svelte-sg5tpd .hand-piece.bq.svelte-sg5tpd{z-index:8}.hand-pieces.pseudo3d.flipped.with-king.svelte-sg5tpd .hand-piece.br.svelte-sg5tpd{z-index:9}.hand-pieces.pseudo3d.flipped.with-king.svelte-sg5tpd .hand-piece.bn.svelte-sg5tpd{z-index:10}.hand-pieces.pseudo3d.flipped.with-king.svelte-sg5tpd .hand-piece.bb.svelte-sg5tpd{z-index:11}.hand-pieces.pseudo3d.flipped.with-king.svelte-sg5tpd .hand-piece.bp.svelte-sg5tpd{z-index:12}.hand-pieces.pseudo3d.horizontal .piece .bp.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal .piece .bb.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal .piece .bn.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal .piece .br.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal .piece .bq.svelte-sg5tpd.svelte-sg5tpd{z-index:1}.hand-pieces.pseudo3d.horizontal .piece .wp.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal .piece .wb.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal .piece .wn.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal .piece .wr.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal .piece .wq.svelte-sg5tpd.svelte-sg5tpd{z-index:2}.hand-pieces.pseudo3d.horizontal.flipped .piece .wp.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.flipped .piece .wb.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.flipped .piece .wn.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.flipped .piece .wr.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.flipped .piece .wq.svelte-sg5tpd.svelte-sg5tpd{z-index:1}.hand-pieces.pseudo3d.horizontal.flipped .piece .bp.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.flipped .piece .bb.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.flipped .piece .bn.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.flipped .piece .br.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.flipped .piece .bq.svelte-sg5tpd.svelte-sg5tpd{z-index:2}.hand-pieces.pseudo3d.horizontal.with-king .piece .bp.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king .piece .bb.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king .piece .bn.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king .piece .br.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king .piece .bq.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king .piece .bk.svelte-sg5tpd.svelte-sg5tpd{z-index:1}.hand-pieces.pseudo3d.horizontal.with-king .piece .wp.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king .piece .wb.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king .piece .wn.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king .piece .wr.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king .piece .wq.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king .piece .wk.svelte-sg5tpd.svelte-sg5tpd{z-index:2}.hand-pieces.pseudo3d.horizontal.with-king.flipped .piece .wp.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king.flipped .piece .wb.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king.flipped .piece .wn.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king.flipped .piece .wr.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king.flipped .piece .wq.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king.flipped .piece .wk.svelte-sg5tpd.svelte-sg5tpd{z-index:1}.hand-pieces.pseudo3d.horizontal.with-king.flipped .piece .bp.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king.flipped .piece .bb.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king.flipped .piece .bn.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king.flipped .piece .br.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king.flipped .piece .bq.svelte-sg5tpd.svelte-sg5tpd,.hand-pieces.pseudo3d.horizontal.with-king.flipped .piece .bk.svelte-sg5tpd.svelte-sg5tpd{z-index:2}.board .hand-pieces.with-king{left:calc(-1 * calc(100% / 12));width:calc(100% / 12)}';function rm(e,t,n){const r=e.slice();return r[29]=t[n][0],r[30]=t[n][1],r}function im(e){let t,n=e[30]+"",r;return{c(){t=element("span"),r=text(n),attr(t,"class","hand-piece-count svelte-sg5tpd")},m(i,a){insert(i,t,a),append(t,r)},p(i,a){a[0]&256&&n!==(n=i[30]+"")&&set_data(r,n)},d(i){i&&detach(t)}}}function om(e){let t,n=cm(e[30]),r,i,a,s,u,f,p=n&&im(e);function h(...y){return e[27](e[29],...y)}return{c(){t=element("div"),p&&p.c(),attr(t,"class",r=null_to_empty(`hand-piece ${e[29]} ${ql({hidden:um(e[30])})} `)+" svelte-sg5tpd"),attr(t,"style",i=`${ql({[e[22]]:Cs(e[29],e[9])})}`),attr(t,"data-hand-piece",a=e[29]),attr(t,"data-hand-piece-selected",s=Cs(e[3],ui.Selected)&&Cs(e[29],e[9])?e[21]:null)},m(y,b){insert(y,t,b),p&&p.m(t,null),u||(f=listen(t,"pointerdown",h),u=!0)},p(y,b){e=y,b[0]&256&&(n=cm(e[30])),n?p?p.p(e,b):(p=im(e),p.c(),p.m(t,null)):p&&(p.d(1),p=null),b[0]&256&&r!==(r=null_to_empty(`hand-piece ${e[29]} ${ql({hidden:um(e[30])})} `)+" svelte-sg5tpd")&&attr(t,"class",r),b[0]&768&&i!==(i=`${ql({[e[22]]:Cs(e[29],e[9])})}`)&&attr(t,"style",i),b[0]&256&&a!==(a=e[29])&&attr(t,"data-hand-piece",a),b[0]&776&&s!==(s=Cs(e[3],ui.Selected)&&Cs(e[29],e[9])?e[21]:null)&&attr(t,"data-hand-piece-selected",s)},d(y){y&&detach(t),p&&p.d(),u=!1,f()}}}function am(e){let t,n,r;return{c(){t=element("div"),attr(t,"class",n=null_to_empty(`hand-piece dragging ${e[10]}`)+" svelte-sg5tpd"),attr(t,"style",r=`${fm(e[11].current)}; width: ${e[2]}px; height: ${e[2]}px;`),attr(t,"data-hand-piece",e[10]),attr(t,"data-hand-piece-dragging","true")},m(i,a){insert(i,t,a)},p(i,a){a[0]&1024&&n!==(n=null_to_empty(`hand-piece dragging ${i[10]}`)+" svelte-sg5tpd")&&attr(t,"class",n),a[0]&2052&&r!==(r=`${fm(i[11].current)}; width: ${i[2]}px; height: ${i[2]}px;`)&&attr(t,"style",r),a[0]&1024&&attr(t,"data-hand-piece",i[10])},d(i){i&&detach(t)}}}function E2(e){let t,n,r=Cs(e[3],ui.Dragging),i,a=Object.entries(e[8]),s=[];for(let f=0;f<a.length;f+=1)s[f]=om(rm(e,a,f));let u=r&&am(e);return{c(){t=element("div");for(let f=0;f<s.length;f+=1)s[f].c();n=space(),u&&u.c(),attr(t,"class",i=null_to_empty(`${e[4]} ${Wo.Classes.Component} ${ql({[Wo.Classes.Flipped]:e[5],[Wo.Classes.WithKing]:e[6],[Wo.Classes.Pseudo3d]:e[7]})}`)+" svelte-sg5tpd")},m(f,p){insert(f,t,p);for(let h=0;h<s.length;h+=1)s[h].m(t,null);append(t,n),u&&u.m(t,null),e[28](t)},p(f,p){if(p[0]&6292233){a=Object.entries(f[8]);let h;for(h=0;h<a.length;h+=1){const y=rm(f,a,h);s[h]?s[h].p(y,p):(s[h]=om(y),s[h].c(),s[h].m(t,n))}for(;h<s.length;h+=1)s[h].d(1);s.length=a.length}p[0]&8&&(r=Cs(f[3],ui.Dragging)),r?u?u.p(f,p):(u=am(f),u.c(),u.m(t,null)):u&&(u.d(1),u=null),p[0]&240&&i!==(i=null_to_empty(`${f[4]} ${Wo.Classes.Component} ${ql({[Wo.Classes.Flipped]:f[5],[Wo.Classes.WithKing]:f[6],[Wo.Classes.Pseudo3d]:f[7]})}`)+" svelte-sg5tpd")&&attr(t,"class",i)},i:noop$1,o:noop$1,d(f){f&&detach(t),destroy_each(s,f),u&&u.d(),e[28](null)}}}function w2(e,t,n){let r,i,a,s,u,f,p,h,y,{data:b}=t,{game:S}=t,{boardEl:$}=t,{eventHandlers:G}=t,{removePieceStyleElement:ce}=t;const{handPieces:Re,currentState:At,selectedPieceId:it,draggingPieceId:St,dragCoords:Kt,direction:Yn,showAllPieces:hr,flipped:cr,pseudo3d:un}=b;component_subscribe(e,Re,ir=>n(8,f=ir)),component_subscribe(e,At,ir=>n(3,r=ir)),component_subscribe(e,it,ir=>n(9,p=ir)),component_subscribe(e,St,ir=>n(10,h=ir)),component_subscribe(e,Kt,ir=>n(11,y=ir)),component_subscribe(e,Yn,ir=>n(4,i=ir)),component_subscribe(e,hr,ir=>n(6,s=ir)),component_subscribe(e,cr,ir=>n(5,a=ir)),component_subscribe(e,un,ir=>n(7,u=ir));let Wt,Tn,Dn=M2(S.getOptions()),vr=`background-color: ${Dn};`;onDestroy(()=>{document.removeEventListener(Xr.PointerMove,G.move),document.removeEventListener(Xr.PointerUp,G.placeDrag),document.removeEventListener(Xr.PointerDown,G.placeSelect),$.removeEventListener(Xr.PointerDown,G.placeSelect),document.removeEventListener(Xr.Mousedown,G.reset),ce()});const Zn=(ir,hi)=>G.startDrag({event:hi,piece:ir});function xr(ir){binding_callbacks[ir?"unshift":"push"](()=>{Wt=ir,n(1,Wt)})}return e.$$set=ir=>{"data"in ir&&n(23,b=ir.data),"game"in ir&&n(24,S=ir.game),"boardEl"in ir&&n(25,$=ir.boardEl),"eventHandlers"in ir&&n(0,G=ir.eventHandlers),"removePieceStyleElement"in ir&&n(26,ce=ir.removePieceStyleElement)},e.$$.update=()=>{e.$$.dirty[0]&15&&(r===ui.Dragging?(document.addEventListener(Xr.PointerMove,G.move),document.addEventListener(Xr.PointerUp,G.placeDrag),document.body.classList.add(Wo.Classes.BodyDragging),!Tn&&n(2,Tn=Wt.children[0].clientWidth)):(document.removeEventListener(Xr.PointerMove,G.move),document.removeEventListener(Xr.PointerUp,G.placeDrag),document.body.classList.remove(Wo.Classes.BodyDragging))),e.$$.dirty[0]&33554441&&(r===ui.Selected?(document.addEventListener(Xr.PointerDown,G.placeSelect),$.addEventListener(Xr.PointerDown,G.placeSelect)):(document.removeEventListener(Xr.PointerDown,G.placeSelect),$.removeEventListener(Xr.PointerDown,G.placeSelect))),e.$$.dirty[0]&9&&(r!==ui.Idle?document.addEventListener(Xr.Mousedown,G.reset):document.removeEventListener(Xr.Mousedown,G.reset))},[G,Wt,Tn,r,i,a,s,u,f,p,h,y,Re,At,it,St,Kt,Yn,hr,cr,un,Dn,vr,b,S,$,ce,Zn,xr]}class P2 extends null{constructor(t){super(),init$5(this,t,w2,E2,safe_not_equal,{data:23,game:24,boardEl:25,eventHandlers:0,removePieceStyleElement:26},null,[-1,-1])}}function S2({options:e,target:t,replaceContainer:n=!0}){return Ua({ComponentType:P2,options:he(Se({},e),{target:t}),replaceContainer:n})}function sm({game:e,square:t}){if(!e.getPieces().isDefined(t))return!1;const n=e.getVariant(),r=n===U.Variants.Crazyhouse||n===U.Variants.Bughouse,i=e.getPieces().get(t).color===e.getPlayingAs();return r&&i}function lm({game:e,boardEl:t,coords:n}){var r;return(r=e.getPointerPosition({el:t,event:{clientX:n.x,clientY:n.y},flipped:e.getOptions().flipped}))==null?void 0:r.square}function S1(e){var t;const{game:n}=e.getContext();return((t=n?.hand)==null?void 0:t.call(n))||""}function T2(){const e=Object.values(U.Piece.Types);return[...e,...e.map(t=>t.toUpperCase())]}function Cs(e,t){return e===t}function um(e){return e===0}function cm(e){return e>1}function M2(e){var t;return((t=mo(e.boardStyle))==null?void 0:t.highlightColor)||Xn.HighlightColors.Selected}function ql(e){return Object.entries(e).reduce((t,[n,r])=>(r&&t.push(n),t),[]).join(" ")}function fm(e){return`top: ${e.y}px; left: ${e.x}px; transform: translate(-50%, -50%)`}function x2({el:e,event:t}){const{width:n,height:r}=e.getBoundingClientRect();return{height:r,width:n,x:t.clientX,y:t.clientY}}function T1({coords:e,initialCoords:t}){const{x:n,y:r}=e;if(n===0&&r===0)return!0;const{height:i,width:a,x:s,y:u}=t,f=a/2,p=i/2,h=s-f,y=s+f,b=u+p,S=u-p;return n>=h&&n<=y&&r<=b&&r>=S}function k2(e,t){const n=t.toLowerCase(),i=`${t===n?"b":"w"}${n}`;return e[i]||(e[i]=0),e[i]+=1,e}function I2(e,{game:t,data:n}){const{currentState:r,selectedPieceId:i,continuousDrop:a}=n;return{startDrag:s,move:u,placeDrag:f,placeSelect:p,reset:h};function s({piece:y,event:b}){b.stopPropagation();const[S]=y;!A2(t,S)||Xs(b)||(a.get()&&i.get()===y?e(io.DESELECT):a.get()&&r.get()===ui.Selected?e(io.SELECT,y):e(io.START_DRAG,{piece:y,initialCoords:x2({el:b.currentTarget,event:b})}))}function u({clientX:y,clientY:b}){e(io.MOVE,{x:y,y:b})}function f({clientX:y,clientY:b}){e(io.PLACE,{coords:{x:y,y:b}})}function p(y){y.stopPropagation(),!Xs(y)&&e(io.PLACE,{coords:{x:y.clientX,y:y.clientY},targetEl:y.target})}function h(y){y.stopPropagation(),Xs(y)&&(document.oncontextmenu=()=>!1,Qv(()=>document.oncontextmenu=()=>!0),e(io.RESET,{targetEl:y.target}))}}function O2(e){const{movePiece:t,selectPiece:n,deselectPiece:r,setState:i,startDrag:a,reset:s,afterPlaceAttempt:u}=e.actions,f=L2(e);return f.onTransition(function({type:h,value:y,nextState:b}){var S;const $=e.data.currentState.get();$!==b&&i(b);const G={[io.START_DRAG]:a,[io.MOVE]:t,[io.DESELECT]:r,[io.SELECT]:n,[io.PLACE]:({coords:ce})=>u({coords:ce,game:e.game,oldState:$,nextState:b}),[io.RESET]:()=>s(e.game)};(S=G[h])==null||S.call(G,y,b)}),f.on("Enter",function({nextState:h}){h===ui.Selected&&e.game.run({type:k.UserEvents.PointerdownRight,data:{}})}),f}function N2({game:e,boardEl:t,data:n}){const{draggingPieceId:r,dragCoords:i,selectedPieceId:a,continuousDrop:s}=n;return{initialState:ui.Idle,states:{[ui.Idle]:{START_DRAG:()=>ui.Dragging},[ui.Selected]:{DESELECT:()=>ui.Idle,SELECT:()=>ui.Selected,START_DRAG:()=>ui.Dragging,RESET:()=>ui.Idle,PLACE:({coords:u})=>{if(T1({coords:u,initialCoords:i.get().initial}))return ui.Idle;const f=lm({game:e,coords:u,boardEl:t});if(f){if(e.plugins.has("premoves")&&sm({game:e,square:f}))return e.run({data:{square:f},type:k.UserEvents.PointerdownLeft}),ui.Idle;if(!nm({game:e,piece:a.get(),toSquare:f})&&sm({game:e,square:f}))return e.run({data:{square:f},type:k.UserEvents.PointerdownLeft}),ui.Idle;if(s.get())return e.getMode().name==="setup"&&e.run({type:k.UserEvents.MousedownRight}),ui.Selected}return ui.Idle}},[ui.Dragging]:{RESET:()=>ui.Idle,MOVE:()=>ui.Dragging,PLACE:({coords:u})=>T1({coords:u,initialCoords:i.get().initial})?ui.Selected:(nm({game:e,piece:r.get(),toSquare:lm({game:e,coords:u,boardEl:t})}),ui.Idle)}}}}function L2(e){const t=createStateMachine(N2(e));function n(i,a){t.transition(i,a),t.emit("action",{type:i,value:a,nextState:t.getCurrentState()})}return Object.assign({},t,{send:n,onTransition:i=>t.on("action",i),eventHandlers:I2(n,e)})}function Pa(e){let t=e;const n=writable(t);function r(s){return n.set(t=s)}function i(s){n.update(u=>t=s(u))}function a(){return t}return{set:r,update:i,subscribe:n.subscribe,get:a}}function R2({handPieces:e,continuousDrop:t,currentState:n,direction:r,dragCoords:i,draggingPieceId:a,flipped:s,pseudo3d:u,selectedPieceId:f,showAllPieces:p}){function h(un){n.set(un)}function y(un){t.set(un)}function b(un){u.set(un)}function S(un){s.set(un)}function $(un){r.set(un)}function G(un){p.set(un)}function ce(un){f.set(un)}function Re(){f.set("")}function At(un){a.set(un)}function it(un){i.update(Wt=>({current:un,initial:Wt.initial}))}function St({piece:un,initialCoords:Wt}){At(un),ce(""),i.set({current:Wt,initial:Wt}),e.update(Tn=>{const Dn=Tn[un];return Dn>0&&(Tn[un]=Dn-1),Tn})}function Kt(un,Wt=!1){const Tn=p.get();Wt&&At("");const Dn=(Tn?T2():un.split("")).reduce(k2,{});e.set(Dn);const vr=a.get();vr&&Dn[vr]>0&&e.update(Zn=>{const xr=Zn[vr];return xr>0&&(Zn[vr]=xr-1),Zn})}function Yn({coords:un,game:Wt,oldState:Tn,nextState:Dn}){const Zn=Tn===ui.Dragging?a.get():"";Kt(S1(Wt),!0),T1({coords:un,initialCoords:i.get().initial})&&ce(Zn),Dn==="idle"&&cr(Wt)}function hr(un){un.direction&&$(un.direction),S(Boolean(un.flipped)),G(Boolean(un.showAllPieces)),y(Boolean(un.canDropPiecesContinuously))}function cr(un){ce(""),Kt(S1(un),!0)}return{setState:h,setContinuousDrop:y,setPseudo3d:b,setFlipped:S,setDirection:$,setShowAllPieces:G,selectPiece:ce,deselectPiece:Re,dragPiece:At,movePiece:it,startDrag:St,setHand:Kt,afterPlaceAttempt:Yn,setInitialData:hr,reset:cr}}function D2(){const e={handPieces:{},continuousDrop:!1,currentState:ui.Idle,direction:"vertical",dragCoords:{current:{x:0,y:0},initial:{x:0,y:0}},draggingPieceId:"",flipped:!1,isPseudo3d:!1,selectedPieceId:"",showAllPieces:!1},t={handPieces:Pa(e.handPieces),continuousDrop:Pa(e.continuousDrop),currentState:Pa(e.currentState),direction:Pa(e.direction),dragCoords:Pa(e.dragCoords),draggingPieceId:Pa(e.draggingPieceId),flipped:Pa(e.flipped),pseudo3d:Pa(e.isPseudo3d),selectedPieceId:Pa(e.selectedPieceId),showAllPieces:Pa(e.showAllPieces)};return{data:t,actions:R2(t)}}function B2({boardEl:e,containerEl:t,direction:n,showAllPieces:r=!1,canDropPiecesContinuously:i=!1,flipped:a,game:s,pieceStyles:u=vo,replaceContainer:f}){const{data:p,actions:h}=D2(),{setDirection:y,setHand:b,setFlipped:S,setInitialData:$,setPseudo3d:G,setShowAllPieces:ce,setContinuousDrop:Re}=h;$({direction:n,showAllPieces:r,flipped:a,canDropPiecesContinuously:i});const At=O2({data:p,actions:h,boardEl:e,game:s}),{removePieceStyleElement:it,updatePieceStyle:St}=C2(G,u);return{destroy:S2({options:{props:{data:p,game:s,boardEl:e,eventHandlers:At.eventHandlers,removePieceStyleElement:it}},replaceContainer:f,target:t}).destroy,getHand:()=>S1(s),reset:()=>At.send(io.RESET),setDirection:y,setFlipped:S,setHand:b,setShowAllPieces:ce,setContinuousDrop:Re,updatePieceStyle:St}}function o8({direction:e,el:t,pieceStyles:n,replaceContainer:r}={}){let i;return{create:a,destroy:s,match:[{condition:on([k.APIEvents.Load,k.OptionsEvents.Update]),handler:u},{condition:at(k.OptionsEvents.UpdateMode),handler:h},{condition:on([..._o,K.Events.SetHand]),handler:f},{condition:at(k.InstanceEvents.ModeChanged),handler:p}],name:K.Plugin.Name};function a(b){const{api:S,el:$,mode:G}=b,{flipped:ce,pieceStyle:Re}=b.options,{canDropPiecesContinuously:At}=G.getOptions(),it=y(G.name);i=B2({boardEl:$,containerEl:t||$,direction:e,flipped:ce,game:S,pieceStyles:n,canDropPiecesContinuously:At,replaceContainer:r,showAllPieces:it}),i.updatePieceStyle(Re),i.setHand(i.getHand())}function s(){i.destroy()}function u(b,S){b.type===k.APIEvents.Load&&i.reset();const{flipped:$,pieceStyle:G}=S.options;i.setHand(i.getHand()),i.setFlipped($),i.updatePieceStyle(G)}function f(){i.setHand(i.getHand())}function p(b,S){var $;const G=y(b.data),{canDropPiecesContinuously:ce}=($=S.mode)==null?void 0:$.getOptions();i.setContinuousDrop(Boolean(ce)),i.setShowAllPieces(G)}function h(b){b.data.canDropPiecesContinuously!==void 0&&i.setContinuousDrop(Boolean(b.data.canDropPiecesContinuously))}function y(b){return b===co.Types.Setup}}function F2(e,t){const n=t||e.getTurn(),r=e.clocks[n],i=e.timeControl.get(),a=i?.increment;return{clock:r,increment:a,moveTime:Fa(r.get().currentTime+a)}}function $2(e,t=150){return`${go()}/boards/${e}/${t}.png`}function H2(e){return e===U.ColorsAsNumbers.Black?U.ColorsAsLetters.Black:U.ColorsAsLetters.White}function U2(e){return!e||!e.file||!e.rank||e.file>8||e.rank>8||e.file<1||e.rank<1?null:`${String.fromCharCode(96+e.file)}${e.rank.toString()}`}function j2(e){const t=[{animate:e.animate,from:e.kingTo||e.to,to:e.from}];e.rookMove&&t.push(he(Se({},e.rookMove),{from:e.rookMove.to,to:e.rookMove.from}));const n=e.captured&&e.capturedStr?{color:Tt(e.color),promoted:e.capturedPromotedPawn,square:e.EPCapturedSquare||e.to,type:e.capturedStr.toLowerCase()}:void 0;return{movedPieces:t,promotedSquare:e.promotion?e.from:void 0,restoredPiece:n}}function G2(e,t){var n,r;return(r=(n=e&&t[U.Node.Marking.JCEColorsMap[e]])!=null?n:e)!=null?r:t.default}const z2={HEAD_HEIGHT:4.5,HEAD_WIDTH:6.5,TAIL_PADDING:4.5,WIDTH:2.75},W2=27.95084971874737,V2=[.5,-2],q2=[2,.5,-.5,-2];function dm({from:e,to:t}){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}function K2({from:e,to:t}){const n=dm({from:e,to:t}),r={x:e.x,y:e.y+n},i={x:e.x-r.x,y:e.y-r.y},a={x:e.x-t.x,y:e.y-t.y},s=Math.acos((i.x*a.x+i.y*a.y)/n**2),u=Math.floor(s*(180/Math.PI)*100)/100;return e.x<t.x?360-u:u}function Z2({from:e,to:t}){const n=(e.y-t.y)/(e.x-t.x);return Number(n.toFixed(1))}function X2({from:e,slope:t,to:n}){switch(t){case 2:return e.x>n.x?180:0;case-2:return e.x>n.x?0:180;case .5:return e.x>n.x?90:270;case-.5:return e.x>n.x?90:270;default:return 0}}const M1=/iPhone/i,pm=/iPod/i,hm=/iPad/i,x1=/\bAndroid(?:.+)Mobile\b/i,vm=/Android/i,Kl=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,i0=/Silk/i,qa=/Windows Phone/i,mm=/\bWindows(?:.+)ARM\b/i,gm=/BlackBerry/i,_m=/BB10/i,ym=/Opera Mini/i,bm=/\b(CriOS|Chrome)(?:.+)Mobile/i,Am=/Mobile(?:.+)Firefox\b/i;function Dr(e,t){return e.test(t)}function Q2(e){e=e||(typeof navigator<"u"?navigator.userAgent:"");let t=e.split("[FBAN");typeof t[1]<"u"&&(e=t[0]),t=e.split("Twitter"),typeof t[1]<"u"&&(e=t[0]);const n={apple:{phone:Dr(M1,e)&&!Dr(qa,e),ipod:Dr(pm,e),tablet:!Dr(M1,e)&&Dr(hm,e)&&!Dr(qa,e),device:(Dr(M1,e)||Dr(pm,e)||Dr(hm,e))&&!Dr(qa,e)},amazon:{phone:Dr(Kl,e),tablet:!Dr(Kl,e)&&Dr(i0,e),device:Dr(Kl,e)||Dr(i0,e)},android:{phone:!Dr(qa,e)&&Dr(Kl,e)||!Dr(qa,e)&&Dr(x1,e),tablet:!Dr(qa,e)&&!Dr(Kl,e)&&!Dr(x1,e)&&(Dr(i0,e)||Dr(vm,e)),device:!Dr(qa,e)&&(Dr(Kl,e)||Dr(i0,e)||Dr(x1,e)||Dr(vm,e))||Dr(/\bokhttp\b/i,e)},windows:{phone:Dr(qa,e),tablet:Dr(mm,e),device:Dr(qa,e)||Dr(mm,e)},other:{blackberry:Dr(gm,e),blackberry10:Dr(_m,e),opera:Dr(ym,e),firefox:Dr(Am,e),chrome:Dr(bm,e),device:Dr(gm,e)||Dr(_m,e)||Dr(ym,e)||Dr(Am,e)||Dr(bm,e)},any:!1,phone:!1,tablet:!1};return n.any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n}/*!
 * @pixi/settings - v5.2.1
 * Compiled Tue, 28 Jan 2020 23:33:11 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Es=Q2();function Y2(e){var t=!0;if(Es.tablet||Es.phone){if(t=!1,Es.apple.device){var n=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(n){var r=parseInt(n[1],10);r>=11&&(t=!0)}}if(Es.android.device){var i=navigator.userAgent.match(/Android\s([0-9.]*)/);if(i){var a=parseInt(i[1],10);a>=7&&(t=!0)}}}return t?e:4}function J2(){return!Es.apple.device}var $r={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:Y2(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:Es.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:J2(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Cm={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,p,h){this.fn=f,this.context=p,this.once=h||!1}function a(f,p,h,y,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var S=new i(h,y||f,b),$=n?n+p:p;return f._events[$]?f._events[$].fn?f._events[$]=[f._events[$],S]:f._events[$].push(S):(f._events[$]=S,f._eventsCount++),f}function s(f,p){--f._eventsCount===0?f._events=new r:delete f._events[p]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var p=[],h,y;if(this._eventsCount===0)return p;for(y in h=this._events)t.call(h,y)&&p.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(h)):p},u.prototype.listeners=function(p){var h=n?n+p:p,y=this._events[h];if(!y)return[];if(y.fn)return[y.fn];for(var b=0,S=y.length,$=new Array(S);b<S;b++)$[b]=y[b].fn;return $},u.prototype.listenerCount=function(p){var h=n?n+p:p,y=this._events[h];return y?y.fn?1:y.length:0},u.prototype.emit=function(p,h,y,b,S,$){var G=n?n+p:p;if(!this._events[G])return!1;var ce=this._events[G],Re=arguments.length,At,it;if(ce.fn){switch(ce.once&&this.removeListener(p,ce.fn,void 0,!0),Re){case 1:return ce.fn.call(ce.context),!0;case 2:return ce.fn.call(ce.context,h),!0;case 3:return ce.fn.call(ce.context,h,y),!0;case 4:return ce.fn.call(ce.context,h,y,b),!0;case 5:return ce.fn.call(ce.context,h,y,b,S),!0;case 6:return ce.fn.call(ce.context,h,y,b,S,$),!0}for(it=1,At=new Array(Re-1);it<Re;it++)At[it-1]=arguments[it];ce.fn.apply(ce.context,At)}else{var St=ce.length,Kt;for(it=0;it<St;it++)switch(ce[it].once&&this.removeListener(p,ce[it].fn,void 0,!0),Re){case 1:ce[it].fn.call(ce[it].context);break;case 2:ce[it].fn.call(ce[it].context,h);break;case 3:ce[it].fn.call(ce[it].context,h,y);break;case 4:ce[it].fn.call(ce[it].context,h,y,b);break;default:if(!At)for(Kt=1,At=new Array(Re-1);Kt<Re;Kt++)At[Kt-1]=arguments[Kt];ce[it].fn.apply(ce[it].context,At)}}return!0},u.prototype.on=function(p,h,y){return a(this,p,h,y,!1)},u.prototype.once=function(p,h,y){return a(this,p,h,y,!0)},u.prototype.removeListener=function(p,h,y,b){var S=n?n+p:p;if(!this._events[S])return this;if(!h)return s(this,S),this;var $=this._events[S];if($.fn)$.fn===h&&(!b||$.once)&&(!y||$.context===y)&&s(this,S);else{for(var G=0,ce=[],Re=$.length;G<Re;G++)($[G].fn!==h||b&&!$[G].once||y&&$[G].context!==y)&&ce.push($[G]);ce.length?this._events[S]=ce.length===1?ce[0]:ce:s(this,S)}return this},u.prototype.removeAllListeners=function(p){var h;return p?(h=n?n+p:p,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Cm);var yc=Cm.exports,k1={exports:{}};k1.exports=o0,k1.exports.default=o0;function o0(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,a=Em(e,0,i,n,!0),s=[];if(!a||a.next===a.prev)return s;var u,f,p,h,y,b,S;if(r&&(a=i5(e,t,a,n)),e.length>80*n){u=p=e[0],f=h=e[1];for(var $=n;$<i;$+=n)y=e[$],b=e[$+1],y<u&&(u=y),b<f&&(f=b),y>p&&(p=y),b>h&&(h=b);S=Math.max(p-u,h-f),S=S!==0?1/S:0}return bc(a,s,n,u,f,S),s}function Em(e,t,n,r,i){var a,s;if(i===N1(e,t,n,r)>0)for(a=t;a<n;a+=r)s=Sm(a,e[a],e[a+1],s);else for(a=n-r;a>=t;a-=r)s=Sm(a,e[a],e[a+1],s);return s&&a0(s,s.next)&&(Cc(s),s=s.next),s}function ws(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(a0(n,n.next)||Pi(n.prev,n,n.next)===0)){if(Cc(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function bc(e,t,n,r,i,a,s){if(!!e){!s&&a&&u5(e,r,i,a);for(var u=e,f,p;e.prev!==e.next;){if(f=e.prev,p=e.next,a?t5(e,r,i,a):e5(e)){t.push(f.i/n),t.push(e.i/n),t.push(p.i/n),Cc(e),e=p.next,u=p.next;continue}if(e=p,e===u){s?s===1?(e=n5(ws(e),t,n),bc(e,t,n,r,i,a,2)):s===2&&r5(e,t,n,r,i,a):bc(ws(e),t,n,r,i,a,1);break}}}}function e5(e){var t=e.prev,n=e,r=e.next;if(Pi(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Zl(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Pi(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function t5(e,t,n,r){var i=e.prev,a=e,s=e.next;if(Pi(i,a,s)>=0)return!1;for(var u=i.x<a.x?i.x<s.x?i.x:s.x:a.x<s.x?a.x:s.x,f=i.y<a.y?i.y<s.y?i.y:s.y:a.y<s.y?a.y:s.y,p=i.x>a.x?i.x>s.x?i.x:s.x:a.x>s.x?a.x:s.x,h=i.y>a.y?i.y>s.y?i.y:s.y:a.y>s.y?a.y:s.y,y=I1(u,f,t,n,r),b=I1(p,h,t,n,r),S=e.prevZ,$=e.nextZ;S&&S.z>=y&&$&&$.z<=b;){if(S!==e.prev&&S!==e.next&&Zl(i.x,i.y,a.x,a.y,s.x,s.y,S.x,S.y)&&Pi(S.prev,S,S.next)>=0||(S=S.prevZ,$!==e.prev&&$!==e.next&&Zl(i.x,i.y,a.x,a.y,s.x,s.y,$.x,$.y)&&Pi($.prev,$,$.next)>=0))return!1;$=$.nextZ}for(;S&&S.z>=y;){if(S!==e.prev&&S!==e.next&&Zl(i.x,i.y,a.x,a.y,s.x,s.y,S.x,S.y)&&Pi(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;$&&$.z<=b;){if($!==e.prev&&$!==e.next&&Zl(i.x,i.y,a.x,a.y,s.x,s.y,$.x,$.y)&&Pi($.prev,$,$.next)>=0)return!1;$=$.nextZ}return!0}function n5(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!a0(i,a)&&wm(i,r,r.next,a)&&Ac(i,a)&&Ac(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),Cc(r),Cc(r.next),r=e=a),r=r.next}while(r!==e);return ws(r)}function r5(e,t,n,r,i,a){var s=e;do{for(var u=s.next.next;u!==s.prev;){if(s.i!==u.i&&d5(s,u)){var f=Pm(s,u);s=ws(s,s.next),f=ws(f,f.next),bc(s,t,n,r,i,a),bc(f,t,n,r,i,a);return}u=u.next}s=s.next}while(s!==e)}function i5(e,t,n,r){var i=[],a,s,u,f,p;for(a=0,s=t.length;a<s;a++)u=t[a]*r,f=a<s-1?t[a+1]*r:e.length,p=Em(e,u,f,r,!1),p===p.next&&(p.steiner=!0),i.push(f5(p));for(i.sort(o5),a=0;a<i.length;a++)a5(i[a],n),n=ws(n,n.next);return n}function o5(e,t){return e.x-t.x}function a5(e,t){if(t=s5(e,t),t){var n=Pm(t,e);ws(t,t.next),ws(n,n.next)}}function s5(e,t){var n=t,r=e.x,i=e.y,a=-1/0,s;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var u=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>a){if(a=u,u===r){if(i===n.y)return n;if(i===n.next.y)return n.next}s=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!s)return null;if(r===a)return s;var f=s,p=s.x,h=s.y,y=1/0,b;n=s;do r>=n.x&&n.x>=p&&r!==n.x&&Zl(i<h?r:a,i,p,h,i<h?a:r,i,n.x,n.y)&&(b=Math.abs(i-n.y)/(r-n.x),Ac(n,e)&&(b<y||b===y&&(n.x>s.x||n.x===s.x&&l5(s,n)))&&(s=n,y=b)),n=n.next;while(n!==f);return s}function l5(e,t){return Pi(e.prev,e,t.prev)<0&&Pi(t.next,e,e.next)<0}function u5(e,t,n,r){var i=e;do i.z===null&&(i.z=I1(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,c5(i)}function c5(e){var t,n,r,i,a,s,u,f,p=1;do{for(n=e,e=null,a=null,s=0;n;){for(s++,r=n,u=0,t=0;t<p&&(u++,r=r.nextZ,!!r);t++);for(f=p;u>0||f>0&&r;)u!==0&&(f===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,u--):(i=r,r=r.nextZ,f--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,p*=2}while(s>1);return e}function I1(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function f5(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function Zl(e,t,n,r,i,a,s,u){return(i-s)*(t-u)-(e-s)*(a-u)>=0&&(e-s)*(r-u)-(n-s)*(t-u)>=0&&(n-s)*(a-u)-(i-s)*(r-u)>=0}function d5(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!p5(e,t)&&(Ac(e,t)&&Ac(t,e)&&h5(e,t)&&(Pi(e.prev,e,t.prev)||Pi(e,t.prev,t))||a0(e,t)&&Pi(e.prev,e,e.next)>0&&Pi(t.prev,t,t.next)>0)}function Pi(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function a0(e,t){return e.x===t.x&&e.y===t.y}function wm(e,t,n,r){var i=l0(Pi(e,t,n)),a=l0(Pi(e,t,r)),s=l0(Pi(n,r,e)),u=l0(Pi(n,r,t));return!!(i!==a&&s!==u||i===0&&s0(e,n,t)||a===0&&s0(e,r,t)||s===0&&s0(n,e,r)||u===0&&s0(n,t,r))}function s0(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function l0(e){return e>0?1:e<0?-1:0}function p5(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&wm(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Ac(e,t){return Pi(e.prev,e,e.next)<0?Pi(e,t,e.next)>=0&&Pi(e,e.prev,t)>=0:Pi(e,t,e.prev)<0||Pi(e,e.next,t)<0}function h5(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function Pm(e,t){var n=new O1(e.i,e.x,e.y),r=new O1(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Sm(e,t,n,r){var i=new O1(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Cc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function O1(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}o0.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,s=Math.abs(N1(e,0,a,n));if(i)for(var u=0,f=t.length;u<f;u++){var p=t[u]*n,h=u<f-1?t[u+1]*n:e.length;s-=Math.abs(N1(e,p,h,n))}var y=0;for(u=0;u<r.length;u+=3){var b=r[u]*n,S=r[u+1]*n,$=r[u+2]*n;y+=Math.abs((e[b]-e[$])*(e[S+1]-e[b+1])-(e[b]-e[S])*(e[$+1]-e[b+1]))}return s===0&&y===0?0:Math.abs((y-s)/s)};function N1(e,t,n,r){for(var i=0,a=t,s=n-r;a<n;a+=r)i+=(e[s]-e[a])*(e[a+1]+e[s+1]),s=a;return i}o0.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var s=0;s<t;s++)n.vertices.push(e[i][a][s]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};var v5=k1.exports,Xl={},L1={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,a=typeof A.L=="object"&&A.L;(a.global===a||a.window===a||a.self===a)&&(n=a);var s,u=2147483647,f=36,p=1,h=26,y=38,b=700,S=72,$=128,G="-",ce=/^xn--/,Re=/[^\x20-\x7E]/,At=/[\x2E\u3002\uFF0E\uFF61]/g,it={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},St=f-p,Kt=Math.floor,Yn=String.fromCharCode,hr;function cr(lr){throw RangeError(it[lr])}function un(lr,Nr){for(var qr=lr.length,Ci=[];qr--;)Ci[qr]=Nr(lr[qr]);return Ci}function Wt(lr,Nr){var qr=lr.split("@"),Ci="";qr.length>1&&(Ci=qr[0]+"@",lr=qr[1]),lr=lr.replace(At,".");var Ti=lr.split("."),eo=un(Ti,Nr).join(".");return Ci+eo}function Tn(lr){for(var Nr=[],qr=0,Ci=lr.length,Ti,eo;qr<Ci;)Ti=lr.charCodeAt(qr++),Ti>=55296&&Ti<=56319&&qr<Ci?(eo=lr.charCodeAt(qr++),(eo&64512)==56320?Nr.push(((Ti&1023)<<10)+(eo&1023)+65536):(Nr.push(Ti),qr--)):Nr.push(Ti);return Nr}function Dn(lr){return un(lr,function(Nr){var qr="";return Nr>65535&&(Nr-=65536,qr+=Yn(Nr>>>10&1023|55296),Nr=56320|Nr&1023),qr+=Yn(Nr),qr}).join("")}function vr(lr){return lr-48<10?lr-22:lr-65<26?lr-65:lr-97<26?lr-97:f}function Zn(lr,Nr){return lr+22+75*(lr<26)-((Nr!=0)<<5)}function xr(lr,Nr,qr){var Ci=0;for(lr=qr?Kt(lr/b):lr>>1,lr+=Kt(lr/Nr);lr>St*h>>1;Ci+=f)lr=Kt(lr/St);return Kt(Ci+(St+1)*lr/(lr+y))}function ir(lr){var Nr=[],qr=lr.length,Ci,Ti=0,eo=$,Li=S,ho,Do,Xo,ua,$i,Io,Bo,yn,Wn;for(ho=lr.lastIndexOf(G),ho<0&&(ho=0),Do=0;Do<ho;++Do)lr.charCodeAt(Do)>=128&&cr("not-basic"),Nr.push(lr.charCodeAt(Do));for(Xo=ho>0?ho+1:0;Xo<qr;){for(ua=Ti,$i=1,Io=f;Xo>=qr&&cr("invalid-input"),Bo=vr(lr.charCodeAt(Xo++)),(Bo>=f||Bo>Kt((u-Ti)/$i))&&cr("overflow"),Ti+=Bo*$i,yn=Io<=Li?p:Io>=Li+h?h:Io-Li,!(Bo<yn);Io+=f)Wn=f-yn,$i>Kt(u/Wn)&&cr("overflow"),$i*=Wn;Ci=Nr.length+1,Li=xr(Ti-ua,Ci,ua==0),Kt(Ti/Ci)>u-eo&&cr("overflow"),eo+=Kt(Ti/Ci),Ti%=Ci,Nr.splice(Ti++,0,eo)}return Dn(Nr)}function hi(lr){var Nr,qr,Ci,Ti,eo,Li,ho,Do,Xo,ua,$i,Io=[],Bo,yn,Wn,Hr;for(lr=Tn(lr),Bo=lr.length,Nr=$,qr=0,eo=S,Li=0;Li<Bo;++Li)$i=lr[Li],$i<128&&Io.push(Yn($i));for(Ci=Ti=Io.length,Ti&&Io.push(G);Ci<Bo;){for(ho=u,Li=0;Li<Bo;++Li)$i=lr[Li],$i>=Nr&&$i<ho&&(ho=$i);for(yn=Ci+1,ho-Nr>Kt((u-qr)/yn)&&cr("overflow"),qr+=(ho-Nr)*yn,Nr=ho,Li=0;Li<Bo;++Li)if($i=lr[Li],$i<Nr&&++qr>u&&cr("overflow"),$i==Nr){for(Do=qr,Xo=f;ua=Xo<=eo?p:Xo>=eo+h?h:Xo-eo,!(Do<ua);Xo+=f)Hr=Do-ua,Wn=f-ua,Io.push(Yn(Zn(ua+Hr%Wn,0))),Do=Kt(Hr/Wn);Io.push(Yn(Zn(Do,0))),eo=xr(qr,yn,Ci==Ti),qr=0,++Ci}++qr,++Nr}return Io.join("")}function Ji(lr){return Wt(lr,function(Nr){return ce.test(Nr)?ir(Nr.slice(4).toLowerCase()):Nr})}function ao(lr){return Wt(lr,function(Nr){return Re.test(Nr)?"xn--"+hi(Nr):Nr})}if(s={version:"1.3.2",ucs2:{decode:Tn,encode:Dn},decode:ir,encode:hi,toASCII:ao,toUnicode:Ji},r&&i)if(e.exports==r)i.exports=s;else for(hr in s)s.hasOwnProperty(hr)&&(r[hr]=s[hr]);else n.punycode=s})(A.L)})(L1,L1.exports);var m5={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Ec={};function g5(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _5=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if(typeof e!="string"||e.length===0)return i;var a=/\+/g;e=e.split(t);var s=1e3;r&&typeof r.maxKeys=="number"&&(s=r.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var f=0;f<u;++f){var p=e[f].replace(a,"%20"),h=p.indexOf(n),y,b,S,$;h>=0?(y=p.substr(0,h),b=p.substr(h+1)):(y=p,b=""),S=decodeURIComponent(y),$=decodeURIComponent(b),g5(i,S)?Array.isArray(i[S])?i[S].push($):i[S]=[i[S],$]:i[S]=$}return i},wc=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},y5=function(e,t,n,r){return t=t||"&",n=n||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var a=encodeURIComponent(wc(i))+n;return Array.isArray(e[i])?e[i].map(function(s){return a+encodeURIComponent(wc(s))}).join(t):a+encodeURIComponent(wc(e[i]))}).join(t):r?encodeURIComponent(wc(r))+n+encodeURIComponent(wc(e)):""};Ec.decode=Ec.parse=_5,Ec.encode=Ec.stringify=y5;var b5=L1.exports,Sa=m5,A5=Xl.parse=Pc;Xl.resolve=I5,Xl.resolveObject=O5,Xl.format=k5,Xl.Url=Vo;function Vo(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var C5=/^([a-z0-9.+-]+:)/i,E5=/:[0-9]*$/,w5=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,P5=["<",">",'"',"`"," ","\r",`
`,"	"],S5=["{","}","|","\\","^","`"].concat(P5),R1=["'"].concat(S5),Tm=["%","/","?",";","#"].concat(R1),Mm=["/","?","#"],T5=255,xm=/^[+a-z0-9A-Z_-]{0,63}$/,M5=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x5={javascript:!0,"javascript:":!0},D1={javascript:!0,"javascript:":!0},Ql={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},B1=Ec;function Pc(e,t,n){if(e&&Sa.isObject(e)&&e instanceof Vo)return e;var r=new Vo;return r.parse(e,t,n),r}Vo.prototype.parse=function(e,t,n){if(!Sa.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",a=e.split(i),s=/\\/g;a[0]=a[0].replace(s,"/"),e=a.join(i);var u=e;if(u=u.trim(),!n&&e.split("#").length===1){var f=w5.exec(u);if(f)return this.path=u,this.href=u,this.pathname=f[1],f[2]?(this.search=f[2],t?this.query=B1.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var p=C5.exec(u);if(p){p=p[0];var h=p.toLowerCase();this.protocol=h,u=u.substr(p.length)}if(n||p||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var y=u.substr(0,2)==="//";y&&!(p&&D1[p])&&(u=u.substr(2),this.slashes=!0)}if(!D1[p]&&(y||p&&!Ql[p])){for(var b=-1,S=0;S<Mm.length;S++){var $=u.indexOf(Mm[S]);$!==-1&&(b===-1||$<b)&&(b=$)}var G,ce;b===-1?ce=u.lastIndexOf("@"):ce=u.lastIndexOf("@",b),ce!==-1&&(G=u.slice(0,ce),u=u.slice(ce+1),this.auth=decodeURIComponent(G)),b=-1;for(var S=0;S<Tm.length;S++){var $=u.indexOf(Tm[S]);$!==-1&&(b===-1||$<b)&&(b=$)}b===-1&&(b=u.length),this.host=u.slice(0,b),u=u.slice(b),this.parseHost(),this.hostname=this.hostname||"";var Re=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Re)for(var At=this.hostname.split(/\./),S=0,it=At.length;S<it;S++){var St=At[S];if(!!St&&!St.match(xm)){for(var Kt="",Yn=0,hr=St.length;Yn<hr;Yn++)St.charCodeAt(Yn)>127?Kt+="x":Kt+=St[Yn];if(!Kt.match(xm)){var cr=At.slice(0,S),un=At.slice(S+1),Wt=St.match(M5);Wt&&(cr.push(Wt[1]),un.unshift(Wt[2])),un.length&&(u="/"+un.join(".")+u),this.hostname=cr.join(".");break}}}this.hostname.length>T5?this.hostname="":this.hostname=this.hostname.toLowerCase(),Re||(this.hostname=b5.toASCII(this.hostname));var Tn=this.port?":"+this.port:"",Dn=this.hostname||"";this.host=Dn+Tn,this.href+=this.host,Re&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!x5[h])for(var S=0,it=R1.length;S<it;S++){var vr=R1[S];if(u.indexOf(vr)!==-1){var Zn=encodeURIComponent(vr);Zn===vr&&(Zn=escape(vr)),u=u.split(vr).join(Zn)}}var xr=u.indexOf("#");xr!==-1&&(this.hash=u.substr(xr),u=u.slice(0,xr));var ir=u.indexOf("?");if(ir!==-1?(this.search=u.substr(ir),this.query=u.substr(ir+1),t&&(this.query=B1.parse(this.query)),u=u.slice(0,ir)):t&&(this.search="",this.query={}),u&&(this.pathname=u),Ql[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Tn=this.pathname||"",hi=this.search||"";this.path=Tn+hi}return this.href=this.format(),this};function k5(e){return Sa.isString(e)&&(e=Pc(e)),e instanceof Vo?e.format():Vo.prototype.format.call(e)}Vo.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Sa.isObject(this.query)&&Object.keys(this.query).length&&(a=B1.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Ql[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),n=n.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),s=s.replace("#","%23"),t+i+n+s+r};function I5(e,t){return Pc(e,!1,!0).resolve(t)}Vo.prototype.resolve=function(e){return this.resolveObject(Pc(e,!1,!0)).format()};function O5(e,t){return e?Pc(e,!1,!0).resolveObject(t):t}Vo.prototype.resolveObject=function(e){if(Sa.isString(e)){var t=new Vo;t.parse(e,!1,!0),e=t}for(var n=new Vo,r=Object.keys(this),i=0;i<r.length;i++){var a=r[i];n[a]=this[a]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var f=s[u];f!=="protocol"&&(n[f]=e[f])}return Ql[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Ql[e.protocol]){for(var p=Object.keys(e),h=0;h<p.length;h++){var y=p[h];n[y]=e[y]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!D1[e.protocol]){for(var it=(e.pathname||"").split("/");it.length&&!(e.host=it.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),it[0]!==""&&it.unshift(""),it.length<2&&it.unshift(""),n.pathname=it.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var b=n.pathname||"",S=n.search||"";n.path=b+S}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var $=n.pathname&&n.pathname.charAt(0)==="/",G=e.host||e.pathname&&e.pathname.charAt(0)==="/",ce=G||$||n.host&&e.pathname,Re=ce,At=n.pathname&&n.pathname.split("/")||[],it=e.pathname&&e.pathname.split("/")||[],St=n.protocol&&!Ql[n.protocol];if(St&&(n.hostname="",n.port=null,n.host&&(At[0]===""?At[0]=n.host:At.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(it[0]===""?it[0]=e.host:it.unshift(e.host)),e.host=null),ce=ce&&(it[0]===""||At[0]==="")),G)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,At=it;else if(it.length)At||(At=[]),At.pop(),At=At.concat(it),n.search=e.search,n.query=e.query;else if(!Sa.isNullOrUndefined(e.search)){if(St){n.hostname=n.host=At.shift();var Kt=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;Kt&&(n.auth=Kt.shift(),n.host=n.hostname=Kt.shift())}return n.search=e.search,n.query=e.query,(!Sa.isNull(n.pathname)||!Sa.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!At.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var Yn=At.slice(-1)[0],hr=(n.host||e.host||At.length>1)&&(Yn==="."||Yn==="..")||Yn==="",cr=0,un=At.length;un>=0;un--)Yn=At[un],Yn==="."?At.splice(un,1):Yn===".."?(At.splice(un,1),cr++):cr&&(At.splice(un,1),cr--);if(!ce&&!Re)for(;cr--;cr)At.unshift("..");ce&&At[0]!==""&&(!At[0]||At[0].charAt(0)!=="/")&&At.unshift(""),hr&&At.join("/").substr(-1)!=="/"&&At.push("");var Wt=At[0]===""||At[0]&&At[0].charAt(0)==="/";if(St){n.hostname=n.host=Wt?"":At.length?At.shift():"";var Kt=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;Kt&&(n.auth=Kt.shift(),n.host=n.hostname=Kt.shift())}return ce=ce||n.host&&At.length,ce&&!Wt&&At.unshift(""),At.length?n.pathname=At.join("/"):(n.pathname=null,n.path=null),(!Sa.isNull(n.pathname)||!Sa.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},Vo.prototype.parseHost=function(){var e=this.host,t=E5.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};/*!
 * @pixi/constants - v5.2.1
 * Compiled Tue, 28 Jan 2020 23:33:11 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ka;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(Ka||(Ka={}));var Sc;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(Sc||(Sc={}));var Mr;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(Mr||(Mr={}));var Yl;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Yl||(Yl={}));var Tc;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Tc||(Tc={}));var Jl;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Jl||(Jl={}));var qo;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(qo||(qo={}));var u0;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(u0||(u0={}));var c0;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(c0||(c0={}));var F1;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"})(F1||(F1={}));var Ps;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(Ps||(Ps={}));var $1;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})($1||($1={}));var Ta;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(Ta||(Ta={}));var Ro;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(Ro||(Ro={}));/*!
 * @pixi/utils - v5.2.1
 * Compiled Tue, 28 Jan 2020 23:33:11 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */$r.RETINA_PREFIX=/@([0-9\.]+)x/,$r.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var km=!1,Im="5.2.1";function N5(e){var t;if(!km){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var n=[`
 %c %c %c PixiJS `+Im+" - \u2730 "+e+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=window.console).log.apply(t,n)}else window.console&&window.console.log("PixiJS "+Im+" - "+e+" - http://www.pixijs.com/");km=!0}}var H1;function L5(){return typeof H1>"u"&&(H1=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:$r.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var n=document.createElement("canvas"),r=n.getContext("webgl",t)||n.getContext("experimental-webgl",t),i=!!(r&&r.getContextAttributes().stencil);if(r){var a=r.getExtension("WEBGL_lose_context");a&&a.loseContext()}return r=null,i}catch{return!1}}()),H1}function Om(e,t){return t=t||[],t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t}function Nm(e){var t=e.toString(16);return t="000000".substr(0,6-t.length)+t,"#"+t}function R5(e){return typeof e=="string"&&e[0]==="#"&&(e=e.substr(1)),parseInt(e,16)}function D5(e){return(e[0]*255<<16)+(e[1]*255<<8)+(e[2]*255|0)}function B5(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[Mr.NORMAL_NPM]=Mr.NORMAL,e[Mr.ADD_NPM]=Mr.ADD,e[Mr.SCREEN_NPM]=Mr.SCREEN,t[Mr.NORMAL]=Mr.NORMAL_NPM,t[Mr.ADD]=Mr.ADD_NPM,t[Mr.SCREEN]=Mr.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}var Lm=B5();function F5(e,t){return Lm[t?1:0][e]}function $5(e,t,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t):(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=t,n}function Rm(e,t){if(t===1)return(t*255<<24)+e;if(t===0)return 0;var n=e>>16&255,r=e>>8&255,i=e&255;return n=n*t+.5|0,r=r*t+.5|0,i=i*t+.5|0,(t*255<<24)+(n<<16)+(r<<8)+i}function H5(e,t,n,r){return n=n||new Float32Array(4),n[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(e&255)/255,(r||r===void 0)&&(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n}function U5(e,t){t===void 0&&(t=null);var n=e*6;if(t=t||new Uint16Array(n),t.length!==n)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}function f0(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function Dm(e){return!(e&e-1)&&!!e}function Bm(e){var t=(e>65535?1:0)<<4;e>>>=t;var n=(e>255?1:0)<<3;return e>>>=n,t|=n,n=(e>15?1:0)<<2,e>>>=n,t|=n,n=(e>3?1:0)<<1,e>>>=n,t|=n,t|e>>1}function Mc(e,t,n){var r=e.length,i;if(!(t>=r||n===0)){n=t+n>r?r-t:n;var a=r-n;for(i=t;i<a;++i)e[i]=e[i+n];e.length=a}}function j5(e){return e===0?0:e<0?-1:1}var G5=0;function xc(){return++G5}var Fm={};function $m(e,t,n){if(n===void 0&&(n=3),!Fm[t]){var r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+`
Deprecated since v`+e),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e),console.warn(r))),Fm[t]=!0}}var Hm={},Za=Object.create(null),Ss=Object.create(null),z5=function(){function e(t,n,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||$r.RESOLUTION,this.resize(t,n)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(t,n){this.canvas.width=t*this.resolution,this.canvas.height=n*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!0,configurable:!0}),e}();function W5(e){var t=e.width,n=e.height,r=e.getContext("2d"),i=r.getImageData(0,0,t,n),a=i.data,s=a.length,u={top:null,left:null,right:null,bottom:null},f=null,p,h,y;for(p=0;p<s;p+=4)a[p+3]!==0&&(h=p/4%t,y=~~(p/4/t),u.top===null&&(u.top=y),(u.left===null||h<u.left)&&(u.left=h),(u.right===null||u.right<h)&&(u.right=h+1),(u.bottom===null||u.bottom<y)&&(u.bottom=y));return u.top!==null&&(t=u.right-u.left,n=u.bottom-u.top+1,f=r.getImageData(u.left,u.top,t,n)),{height:n,width:t,data:f}}var d0;function V5(e,t){if(t===void 0&&(t=window.location),e.indexOf("data:")===0)return"";t=t||window.location,d0||(d0=document.createElement("a")),d0.href=e;var n=A5(d0.href),r=!n.port&&t.port===""||n.port===t.port;return n.hostname!==t.hostname||!r||n.protocol!==t.protocol?"anonymous":""}function U1(e,t){var n=$r.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):t!==void 0?t:1}/*!
 * @pixi/math - v5.2.1
 * Compiled Tue, 28 Jan 2020 23:33:11 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var eu=function(){function e(t,n){t===void 0&&(t=0),n===void 0&&(n=0),this.x=t,this.y=n}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},e.prototype.copyTo=function(t){return t.set(this.x,this.y),t},e.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},e.prototype.set=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),this.x=t,this.y=n,this},e}(),kc=function(){function e(t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=n}return e.prototype.clone=function(t,n){return t===void 0&&(t=this.cb),n===void 0&&(n=this.scope),new e(t,n,this._x,this._y)},e.prototype.set=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),(this._x!==t||this._y!==n)&&(this._x=t,this._y=n,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(t){return t.set(this._x,this._y),t},e.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),e}(),Um=Math.PI*2,q5=180/Math.PI,jm=Math.PI/180,Ts;(function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"})(Ts||(Ts={}));var Ko=function(){function e(t,n,r,i,a,s){t===void 0&&(t=1),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=1),a===void 0&&(a=0),s===void 0&&(s=0),this.array=null,this.a=t,this.b=n,this.c=r,this.d=i,this.tx=a,this.ty=s}return e.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},e.prototype.set=function(t,n,r,i,a,s){return this.a=t,this.b=n,this.c=r,this.d=i,this.tx=a,this.ty=s,this},e.prototype.toArray=function(t,n){this.array||(this.array=new Float32Array(9));var r=n||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.apply=function(t,n){n=n||new eu;var r=t.x,i=t.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n},e.prototype.applyInverse=function(t,n){n=n||new eu;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,a=t.y;return n.x=this.d*r*i+-this.c*r*a+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*a+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n},e.prototype.translate=function(t,n){return this.tx+=t,this.ty+=n,this},e.prototype.scale=function(t,n){return this.a*=t,this.d*=n,this.c*=t,this.b*=n,this.tx*=t,this.ty*=n,this},e.prototype.rotate=function(t){var n=Math.cos(t),r=Math.sin(t),i=this.a,a=this.c,s=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=a*n-this.d*r,this.d=a*r+this.d*n,this.tx=s*n-this.ty*r,this.ty=s*r+this.ty*n,this},e.prototype.append=function(t){var n=this.a,r=this.b,i=this.c,a=this.d;return this.a=t.a*n+t.b*i,this.b=t.a*r+t.b*a,this.c=t.c*n+t.d*i,this.d=t.c*r+t.d*a,this.tx=t.tx*n+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*a+this.ty,this},e.prototype.setTransform=function(t,n,r,i,a,s,u,f,p){return this.a=Math.cos(u+p)*a,this.b=Math.sin(u+p)*a,this.c=-Math.sin(u-f)*s,this.d=Math.cos(u-f)*s,this.tx=t-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this},e.prototype.prepend=function(t){var n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this},e.prototype.decompose=function(t){var n=this.a,r=this.b,i=this.c,a=this.d,s=-Math.atan2(-i,a),u=Math.atan2(r,n),f=Math.abs(s+u);return f<1e-5||Math.abs(Um-f)<1e-5?(t.rotation=u,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=u),t.scale.x=Math.sqrt(n*n+r*r),t.scale.y=Math.sqrt(i*i+a*a),t.position.x=this.tx,t.position.y=this.ty,t},e.prototype.invert=function(){var t=this.a,n=this.b,r=this.c,i=this.d,a=this.tx,s=t*i-n*r;return this.a=i/s,this.b=-n/s,this.c=-r/s,this.d=t/s,this.tx=(r*this.ty-i*a)/s,this.ty=-(t*this.ty-n*a)/s,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!0,configurable:!0}),e}(),Qs=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ys=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Js=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],el=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],j1=[],Gm=[],p0=Math.sign;function K5(){for(var e=0;e<16;e++){var t=[];j1.push(t);for(var n=0;n<16;n++)for(var r=p0(Qs[e]*Qs[n]+Js[e]*Ys[n]),i=p0(Ys[e]*Qs[n]+el[e]*Ys[n]),a=p0(Qs[e]*Js[n]+Js[e]*el[n]),s=p0(Ys[e]*Js[n]+el[e]*el[n]),u=0;u<16;u++)if(Qs[u]===r&&Ys[u]===i&&Js[u]===a&&el[u]===s){t.push(u);break}}for(var e=0;e<16;e++){var f=new Ko;f.set(Qs[e],Ys[e],Js[e],el[e],0,0),Gm.push(f)}}K5();var Si={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return Qs[e]},uY:function(e){return Ys[e]},vX:function(e){return Js[e]},vY:function(e){return el[e]},inv:function(e){return e&8?e&15:-e&7},add:function(e,t){return j1[e][t]},sub:function(e,t){return j1[e][Si.inv(t)]},rotate180:function(e){return e^4},isVertical:function(e){return(e&3)===2},byDirection:function(e,t){return Math.abs(e)*2<=Math.abs(t)?t>=0?Si.S:Si.N:Math.abs(t)*2<=Math.abs(e)?e>0?Si.E:Si.W:t>0?e>0?Si.SE:Si.SW:e>0?Si.NE:Si.NW},matrixAppendRotationInv:function(e,t,n,r){n===void 0&&(n=0),r===void 0&&(r=0);var i=Gm[Si.inv(t)];i.tx=n,i.ty=r,e.append(i)}},Z5=function(){function e(){this.worldTransform=new Ko,this.localTransform=new Ko,this.position=new kc(this.onChange,this,0,0),this.scale=new kc(this.onChange,this,1,1),this.pivot=new kc(this.onChange,this,0,0),this.skew=new kc(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var n=this.localTransform;if(this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=n.a*r.a+n.b*r.c,i.b=n.a*r.b+n.b*r.d,i.c=n.c*r.a+n.d*r.c,i.d=n.c*r.b+n.d*r.d,i.tx=n.tx*r.a+n.ty*r.c+r.tx,i.ty=n.tx*r.b+n.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!0,configurable:!0}),e.IDENTITY=new e,e}(),Xi=function(){function e(t,n,r,i){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=Number(t),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=Ts.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},e.prototype.contains=function(t,n){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height},e.prototype.pad=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2,this},e.prototype.fit=function(t){var n=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),a=Math.min(this.y+this.height,t.y+t.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(a-i,0),this},e.prototype.ceil=function(t,n){t===void 0&&(t=1),n===void 0&&(n=.001);var r=Math.ceil((this.x+this.width-n)*t)/t,i=Math.ceil((this.y+this.height-n)*t)/t;return this.x=Math.floor((this.x+n)*t)/t,this.y=Math.floor((this.y+n)*t)/t,this.width=r-this.x,this.height=i-this.y,this},e.prototype.enlarge=function(t){var n=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),a=Math.max(this.y+this.height,t.y+t.height);return this.x=n,this.width=r-n,this.y=i,this.height=a-i,this},e}(),X5=function(){function e(t,n,r){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),this.x=t,this.y=n,this.radius=r,this.type=Ts.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(t,n){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,a=this.y-n;return i*=i,a*=a,i+a<=r},e.prototype.getBounds=function(){return new Xi(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},e}(),Q5=function(){function e(t,n,r,i){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=t,this.y=n,this.width=r,this.height=i,this.type=Ts.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(t,n){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1},e.prototype.getBounds=function(){return new Xi(this.x-this.width,this.y-this.height,this.width,this.height)},e}(),Y5=function(){function e(){for(var t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];if(Array.isArray(n[0])&&(n=n[0]),n[0]instanceof eu){n=n;for(var i=[],a=0,s=n.length;a<s;a++)i.push(n[a].x,n[a].y);n=i}this.points=n,this.type=Ts.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=this.points.slice(),n=new e(t);return n.closeStroke=this.closeStroke,n},e.prototype.contains=function(t,n){for(var r=!1,i=this.points.length/2,a=0,s=i-1;a<i;s=a++){var u=this.points[a*2],f=this.points[a*2+1],p=this.points[s*2],h=this.points[s*2+1],y=f>n!=h>n&&t<(p-u)*((n-f)/(h-f))+u;y&&(r=!r)}return r},e}(),J5=function(){function e(t,n,r,i,a){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=t,this.y=n,this.width=r,this.height=i,this.radius=a,this.type=Ts.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(t,n){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){if(n>=this.y+this.radius&&n<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=n-(this.y+this.radius),a=this.radius*this.radius;if(r*r+i*i<=a||(r=t-(this.x+this.width-this.radius),r*r+i*i<=a)||(i=n-(this.y+this.height-this.radius),r*r+i*i<=a)||(r=t-(this.x+this.radius),r*r+i*i<=a))return!0}return!1},e}();/*!
 * @pixi/display - v5.2.1
 * Compiled Tue, 28 Jan 2020 23:33:11 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */$r.SORTABLE_CHILDREN=!1;var Wi=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};Wi.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Wi.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Wi.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Xi.EMPTY:(t=t||new Xi(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},Wi.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},Wi.prototype.addQuad=function(t){var n=this.minX,r=this.minY,i=this.maxX,a=this.maxY,s=t[0],u=t[1];n=s<n?s:n,r=u<r?u:r,i=s>i?s:i,a=u>a?u:a,s=t[2],u=t[3],n=s<n?s:n,r=u<r?u:r,i=s>i?s:i,a=u>a?u:a,s=t[4],u=t[5],n=s<n?s:n,r=u<r?u:r,i=s>i?s:i,a=u>a?u:a,s=t[6],u=t[7],n=s<n?s:n,r=u<r?u:r,i=s>i?s:i,a=u>a?u:a,this.minX=n,this.minY=r,this.maxX=i,this.maxY=a},Wi.prototype.addFrame=function(t,n,r,i,a){this.addFrameMatrix(t.worldTransform,n,r,i,a)},Wi.prototype.addFrameMatrix=function(t,n,r,i,a){var s=t.a,u=t.b,f=t.c,p=t.d,h=t.tx,y=t.ty,b=this.minX,S=this.minY,$=this.maxX,G=this.maxY,ce=s*n+f*r+h,Re=u*n+p*r+y;b=ce<b?ce:b,S=Re<S?Re:S,$=ce>$?ce:$,G=Re>G?Re:G,ce=s*i+f*r+h,Re=u*i+p*r+y,b=ce<b?ce:b,S=Re<S?Re:S,$=ce>$?ce:$,G=Re>G?Re:G,ce=s*n+f*a+h,Re=u*n+p*a+y,b=ce<b?ce:b,S=Re<S?Re:S,$=ce>$?ce:$,G=Re>G?Re:G,ce=s*i+f*a+h,Re=u*i+p*a+y,b=ce<b?ce:b,S=Re<S?Re:S,$=ce>$?ce:$,G=Re>G?Re:G,this.minX=b,this.minY=S,this.maxX=$,this.maxY=G},Wi.prototype.addVertexData=function(t,n,r){for(var i=this.minX,a=this.minY,s=this.maxX,u=this.maxY,f=n;f<r;f+=2){var p=t[f],h=t[f+1];i=p<i?p:i,a=h<a?h:a,s=p>s?p:s,u=h>u?h:u}this.minX=i,this.minY=a,this.maxX=s,this.maxY=u},Wi.prototype.addVertices=function(t,n,r,i){this.addVerticesMatrix(t.worldTransform,n,r,i)},Wi.prototype.addVerticesMatrix=function(t,n,r,i,a,s){var u=t.a,f=t.b,p=t.c,h=t.d,y=t.tx,b=t.ty;a=a||0,s=s||0;for(var S=this.minX,$=this.minY,G=this.maxX,ce=this.maxY,Re=r;Re<i;Re+=2){var At=n[Re],it=n[Re+1],St=u*At+p*it+y,Kt=h*it+f*At+b;S=Math.min(S,St-a),G=Math.max(G,St+a),$=Math.min($,Kt-s),ce=Math.max(ce,Kt+s)}this.minX=S,this.minY=$,this.maxX=G,this.maxY=ce},Wi.prototype.addBounds=function(t){var n=this.minX,r=this.minY,i=this.maxX,a=this.maxY;this.minX=t.minX<n?t.minX:n,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>a?t.maxY:a},Wi.prototype.addBoundsMask=function(t,n){var r=t.minX>n.minX?t.minX:n.minX,i=t.minY>n.minY?t.minY:n.minY,a=t.maxX<n.maxX?t.maxX:n.maxX,s=t.maxY<n.maxY?t.maxY:n.maxY;if(r<=a&&i<=s){var u=this.minX,f=this.minY,p=this.maxX,h=this.maxY;this.minX=r<u?r:u,this.minY=i<f?i:f,this.maxX=a>p?a:p,this.maxY=s>h?s:h}},Wi.prototype.addBoundsMatrix=function(t,n){this.addFrameMatrix(n,t.minX,t.minY,t.maxX,t.maxY)},Wi.prototype.addBoundsArea=function(t,n){var r=t.minX>n.x?t.minX:n.x,i=t.minY>n.y?t.minY:n.y,a=t.maxX<n.x+n.width?t.maxX:n.x+n.width,s=t.maxY<n.y+n.height?t.maxY:n.y+n.height;if(r<=a&&i<=s){var u=this.minX,f=this.minY,p=this.maxX,h=this.maxY;this.minX=r<u?r:u,this.minY=i<f?i:f,this.maxX=a>p?a:p,this.maxY=s>h?s:h}},Wi.prototype.pad=function(t,n){t=t||0,n=n||(n!==0?t:0),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=n,this.maxY+=n)},Wi.prototype.addFramePad=function(t,n,r,i,a,s){t-=a,n-=s,r+=a,i+=s,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i};var h0=function(e){function t(){e.call(this),this.tempDisplayObjectParent=null,this.transform=new Z5,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Wi,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return t.mixin=function(i){for(var a=Object.keys(i),s=0;s<a.length;++s){var u=a[s];Object.defineProperty(t.prototype,u,Object.getOwnPropertyDescriptor(i,u))}},n._tempDisplayObjectParent.get=function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new t),this.tempDisplayObjectParent},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.calculateBounds=function(){},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.getBounds=function(i,a){return i||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&(this.calculateBounds(),this._lastBoundsID=this._boundsID),a||(this._boundsRect||(this._boundsRect=new Xi),a=this._boundsRect),this._bounds.getRectangle(a)},t.prototype.getLocalBounds=function(i){var a=this.transform,s=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,i||(this._localBoundsRect||(this._localBoundsRect=new Xi),i=this._localBoundsRect);var u=this.getBounds(!1,i);return this.parent=s,this.transform=a,u},t.prototype.toGlobal=function(i,a,s){return s===void 0&&(s=!1),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(i,a)},t.prototype.toLocal=function(i,a,s,u){return a&&(i=a.toGlobal(i,s,u)),u||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(i,s)},t.prototype.render=function(i){},t.prototype.setParent=function(i){if(!i||!i.addChild)throw new Error("setParent: Argument must be a Container");return i.addChild(this),i},t.prototype.setTransform=function(i,a,s,u,f,p,h,y,b){return i===void 0&&(i=0),a===void 0&&(a=0),s===void 0&&(s=1),u===void 0&&(u=1),f===void 0&&(f=0),p===void 0&&(p=0),h===void 0&&(h=0),y===void 0&&(y=0),b===void 0&&(b=0),this.position.x=i,this.position.y=a,this.scale.x=s||1,this.scale.y=u||1,this.rotation=f,this.skew.x=p,this.skew.y=h,this.pivot.x=y,this.pivot.y=b,this},t.prototype.destroy=function(){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n.x.get=function(){return this.position.x},n.x.set=function(r){this.transform.position.x=r},n.y.get=function(){return this.position.y},n.y.set=function(r){this.transform.position.y=r},n.worldTransform.get=function(){return this.transform.worldTransform},n.localTransform.get=function(){return this.transform.localTransform},n.position.get=function(){return this.transform.position},n.position.set=function(r){this.transform.position.copyFrom(r)},n.scale.get=function(){return this.transform.scale},n.scale.set=function(r){this.transform.scale.copyFrom(r)},n.pivot.get=function(){return this.transform.pivot},n.pivot.set=function(r){this.transform.pivot.copyFrom(r)},n.skew.get=function(){return this.transform.skew},n.skew.set=function(r){this.transform.skew.copyFrom(r)},n.rotation.get=function(){return this.transform.rotation},n.rotation.set=function(r){this.transform.rotation=r},n.angle.get=function(){return this.transform.rotation*q5},n.angle.set=function(r){this.transform.rotation=r*jm},n.zIndex.get=function(){return this._zIndex},n.zIndex.set=function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},n.worldVisible.get=function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},n.mask.get=function(){return this._mask},n.mask.set=function(r){if(this._mask){var i=this._mask.maskObject||this._mask;i.renderable=!0,i.isMask=!1}if(this._mask=r,this._mask){var a=this._mask.maskObject||this._mask;a.renderable=!1,a.isMask=!0}},Object.defineProperties(t.prototype,n),t}(yc);h0.prototype.displayObjectUpdateTransform=h0.prototype.updateTransform;function ey(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var v0=function(e){function t(){e.call(this),this.children=[],this.sortableChildren=$r.SORTABLE_CHILDREN,this.sortDirty=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={width:{configurable:!0},height:{configurable:!0}};return t.prototype.onChildrenChange=function(){},t.prototype.addChild=function(i){var a=arguments,s=arguments.length;if(s>1)for(var u=0;u<s;u++)this.addChild(a[u]);else i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this);return i},t.prototype.addChildAt=function(i,a){if(a<0||a>this.children.length)throw new Error(i+"addChildAt: The index "+a+" supplied is out of bounds "+this.children.length);return i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.splice(a,0,i),this._boundsID++,this.onChildrenChange(a),i.emit("added",this),this.emit("childAdded",i,this,a),i},t.prototype.swapChildren=function(i,a){if(i!==a){var s=this.getChildIndex(i),u=this.getChildIndex(a);this.children[s]=a,this.children[u]=i,this.onChildrenChange(s<u?s:u)}},t.prototype.getChildIndex=function(i){var a=this.children.indexOf(i);if(a===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return a},t.prototype.setChildIndex=function(i,a){if(a<0||a>=this.children.length)throw new Error("The index "+a+" supplied is out of bounds "+this.children.length);var s=this.getChildIndex(i);Mc(this.children,s,1),this.children.splice(a,0,i),this.onChildrenChange(a)},t.prototype.getChildAt=function(i){if(i<0||i>=this.children.length)throw new Error("getChildAt: Index ("+i+") does not exist.");return this.children[i]},t.prototype.removeChild=function(i){var a=arguments,s=arguments.length;if(s>1)for(var u=0;u<s;u++)this.removeChild(a[u]);else{var f=this.children.indexOf(i);if(f===-1)return null;i.parent=null,i.transform._parentID=-1,Mc(this.children,f,1),this._boundsID++,this.onChildrenChange(f),i.emit("removed",this),this.emit("childRemoved",i,this,f)}return i},t.prototype.removeChildAt=function(i){var a=this.getChildAt(i);return a.parent=null,a.transform._parentID=-1,Mc(this.children,i,1),this._boundsID++,this.onChildrenChange(i),a.emit("removed",this),this.emit("childRemoved",a,this,i),a},t.prototype.removeChildren=function(i,a){i===void 0&&(i=0);var s=i,u=typeof a=="number"?a:this.children.length,f=u-s,p;if(f>0&&f<=u){p=this.children.splice(s,f);for(var h=0;h<p.length;++h)p[h].parent=null,p[h].transform&&(p[h].transform._parentID=-1);this._boundsID++,this.onChildrenChange(i);for(var y=0;y<p.length;++y)p[y].emit("removed",this),this.emit("childRemoved",p[y],this,y);return p}else if(f===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var i=!1,a=0,s=this.children.length;a<s;++a){var u=this.children[a];u._lastSortedIndex=a,!i&&u.zIndex!==0&&(i=!0)}i&&this.children.length>1&&this.children.sort(ey),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var i=0,a=this.children.length;i<a;++i){var s=this.children[i];s.visible&&s.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var i=0;i<this.children.length;i++){var a=this.children[i];if(!(!a.visible||!a.renderable))if(a.calculateBounds(),a._mask){var s=a._mask.maskObject||a._mask;s.calculateBounds(),this._bounds.addBoundsMask(a._bounds,s._bounds)}else a.filterArea?this._bounds.addBoundsArea(a._bounds,a.filterArea):this._bounds.addBounds(a._bounds)}this._lastBoundsID=this._boundsID},t.prototype._calculateBounds=function(){},t.prototype.render=function(i){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(i);else{this._render(i);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(i)}},t.prototype.renderAdvanced=function(i){i.batch.flush();var a=this.filters,s=this._mask;if(a){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var u=0;u<a.length;u++)a[u].enabled&&this._enabledFilters.push(a[u]);this._enabledFilters.length&&i.filter.push(this,this._enabledFilters)}s&&i.mask.push(this,this._mask),this._render(i);for(var f=0,p=this.children.length;f<p;f++)this.children[f].render(i);i.batch.flush(),s&&i.mask.pop(this,this._mask),a&&this._enabledFilters&&this._enabledFilters.length&&i.filter.pop()},t.prototype._render=function(i){},t.prototype.destroy=function(i){e.prototype.destroy.call(this),this.sortDirty=!1;var a=typeof i=="boolean"?i:i&&i.children,s=this.removeChildren(0,this.children.length);if(a)for(var u=0;u<s.length;++u)s[u].destroy(i)},n.width.get=function(){return this.scale.x*this.getLocalBounds().width},n.width.set=function(r){var i=this.getLocalBounds().width;i!==0?this.scale.x=r/i:this.scale.x=1,this._width=r},n.height.get=function(){return this.scale.y*this.getLocalBounds().height},n.height.set=function(r){var i=this.getLocalBounds().height;i!==0?this.scale.y=r/i:this.scale.y=1,this._height=r},Object.defineProperties(t.prototype,n),t}(h0);v0.prototype.containerUpdateTransform=v0.prototype.updateTransform;/*!
 * @pixi/ticker - v5.2.1
 * Compiled Tue, 28 Jan 2020 23:33:11 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */$r.TARGET_FPMS=.06;var tu;(function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"})(tu||(tu={}));var G1=function(){function e(t,n,r,i){n===void 0&&(n=null),r===void 0&&(r=0),i===void 0&&(i=!1),this.fn=t,this.context=n,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(t,n){return n===void 0&&(n=null),this.fn===t&&this.context===n},e.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n},e.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},e.prototype.destroy=function(t){t===void 0&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var n=this.next;return this.next=t?null:n,this.previous=null,n},e}(),Xa=function(){function e(){var t=this;this._head=new G1(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/$r.TARGET_FPMS,this.elapsedMS=1/$r.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(n){t._requestId=null,t.started&&(t.update(n),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(t,n,r){return r===void 0&&(r=tu.NORMAL),this._addListener(new G1(t,n,r))},e.prototype.addOnce=function(t,n,r){return r===void 0&&(r=tu.NORMAL),this._addListener(new G1(t,n,r,!0))},e.prototype._addListener=function(t){var n=this._head.next,r=this._head;if(!n)t.connect(r);else{for(;n;){if(t.priority>n.priority){t.connect(r);break}r=n,n=n.next}t.previous||t.connect(r)}return this._startIfPossible(),this},e.prototype.remove=function(t,n){for(var r=this._head.next;r;)r.match(t,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,n=this._head;n=n.next;)t++;return t},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(t){t===void 0&&(t=performance.now());var n;if(t>this.lastTime){if(n=this.elapsedMS=t-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*$r.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var n=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,n)/1e3,$r.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(t===0)this._minElapsedMS=0;else{var n=Math.max(this.minFPS,t);this._minElapsedMS=1/(n/1e3)}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!0,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!0,configurable:!0}),e}(),ty=function(){function e(){}return e.init=function(t){var n=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,tu.LOW)},get:function(){return this._ticker}}),this.stop=function(){n._ticker.stop()},this.start=function(){n._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Xa.shared:new Xa,t.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},e}();/*!
 * @pixi/runner - v5.2.1
 * Compiled Tue, 28 Jan 2020 23:33:11 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var oo=function(){function e(t){this.items=[],this._name=t,this._aliasCount=0}return e.prototype.emit=function(t,n,r,i,a,s,u,f){if(arguments.length>8)throw new Error("max arguments reached");var p=this,h=p.name,y=p.items;this._aliasCount++;for(var b=0,S=y.length;b<S;b++)y[b][h](t,n,r,i,a,s,u,f);return y===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},e.prototype.remove=function(t){var n=this.items.indexOf(t);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this},e.prototype.contains=function(t){return this.items.indexOf(t)!==-1},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e}();Object.defineProperties(oo.prototype,{dispatch:{value:oo.prototype.emit},run:{value:oo.prototype.emit}});/*!
 * @pixi/core - v5.2.1
 * Compiled Tue, 28 Jan 2020 23:33:11 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var xo=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0),this._width=t,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new oo("setRealSize",2),this.onUpdate=new oo("update"),this.onError=new oo("onError",1)},m0={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};xo.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)},xo.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},xo.prototype.resize=function(t,n){(t!==this._width||n!==this._height)&&(this._width=t,this._height=n,this.onResize.run(t,n))},m0.valid.get=function(){return!!this._width&&!!this._height},xo.prototype.update=function(){this.destroyed||this.onUpdate.run()},xo.prototype.load=function(){return Promise.resolve()},m0.width.get=function(){return this._width},m0.height.get=function(){return this._height},xo.prototype.upload=function(t,n,r){return!1},xo.prototype.style=function(t,n,r){return!1},xo.prototype.dispose=function(){},xo.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},Object.defineProperties(xo.prototype,m0);var Ic=function(e){function t(n){var r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;e.call(this,r,i),this.source=n,this.noSubImage=!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.crossOrigin=function(r,i,a){a===void 0&&i.indexOf("data:")!==0?r.crossOrigin=V5(i):a!==!1&&(r.crossOrigin=typeof a=="string"?a:"anonymous")},t.prototype.upload=function(r,i,a,s){var u=r.gl,f=i.realWidth,p=i.realHeight;return s=s||this.source,u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Ps.UNPACK),!this.noSubImage&&i.target===u.TEXTURE_2D&&a.width===f&&a.height===p?u.texSubImage2D(u.TEXTURE_2D,0,0,0,i.format,i.type,s):(a.width=f,a.height=p,u.texImage2D(i.target,0,i.format,i.format,i.type,s)),!0},t.prototype.update=function(){if(!this.destroyed){var r=this.source.naturalWidth||this.source.videoWidth||this.source.width,i=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(r,i),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(xo),z1=function(e){function t(n,r){if(r=r||{},!(n instanceof HTMLImageElement)){var i=new Image;e.crossOrigin(i,n,r.crossorigin),i.src=n,n=i}e.call(this,n),!n.complete&&!!this._width&&!!this._height&&(this._width=0,this._height=0),this.url=n.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap!==void 0?r.createBitmap:$r.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,r.premultiplyAlpha!==void 0&&(this.premultiplyAlpha=r.premultiplyAlpha),this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(r){var i=this;return r!==void 0&&(this.createBitmap=r),this._load?this._load:(this._load=new Promise(function(a){i.url=i.source.src;var s=i,u=s.source,f=function(){i.destroyed||(u.onload=null,u.onerror=null,i.resize(u.width,u.height),i._load=null,i.createBitmap?a(i.process()):a(i))};u.complete&&u.src?f():(u.onload=f,u.onerror=function(p){return i.onError.run(p)})}),this._load)},t.prototype.process=function(){var r=this;return this._process!==null?this._process:this.bitmap!==null||!window.createImageBitmap?Promise.resolve(this):(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha===Ps.UNPACK?"premultiply":"none"}).then(function(i){return r.destroyed?Promise.reject():(r.bitmap=i,r.update(),r._process=null,Promise.resolve(r))}),this._process)},t.prototype.upload=function(r,i,a){if(typeof this.alphaMode=="number"&&(i.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,r,i,a);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,r,i,a,this.bitmap),!this.preserveBitmap){var s=!0;for(var u in i._glTextures){var f=i._glTextures[u];if(f!==a&&f.dirtyId!==i.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t}(Ic),W1=[];function zm(e,t){if(!e)return null;var n="";if(typeof e=="string"){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(n=r[1].toLowerCase())}for(var i=W1.length-1;i>=0;--i){var a=W1[i];if(a.test&&a.test(e,n))return new a(e,t)}return new z1(e,t)}var V1=function(e){function t(n,r){var i=r||{},a=i.width,s=i.height;if(!a||!s)throw new Error("BufferResource width or height invalid");e.call(this,a,s),this.data=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.upload=function(r,i,a){var s=r.gl;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Ps.UNPACK),a.width===i.width&&a.height===i.height?s.texSubImage2D(i.target,0,0,0,i.width,i.height,i.format,i.type,this.data):(a.width=i.width,a.height=i.height,s.texImage2D(i.target,0,a.internalFormat,i.width,i.height,0,i.format,a.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},t}(xo),ny={scaleMode:u0.NEAREST,format:Tc.RGBA,alphaMode:Ps.NPM},Qi=function(e){function t(r,i){r===void 0&&(r=null),i===void 0&&(i=null),e.call(this),i=i||{};var a=i.alphaMode,s=i.mipmap,u=i.anisotropicLevel,f=i.scaleMode,p=i.width,h=i.height,y=i.wrapMode,b=i.format,S=i.type,$=i.target,G=i.resolution,ce=i.resourceOptions;r&&!(r instanceof xo)&&(r=zm(r,ce),r.internal=!0),this.width=p||0,this.height=h||0,this.resolution=G||$r.RESOLUTION,this.mipmap=s!==void 0?s:$r.MIPMAP_TEXTURES,this.anisotropicLevel=u!==void 0?u:$r.ANISOTROPIC_LEVEL,this.wrapMode=y||$r.WRAP_MODE,this.scaleMode=f!==void 0?f:$r.SCALE_MODE,this.format=b||Tc.RGBA,this.type=S||qo.UNSIGNED_BYTE,this.target=$||Jl.TEXTURE_2D,this.alphaMode=a!==void 0?a:Ps.UNPACK,i.premultiplyAlpha!==void 0&&(this.premultiplyAlpha=i.premultiplyAlpha),this.uid=xc(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=p>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.setResource(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={realWidth:{configurable:!0},realHeight:{configurable:!0}};return n.realWidth.get=function(){return Math.ceil(this.width*this.resolution-1e-4)},n.realHeight.get=function(){return Math.ceil(this.height*this.resolution-1e-4)},t.prototype.setStyle=function(i,a){var s;return i!==void 0&&i!==this.scaleMode&&(this.scaleMode=i,s=!0),a!==void 0&&a!==this.mipmap&&(this.mipmap=a,s=!0),s&&this.dirtyStyleId++,this},t.prototype.setSize=function(i,a,s){return this.resolution=s||this.resolution,this.width=i,this.height=a,this._refreshPOT(),this.update(),this},t.prototype.setRealSize=function(i,a,s){return this.resolution=s||this.resolution,this.width=i/this.resolution,this.height=a/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=Dm(this.realWidth)&&Dm(this.realHeight)},t.prototype.setResolution=function(i){var a=this.resolution;return a===i?this:(this.resolution=i,this.valid&&(this.width=this.width*a/i,this.height=this.height*a/i,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(i){if(this.resource===i)return this;if(this.resource)throw new Error("Resource can be set only once");return i.bind(this),this.resource=i,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(i){this.emit("error",this,i)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ss[this.cacheId],delete Za[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.from=function(i,a,s){s===void 0&&(s=$r.STRICT_TEXTURE_CACHE);var u=typeof i=="string",f=null;u?f=i:(i._pixiId||(i._pixiId="pixiid_"+xc()),f=i._pixiId);var p=Ss[f];if(u&&s&&!p)throw new Error('The cacheId "'+f+'" does not exist in BaseTextureCache.');return p||(p=new t(i,a),p.cacheId=f,t.addToCache(p,f)),p},t.fromBuffer=function(i,a,s,u){i=i||new Float32Array(a*s*4);var f=new V1(i,{width:a,height:s}),p=i instanceof Float32Array?qo.FLOAT:qo.UNSIGNED_BYTE;return new t(f,Object.assign(ny,u||{width:a,height:s,type:p}))},t.addToCache=function(i,a){a&&(i.textureCacheIds.indexOf(a)===-1&&i.textureCacheIds.push(a),Ss[a]&&console.warn("BaseTexture added to the cache with an id ["+a+"] that already had an entry"),Ss[a]=i)},t.removeFromCache=function(i){if(typeof i=="string"){var a=Ss[i];if(a){var s=a.textureCacheIds.indexOf(i);return s>-1&&a.textureCacheIds.splice(s,1),delete Ss[i],a}}else if(i&&i.textureCacheIds){for(var u=0;u<i.textureCacheIds.length;++u)delete Ss[i.textureCacheIds[u]];return i.textureCacheIds.length=0,i}return null},Object.defineProperties(t.prototype,n),t}(yc);Qi._globalBatch=0;var Wm=function(e){function t(n,r){r=r||{};var i,a=n;Array.isArray(n)&&(i=n,a=n.length),e.call(this,r.width,r.height),this.items=[],this.itemDirtyIds=[];for(var s=0;s<a;s++){var u=new Qi;this.items.push(u),this.itemDirtyIds.push(-1)}if(this.length=a,this._load=null,i)for(var f=0;f<a;f++)this.addResourceAt(zm(i[f],r),f)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.dispose=function(){for(var r=0,i=this.length;r<i;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(r,i){var a=this.items[i];if(!a)throw new Error("Index "+i+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[i].setResource(r),this},t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=Jl.TEXTURE_2D_ARRAY;for(var i=0;i<this.length;i++)this.items[i].on("update",r.update,r)},t.prototype.unbind=function(r){e.prototype.unbind.call(this,r);for(var i=0;i<this.length;i++)this.items[i].off("update",r.update,r)},t.prototype.load=function(){var r=this;if(this._load)return this._load;var i=this.items.map(function(s){return s.resource}),a=i.map(function(s){return s.load()});return this._load=Promise.all(a).then(function(){var s=i[0],u=s.width,f=s.height;return r.resize(u,f),Promise.resolve(r)}),this._load},t.prototype.upload=function(r,i,a){var s=this,u=s.length,f=s.itemDirtyIds,p=s.items,h=r.gl;a.dirtyId<0&&h.texImage3D(h.TEXTURE_2D_ARRAY,0,i.format,this._width,this._height,u,0,i.format,i.type,null);for(var y=0;y<u;y++){var b=p[y];f[y]<b.dirtyId&&(f[y]=b.dirtyId,b.valid&&h.texSubImage3D(h.TEXTURE_2D_ARRAY,0,0,0,y,b.resource.width,b.resource.height,1,i.format,i.type,b.resource.source))}return!0},t}(xo),Vm=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.test=function(r){var i=window.OffscreenCanvas;return i&&r instanceof i?!0:r instanceof HTMLCanvasElement},t}(Ic),qm=function(e){function t(n,r){if(r=r||{},e.call(this,n,r),this.length!==t.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var i=0;i<t.SIDES;i++)this.items[i].target=Jl.TEXTURE_CUBE_MAP_POSITIVE_X+i;r.autoLoad!==!1&&this.load()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=Jl.TEXTURE_CUBE_MAP},t.prototype.upload=function(r,i,a){for(var s=this.itemDirtyIds,u=0;u<t.SIDES;u++){var f=this.items[u];s[u]<f.dirtyId&&(s[u]=f.dirtyId,f.valid&&f.resource.upload(r,f,a))}return!0},t}(Wm);qm.SIDES=6;var Km=function(e){function t(n,r){r=r||{},e.call(this,document.createElement("canvas")),this._width=0,this._height=0,this.svg=n,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(i){if(r._resolve=function(){r.resize(r.source.width,r.source.height),i(r)},/^\<svg/.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var r=this,i=new Image;e.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(a){i.onerror=null,r.onError.run(a)},i.onload=function(){var a=i.width,s=i.height;if(!a||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var u=a*r.scale,f=s*r.scale;(r._overrideWidth||r._overrideHeight)&&(u=r._overrideWidth||r._overrideHeight/s*a,f=r._overrideHeight||r._overrideWidth/a*s),u=Math.round(u),f=Math.round(f);var p=r.source;p.width=u,p.height=f,p._pixiId="canvas_"+xc(),p.getContext("2d").drawImage(i,0,0,a,s,0,0,u,f),r._resolve(),r._resolve=null}},t.getSize=function(r){var i=t.SVG_SIZE.exec(r),a={};return i&&(a[i[1]]=Math.round(parseFloat(i[3])),a[i[5]]=Math.round(parseFloat(i[7]))),a},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(r,i){return i==="svg"||typeof r=="string"&&r.indexOf("data:image/svg+xml;base64")===0||typeof r=="string"&&r.indexOf("<svg")===0},t}(Ic);Km.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var Zm=function(e){function t(r,i){if(i=i||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]),e.crossOrigin(a,r[0].src||r[0],i.crossorigin);for(var s=0;s<r.length;++s){var u=document.createElement("source"),f=r[s],p=f.src,h=f.mime;p=p||r[s];var y=p.split("?").shift().toLowerCase(),b=y.substr(y.lastIndexOf(".")+1);h=h||"video/"+b,u.src=p,u.type=h,a.appendChild(u)}r=a}e.call(this,r),this.noSubImage=!0,this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=i.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=i.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),i.autoLoad!==!1&&this.load()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return t.prototype.update=function(i){if(i===void 0&&(i=0),!this.destroyed){var a=Xa.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-a),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this,i),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var i=this;if(this._load)return this._load;var a=this.source;return(a.readyState===a.HAVE_ENOUGH_DATA||a.readyState===a.HAVE_FUTURE_DATA)&&a.width&&a.height&&(a.complete=!0),a.addEventListener("play",this._onPlayStart.bind(this)),a.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(a.addEventListener("canplay",this._onCanPlay),a.addEventListener("canplaythrough",this._onCanPlay),a.addEventListener("error",this._onError,!0)),this._load=new Promise(function(s){i.valid?s(i):(i._resolve=s,a.load())}),this._load},t.prototype._onError=function(){this.source.removeEventListener("error",this._onError,!0),this.onError.run(event)},t.prototype._isSourcePlaying=function(){var i=this.source;return i.currentTime>0&&i.paused===!1&&i.ended===!1&&i.readyState>2},t.prototype._isSourceReady=function(){return this.source.readyState===3||this.source.readyState===4},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(Xa.shared.add(this.update,this),this._isAutoUpdating=!0)},t.prototype._onPlayStop=function(){this._isAutoUpdating&&(Xa.shared.remove(this.update,this),this._isAutoUpdating=!1)},t.prototype._onCanPlay=function(){var i=this,a=i.source;a.removeEventListener("canplay",this._onCanPlay),a.removeEventListener("canplaythrough",this._onCanPlay);var s=this.valid;this.resize(a.videoWidth,a.videoHeight),!s&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&a.play()},t.prototype.dispose=function(){this._isAutoUpdating&&Xa.shared.remove(this.update,this),this.source&&(this.source.removeEventListener("error",this._onError,!0),this.source.pause(),this.source.src="",this.source.load()),e.prototype.dispose.call(this)},n.autoUpdate.get=function(){return this._autoUpdate},n.autoUpdate.set=function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isAutoUpdating?(Xa.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(Xa.shared.add(this.update,this),this._isAutoUpdating=!0))},n.updateFPS.get=function(){return this._updateFPS},n.updateFPS.set=function(r){r!==this._updateFPS&&(this._updateFPS=r)},t.test=function(i,a){return i instanceof HTMLVideoElement||t.TYPES.indexOf(a)>-1},Object.defineProperties(t.prototype,n),t}(Ic);Zm.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];var ry=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.test=function(r){return!!window.createImageBitmap&&r instanceof ImageBitmap},t}(Ic);W1.push(z1,ry,Vm,Zm,Km,V1,qm,Wm);var ko=function(t){this.renderer=t};ko.prototype.destroy=function(){this.renderer=null};var iy=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.upload=function(r,i,a){var s=r.gl;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Ps.UNPACK),a.width===i.width&&a.height===i.height?s.texSubImage2D(i.target,0,0,0,i.width,i.height,i.format,i.type,this.data):(a.width=i.width,a.height=i.height,s.texImage2D(i.target,0,s.DEPTH_COMPONENT16,i.width,i.height,0,i.format,i.type,this.data)),!0},t}(V1),Qa=function(t,n){this.width=Math.ceil(t||100),this.height=Math.ceil(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new oo("disposeFramebuffer",2)},Xm={colorTexture:{configurable:!0}};Xm.colorTexture.get=function(){return this.colorTextures[0]},Qa.prototype.addColorTexture=function(t,n){return t===void 0&&(t=0),this.colorTextures[t]=n||new Qi(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},Qa.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Qi(new iy(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:Tc.DEPTH_COMPONENT,type:qo.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},Qa.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},Qa.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},Qa.prototype.resize=function(t,n){if(t=Math.ceil(t),n=Math.ceil(n),!(t===this.width&&n===this.height)){this.width=t,this.height=n,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],a=i.resolution;i.setSize(t/a,n/a)}if(this.depthTexture){var s=this.depthTexture.resolution;this.depthTexture.setSize(t/s,n/s)}}},Qa.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(Qa.prototype,Xm);var g0=function(e){function t(n){if(typeof n=="number"){var r=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3];n={width:r,height:i,scaleMode:a,resolution:s}}e.call(this,null,n);var u=n||{},f=u.width,p=u.height;this.mipmap=!1,this.width=Math.ceil(f)||100,this.height=Math.ceil(p)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new Qa(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this),this.maskStack=[],this.filterStack=[{}]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.resize=function(r,i){r=Math.ceil(r),i=Math.ceil(i),this.framebuffer.resize(r*this.resolution,i*this.resolution)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this,!0),this.framebuffer=null},t}(Qi),q1=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};q1.prototype.set=function(t,n,r){var i=n.width,a=n.height;if(r){var s=t.width/2/i,u=t.height/2/a,f=t.x/i+s,p=t.y/a+u;r=Si.add(r,Si.NW),this.x0=f+s*Si.uX(r),this.y0=p+u*Si.uY(r),r=Si.add(r,2),this.x1=f+s*Si.uX(r),this.y1=p+u*Si.uY(r),r=Si.add(r,2),this.x2=f+s*Si.uX(r),this.y2=p+u*Si.uY(r),r=Si.add(r,2),this.x3=f+s*Si.uX(r),this.y3=p+u*Si.uY(r)}else this.x0=t.x/i,this.y0=t.y/a,this.x1=(t.x+t.width)/i,this.y1=t.y/a,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/a,this.x3=t.x/i,this.y3=(t.y+t.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var Qm=new q1,Ma=function(e){function t(r,i,a,s,u,f){if(e.call(this),this.noFrame=!1,i||(this.noFrame=!0,i=new Xi(0,0,1,1)),r instanceof t&&(r=r.baseTexture),this.baseTexture=r,this._frame=i,this.trim=s,this.valid=!1,this.requiresUpdate=!1,this._uvs=Qm,this.uvMatrix=null,this.orig=a||i,this._rotate=Number(u||0),u===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=f?new eu(f.x,f.y):new eu(0,0),this._updateID=0,this.textureCacheIds=[],r.valid?this.noFrame?r.valid&&this.onBaseTextureUpdated(r):this.frame=i:r.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&r.on("update",this.onBaseTextureUpdated,this)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={resolution:{configurable:!0},frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(i){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=i.width,this._frame.height=i.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(i){if(this.baseTexture){if(i){var a=this.baseTexture,s=a.resource;s&&Za[s.url]&&t.removeFromCache(s.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},t.prototype.updateUvs=function(){this._uvs===Qm&&(this._uvs=new q1),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(i,a,s){a===void 0&&(a={}),s===void 0&&(s=$r.STRICT_TEXTURE_CACHE);var u=typeof i=="string",f=null;u?f=i:(i._pixiId||(i._pixiId="pixiid_"+xc()),f=i._pixiId);var p=Za[f];if(u&&s&&!p)throw new Error('The cacheId "'+f+'" does not exist in TextureCache.');return p||(a.resolution||(a.resolution=U1(i)),p=new t(new Qi(i,a)),p.baseTexture.cacheId=f,Qi.addToCache(p.baseTexture,f),t.addToCache(p,f)),p},t.fromBuffer=function(i,a,s,u){return new t(Qi.fromBuffer(i,a,s,u))},t.fromLoader=function(i,a,s){var u=new z1(i);u.url=a;var f=new Qi(u,{scaleMode:$r.SCALE_MODE,resolution:U1(a)}),p=new t(f);return s||(s=a),Qi.addToCache(p.baseTexture,s),t.addToCache(p,s),s!==a&&(Qi.addToCache(p.baseTexture,a),t.addToCache(p,a)),p},t.addToCache=function(i,a){a&&(i.textureCacheIds.indexOf(a)===-1&&i.textureCacheIds.push(a),Za[a]&&console.warn("Texture added to the cache with an id ["+a+"] that already had an entry"),Za[a]=i)},t.removeFromCache=function(i){if(typeof i=="string"){var a=Za[i];if(a){var s=a.textureCacheIds.indexOf(i);return s>-1&&a.textureCacheIds.splice(s,1),delete Za[i],a}}else if(i&&i.textureCacheIds){for(var u=0;u<i.textureCacheIds.length;++u)Za[i.textureCacheIds[u]]===i&&delete Za[i.textureCacheIds[u]];return i.textureCacheIds.length=0,i}return null},n.resolution.get=function(){return this.baseTexture.resolution},n.frame.get=function(){return this._frame},n.frame.set=function(r){this._frame=r,this.noFrame=!1;var i=r.x,a=r.y,s=r.width,u=r.height,f=i+s>this.baseTexture.width,p=a+u>this.baseTexture.height;if(f||p){var h=f&&p?"and":"or",y="X: "+i+" + "+s+" = "+(i+s)+" > "+this.baseTexture.width,b="Y: "+a+" + "+u+" = "+(a+u)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+y+" "+h+" "+b)}this.valid=s&&u&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},n.rotate.get=function(){return this._rotate},n.rotate.set=function(r){this._rotate=r,this.valid&&this.updateUvs()},n.width.get=function(){return this.orig.width},n.height.get=function(){return this.orig.height},Object.defineProperties(t.prototype,n),t}(yc);function oy(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Ma(new Qi(new Vm(e)))}function _0(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}Ma.EMPTY=new Ma(new Qi),_0(Ma.EMPTY),_0(Ma.EMPTY.baseTexture),Ma.WHITE=oy(),_0(Ma.WHITE),_0(Ma.WHITE.baseTexture);var K1=function(e){function t(n,r){var i=null;if(!(n instanceof g0)){var a=arguments[1],s=arguments[2],u=arguments[3],f=arguments[4];console.warn("Please use RenderTexture.create("+a+", "+s+") instead of the ctor directly."),i=arguments[0],r=null,n=new g0({width:a,height:s,scaleMode:u,resolution:f})}e.call(this,n,r),this.legacyRenderer=i,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.resize=function(r,i,a){a===void 0&&(a=!0),r=Math.ceil(r),i=Math.ceil(i),this.valid=r>0&&i>0,this._frame.width=this.orig.width=r,this._frame.height=this.orig.height=i,a&&this.baseTexture.resize(r,i),this.updateUvs()},t.prototype.setResolution=function(r){var i=this,a=i.baseTexture;a.resolution!==r&&(a.setResolution(r),this.resize(a.width,a.height,!1))},t.create=function(r){return typeof r=="number"&&(r={width:r,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new t(new g0(r))},t}(Ma),la=function(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0};la.prototype.createTexture=function(t,n){var r=new g0(Object.assign({width:t,height:n,resolution:1},this.textureOptions));return new K1(r)},la.prototype.getOptimalTexture=function(t,n,r){r===void 0&&(r=1);var i=la.SCREEN_KEY;t*=r,n*=r,(!this.enableFullScreen||t!==this._pixelsWidth||n!==this._pixelsHeight)&&(t=f0(t),n=f0(n),i=(t&65535)<<16|n&65535),this.texturePool[i]||(this.texturePool[i]=[]);var a=this.texturePool[i].pop();return a||(a=this.createTexture(t,n)),a.filterPoolKey=i,a.setResolution(r),a},la.prototype.getFilterTexture=function(t,n){var r=this.getOptimalTexture(t.width,t.height,n||t.resolution);return r.filterFrame=t.filterFrame,r},la.prototype.returnTexture=function(t){var n=t.filterPoolKey;t.filterFrame=null,this.texturePool[n].push(t)},la.prototype.returnFilterTexture=function(t){this.returnTexture(t)},la.prototype.clear=function(t){if(t=t!==!1,t)for(var n in this.texturePool){var r=this.texturePool[n];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},la.prototype.setScreenSize=function(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){var n=la.SCREEN_KEY,r=this.texturePool[n];if(this.enableFullScreen=t.width>0&&t.height>0,r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},la.SCREEN_KEY="screen";var Oc=function(t,n,r,i,a,s,u){r===void 0&&(r=!1),i===void 0&&(i=5126),this.buffer=t,this.size=n,this.normalized=r,this.type=i,this.stride=a,this.start=s,this.instance=u};Oc.prototype.destroy=function(){this.buffer=null},Oc.from=function(t,n,r,i,a){return new Oc(t,n,r,i,a)};var ay=0,fo=function(t,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=ay++,this.disposeRunner=new oo("disposeBuffer",2)};fo.prototype.update=function(t){this.data=t||this.data,this._updateID++},fo.prototype.dispose=function(){this.disposeRunner.run(this,!1)},fo.prototype.destroy=function(){this.dispose(),this.data=null},fo.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new fo(t)};function Ym(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}var sy={Float32Array,Uint32Array,Int32Array,Uint8Array};function ly(e,t){for(var n=0,r=0,i={},a=0;a<e.length;a++)r+=t[a],n+=e[a].length;for(var s=new ArrayBuffer(n*4),u=null,f=0,p=0;p<e.length;p++){var h=t[p],y=e[p],b=Ym(y);i[b]||(i[b]=new sy[b](s)),u=i[b];for(var S=0;S<y.length;S++){var $=(S/h|0)*r+f,G=S%h;u[$+G]=y[S]}f+=h}return new Float32Array(s)}var Jm={5126:4,5123:2,5121:1},uy=0,fy={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Yi=function(t,n){t===void 0&&(t=[]),n===void 0&&(n={}),this.buffers=t,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=uy++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new oo("disposeGeometry",2),this.refCount=0};Yi.prototype.addAttribute=function(t,n,r,i,a,s,u,f){if(i===void 0&&(i=!1),f===void 0&&(f=!1),!n)throw new Error("You must pass a buffer when creating an attribute");n.data||(n instanceof Array&&(n=new Float32Array(n)),n=new fo(n));var p=t.split("|");if(p.length>1){for(var h=0;h<p.length;h++)this.addAttribute(p[h],n,r,i,a);return this}var y=this.buffers.indexOf(n);return y===-1&&(this.buffers.push(n),y=this.buffers.length-1),this.attributes[t]=new Oc(y,r,i,a,s,u,f),this.instanced=this.instanced||f,this},Yi.prototype.getAttribute=function(t){return this.attributes[t]},Yi.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},Yi.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new fo(t)),t.index=!0,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this},Yi.prototype.getIndex=function(){return this.indexBuffer},Yi.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t=[],n=[],r=new fo,i;for(i in this.attributes){var a=this.attributes[i],s=this.buffers[a.buffer];t.push(s.data),n.push(a.size*Jm[a.type]/4),a.buffer=0}for(r.data=ly(t,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},Yi.prototype.getSize=function(){for(var t in this.attributes){var n=this.attributes[t],r=this.buffers[n.buffer];return r.data.length/(n.stride/4||n.size)}return 0},Yi.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Yi.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},Yi.prototype.clone=function(){for(var t=new Yi,n=0;n<this.buffers.length;n++)t.buffers[n]=new fo(this.buffers[n].data.slice());for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new Oc(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},Yi.merge=function(t){for(var n=new Yi,r=[],i=[],a=[],s,u=0;u<t.length;u++){s=t[u];for(var f=0;f<s.buffers.length;f++)i[f]=i[f]||0,i[f]+=s.buffers[f].data.length,a[f]=0}for(var p=0;p<s.buffers.length;p++)r[p]=new fy[Ym(s.buffers[p].data)](i[p]),n.buffers[p]=new fo(r[p]);for(var h=0;h<t.length;h++){s=t[h];for(var y=0;y<s.buffers.length;y++)r[y].set(s.buffers[y].data,a[y]),a[y]+=s.buffers[y].data.length}if(n.attributes=s.attributes,s.indexBuffer){n.indexBuffer=n.buffers[s.buffers.indexOf(s.indexBuffer)],n.indexBuffer.index=!0;for(var b=0,S=0,$=0,G=0,ce=0;ce<s.buffers.length;ce++)if(s.buffers[ce]!==s.indexBuffer){G=ce;break}for(var Re in s.attributes){var At=s.attributes[Re];(At.buffer|0)===G&&(S+=At.size*Jm[At.type]/4)}for(var it=0;it<t.length;it++){for(var St=t[it].indexBuffer.data,Kt=0;Kt<St.length;Kt++)n.indexBuffer.data[Kt+$]+=b;b+=s.buffers[G].data.length/S,$+=St.length}}return n};var dy=function(e){function t(){e.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Yi),eg=function(e){function t(){e.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new fo(this.vertices),this.uvBuffer=new fo(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(r,i){var a=0,s=0;return this.uvs[0]=a,this.uvs[1]=s,this.uvs[2]=a+i.width/r.width,this.uvs[3]=s,this.uvs[4]=a+i.width/r.width,this.uvs[5]=s+i.height/r.height,this.uvs[6]=a,this.uvs[7]=s+i.height/r.height,a=i.x,s=i.y,this.vertices[0]=a,this.vertices[1]=s,this.vertices[2]=a+i.width,this.vertices[3]=s,this.vertices[4]=a+i.width,this.vertices[5]=s+i.height,this.vertices[6]=a,this.vertices[7]=s+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Yi),py=0,Zo=function(t,n){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=py++,this.static=!!n};Zo.prototype.update=function(){this.dirtyId++},Zo.prototype.add=function(t,n,r){this.uniforms[t]=new Zo(n,r)},Zo.from=function(t,n){return new Zo(t,n)};var tg=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Xi,this.destinationFrame=new Xi,this.filters=[]};tg.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var hy=function(e){function t(n){e.call(this,n),this.defaultFilterStack=[{}],this.texturePool=new la,this.texturePool.setScreenSize(n.view),this.statePool=[],this.quad=new dy,this.quadUv=new eg,this.tempRect=new Xi,this.activeState={},this.globalUniforms=new Zo({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=n.view.width,this._pixelsHeight=n.view.height}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(r,i){for(var a=this.renderer,s=this.defaultFilterStack,u=this.statePool.pop()||new tg,f=i[0].resolution,p=i[0].padding,h=i[0].autoFit,y=i[0].legacy,b=1;b<i.length;b++){var S=i[b];f=Math.min(f,S.resolution),p=Math.max(p,S.padding),h=h||S.autoFit,y=y||S.legacy}s.length===1&&(this.defaultFilterStack[0].renderTexture=a.renderTexture.current),s.push(u),u.resolution=f,u.legacy=y,u.target=r,u.sourceFrame.copyFrom(r.filterArea||r.getBounds(!0)),u.sourceFrame.pad(p),h&&u.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),u.sourceFrame.ceil(f),u.renderTexture=this.getOptimalFilterTexture(u.sourceFrame.width,u.sourceFrame.height,f),u.filters=i,u.destinationFrame.width=u.renderTexture.width,u.destinationFrame.height=u.renderTexture.height,u.renderTexture.filterFrame=u.sourceFrame,a.renderTexture.bind(u.renderTexture,u.sourceFrame),a.renderTexture.clear()},t.prototype.pop=function(){var r=this.defaultFilterStack,i=r.pop(),a=i.filters;this.activeState=i;var s=this.globalUniforms.uniforms;s.outputFrame=i.sourceFrame,s.resolution=i.resolution;var u=s.inputSize,f=s.inputPixel,p=s.inputClamp;if(u[0]=i.destinationFrame.width,u[1]=i.destinationFrame.height,u[2]=1/u[0],u[3]=1/u[1],f[0]=u[0]*i.resolution,f[1]=u[1]*i.resolution,f[2]=1/f[0],f[3]=1/f[1],p[0]=.5*f[2],p[1]=.5*f[3],p[2]=i.sourceFrame.width*u[2]-.5*f[2],p[3]=i.sourceFrame.height*u[3]-.5*f[3],i.legacy){var h=s.filterArea;h[0]=i.destinationFrame.width,h[1]=i.destinationFrame.height,h[2]=i.sourceFrame.x,h[3]=i.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();var y=r[r.length-1];if(a.length===1)a[0].apply(this,i.renderTexture,y.renderTexture,!1,i),this.returnFilterTexture(i.renderTexture);else{var b=i.renderTexture,S=this.getOptimalFilterTexture(b.width,b.height,i.resolution);S.filterFrame=b.filterFrame;var $=0;for($=0;$<a.length-1;++$){a[$].apply(this,b,S,!0,i);var G=b;b=S,S=G}a[$].apply(this,b,y.renderTexture,!1,i),this.returnFilterTexture(b),this.returnFilterTexture(S)}i.clear(),this.statePool.push(i)},t.prototype.applyFilter=function(r,i,a,s){var u=this.renderer;u.renderTexture.bind(a,a?a.filterFrame:null),s&&u.renderTexture.clear(),r.uniforms.uSampler=i,r.uniforms.filterGlobals=this.globalUniforms,u.state.set(r.state),u.shader.bind(r),r.legacy?(this.quadUv.map(i._frame,i.filterFrame),u.geometry.bind(this.quadUv),u.geometry.draw(Yl.TRIANGLES)):(u.geometry.bind(this.quad),u.geometry.draw(Yl.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(r,i){var a=this.activeState,s=a.sourceFrame,u=a.destinationFrame,f=i._texture,p=f.orig,h=r.set(u.width,0,0,u.height,s.x,s.y),y=i.worldTransform.copyTo(Ko.TEMP_MATRIX);return y.invert(),h.prepend(y),h.scale(1/p.width,1/p.height),h.translate(i.anchor.x,i.anchor.y),h},t.prototype.destroy=function(){this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(r,i,a){return a===void 0&&(a=1),this.texturePool.getOptimalTexture(r,i,a)},t.prototype.getFilterTexture=function(r,i){if(typeof r=="number"){var a=r;r=i,i=a}r=r||this.activeState.renderTexture;var s=this.texturePool.getOptimalTexture(r.width,r.height,i||r.resolution);return s.filterFrame=r.filterFrame,s},t.prototype.returnFilterTexture=function(r){this.texturePool.returnTexture(r)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t}(ko),Ms=function(t){this.renderer=t};Ms.prototype.flush=function(){},Ms.prototype.destroy=function(){this.renderer=null},Ms.prototype.start=function(){},Ms.prototype.stop=function(){this.flush()},Ms.prototype.render=function(t){};var vy=function(e){function t(n){e.call(this,n),this.emptyRenderer=new Ms(n),this.currentRenderer=this.emptyRenderer}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setObjectRenderer=function(r){this.currentRenderer!==r&&(this.currentRenderer.stop(),this.currentRenderer=r,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(r,i){for(var a=this.renderer.texture,s=a.boundTextures,u=i-1;u>=0;--u)r[u]=s[u]||null,r[u]&&(r[u]._batchLocation=u)},t.prototype.boundArray=function(r,i,a,s){for(var u=r.elements,f=r.ids,p=r.count,h=0,y=0;y<p;y++){var b=u[y],S=b._batchLocation;if(S>=0&&S<s&&i[S]===b){f[y]=S;continue}for(;h<s;){var $=i[h];if($&&$._batchEnabled===a&&$._batchLocation===h){h++;continue}f[y]=h,b._batchLocation=h,i[h]=b;break}}},t}(ko);$r.PREFER_ENV=Es.any?Ka.WEBGL:Ka.WEBGL2,$r.STRICT_TEXTURE_CACHE=!1;var ng=0,my=function(e){function t(r){e.call(this,r),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),r.view.addEventListener("webglcontextlost",this.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isLost:{configurable:!0}};return n.isLost.get=function(){return!this.gl||this.gl.isContextLost()},t.prototype.contextChange=function(i){this.gl=i,this.renderer.gl=i,this.renderer.CONTEXT_UID=ng++,i.isContextLost()&&i.getExtension("WEBGL_lose_context")&&i.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(i){this.gl=i,this.validateContext(i),this.renderer.gl=i,this.renderer.CONTEXT_UID=ng++,this.renderer.runners.contextChange.run(i)},t.prototype.initFromOptions=function(i){var a=this.createContext(this.renderer.view,i);this.initFromContext(a)},t.prototype.createContext=function(i,a){var s;if($r.PREFER_ENV>=Ka.WEBGL2&&(s=i.getContext("webgl2",a)),s)this.webGLVersion=2;else if(this.webGLVersion=1,s=i.getContext("webgl",a)||i.getContext("experimental-webgl",a),!s)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=s,this.getExtensions(),s},t.prototype.getExtensions=function(){var i=this,a=i.gl;this.webGLVersion===1?Object.assign(this.extensions,{drawBuffers:a.getExtension("WEBGL_draw_buffers"),depthTexture:a.getExtension("WEBKIT_WEBGL_depth_texture"),loseContext:a.getExtension("WEBGL_lose_context"),vertexArrayObject:a.getExtension("OES_vertex_array_object")||a.getExtension("MOZ_OES_vertex_array_object")||a.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:a.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:a.getExtension("OES_element_index_uint"),floatTexture:a.getExtension("OES_texture_float"),floatTextureLinear:a.getExtension("OES_texture_float_linear"),textureHalfFloat:a.getExtension("OES_texture_half_float"),textureHalfFloatLinear:a.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,{anisotropicFiltering:a.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:a.getExtension("EXT_color_buffer_float"),floatTextureLinear:a.getExtension("OES_texture_float_linear")})},t.prototype.handleContextLost=function(i){i.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},t.prototype.destroy=function(){var i=this.renderer.view;i.removeEventListener("webglcontextlost",this.handleContextLost),i.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(i){var a=i.getContextAttributes();a.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(t.prototype,n),t}(ko),gy=function(e){function t(r){e.call(this,r),this.managedFramebuffers=[],this.unknownFramebuffer=new Qa(10,10)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return t.prototype.contextChange=function(){var i=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Xi,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var a=this.renderer.context.extensions.drawBuffers,s=this.renderer.context.extensions.depthTexture;$r.PREFER_ENV===Ka.WEBGL_LEGACY&&(a=null,s=null),a?i.drawBuffers=function(u){return a.drawBuffersWEBGL(u)}:(this.hasMRT=!1,i.drawBuffers=function(){}),s||(this.writeDepthTexture=!1)}},t.prototype.bind=function(i,a){var s=this,u=s.gl;if(i){var f=i.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(i);this.current!==i&&(this.current=i,u.bindFramebuffer(u.FRAMEBUFFER,f.framebuffer)),f.dirtyId!==i.dirtyId&&(f.dirtyId=i.dirtyId,f.dirtyFormat!==i.dirtyFormat?(f.dirtyFormat=i.dirtyFormat,this.updateFramebuffer(i)):f.dirtySize!==i.dirtySize&&(f.dirtySize=i.dirtySize,this.resizeFramebuffer(i)));for(var p=0;p<i.colorTextures.length;p++)i.colorTextures[p].texturePart?this.renderer.texture.unbind(i.colorTextures[p].texture):this.renderer.texture.unbind(i.colorTextures[p]);i.depthTexture&&this.renderer.texture.unbind(i.depthTexture),a?this.setViewport(a.x,a.y,a.width,a.height):this.setViewport(0,0,i.width,i.height)}else this.current&&(this.current=null,u.bindFramebuffer(u.FRAMEBUFFER,null)),a?this.setViewport(a.x,a.y,a.width,a.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(i,a,s,u){var f=this.viewport;(f.width!==s||f.height!==u||f.x!==i||f.y!==a)&&(f.x=i,f.y=a,f.width=s,f.height=u,this.gl.viewport(i,a,s,u))},n.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},t.prototype.clear=function(i,a,s,u){var f=this,p=f.gl;p.clearColor(i,a,s,u),p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT)},t.prototype.initFramebuffer=function(i){var a=this,s=a.gl,u={framebuffer:s.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return i.glFramebuffers[this.CONTEXT_UID]=u,this.managedFramebuffers.push(i),i.disposeRunner.add(this),u},t.prototype.resizeFramebuffer=function(i){var a=this,s=a.gl,u=i.glFramebuffers[this.CONTEXT_UID];u.stencil&&(s.bindRenderbuffer(s.RENDERBUFFER,u.stencil),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,i.width,i.height));for(var f=i.colorTextures,p=0;p<f.length;p++)this.renderer.texture.bind(f[p],0);i.depthTexture&&this.renderer.texture.bind(i.depthTexture,0)},t.prototype.updateFramebuffer=function(i){var a=this,s=a.gl,u=i.glFramebuffers[this.CONTEXT_UID],f=i.colorTextures,p=f.length;s.drawBuffers||(p=Math.min(p,1));for(var h=[],y=0;y<p;y++){var b=i.colorTextures[y];b.texturePart?(this.renderer.texture.bind(b.texture,0),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+y,s.TEXTURE_CUBE_MAP_NEGATIVE_X+b.side,b.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(b,0),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+y,s.TEXTURE_2D,b._glTextures[this.CONTEXT_UID].texture,0)),h.push(s.COLOR_ATTACHMENT0+y)}if(h.length>1&&s.drawBuffers(h),i.depthTexture){var S=this.writeDepthTexture;if(S){var $=i.depthTexture;this.renderer.texture.bind($,0),s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,$._glTextures[this.CONTEXT_UID].texture,0)}}!u.stencil&&(i.stencil||i.depth)&&(u.stencil=s.createRenderbuffer(),s.bindRenderbuffer(s.RENDERBUFFER,u.stencil),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,i.width,i.height),i.depthTexture||s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,u.stencil))},t.prototype.disposeFramebuffer=function(i,a){var s=i.glFramebuffers[this.CONTEXT_UID],u=this.gl;if(!!s){delete i.glFramebuffers[this.CONTEXT_UID];var f=this.managedFramebuffers.indexOf(i);f>=0&&this.managedFramebuffers.splice(f,1),i.disposeRunner.remove(this),a||(u.deleteFramebuffer(s.framebuffer),s.stencil&&u.deleteRenderbuffer(s.stencil))}},t.prototype.disposeAll=function(i){var a=this.managedFramebuffers;this.managedFramebuffers=[];for(var s=0;s<a.length;s++)this.disposeFramebuffer(a[s],i)},t.prototype.forceStencil=function(){var i=this.current;if(!!i){var a=i.glFramebuffers[this.CONTEXT_UID];if(!(!a||a.stencil)){i.enableStencil();var s=i.width,u=i.height,f=this.gl,p=f.createRenderbuffer();f.bindRenderbuffer(f.RENDERBUFFER,p),f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_STENCIL,s,u),a.stencil=p,f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,p)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Xi},Object.defineProperties(t.prototype,n),t}(ko),_y=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1,this.refCount=0},Z1={5126:4,5123:2,5121:1},yy=function(e){function t(n){e.call(this,n),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(){this.disposeAll(!0);var r=this.gl=this.renderer.gl,i=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!r.createVertexArray){var a=this.renderer.context.extensions.vertexArrayObject;$r.PREFER_ENV===Ka.WEBGL_LEGACY&&(a=null),a?(r.createVertexArray=function(){return a.createVertexArrayOES()},r.bindVertexArray=function(u){return a.bindVertexArrayOES(u)},r.deleteVertexArray=function(u){return a.deleteVertexArrayOES(u)}):(this.hasVao=!1,r.createVertexArray=function(){},r.bindVertexArray=function(){},r.deleteVertexArray=function(){})}if(!r.vertexAttribDivisor){var s=r.getExtension("ANGLE_instanced_arrays");s?(r.vertexAttribDivisor=function(u,f){return s.vertexAttribDivisorANGLE(u,f)},r.drawElementsInstanced=function(u,f,p,h,y){return s.drawElementsInstancedANGLE(u,f,p,h,y)},r.drawArraysInstanced=function(u,f,p,h){return s.drawArraysInstancedANGLE(u,f,p,h)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=i.webGLVersion===2||!!i.extensions.uint32ElementIndex},t.prototype.bind=function(r,i){i=i||this.renderer.shader.shader;var a=this,s=a.gl,u=r.glVertexArrayObjects[this.CONTEXT_UID];u||(this.managedGeometries[r.id]=r,r.disposeRunner.add(this),r.glVertexArrayObjects[this.CONTEXT_UID]=u={});var f=u[i.program.id]||this.initGeometryVao(r,i.program);this._activeGeometry=r,this._activeVao!==f&&(this._activeVao=f,this.hasVao?s.bindVertexArray(f):this.activateVao(r,i.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var r=this._activeGeometry,i=this,a=i.gl,s=0;s<r.buffers.length;s++){var u=r.buffers[s],f=u._glBuffers[this.CONTEXT_UID];if(u._updateID!==f.updateID){f.updateID=u._updateID;var p=u.index?a.ELEMENT_ARRAY_BUFFER:a.ARRAY_BUFFER;if(a.bindBuffer(p,f.buffer),this._boundBuffer=f,f.byteLength>=u.data.byteLength)a.bufferSubData(p,0,u.data);else{var h=u.static?a.STATIC_DRAW:a.DYNAMIC_DRAW;f.byteLength=u.data.byteLength,a.bufferData(p,u.data,h)}}}},t.prototype.checkCompatibility=function(r,i){var a=r.attributes,s=i.attributeData;for(var u in s)if(!a[u])throw new Error('shader and geometry incompatible, geometry missing the "'+u+'" attribute')},t.prototype.getSignature=function(r,i){var a=r.attributes,s=i.attributeData,u=["g",r.id];for(var f in a)s[f]&&u.push(f);return u.join("-")},t.prototype.initGeometryVao=function(r,i){this.checkCompatibility(r,i);var a=this.gl,s=this.CONTEXT_UID,u=this.getSignature(r,i),f=r.glVertexArrayObjects[this.CONTEXT_UID],p=f[u];if(p)return f[i.id]=p,p;var h=r.buffers,y=r.attributes,b={},S={};for(var $ in h)b[$]=0,S[$]=0;for(var G in y)!y[G].size&&i.attributeData[G]?y[G].size=i.attributeData[G].size:y[G].size||console.warn("PIXI Geometry attribute '"+G+"' size cannot be determined (likely the bound shader does not have the attribute)"),b[y[G].buffer]+=y[G].size*Z1[y[G].type];for(var ce in y){var Re=y[ce],At=Re.size;Re.stride===void 0&&(b[Re.buffer]===At*Z1[Re.type]?Re.stride=0:Re.stride=b[Re.buffer]),Re.start===void 0&&(Re.start=S[Re.buffer],S[Re.buffer]+=At*Z1[Re.type])}p=a.createVertexArray(),a.bindVertexArray(p);for(var it=0;it<h.length;it++){var St=h[it];St._glBuffers[s]||(St._glBuffers[s]=new _y(a.createBuffer()),this.managedBuffers[St.id]=St,St.disposeRunner.add(this)),St._glBuffers[s].refCount++}return this.activateVao(r,i),this._activeVao=p,f[i.id]=p,f[u]=p,p},t.prototype.disposeBuffer=function(r,i){if(!!this.managedBuffers[r.id]){delete this.managedBuffers[r.id];var a=r._glBuffers[this.CONTEXT_UID],s=this.gl;r.disposeRunner.remove(this),a&&(i||s.deleteBuffer(a.buffer),delete r._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeGeometry=function(r,i){if(!!this.managedGeometries[r.id]){delete this.managedGeometries[r.id];var a=r.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,u=r.buffers;if(r.disposeRunner.remove(this),!!a){for(var f=0;f<u.length;f++){var p=u[f]._glBuffers[this.CONTEXT_UID];p.refCount--,p.refCount===0&&!i&&this.disposeBuffer(u[f],i)}if(!i){for(var h in a)if(h[0]==="g"){var y=a[h];this._activeVao===y&&this.unbind(),s.deleteVertexArray(y)}}delete r.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(r){for(var i=Object.keys(this.managedGeometries),a=0;a<i.length;a++)this.disposeGeometry(this.managedGeometries[i[a]],r);i=Object.keys(this.managedBuffers);for(var s=0;s<i.length;s++)this.disposeBuffer(this.managedBuffers[i[s]],r)},t.prototype.activateVao=function(r,i){var a=this.gl,s=this.CONTEXT_UID,u=r.buffers,f=r.attributes;r.indexBuffer&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,r.indexBuffer._glBuffers[s].buffer);var p=null;for(var h in f){var y=f[h],b=u[y.buffer],S=b._glBuffers[s];if(i.attributeData[h]){p!==S&&(a.bindBuffer(a.ARRAY_BUFFER,S.buffer),p=S);var $=i.attributeData[h].location;if(a.enableVertexAttribArray($),a.vertexAttribPointer($,y.size,y.type||a.FLOAT,y.normalized,y.stride,y.start),y.instance)if(this.hasInstance)a.vertexAttribDivisor($,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(r,i,a,s){var u=this,f=u.gl,p=this._activeGeometry;if(p.indexBuffer){var h=p.indexBuffer.data.BYTES_PER_ELEMENT,y=h===2?f.UNSIGNED_SHORT:f.UNSIGNED_INT;h===2||h===4&&this.canUseUInt32ElementIndex?p.instanced?f.drawElementsInstanced(r,i||p.indexBuffer.data.length,y,(a||0)*h,s||1):f.drawElements(r,i||p.indexBuffer.data.length,y,(a||0)*h):console.warn("unsupported index buffer type: uint32")}else p.instanced?f.drawArraysInstanced(r,a,i||p.getSize(),s||1):f.drawArrays(r,a,i||p.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t}(ko),X1=function(t){this.type=Ro.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null};X1.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Ro.NONE,this.autoDetect=!0),this._target=null},X1.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)};function rg(e,t,n,r){var i=ig(e,e.VERTEX_SHADER,t),a=ig(e,e.FRAGMENT_SHADER,n),s=e.createProgram();if(e.attachShader(s,i),e.attachShader(s,a),r)for(var u in r)e.bindAttribLocation(s,r[u],u);return e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)||(e.getShaderParameter(i,e.COMPILE_STATUS)||(console.warn(t),console.error(e.getShaderInfoLog(i))),e.getShaderParameter(a,e.COMPILE_STATUS)||(console.warn(n),console.error(e.getShaderInfoLog(a))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(s,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),e.getProgramInfoLog(s)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(s)),e.deleteProgram(s),s=null),e.deleteShader(i),e.deleteShader(a),s}function ig(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function og(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return Q1(2*t);case"bvec3":return Q1(3*t);case"bvec4":return Q1(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function Q1(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}var ag={},Nc=ag;function sg(){if(Nc===ag||Nc&&Nc.isContextLost()){var e=document.createElement("canvas"),t;$r.PREFER_ENV>=Ka.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Nc=t}return Nc}var y0;function by(){if(!y0){y0=Ta.MEDIUM;var e=sg();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);y0=t.precision?Ta.HIGH:Ta.MEDIUM}}return y0}function lg(e,t,n){if(e.substring(0,9)!=="precision"){var r=t;return t===Ta.HIGH&&n!==Ta.HIGH&&(r=Ta.MEDIUM),"precision "+r+` float;
`+e}else if(n!==Ta.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}var Ay={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Cy(e){return Ay[e]}var b0=null,ug={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function cg(e,t){if(!b0){var n=Object.keys(ug);b0={};for(var r=0;r<n.length;++r){var i=n[r];b0[e[i]]=ug[i]}}return b0[t]}var Ey={float:`
    if(cv !== v)
    {
        cv.v = v;
        gl.uniform1f(location, v)
    }`,vec2:`
    if(cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},wy={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Py(e,t){var n=`var v = null;
    var cv = null
    var t = 0;
    var gl = renderer.gl
    `;for(var r in e.uniforms){var i=t[r];if(!i){e.uniforms[r].group&&(n+=`
                    renderer.shader.syncUniformGroup(uv.`+r+`, syncData);
                `);continue}if(i.type==="float"&&i.size===1)n+=`
            if(uv.`+r+" !== ud."+r+`.value)
            {
                ud.`+r+".value = uv."+r+`
                gl.uniform1f(ud.`+r+".location, uv."+r+`)
            }
`;else if((i.type==="sampler2D"||i.type==="samplerCube"||i.type==="sampler2DArray")&&i.size===1&&!i.isArray)n+=`

            t = syncData.textureCount++;

            renderer.texture.bind(uv.`+r+`, t);
            
            if(ud.`+r+`.value !== t)
            {
                ud.`+r+`.value = t;
                gl.uniform1i(ud.`+r+`.location, t);
; // eslint-disable-line max-len
            }
`;else if(i.type==="mat3"&&i.size===1)e.uniforms[r].a!==void 0?n+=`
                gl.uniformMatrix3fv(ud.`+r+".location, false, uv."+r+`.toArray(true));
                
`:n+=`
                gl.uniformMatrix3fv(ud.`+r+".location, false, uv."+r+`);
                
`;else if(i.type==="vec2"&&i.size===1)e.uniforms[r].x!==void 0?n+=`
                cv = ud.`+r+`.value;
                v = uv.`+r+`;

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud.`+r+`.location, v.x, v.y);
                }
`:n+=`
                cv = ud.`+r+`.value;
                v = uv.`+r+`;

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud.`+r+`.location, v[0], v[1]);
                }
                
`;else if(i.type==="vec4"&&i.size===1)e.uniforms[r].width!==void 0?n+=`
                cv = ud.`+r+`.value;
                v = uv.`+r+`;

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud.`+r+`.location, v.x, v.y, v.width, v.height)
                }
`:n+=`
                cv = ud.`+r+`.value;
                v = uv.`+r+`;

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud.`+r+`.location, v[0], v[1], v[2], v[3])
                }
                
`;else{var a=i.size===1?Ey:wy,s=a[i.type].replace("location","ud."+r+".location");n+=`
            cv = ud.`+r+`.value;
            v = uv.`+r+`;
            `+s+`;
`}}return new Function("ud","uv","renderer","syncData",n)}var Sy=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Ty(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=Sy.replace(/%forloop%/gi,My(e));if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))e=e/2|0;else break}return e}function My(e){for(var t="",n=0;n<e;++n)n>0&&(t+=`
else `),n<e-1&&(t+="if(test == "+n+".0){}");return t}var Lc;function xy(){if(typeof Lc=="boolean")return Lc;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Lc=e({a:"b"},"a","b")===!0}catch{Lc=!1}return Lc}var ky=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Iy=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,Oy=0,A0={},xa=function e(t,n,r){r===void 0&&(r="pixi-shader"),this.id=Oy++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),A0[r]?(A0[r]++,r+="-"+A0[r]):A0[r]=1,this.vertexSrc="#define SHADER_NAME "+r+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+`
`+this.fragmentSrc,this.vertexSrc=lg(this.vertexSrc,$r.PRECISION_VERTEX,Ta.HIGH),this.fragmentSrc=lg(this.fragmentSrc,$r.PRECISION_FRAGMENT,by())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},Y1={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};xa.prototype.extractData=function(t,n){var r=sg();if(r){var i=rg(r,t,n);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},xa.prototype.getAttributeData=function(t,n){for(var r={},i=[],a=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES),s=0;s<a;s++){var u=n.getActiveAttrib(t,s),f=cg(n,u.type),p={type:f,name:u.name,size:Cy(f),location:0};r[u.name]=p,i.push(p)}i.sort(function(y,b){return y.name>b.name?1:-1});for(var h=0;h<i.length;h++)i[h].location=h;return r},xa.prototype.getUniformData=function(t,n){for(var r={},i=n.getProgramParameter(t,n.ACTIVE_UNIFORMS),a=0;a<i;a++){var s=n.getActiveUniform(t,a),u=s.name.replace(/\[.*?\]/,""),f=s.name.match(/\[.*?\]/,""),p=cg(n,s.type);r[u]={type:p,size:s.size,isArray:f,value:og(p,s.size)}}return r},Y1.defaultVertexSrc.get=function(){return Iy},Y1.defaultFragmentSrc.get=function(){return ky},xa.from=function(t,n,r){var i=t+n,a=Hm[i];return a||(Hm[i]=a=new xa(t,n,r)),a},Object.defineProperties(xa,Y1);var xs=function(t,n){this.program=t,n?n instanceof Zo?this.uniformGroup=n:this.uniformGroup=new Zo(n):this.uniformGroup=new Zo({});for(var r in t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))},fg={uniforms:{configurable:!0}};xs.prototype.checkUniformExists=function(t,n){if(n.uniforms[t])return!0;for(var r in n.uniforms){var i=n.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},xs.prototype.destroy=function(){this.uniformGroup=null},fg.uniforms.get=function(){return this.uniformGroup.uniforms},xs.from=function(t,n,r){var i=xa.from(t,n);return new xs(i,r)},Object.defineProperties(xs.prototype,fg);var J1=0,ev=1,tv=2,nv=3,rv=4,tl=function(){this.data=0,this.blendMode=Mr.NORMAL,this.polygonOffset=0,this.blend=!0},po={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};po.blend.get=function(){return!!(this.data&1<<J1)},po.blend.set=function(e){!!(this.data&1<<J1)!==e&&(this.data^=1<<J1)},po.offsets.get=function(){return!!(this.data&1<<ev)},po.offsets.set=function(e){!!(this.data&1<<ev)!==e&&(this.data^=1<<ev)},po.culling.get=function(){return!!(this.data&1<<tv)},po.culling.set=function(e){!!(this.data&1<<tv)!==e&&(this.data^=1<<tv)},po.depthTest.get=function(){return!!(this.data&1<<nv)},po.depthTest.set=function(e){!!(this.data&1<<nv)!==e&&(this.data^=1<<nv)},po.clockwiseFrontFace.get=function(){return!!(this.data&1<<rv)},po.clockwiseFrontFace.set=function(e){!!(this.data&1<<rv)!==e&&(this.data^=1<<rv)},po.blendMode.get=function(){return this._blendMode},po.blendMode.set=function(e){this.blend=e!==Mr.NONE,this._blendMode=e},po.polygonOffset.get=function(){return this._polygonOffset},po.polygonOffset.set=function(e){this.offsets=!!e,this._polygonOffset=e},tl.for2d=function(){var t=new tl;return t.depthTest=!1,t.blend=!0,t},Object.defineProperties(tl.prototype,po);var Ny=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Ly=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,iv=function(e){function t(i,a,s){var u=xa.from(i||t.defaultVertexSrc,a||t.defaultFragmentSrc);e.call(this,u,s),this.padding=0,this.resolution=$r.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new tl}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={blendMode:{configurable:!0}},r={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return t.prototype.apply=function(a,s,u,f,p){a.applyFilter(this,s,u,f,p)},n.blendMode.get=function(){return this.state.blendMode},n.blendMode.set=function(i){this.state.blendMode=i},r.defaultVertexSrc.get=function(){return Ny},r.defaultFragmentSrc.get=function(){return Ly},Object.defineProperties(t.prototype,n),Object.defineProperties(t,r),t}(xs);iv.SOURCE_KEY_MAP={};var Ry=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,Dy=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,dg=new Ko,Rc=function(t,n){this._texture=t,this.mapCoord=new Ko,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1},ov={texture:{configurable:!0}};ov.texture.get=function(){return this._texture},ov.texture.set=function(e){this._texture=e,this._updateID=-1},Rc.prototype.multiplyUvs=function(t,n){n===void 0&&(n=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var a=t[i],s=t[i+1];n[i]=a*r.a+s*r.c+r.tx,n[i+1]=a*r.b+s*r.d+r.ty}return n},Rc.prototype.update=function(t){var n=this._texture;if(!n||!n.valid||!t&&this._updateID===n._updateID)return!1;this._updateID=n._updateID;var r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=n.orig,a=n.trim;a&&(dg.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(dg));var s=n.baseTexture,u=this.uClampFrame,f=this.clampMargin/s.resolution,p=this.clampOffset;return u[0]=(n._frame.x+f+p)/s.width,u[1]=(n._frame.y+f+p)/s.height,u[2]=(n._frame.x+n._frame.width-f+p)/s.width,u[3]=(n._frame.y+n._frame.height-f+p)/s.height,this.uClampOffset[0]=p/s.realWidth,this.uClampOffset[1]=p/s.realHeight,this.isSimple=n._frame.width===s.width&&n._frame.height===s.height&&n.rotate===0,!0},Object.defineProperties(Rc.prototype,ov);var By=function(e){function t(n){var r=new Ko;e.call(this,Ry,Dy),n.renderable=!1,this.maskSprite=n,this.maskMatrix=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(r,i,a,s){var u=this.maskSprite,f=this.maskSprite.texture;!f.valid||(f.transform||(f.transform=new Rc(f,0)),f.transform.update(),this.uniforms.npmAlpha=f.baseTexture.alphaMode?0:1,this.uniforms.mask=f,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,u).prepend(f.transform.mapCoord),this.uniforms.alpha=u.worldAlpha,this.uniforms.maskClamp=f.transform.uClampFrame,r.applyFilter(this,i,a,s))},t}(iv),Fy=function(e){function t(n){e.call(this,n),this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setMaskStack=function(r){this.maskStack=r,this.renderer.scissor.setMaskStack(r),this.renderer.stencil.setMaskStack(r)},t.prototype.push=function(r,i){if(!i.isMaskData){var a=this.maskDataPool.pop()||new X1;a.pooled=!0,a.maskObject=i,i=a}switch(i.autoDetect&&this.detect(i),i.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),i._target=r,i.type){case Ro.SCISSOR:this.maskStack.push(i),this.renderer.scissor.push(i);break;case Ro.STENCIL:this.maskStack.push(i),this.renderer.stencil.push(i);break;case Ro.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i),this.maskStack.push(i);break}},t.prototype.pop=function(r){var i=this.maskStack.pop();if(!(!i||i._target!==r)){switch(i.type){case Ro.SCISSOR:this.renderer.scissor.pop();break;case Ro.STENCIL:this.renderer.stencil.pop(i.maskObject);break;case Ro.SPRITE:this.popSpriteMask();break}i.reset(),i.pooled&&this.maskDataPool.push(i)}},t.prototype.detect=function(r){var i=r.maskObject;if(i.isSprite){r.type=Ro.SPRITE;return}if(r.type=Ro.STENCIL,this.enableScissor&&i.isFastRect&&i.isFastRect()){var a=i.worldTransform,s=Math.atan2(a.b,a.a),u=Math.atan2(a.d,a.c);s=Math.round(s*(180/Math.PI)*100),u=Math.round(u*(180/Math.PI)*100)-s,s=(s%9e3+9e3)%9e3,u=(u%18e3+18e3)%18e3,s===0&&u===9e3&&(r.type=Ro.SCISSOR)}},t.prototype.pushSpriteMask=function(r){var i=r.maskObject,a=r._target,s=this.alphaMaskPool[this.alphaMaskIndex];s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new By(i)]),s[0].resolution=this.renderer.resolution,s[0].maskSprite=i;var u=a.filterArea;a.filterArea=i.getBounds(!0),this.renderer.filter.push(a,s),a.filterArea=u,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},t}(ko),pg=function(e){function t(n){e.call(this,n),this.maskStack=[],this.glConst=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(r){var i=this.renderer,a=i.gl,s=this.getStackLength();this.maskStack=r;var u=this.getStackLength();u!==s&&(u===0?a.disable(this.glConst):(a.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this,this),this.maskStack=null},t}(ko),$y=function(e){function t(n){e.call(this,n),this.glConst=WebGLRenderingContext.SCISSOR_TEST}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},t.prototype.push=function(r){var i=r.maskObject;i.renderable=!0;var a=r._scissorRect,s=i.getBounds(!0),u=this.renderer,f=u.gl;i.renderable=!1,a?s.fit(a):f.enable(f.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=s,this._useCurrent()},t.prototype.pop=function(){var r=this.renderer,i=r.gl;this.getStackLength()>0?this._useCurrent():i.disable(i.SCISSOR_TEST)},t.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,i=this.renderer.renderTexture.current,a=this.renderer.projection,s=a.transform,u=a.sourceFrame,f=a.destinationFrame,p=i?i.resolution:this.renderer.resolution,h=(r.x-u.x)*p+f.x,y=(r.y-u.y)*p+f.y,b=r.width*p,S=r.height*p;s&&(h+=s.tx*p,y+=s.ty*p),i||(y=this.renderer.height-S-y),this.renderer.gl.scissor(h,y,b,S)},t}(pg),Hy=function(e){function t(n){e.call(this,n),this.glConst=WebGLRenderingContext.STENCIL_TEST}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},t.prototype.push=function(r){var i=r.maskObject,a=this.renderer,s=a.gl,u=r._stencilCounter;u===0&&(this.renderer.framebuffer.forceStencil(),s.enable(s.STENCIL_TEST)),r._stencilCounter++,s.colorMask(!1,!1,!1,!1),s.stencilFunc(s.EQUAL,u,this._getBitwiseMask()),s.stencilOp(s.KEEP,s.KEEP,s.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent()},t.prototype.pop=function(r){var i=this.renderer.gl;this.getStackLength()===0?(i.disable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),i.clearStencil(0)):(i.colorMask(!1,!1,!1,!1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},t}(pg),Uy=function(e){function t(n){e.call(this,n),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ko,this.transform=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(r,i,a,s){this.destinationFrame=r||this.destinationFrame||this.defaultFrame,this.sourceFrame=i||this.sourceFrame||r,this.calculateProjection(this.destinationFrame,this.sourceFrame,a,s),this.transform&&this.projectionMatrix.append(this.transform);var u=this.renderer;u.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,u.globalUniforms.update(),u.shader.shader&&u.shader.syncUniformGroup(u.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(r,i,a,s){var u=this.projectionMatrix;s?(u.a=1/r.width*2*a,u.d=-1/r.height*2*a,u.tx=-1-i.x*u.a,u.ty=1-i.y*u.d):(u.a=1/r.width*2*a,u.d=1/r.height*2*a,u.tx=-1-i.x*u.a,u.ty=-1-i.y*u.d)},t.prototype.setTransform=function(){},t}(ko),nu=new Xi,jy=function(e){function t(n){e.call(this,n),this.clearColor=n._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Xi,this.destinationFrame=new Xi}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.bind=function(r,i,a){r===void 0&&(r=null),this.current=r;var s=this.renderer,u;if(r){var f=r.baseTexture;u=f.resolution,a||(nu.width=f.realWidth,nu.height=f.realHeight,a=nu),i||(i=a),this.renderer.framebuffer.bind(f.framebuffer,a),this.renderer.projection.update(a,i,u,!1),this.renderer.mask.setMaskStack(f.maskStack)}else u=this.renderer.resolution,a||(nu.width=s.width,nu.height=s.height,a=nu),i||(i=a),s.framebuffer.bind(null,a),this.renderer.projection.update(a,i,u,!0),this.renderer.mask.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(i),this.destinationFrame.x=a.x/u,this.destinationFrame.y=a.y/u,this.destinationFrame.width=a.width/u,this.destinationFrame.height=a.height/u,i===a&&this.sourceFrame.copyFrom(this.destinationFrame)},t.prototype.clear=function(r){this.current?r=r||this.current.baseTexture.clearColor:r=r||this.clearColor,this.renderer.framebuffer.clear(r[0],r[1],r[2],r[3])},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t}(ko),hg=function(t,n){this.program=t,this.uniformData=n,this.uniformGroups={}};hg.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var Gy=0,vg={textureCount:0},zy=function(e){function t(n){e.call(this,n),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=Gy++}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.systemCheck=function(){if(!xy())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(r){this.gl=r,this.reset()},t.prototype.bind=function(r,i){r.uniforms.globals=this.renderer.globalUniforms;var a=r.program,s=a.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(r);return this.shader=r,this.program!==a&&(this.program=a,this.gl.useProgram(s.program)),i||(vg.textureCount=0,this.syncUniformGroup(r.uniformGroup,vg)),s},t.prototype.setUniforms=function(r){var i=this.shader.program,a=i.glPrograms[this.renderer.CONTEXT_UID];i.syncUniforms(a.uniformData,r,this.renderer)},t.prototype.syncUniformGroup=function(r,i){var a=this.getglProgram();(!r.static||r.dirtyId!==a.uniformGroups[r.id])&&(a.uniformGroups[r.id]=r.dirtyId,this.syncUniforms(r,a,i))},t.prototype.syncUniforms=function(r,i,a){var s=r.syncUniforms[this.shader.program.id]||this.createSyncGroups(r);s(i.uniformData,r.uniforms,this.renderer,a)},t.prototype.createSyncGroups=function(r){var i=this.getSignature(r,this.shader.program.uniformData);return this.cache[i]||(this.cache[i]=Py(r,this.shader.program.uniformData)),r.syncUniforms[this.shader.program.id]=this.cache[i],r.syncUniforms[this.shader.program.id]},t.prototype.getSignature=function(r,i){var a=r.uniforms,s=[];for(var u in a)s.push(u),i[u]&&s.push(i[u].type);return s.join("-")},t.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateShader=function(r){var i=this.gl,a=r.program,s={};for(var u in a.attributeData)s[u]=a.attributeData[u].location;var f=rg(i,a.vertexSrc,a.fragmentSrc,s),p={};for(var h in a.uniformData){var y=a.uniformData[h];p[h]={location:i.getUniformLocation(f,h),value:og(y.type,y.size)}}var b=new hg(f,p);return a.glPrograms[this.renderer.CONTEXT_UID]=b,b},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.destroyed=!0},t}(ko);function Wy(e,t){return t===void 0&&(t=[]),t[Mr.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.ADD]=[e.ONE,e.ONE],t[Mr.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.NONE]=[0,0],t[Mr.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[Mr.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Mr.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[Mr.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[Mr.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Mr.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[Mr.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[Mr.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[Mr.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[Mr.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Mr.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}var Vy=0,qy=1,Ky=2,Zy=3,Xy=4,Qy=function(e){function t(n){e.call(this,n),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Mr.NONE,this._blendEq=!1,this.map=[],this.map[Vy]=this.setBlend,this.map[qy]=this.setOffset,this.map[Ky]=this.setCullFace,this.map[Zy]=this.setDepthTest,this.map[Xy]=this.setFrontFace,this.checks=[],this.defaultState=new tl,this.defaultState.blend=!0,this.defaultState.depth=!0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(r){this.gl=r,this.blendModes=Wy(r),this.set(this.defaultState),this.reset()},t.prototype.set=function(r){if(r=r||this.defaultState,this.stateId!==r.data){for(var i=this.stateId^r.data,a=0;i;)i&1&&this.map[a].call(this,!!(r.data&1<<a)),i=i>>1,a++;this.stateId=r.data}for(var s=0;s<this.checks.length;s++)this.checks[s](this,r)},t.prototype.forceState=function(r){r=r||this.defaultState;for(var i=0;i<this.map.length;i++)this.map[i].call(this,!!(r.data&1<<i));for(var a=0;a<this.checks.length;a++)this.checks[a](this,r);this.stateId=r.data},t.prototype.setBlend=function(r){this.updateCheck(t.checkBlendMode,r),this.gl[r?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(r){this.updateCheck(t.checkPolygonOffset,r),this.gl[r?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(r){this.gl[r?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setCullFace=function(r){this.gl[r?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(r){this.gl.frontFace(this.gl[r?"CW":"CCW"])},t.prototype.setBlendMode=function(r){if(r!==this.blendMode){this.blendMode=r;var i=this.blendModes[r],a=this.gl;i.length===2?a.blendFunc(i[0],i[1]):a.blendFuncSeparate(i[0],i[1],i[2],i[3]),i.length===6?(this._blendEq=!0,a.blendEquationSeparate(i[4],i[5])):this._blendEq&&(this._blendEq=!1,a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD))}},t.prototype.setPolygonOffset=function(r,i){this.gl.polygonOffset(r,i)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(r,i){var a=this.checks.indexOf(r);i&&a===-1?this.checks.push(r):!i&&a!==-1&&this.checks.splice(a,1)},t.checkBlendMode=function(r,i){r.setBlendMode(i.blendMode)},t.checkPolygonOffset=function(r,i){r.setPolygonOffset(i.polygonOffset,0)},t}(ko),Yy=function(e){function t(n){e.call(this,n),this.count=0,this.checkCount=0,this.maxIdle=$r.GC_MAX_IDLE,this.checkCountMax=$r.GC_MAX_CHECK_COUNT,this.mode=$r.GC_MODE}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==$1.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var r=this.renderer.texture,i=r.managedTextures,a=!1,s=0;s<i.length;s++){var u=i[s];!u.framebuffer&&this.count-u.touched>this.maxIdle&&(r.destroyTexture(u,!0),i[s]=null,a=!0)}if(a){for(var f=0,p=0;p<i.length;p++)i[p]!==null&&(i[f++]=i[p]);i.length=f}},t.prototype.unload=function(r){var i=this.renderer.textureSystem;r._texture&&r._texture._glRenderTargets&&i.destroyTexture(r._texture);for(var a=r.children.length-1;a>=0;a--)this.unload(r.children[a])},t}(ko),av=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Jy=function(e){function t(n){e.call(this,n),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Qi}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var i=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=i;for(var a=0;a<i;a++)this.boundTextures[a]=null;this.emptyTextures={};var s=new av(r.createTexture());r.bindTexture(r.TEXTURE_2D,s.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[r.TEXTURE_2D]=s,this.emptyTextures[r.TEXTURE_CUBE_MAP]=new av(r.createTexture()),r.bindTexture(r.TEXTURE_CUBE_MAP,this.emptyTextures[r.TEXTURE_CUBE_MAP].texture);for(var u=0;u<6;u++)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+u,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,null);r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR);for(var f=0;f<this.boundTextures.length;f++)this.bind(null,f)},t.prototype.bind=function(r,i){i===void 0&&(i=0);var a=this,s=a.gl;if(r){if(r=r.baseTexture||r,r.valid){r.touched=this.renderer.textureGC.count;var u=r._glTextures[this.CONTEXT_UID]||this.initTexture(r);this.boundTextures[i]!==r&&(this.currentLocation!==i&&(this.currentLocation=i,s.activeTexture(s.TEXTURE0+i)),s.bindTexture(r.target,u.texture)),u.dirtyId!==r.dirtyId&&(this.currentLocation!==i&&(this.currentLocation=i,s.activeTexture(s.TEXTURE0+i)),this.updateTexture(r)),this.boundTextures[i]=r}}else this.currentLocation!==i&&(this.currentLocation=i,s.activeTexture(s.TEXTURE0+i)),s.bindTexture(s.TEXTURE_2D,this.emptyTextures[s.TEXTURE_2D].texture),this.boundTextures[i]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]=this.unknownTexture},t.prototype.unbind=function(r){var i=this,a=i.gl,s=i.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var u=0;u<s.length;u++)s[u]===this.unknownTexture&&this.bind(null,u)}for(var f=0;f<s.length;f++)s[f]===r&&(this.currentLocation!==f&&(a.activeTexture(a.TEXTURE0+f),this.currentLocation=f),a.bindTexture(a.TEXTURE_2D,this.emptyTextures[r.target].texture),s[f]=null)},t.prototype.initTexture=function(r){var i=new av(this.gl.createTexture());return i.dirtyId=-1,r._glTextures[this.CONTEXT_UID]=i,this.managedTextures.push(r),r.on("dispose",this.destroyTexture,this),i},t.prototype.initTextureType=function(r,i){if(i.internalFormat=r.format,i.type=r.type,this.webGLVersion===2){var a=this.renderer.gl;r.type===a.FLOAT&&r.format===a.RGBA&&(i.internalFormat=a.RGBA32F),r.type===qo.HALF_FLOAT&&(i.type=a.HALF_FLOAT),i.type===a.HALF_FLOAT&&r.format===a.RGBA&&(i.internalFormat=a.RGBA16F)}},t.prototype.updateTexture=function(r){var i=r._glTextures[this.CONTEXT_UID];if(!!i){var a=this.renderer;if(this.initTextureType(r,i),!(r.resource&&r.resource.upload(a,r,i))){var s=r.realWidth,u=r.realHeight,f=a.gl;(i.width!==s||i.height!==u||i.dirtyId<0)&&(i.width=s,i.height=u,f.texImage2D(r.target,0,i.internalFormat,s,u,0,r.format,i.type,null))}r.dirtyStyleId!==i.dirtyStyleId&&this.updateTextureStyle(r),i.dirtyId=r.dirtyId}},t.prototype.destroyTexture=function(r,i){var a=this,s=a.gl;if(r=r.baseTexture||r,r._glTextures[this.CONTEXT_UID]&&(this.unbind(r),s.deleteTexture(r._glTextures[this.CONTEXT_UID].texture),r.off("dispose",this.destroyTexture,this),delete r._glTextures[this.CONTEXT_UID],!i)){var u=this.managedTextures.indexOf(r);u!==-1&&Mc(this.managedTextures,u,1)}},t.prototype.updateTextureStyle=function(r){var i=r._glTextures[this.CONTEXT_UID];!i||((r.mipmap===F1.POW2||this.webGLVersion!==2)&&!r.isPowerOfTwo?i.mipmap=0:i.mipmap=r.mipmap>=1,this.webGLVersion!==2&&!r.isPowerOfTwo?i.wrapMode=c0.CLAMP:i.wrapMode=r.wrapMode,r.resource&&r.resource.style(this.renderer,r,i)||this.setStyle(r,i),i.dirtyStyleId=r.dirtyStyleId)},t.prototype.setStyle=function(r,i){var a=this.gl;if(i.mipmap&&a.generateMipmap(r.target),a.texParameteri(r.target,a.TEXTURE_WRAP_S,i.wrapMode),a.texParameteri(r.target,a.TEXTURE_WRAP_T,i.wrapMode),i.mipmap){a.texParameteri(r.target,a.TEXTURE_MIN_FILTER,r.scaleMode?a.LINEAR_MIPMAP_LINEAR:a.NEAREST_MIPMAP_NEAREST);var s=this.renderer.context.extensions.anisotropicFiltering;if(s&&r.anisotropicLevel>0&&r.scaleMode===u0.LINEAR){var u=Math.min(r.anisotropicLevel,a.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));a.texParameterf(r.target,s.TEXTURE_MAX_ANISOTROPY_EXT,u)}}else a.texParameteri(r.target,a.TEXTURE_MIN_FILTER,r.scaleMode?a.LINEAR:a.NEAREST);a.texParameteri(r.target,a.TEXTURE_MAG_FILTER,r.scaleMode?a.LINEAR:a.NEAREST)},t}(ko),sv=new Ko,e8=function(e){function t(r,i){e.call(this),i=Object.assign({},$r.RENDER_OPTIONS,i),i.roundPixels&&($r.ROUND_PIXELS=i.roundPixels,$m("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=i,this.type=Sc.UNKNOWN,this.screen=new Xi(0,0,i.width,i.height),this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution||$r.RESOLUTION,this.transparent=i.transparent,this.autoDensity=i.autoDensity||i.autoResize||!1,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new v0,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return t.prototype.initPlugins=function(i){for(var a in i)this.plugins[a]=new i[a](this)},n.width.get=function(){return this.view.width},n.height.get=function(){return this.view.height},t.prototype.resize=function(i,a){this.screen.width=i,this.screen.height=a,this.view.width=i*this.resolution,this.view.height=a*this.resolution,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px")},t.prototype.generateTexture=function(i,a,s,u){u=u||i.getLocalBounds(),u.width===0&&(u.width=1),u.height===0&&(u.height=1);var f=K1.create(u.width|0,u.height|0,a,s);return sv.tx=-u.x,sv.ty=-u.y,this.render(i,f,!1,sv,!!i.parent),f},t.prototype.destroy=function(i){for(var a in this.plugins)this.plugins[a].destroy(),this.plugins[a]=null;i&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=Sc.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n.backgroundColor.get=function(){return this._backgroundColor},n.backgroundColor.set=function(r){this._backgroundColor=r,this._backgroundColorString=Nm(r),Om(r,this._backgroundColorRgba)},Object.defineProperties(t.prototype,n),t}(yc),mg=function(e){function t(n){n===void 0&&(n={}),e.call(this,"WebGL",n),n=this.options,this.type=Sc.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new oo("destroy"),contextChange:new oo("contextChange",1),reset:new oo("reset"),update:new oo("update"),postrender:new oo("postrender"),prerender:new oo("prerender"),resize:new oo("resize",2)},this.globalUniforms=new Zo({projectionMatrix:new Ko},!0),this.addSystem(Fy,"mask").addSystem(my,"context").addSystem(Qy,"state").addSystem(zy,"shader").addSystem(Jy,"texture").addSystem(yy,"geometry").addSystem(gy,"framebuffer").addSystem($y,"scissor").addSystem(Hy,"stencil").addSystem(Uy,"projection").addSystem(Yy,"textureGC").addSystem(hy,"filter").addSystem(jy,"renderTexture").addSystem(vy,"batch"),this.initPlugins(t.__plugins),n.context?this.context.initFromContext(n.context):this.context.initFromOptions({alpha:this.transparent,antialias:n.antialias,premultipliedAlpha:this.transparent&&this.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,N5(this.context.webGLVersion===2?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(r){if(L5())return new t(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.addSystem=function(r,i){i||(i=r.name);var a=new r(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');this[i]=a;for(var s in this.runners)this.runners[s].add(a);return this},t.prototype.render=function(r,i,a,s,u){if(this.renderingToScreen=!i,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(i||(this._lastObjectRendered=r),!u){var f=r.parent;r.parent=this._tempDisplayObjectParent,r.updateTransform(),r.parent=f}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},t.prototype.resize=function(r,i){e.prototype.resize.call(this,r,i),this.runners.resize.run(r,i)},t.prototype.reset=function(){return this.runners.reset.run(),this},t.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},t.prototype.destroy=function(r){this.runners.destroy.run();for(var i in this.runners)this.runners[i].destroy();e.prototype.destroy.call(this,r),this.gl=null},t.registerPlugin=function(r,i){t.__plugins=t.__plugins||{},t.__plugins[r]=i},t}(e8);function t8(e){return mg.create(e)}var gg=function(){this.texArray=null,this.blend=0,this.type=Yl.TRIANGLES,this.start=0,this.size=0,this.data=null},lv=function(){this.elements=[],this.ids=[],this.count=0};lv.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0};var Dc=function(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},ru={int8View:{configurable:!0},uint8View:{configurable:!0},int16View:{configurable:!0},uint16View:{configurable:!0},int32View:{configurable:!0}};ru.int8View.get=function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},ru.uint8View.get=function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},ru.int16View.get=function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},ru.uint16View.get=function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},ru.int32View.get=function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},Dc.prototype.view=function(t){return this[t+"View"]},Dc.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},Dc.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},Object.defineProperties(Dc.prototype,ru);var uv=function(e){function t(n){e.call(this,n),this.shaderGenerator=null,this.geometryClass=null,this.vertexSize=null,this.state=tl.for2d(),this.size=$r.SPRITE_BATCH_SIZE*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),n.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(){var r=this.renderer.gl;$r.PREFER_ENV===Ka.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),$r.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Ty(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var r=t._drawCallPool,i=t._textureArrayPool,a=this.size/4,s=Math.floor(a/this.MAX_TEXTURES)+1;r.length<a;)r.push(new gg);for(;i.length<s;)i.push(new lv);for(var u=0;u<this.MAX_TEXTURES;u++)this._tempBoundTextures[u]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(r){!r._texture.valid||(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},t.prototype.buildTexturesAndDrawCalls=function(){var r=this,i=r._bufferedTextures,a=r.MAX_TEXTURES,s=t._textureArrayPool,u=this.renderer.batch,f=this._tempBoundTextures,p=this.renderer.textureGC.count,h=++Qi._globalBatch,y=0,b=s[0],S=0;u.copyBoundTextures(f,a);for(var $=0;$<this._bufferSize;++$){var G=i[$];i[$]=null,G._batchEnabled!==h&&(b.count>=a&&(u.boundArray(b,f,h,a),this.buildDrawCalls(b,S,$),S=$,b=s[++y],++h),G._batchEnabled=h,G.touched=p,b.elements[b.count++]=G)}b.count>0&&(u.boundArray(b,f,h,a),this.buildDrawCalls(b,S,this._bufferSize),++y,++h);for(var ce=0;ce<f.length;ce++)f[ce]=null;Qi._globalBatch=h},t.prototype.buildDrawCalls=function(r,i,a){var s=this,u=s._bufferedElements,f=s._attributeBuffer,p=s._indexBuffer,h=s.vertexSize,y=t._drawCallPool,b=this._dcIndex,S=this._aIndex,$=this._iIndex,G=y[b];G.start=this._iIndex,G.texArray=r;for(var ce=i;ce<a;++ce){var Re=u[ce],At=Re._texture.baseTexture,it=Lm[At.alphaMode?1:0][Re.blendMode];u[ce]=null,i<ce&&G.blend!==it&&(G.size=$-G.start,i=ce,G=y[++b],G.texArray=r,G.start=$),this.packInterleavedGeometry(Re,f,p,S,$),S+=Re.vertexData.length/2*h,$+=Re.indices.length,G.blend=it}i<a&&(G.size=$-G.start,++b),this._dcIndex=b,this._aIndex=S,this._iIndex=$},t.prototype.bindAndClearTexArray=function(r){for(var i=this.renderer.texture,a=0;a<r.count;a++)i.bind(r.elements[a],r.ids[a]),r.elements[a]=null;r.count=0},t.prototype.updateGeometry=function(){var r=this,i=r._packedGeometries,a=r._attributeBuffer,s=r._indexBuffer;$r.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(a.rawBinaryData),i[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(a.rawBinaryData),i[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var r=this._dcIndex,i=this.renderer,a=i.gl,s=i.state,u=t._drawCallPool,f=null,p=0;p<r;p++){var h=u[p],y=h.texArray,b=h.type,S=h.size,$=h.start,G=h.blend;f!==y&&(f=y,this.bindAndClearTexArray(y)),this.state.blendMode=G,s.set(this.state),a.drawElements(b,S,a.UNSIGNED_SHORT,$*2)}},t.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),$r.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(r){var i=f0(Math.ceil(r/8)),a=Bm(i),s=i*8;this._aBuffers.length<=a&&(this._iBuffers.length=a+1);var u=this._aBuffers[s];return u||(this._aBuffers[s]=u=new Dc(s*this.vertexSize*4)),u},t.prototype.getIndexBuffer=function(r){var i=f0(Math.ceil(r/12)),a=Bm(i),s=i*12;this._iBuffers.length<=a&&(this._iBuffers.length=a+1);var u=this._iBuffers[a];return u||(this._iBuffers[a]=u=new Uint16Array(s)),u},t.prototype.packInterleavedGeometry=function(r,i,a,s,u){for(var f=i.uint32View,p=i.float32View,h=s/this.vertexSize,y=r.uvs,b=r.indices,S=r.vertexData,$=r._texture.baseTexture._batchLocation,G=Math.min(r.worldAlpha,1),ce=G<1&&r._texture.baseTexture.alphaMode?Rm(r._tintRGB,G):r._tintRGB+(G*255<<24),Re=0;Re<S.length;Re+=2)p[s++]=S[Re],p[s++]=S[Re+1],p[s++]=y[Re],p[s++]=y[Re+1],f[s++]=ce,p[s++]=$;for(var At=0;At<b.length;At++)a[u++]=h+b[At]},t}(Ms);uv._drawCallPool=[],uv._textureArrayPool=[];var cv=function(t,n){if(this.vertexSrc=t,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},n.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(n.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')};cv.prototype.generateShader=function(t){if(!this.programCache[t]){for(var n=new Int32Array(t),r=0;r<t;r++)n[r]=r;this.defaultGroupCache[t]=Zo.from({uSamplers:n},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new xa(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ko,default:this.defaultGroupCache[t]};return new xs(this.programCache[t],a)},cv.prototype.generateSampleSrc=function(t){var n="";n+=`
`,n+=`
`;for(var r=0;r<t;r++)r>0&&(n+=`
else `),r<t-1&&(n+="if(vTextureId < "+r+".5)"),n+=`
{`,n+=`
	color = texture2D(uSamplers[`+r+"], vTextureCoord);",n+=`
}`;return n+=`
`,n+=`
`,n};var _g=function(e){function t(n){n===void 0&&(n=!1),e.call(this),this._buffer=new fo(null,n,!1),this._indexBuffer=new fo(null,n,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,qo.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,qo.FLOAT).addAttribute("aColor",this._buffer,4,!0,qo.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,qo.FLOAT).addIndex(this._indexBuffer)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Yi),yg=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,bg=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,fv=function(){},dv={defaultVertexSrc:{configurable:!0},defaultFragmentTemplate:{configurable:!0}};fv.create=function(t){var n=Object.assign({vertex:yg,fragment:bg,geometryClass:_g,vertexSize:6},t),r=n.vertex,i=n.fragment,a=n.vertexSize,s=n.geometryClass;return function(u){function f(p){u.call(this,p),this.shaderGenerator=new cv(r,i),this.geometryClass=s,this.vertexSize=a}return u&&(f.__proto__=u),f.prototype=Object.create(u&&u.prototype),f.prototype.constructor=f,f}(uv)},dv.defaultVertexSrc.get=function(){return yg},dv.defaultFragmentTemplate.get=function(){return bg},Object.defineProperties(fv,dv);var n8=fv.create()},5653:function(Cn,Ke,j){"use strict";j.d(Ke,{A:function(){return gn},B:function(){return ji},C:function(){return Pt},D:function(){return En},E:function(){return te},F:function(){return wn},H:function(){return vn},J:function(){return F},L:function(){return A},M:function(){return T},S:function(){return lt},a:function(){return M},b:function(){return Ii},c:function(){return Ie},d:function(){return _e},e:function(){return O},f:function(){return xe},g:function(){return qt},h:function(){return N},i:function(){return es},j:function(){return X},k:function(){return ct},l:function(){return le},m:function(){return ve},n:function(){return je},o:function(){return Je},p:function(){return V},q:function(){return Dt},r:function(){return B},s:function(){return Ft},t:function(){return m},u:function(){return P},v:function(){return rt},w:function(){return H},x:function(){return W},y:function(){return nt},z:function(){return mr}});var A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof j.g<"u"?j.g:typeof self<"u"?self:{},x={exports:{}};(function(ie){/*!
 * Chess.com (c) 2020 | all rights reserved
 *//*!
 * A distant fork of chess.js - BSD (c) 2014, Jeff Hlywa (jhlywa@gmail.com)
 */(function(){var Q=function(){var se=[[2637767806,863464769],[720845184,95069639],[1155203408,610415943],[2618685246,1655139042],[1971536997,1218186377],[848342074,540017087],[263957791,1627660921],[3896152207,4076560586],[226391645,1484086288],[436746274,3467632685],[2516964848,3797861296],[3491888988,3510251221],[1086189917,1248276018],[18044180,1876255637],[1572111136,1190386149],[597658413,2146900428],[97624494,2243205793],[1738507407,1854916977],[1950989311,2149575947],[2098318769,3283594736],[2194108574,2015279052],[4079062812,2500884588],[856979699,2941369318],[1270058469,3877737539],[2858720366,3170717948],[2378012835,1387254795],[2278688587,2178388503],[435406673,3555273441],[3031118064,1655806655],[2063925420,1107589828],[3376753832,436852829],[615148625,1302492416],[1285502018,1963045959],[346460119,1016137793],[2803604355,1176288659],[55085973,2968618255],[1669016372,4287873088],[164740250,1037634196],[896886403,883023163],[1935551383,2764331555],[410153072,4055711755],[533441746,1505690343],[3541084098,3466290517],[3214426080,4267541060],[2675233103,1951705124],[1374411850,3115986997],[1552073989,3684348154],[4244110986,875606593],[844343081,3115990494],[2356462440,135999605],[3116133511,377238503],[2129956651,2197966368],[299173332,3276914047],[1701379241,745972291],[1306570996,254977976],[2530644806,214138461],[1122123979,1667800879],[1831591130,3801192033],[1116211970,920967505],[1594837592,2551651254],[972591349,2046373768],[2479207924,1935030411],[1675376029,2367888248],[3960916618,3935874422],[1398143232,3265801671],[133930885,1520005442],[1351827834,2829577566],[2076951437,2723839804],[435980918,2364847828],[1668970368,3738157273],[2185864314,3993911799],[2041407829,31969768],[346864372,2004703094],[4047877822,3437142421],[3669961416,538399484],[616810829,4190688246],[3144558884,4030272234],[216165387,2513010905],[2761740594,3216997572],[3919406634,4096014649],[669429112,2434161727],[2234904640,3111407601],[1421079802,1598085235],[1924213810,310373675],[4002762044,2067865415],[2592451728,2586110625],[1890340057,4031717877],[4189625662,2577429954],[2276713138,3049850801],[2741429688,3310307512],[2924122950,3426712818],[421576781,1193704381],[2277442246,3030264553],[153237420,595540057],[4278711886,4176286928],[2380848297,4030514510],[2618700582,1303682185],[3018992701,185284845],[957243316,1291916363],[1543415220,1898408169],[504378001,531073412],[2591337657,1692896435],[1333852064,903543556],[1661259930,188168388],[561112646,2197961224],[1536910315,2632972300],[1349168372,2307429186],[411152329,2745631190],[1694697476,1081411140],[3755185459,2631660711],[4019355068,4027326706],[2066937809,3761668332],[3120395808,3878773315],[94890149,2109283191],[3045629038,358812277],[1249184265,3465901047],[3477490924,2308583306],[4114113436,3875911716],[1014604031,1434513279],[3991324799,2222416029],[2040431088,1539915569],[2253613964,4081224332],[2547464012,1611168627],[2722521980,4281500978],[71289574,213969824],[2450408597,903689630],[1894451515,364024012],[1939968537,374938813],[1447259295,3785468557],[4021046128,1664847745],[3139524504,3562928047],[1173487682,4065269608],[2467266804,3907744866],[4284945151,3486998177],[2925674454,1953016432],[3710671816,1271453948],[2129465869,1422863833],[587093076,18243356],[3373793513,2411305257],[2156648078,1791034213],[3737413652,1534461430],[468575139,2935304962],[1129551363,3603256834],[2861996892,1763494778],[2826449619,2465197654],[1704209531,1014895022],[3738359347,3402630390],[569410928,4095796581],[3021312909,2108247612],[2444777957,2664129360],[282063667,3773661258],[682545472,3188439005],[3318488457,1917822038],[1447622272,4045023041],[757420137,4038580915],[2613420942,4146703316],[4012836163,150381244],[2938127093,3428591704],[1208226490,3086335530],[2935205706,1446903363],[430957978,3830532479],[1381578755,3757172800],[4109399782,1596778224],[288855589,1954372339],[3169178148,2256716053],[2644780093,3895892303],[107966643,1071681559],[1304747544,2607225372],[1359190711,1898207171],[3229237120,3273634996],[3027167685,3863637628],[3011615298,2883984519],[564135827,978463264],[770797430,362326607],[1983662611,1907583229],[4153656423,48268960],[3609759233,720080177],[3727911466,1270989899],[200708787,2366086947],[744508026,393422515],[1213261630,65757284],[3485747185,3845951003],[2958861301,1680248217],[2598470344,3163845864],[2767997908,4233451722],[3881113485,1492930166],[1773764017,2764062206],[4189435844,2898689174],[4234838742,1267095035],[2624081078,3302114327],[2395569449,390426320],[1728307101,690284926],[3309827454,1118258254],[2028172868,3888829086],[4271523049,909051386],[146617804,942892565],[2467685867,974297806],[2483428231,503635829],[3743260573,2018222096],[1002067894,2289153437],[3535252974,3738302271],[4154611160,1002664952],[3623154244,2349656961],[3646679180,3524329383],[862933752,4282853607],[2806008282,3272780913],[2734037942,3828874677],[1328176304,2137666995],[2278785213,2780788825],[381286368,1816476193],[2074232908,2316293454],[4087773386,3651330956],[967884669,3728964514],[4239349185,3213509668],[419231360,1463788948],[1275421624,2672384707],[1088456595,436245261],[2365565249,783696577],[1758083333,845223583],[2048846183,3530914274],[2635948261,124738415],[940630937,3069598626],[839474029,1253439921],[902477345,165479306],[2836079689,2681188273],[2007115168,2093139645],[1363041891,1282466609],[1130479818,1063857938],[3644959908,1260430427],[1385135238,46497915],[1386975934,3110156681],[2635987502,4233461619],[1915744629,4117939016],[487743653,285736599],[2049219159,3960249250],[69242857,3908563670],[1511066720,1488527520],[215590039,1703564952],[1459430344,4184955468],[676103291,2642967214],[83799035,3182827979],[1949179493,476101251],[2593534694,1493478716],[2283504289,995211746],[1349412676,3449243940],[2954378677,1878813305],[249149717,3329151870],[1578231917,1483986052],[4135085182,890874990],[461755528,3505523909],[3669622373,634949665],[219487622,2914465301],[2825233742,3703631897],[2479105382,2935590907],[2582097898,3187672881],[1221328648,1843341402],[2140891889,3958868911],[1482849818,345750049],[751922730,3178831411],[3546542069,4036458902],[216179596,877293293],[444615341,3117393729],[2424254530,494454238],[1344234989,3003337991],[929188581,2760877801],[2507911009,1879899982],[980166547,1311840394],[3566535507,1790747461],[143525013,2311336672],[4181962471,4273938872],[1815842366,862009811],[911175674,1179575598],[3591335374,3694215714],[1452686093,3393294272],[385158879,2447709103],[4011414929,1264623507],[1448477120,911094312],[3971299641,2289992053],[3133647265,2234591563],[3007628400,964409938],[1708345684,3673411261],[3031964479,2843021794],[3022128657,2480338599],[118850112,473449293],[2048127371,3202109429],[3158349745,382018770],[1505327237,3807570472],[2568424029,3272693060],[1866609495,3888556537],[844703982,1852802964],[3504617058,682636099],[1448882679,3733580327],[821387540,2215744532],[3631471417,311618895],[2077838877,2383929020],[3352949096,1688694420],[2491080787,3998672444],[3368630402,4182204255],[983299419,2837414346],[3651215291,1033373924],[265429091,3988955082],[3019003608,2896212153],[2955948456,3025235588],[903690197,2266253487],[3925215275,89402958],[3959093811,3609545561],[2455088053,223552128],[3115011301,2133669107],[1765081558,673805649],[3324795129,2111392191],[3443871631,432345706],[3152559950,3425427147],[3699649406,672784944],[3129545774,7668664],[2747044893,173040075],[3925243406,852328481],[164095314,3161868591],[2234471571,1302682825],[2164784335,105893718],[159995093,536831360],[599199451,425051327],[3274759746,1680930461],[1192619331,3903085578],[2832721114,3078660237],[91404660,4030521531],[3044880024,1578375623],[3906596030,754177855],[803516785,1894094672],[288455592,2030430096],[2143232492,2317305324],[388352703,3406060288],[2521731420,3588403719],[1043041227,4028028525],[3195290851,2468913324],[4166724431,3168683191],[1228226538,968516529],[500177583,3444787306],[533367442,4252082053],[4236023256,657816314],[413575568,3367198397],[3435884549,3334062733],[1004255532,1135705894],[2859513268,4170618274],[3914086821,1251487871],[3080761716,3489067886],[3571165255,699353261],[773372954,3648014952],[769693293,2939128604],[3116440923,507748478],[1687629160,3739431776],[2489486648,3502376324],[3686847158,2878383449],[3530767427,902211375],[2121652637,2493976397],[1827477891,930064171],[2549918411,4029725732],[2071415163,844118802],[2236083679,3088894868],[2040110303,4144562891],[3489536313,1133419300],[2190878435,2301466071],[2465915458,2448602097],[1675766804,2073834499],[3329799896,1613253148],[1483966600,1348836071],[159505618,2527621997],[2674227354,1695130688],[2683539437,1927873839],[3833196123,2570082188],[3891433165,759819981],[1455453349,2179602430],[1430583255,1957776111],[2067726741,4235143439],[303380021,2998980439],[2136024795,3126725799],[2054591852,1051702291],[1029141665,489794361],[2317027384,569642164],[2068461795,624418658],[2499875684,1830645251],[1302894490,4319401],[1002663431,2406815191],[1560941298,2060652753],[2141002286,515773223],[3661248027,475092913],[3705503008,2419919909],[914567990,3496539911],[3462935583,2039034761],[2878378006,2379243316],[1133857586,1390159333],[3023618742,2140726761],[282908558,944874642],[3686955701,1148723903],[2604456805,4163675010],[3061545110,377179268],[3218002352,76459088],[2836503392,916455101],[536836808,151306053],[2886925079,404221671],[2936593041,2011015485],[453815187,1852163908],[3042568989,82176306],[3279635891,4174836410],[3282689058,2360003049],[4088968807,1516570623],[2680453086,1322680794],[1731693966,3438253771],[1842894553,1294307894],[2736377365,2964642609],[121205621,521330014],[2324595870,3005710757],[3784465521,676493813],[1958759409,2030833406],[1306150933,1016370058],[2636541290,482366508],[1950415745,1695073534],[322077955,3746046623],[3602873262,3829181504],[1211684447,1861645455],[504701736,4080111082],[2407799203,1223857855],[1925743434,1498920209],[3617596327,845198428],[2498480299,3484773806],[2680229135,2560201696],[3731399221,1536412390],[2756509305,2924710846],[2635957500,3459716133],[1372762539,769635894],[802677945,3878474636],[1707760534,3075809808],[3714687192,2872792173],[1615679922,1606381794],[1940556374,1337437342],[445390489,731124040],[2864974375,64601760],[1984806574,2141516710],[513390958,1890172555],[744398315,1475299139],[982749166,852662657],[652663695,4260736510],[1184061125,82616221],[3363191899,147951756],[1064069880,1507328085],[2138882964,547595589],[2616926846,3186935246],[2298715513,3606862940],[2414381911,811477686],[2694745228,900437726],[4202576185,2201114451],[3602305260,3323446937],[3756663274,2658490339],[3061587876,2171079416],[3390977925,2850497765],[486312941,224925241],[3515712841,3510684394],[1322319486,2647200565],[3839619171,1148450258],[392296762,1154854654],[1401523788,957405781],[1934485528,527352730],[645968162,3131215255],[696971825,3361451947],[2038689491,1946699733],[1723966113,2785859721],[2652365974,1118037185],[3988018407,3134982149],[1354171594,3053634345],[1287854075,2631782435],[1723106141,2662328866],[563845090,1878819261],[639520332,171129501],[534957223,1696062352],[3612364282,2283204027],[3109494688,1304463816],[500957989,630925278],[3477030536,2149497258],[4109750364,281719363],[951472732,564407054],[922095147,2767874048],[3946156928,829677774],[2622281253,2086286851],[2936811901,850242186],[630086272,3340782667],[2340986210,1296336989],[4107355543,3865114709],[3560210278,3968418243],[3868847493,2967450637],[611513888,2083325060],[3265390517,3025776309],[2874106961,3424470508],[1668707698,2923258228],[2778598353,24320552],[292356118,3415510793],[754567370,86994591],[185141877,1621715171],[2884558258,3722473457],[1492107531,111281805],[3336927864,4225337056],[782994598,1021838039],[346133860,18281270],[2080909533,1649329040],[3612065399,3859901127],[2151962287,284556115],[3957975594,3745718727],[52533817,3998775856],[1232633839,397383972],[2716413964,3629253960],[1531307298,3836851439],[3030137657,2500401718],[3561556693,653345841],[313061910,2945718466],[2065276,3342140708],[410498334,1470588117],[2726640512,4051654894],[2570984935,758567696],[3008987264,3462702678],[623860175,228525243],[3527183895,1829844480],[467272850,3890501742],[568376656,650516927],[990477018,4035508558],[2366955227,817792110],[4183621538,989198068],[946958343,1639184195],[3395758993,3924097558],[1690887473,3220519765],[605184237,1255270525],[275515833,1926424610],[2142902612,283494960],[2021972412,1823828440],[105373677,3448326697],[1666662384,1042433908],[1338566998,261206307],[498685668,1344755577],[3101233780,3119109371],[2733370951,3808165089],[3656512268,3449289481],[4025308119,1607880299],[778896067,1612183167],[2846510368,3674754715],[3058428120,2991822529],[1892379383,3268787440],[2565895844,4154602030],[3213117192,98999135],[2495816991,116985075],[1040203361,1785041385],[3106252493,69316595],[1639829808,2087117568],[3213709576,3799911752],[604681594,2340981536],[4236730699,2938666503],[4009938384,1878897714],[2701667332,1725918218],[2182473079,1258184],[3550198211,2760750799],[657991062,875584532],[1640976276,3380476221],[460041378,2924352091],[1972323596,2287414795],[2510248061,1350206297],[2959337826,3762681165],[1625877874,3235902929],[2070189957,1429368735],[4245163299,1839731898],[2358312347,138364248],[275739390,2179122576],[2037777210,972544338],[2766930226,1984733259],[1933485829,4209310327],[3034118011,3286589799],[2653025529,62078937],[2641780289,2679545709],[3540781195,2787026415],[1569993599,3215949659],[441337890,3947723353],[1878946792,459505587],[3724105660,920173002],[1691411102,3934795955],[148741087,3647709027],[142506469,2776440083],[3811107376,3823285243],[472209891,252266174],[1913386482,1867329194],[2960608550,482740699],[1145005292,1513558421],[1091751784,1687823886],[3625186042,3086337482],[1712140887,940065262],[1504455800,1945702563],[3896940088,2003245591],[2478191531,4197739e3],[3233871270,250924495],[3404865229,1131917964],[1462204167,429621621],[1349259705,3641608989],[3627860584,2048468319],[1244251718,1513180369],[3979211282,371413143],[3043187861,4285699810],[581894202,3060983825],[1390895705,1811317301],[2599134010,3337406128],[2488233440,2436161462],[1816641224,2208816697],[1792034756,815866116],[2779893723,2695577703],[2084952115,2951772258],[1351806869,169269771],[2469979804,86740603],[1163545420,4264616949],[1795352113,2511146232],[1796715044,3134635815],[3521170642,1538900329],[3725363621,1455009392],[1342594643,1512127734],[2618386938,662157428],[2028859350,2494504685],[1841905045,648351336],[4002935891,4033319405],[850071259,1768358867],[979915719,3876018087],[830889197,1629549437],[1744763229,2455795856],[522919199,368499868],[3063822504,2522639205],[2861636095,407686388],[4097602344,1945259027],[4215946617,1251639506],[894485042,534122652],[924809191,1807237502],[1811585710,1589663609],[3439653887,1722232],[3810997538,105152714],[2677100683,4291805514],[77233985,102407776],[4239834691,2851274395],[148802076,2006440603],[2409138150,126301601],[3048474397,3217504870],[588133437,4221603123],[1139638106,263087485],[982032635,3165674595],[562514827,1294842959],[467575086,905357513],[1405117894,3370530088],[3813285157,242912619],[3601878331,1985076606],[1586505598,2092146221],[738488098,103663229],[2970334297,321718822],[1068097019,1742926233],[235518094,420804527],[283685722,4092504887],[2666392744,3799169331],[3569817788,1256762975],[2169728352,292617248],[2444571896,2239859206],[3967907832,1066404216],[420376911,2913277294],[3046293305,2956347747],[2311278792,2477686209],[2885955184,4172514290],[3030078181,2275536480],[4212469731,4280736393],[1046900335,1773022229],[995380926,1414273529],[3892683234,2429494358],[615726237,2127712535],[3880203074,2071130305],[176180504,3070850165],[1474506861,2283723599],[1256707747,1857412043],[764236850,359687368],[3521530334,511649419],[2318567964,3992868140],[128167623,2518992858],[2220129756,1042300052],[2567608573,1349636707],[441446694,384760969],[4143447316,829506048],[817912603,2738025500],[2368091832,357934982],[1187643061,1561463042],[3438021235,3030161697],[1318922279,895468690],[434876457,1130220303],[1180291767,1132759596],[2520707785,1798553137],[1962430872,2958700157],[1510954061,3534879512],[57831539,3269538993],[3354831405,3852135009],[891783098,2698494511],[2555636406,996018997],[2881342935,3982231648],[3473267445,2894952368],[1238029452,3958679326],[2051805420,559465638],[3655936674,1186951582],[330209165,167662935],[1929681327,2450868735],[1313566811,2458925988],[4283920930,3243182650],[1438004300,4185567150],[3093439067,89876832],[3401620219,3721579956],[3673745794,2682874719],[3053321309,825410712],[822915968,3681514755],[3900685126,561657358],[553823814,1857753416],[4166295066,983949325],[128359165,3426887194],[3300989119,3884968622],[4193552686,3647722552],[452189154,1569670618],[4122259632,3537825460],[2519387887,2821594244],[74333898,2940550377],[4032631446,2173999692],[2521268686,1934310532],[2620314688,2177785789],[1378755571,2455646622],[394133753,4231198609],[734399075,2800989170],[573292462,1634883078],[1214417373,3426576256],[2110224475,2399009920],[2331215665,3224086912],[531326186,698539511],[3839443603,583861850],[2644531398,2017784332],[616620850,3070237104],[590349237,2798642861],[3582377217,3317831670],[1582708616,1596570667],[2126148205,2358511947],[173450736,3219362418],[3616831144,1323437318],[2655785577,3131359031],[401600069,2967397952],[496349349,4244179910],[2479612086,2579650653],[1710903074,2049666425],[3589924952,690291925],[3266682943,1900485231],[1496318498,3025542656],[3459221058,3389461212],[2091479615,3140389256],[663040899,1207089672],[3323704225,1105530508],[353318429,2879253542],[2674540957,941987316],[1688550857,620657353],[338551967,4286217277],[204689992,2239736295],[178008789,3940832005],[3871613304,3300636974],[1911672356,2429684487],[4055679954,1974461722],[3878217928,1009991796],[2533095482,310920740],[2174833823,3596041637],[1604814460,2939543881],[1452830254,4092397851],[2441027029,4169690209],[3524103304,3372213855]],Xe=[[836181454,1689436944],[2776523577,3710710688],[4049974663,3750330768],[519497435,2979405513]],Gt=[[1892447193,197291556],[3793382197,3742120663],[3838936,2994760034],[479846099,1018728609],[3476112862,182272649],[3504620154,1427438450],[2009473484,2679350403],[1738755500,1129731339]],bt=[4174784170,2938602761],Oe={p:0,P:1,n:2,N:3,b:4,B:5,r:6,R:7,q:8,Q:9,k:10,K:11},mt=[];mt[5]=1,mt[6]=0,mt[9]=3,mt[10]=2,mt[17]=5,mt[18]=4,mt[33]=7,mt[34]=6,mt[65]=9,mt[66]=8,mt[129]=11,mt[130]=10;var Bt=[2,5,10,20,40,80,160,64],g="nbrq",C=["","0000000","000000","00000","0000","000","00","0",""],Y=16;function Ee(dn){var Qt=dn.toString(16);return C[Qt.length]+Qt}function Me(dn){return Ee(dn[0])+Ee(dn[1])}function Qe(dn){return[parseInt(dn.substr(0,8),16),parseInt(dn.substr(8),16)]}function Ce(dn,Qt){var ht,Ye,cn=dn.split(" "),_n=cn[0].split("/"),fr,or,Ar,Rn,Cr,Gr,Lr,xn,hn=cn[1]==="w",jn=0,yt,mn,bn=Number(hn),w=bn?3:4;for(fr=7;fr>=0;fr-=1)for(or=0,Ar=_n[fr],Cr=Ar.length,Rn=0;Rn<Cr;Rn+=1)Gr=Ar[Rn],yt=Oe[Gr],yt>=0&&(Lr=se[64*yt+8*(7-fr)+or],ht=(ht^Lr[0])>>>0,Ye=(Ye^Lr[1])>>>0,yt===bn&&fr===w&&(jn|=1<<or)),or+=Number(Gr)||1;return cn[2]!=="-"&&(xn=cn[2],xn.indexOf("K")>-1&&(Lr=Xe[0],ht=(ht^Lr[0])>>>0,Ye=(Ye^Lr[1])>>>0),xn.indexOf("Q")>-1&&(Lr=Xe[2],ht=(ht^Lr[0])>>>0,Ye=(Ye^Lr[1])>>>0),xn.indexOf("k")>-1&&(Lr=Xe[1],ht=(ht^Lr[0])>>>0,Ye=(Ye^Lr[1])>>>0),xn.indexOf("q")>-1&&(Lr=Xe[3],ht=(ht^Lr[0])>>>0,Ye=(Ye^Lr[1])>>>0)),cn[3]&&cn[3]!=="-"&&(mn=cn[3].charCodeAt(0)-97,Bt[mn]&jn&&(Lr=Gt[mn],ht=(ht^Lr[0])>>>0,Ye=(Ye^Lr[1])>>>0)),hn&&(ht=(ht^bt[0])>>>0,Ye=(Ye^bt[1])>>>0),Qt&&Qt==="hex"?Me([ht,Ye]):[ht,Ye]}function Lt(dn,Qt){var ht=new XMLHttpRequest,Ye=dn.toLowerCase().indexOf(".json")>-1;function cn(){var _n;if(ht.status>=200&&ht.status<300||ht.status===304||ht.status===0||ht.status===1223)if(Ye)try{Qt(null,JSON.parse(ht.response))}catch(fr){Qt(fr)}else _n=new DataView(ht.response),Qt(null,_n);else Qt(new Error("Error code: "+ht.status))}ht.open("GET",dn,!0),Ye||(ht.responseType="arraybuffer"),ht.onload=cn,ht.onerror=cn,ht.send()}function Gn(dn){var Qt,ht={},Ye,cn,_n;function fr(xn,hn){var jn=Ye.getUint16(xn+8),yt=Ye.getUint16(xn+10),mn,bn,w,Te,Ae,Ne;return bn=jn>>9&7,w=jn>>6&7,Te=jn>>3&7,Ae=jn&7,Ne=jn>>12&7,w===4&&hn&&bn===Te&&hn!=="-"&&(Ae===7&&(bn===0&&hn.indexOf("K")>-1||bn===7&&hn.indexOf("k")>-1)?Ae-=1:Ae===0&&(bn===0&&hn.indexOf("Q")>-1||bn===7&&hn.indexOf("q")>-1)&&(Ae+=2)),mn=String.fromCharCode(w+97)+(bn+1)+String.fromCharCode(Ae+97)+(Te+1),Ne&&(mn+=g[Ne-1]),{move:mn,weight:yt}}function or(xn){xn.sort(function(jn,yt){return yt.weight-jn.weight})}function Ar(xn){return typeof xn=="string"&&(xn={fen:xn}),Qt(xn)}function Rn(xn){var hn,jn,yt,mn,bn,w=0;if(xn=xn||{},hn=xn.moves||Ar(xn),or(hn),yt=hn.length,yt){if(!xn.type||yt===1||xn.type==="best")return hn[0].move;if(xn.type==="random"){for(mn=Math.floor(Math.random()*hn.sum)+1,bn=0;bn<yt-1&&(w+=hn[bn].weight,!(mn<=w));bn+=1);return hn[bn].move}else return xn.type==="randomDisregardWeight"?hn[Math.floor(Math.random()*yt)].move:xn.type==="worst"?hn[yt-1].move:(jn=parseInt(xn.type)||1,jn<0&&(jn=yt+jn+1),jn<1?jn=1:jn>yt&&(jn=yt),hn[jn-1].move)}}function Cr(xn){var hn=Ye.length||Ye.byteLength||0,jn=xn.offset||0,yt,mn=xn.fen,bn=xn.chess960,w=xn.checkAll,Te,Ae=[],Ne=0,et,ot,Be;for(xn.hash?(yt=xn.hash,typeof yt=="string"&&(yt=Qe(yt))):yt=Ce(mn),!bn&&mn&&(Be=mn.split(" ")[2]),jn=0;jn<hn;jn+=Y)if(Ye.getUint32(jn)===yt[0]&&Ye.getUint32(jn+4)===yt[1])et=fr(jn,Be),Ae[Ae.length]=et,Ne+=et.weight,Te=!0;else if(Te&&!w)break;if(Ae.sum=Ne,xn.relative)for(ot=Ae.length-1;ot>=0;ot-=1)Ae[ot].relative=Math.round(Ae[ot].weight/Ne*1e4);return Ae}function Gr(xn){var hn=[],jn,yt=xn.b.length;for(jn=0;jn<yt;++jn)hn.push({move:xn.b[jn],weight:xn.w[jn]});return hn}function Lr(xn){var hn,jn,yt=0,mn,bn,w,Te=xn.fen,Ae;if(ht.useFen)mn=Te.replace(/ \d+ \d+$/,""),hn=cn[mn],hn||(bn=mn.replace(/[a-h][1-8]$/,"-"),bn!==mn&&(hn=cn[bn]));else if(xn.hash||(xn.hash=Ce(Te,"hex")),hn=cn[xn.hash],hn){if(hn[0]&&hn[0].n&&(hn=hn[0]),hn.n&&!hn.b)return[];if(hn.b)hn=Gr(hn);else if(!xn.chess960&&Te)for(Ae=Te.split(" ")[2],jn=hn.length-1;jn>=0;jn-=1)w=hn[jn].move.match(/e([18])([ah])\1/),w&&(w[2]==="h"&&(w[1]==="1"&&Ae.indexOf("K")>-1||w[1]==="8"&&Ae.indexOf("k")>-1)?hn[jn]={move:"e"+w[1]+"g"+w[1],weight:hn[jn].weight}:w[2]==="a"&&(w[1]==="1"&&Ae.indexOf("Q")>-1||w[1]==="8"&&Ae.indexOf("q")>-1)&&(hn[jn]={move:"e"+w[1]+"c"+w[1],weight:hn[jn].weight}))}if(hn)for(jn=hn.length-1;jn>=0;jn-=1)yt+=Number(hn[jn].weight);else hn=[];return hn.sum=yt,hn}if(ht={query:Ar,pick:Rn},dn.getUint32)Qt=Cr,Ye=dn,ht.buffer=Ye;else{Qt=Lr,cn=dn,ht.json=cn;for(_n in cn){ht.useFen=_n.indexOf(" ")>-1;break}}return ht}function br(dn,Qt){function ht(Ye,cn){var _n;if(cn&&(_n=Gn(cn)),Qt)return Qt(Ye,_n);if(Ye)throw Ye;return _n}Lt(dn,ht)}var _r=function(){var dn={};return function(ht,Ye){if(dn[ht]){dn[ht].book?setTimeout(function(){Ye(null,dn[ht].book)},0):dn[ht].cbs.push(Ye);return}dn[ht]={cbs:[Ye]},br(ht,function(_n,fr){var or=dn[ht].cbs;_n?delete dn[ht]:(dn[ht].book=fr,dn[ht].cbs=void 0),or.forEach(function(Ar){setTimeout(function(){Ar(_n,fr)},0)})})}}();return{hash:Ce,loadBook:_r,to64BitHex:Me,zobristPiece:se,zobristCastle:Xe,zobristEnPassant:Gt,zobristTurn:bt,zobristPieceValue:Oe,zobristPieceValueNumbers:mt}}();/*!
 * Chess.com (c) 2020
 *
 * A distant fork of chess.js - BSD (c) 2014, Jeff Hlywa (jhlywa@gmail.com)
 */var Ze=function(){var Xe={Chess:0,Chess960:1,Crazyhouse:2,"3-check":3,"King of the Hill":4,Bughouse:5,chess960:1,fischerandom:1,fischerrandom:1,fischer:1,chess9lx:1,960:1,crazyhouse:2,"three-check":3,threecheck:3,"3check":3,kingofthehill:4,koth:4,bughouse:5},Gt=["Chess","Chess960","Crazyhouse","3-check","King of the Hill","Bughouse"],bt={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Oe,mt,Bt,g,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Y=0,Ee=0,Me=0,Qe=-1,Ce=1,Lt=2,Gn=4,br=8,_r=16,dn=32,Qt=64,ht=128,Ye=3,cn=252,_n=255,fr=256,or=512,Ar=112,Rn=1,Cr=2,Gr=4,Lr=3,xn=7,hn=14,jn=21,yt=127,mn="pnbrqkPNBRQK",bn="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",w=[];w[5]=[-16,-17,-15],w[6]=[16,17,15],w[8]=[-18,-33,-31,-14,18,33,31,14],w[16]=[-17,-15,17,15],w[32]=[-16,1,16,-1],w[64]=[-17,-16,-15,1,17,16,15,-1],w[128]=[-17,-16,-15,1,17,16,15,-1];var Te={P:5,p:6,N:9,n:10,B:17,b:18,R:33,r:34,Q:65,q:66,K:129,k:130},Ae={P:4,p:4,N:8,n:8,B:16,b:16,R:32,r:32,Q:64,q:64,K:128,k:128},Ne={5:"P",6:"p",9:"N",10:"n",17:"B",18:"b",33:"R",34:"r",65:"Q",66:"q",129:"K",130:"k"},et={9:"N",10:"N",17:"B",18:"B",33:"R",34:"R",65:"Q",66:"Q",129:"K",130:"K"},ot=[80,0,0,0,0,0,0,96,0,0,0,0,0,0,80,0,0,80,0,0,0,0,0,96,0,0,0,0,0,80,0,0,0,0,80,0,0,0,0,96,0,0,0,0,80,0,0,0,0,0,0,80,0,0,0,96,0,0,0,80,0,0,0,0,0,0,0,0,80,0,0,96,0,0,80,0,0,0,0,0,0,0,0,0,0,80,8,96,8,80,0,0,0,0,0,0,0,0,0,0,0,8,212,224,212,8,0,0,0,0,0,0,96,96,96,96,96,96,224,0,224,96,96,96,96,96,96,0,0,0,0,0,0,8,212,224,212,8,0,0,0,0,0,0,0,0,0,0,0,80,8,96,8,80,0,0,0,0,0,0,0,0,0,0,80,0,0,96,0,0,80,0,0,0,0,0,0,0,0,80,0,0,0,96,0,0,0,80,0,0,0,0,0,0,80,0,0,0,0,96,0,0,0,0,80,0,0,0,0,80,0,0,0,0,0,96,0,0,0,0,0,80,0,0,80,0,0,0,0,0,0,96,0,0,0,0,0,0,80],Be=[336,80,80,0,0,0,96,352,96,0,0,0,80,80,336,0,80,336,80,80,0,0,96,352,96,0,0,80,80,336,80,0,80,80,336,80,80,0,96,352,96,0,80,80,336,80,80,0,0,80,80,336,80,80,96,352,96,80,80,336,80,80,0,0,0,0,80,80,336,88,120,360,120,88,336,80,80,0,0,0,0,0,0,80,88,476,252,508,252,476,88,80,0,0,0,0,96,96,96,96,120,252,252,252,252,252,120,96,96,96,96,0,352,352,352,352,360,508,252,0,252,508,360,352,352,352,352,0,96,96,96,96,120,252,252,252,252,252,120,96,96,96,96,0,0,0,0,80,88,476,252,508,252,476,88,80,0,0,0,0,0,0,80,80,336,88,120,360,120,88,336,80,80,0,0,0,0,80,80,336,80,80,96,352,96,80,80,336,80,80,0,0,80,80,336,80,80,0,96,352,96,0,80,80,336,80,80,0,80,336,80,80,0,0,96,352,96,0,0,80,80,336,80,0,336,80,80,0,0,0,96,352,96,0,0,0,80,80,336],ae=[336,80,80,0,0,0,96,352,96,96,0,0,80,80,336,0,80,336,80,80,0,0,96,352,96,96,0,80,80,336,80,0,80,80,336,80,80,0,96,352,96,96,80,80,336,80,80,0,0,80,80,336,80,80,96,352,96,112,80,336,80,80,0,0,0,0,80,80,336,88,120,360,120,120,336,80,80,0,0,0,0,0,0,80,88,476,252,508,252,508,88,80,0,0,0,0,96,96,96,96,120,252,252,252,252,252,252,104,96,96,96,0,352,352,352,352,360,508,252,0,252,508,488,352,352,352,352,0,96,96,96,96,120,252,252,252,252,252,252,104,96,96,96,0,0,0,0,80,88,476,252,508,252,508,88,80,0,0,0,0,0,0,80,80,336,88,120,360,120,120,336,80,80,0,0,0,0,80,80,336,80,80,96,352,96,112,80,336,80,80,0,0,80,80,336,80,80,0,96,352,96,96,80,80,336,80,80,0,80,336,80,80,0,0,96,352,96,96,0,80,80,336,80,0,336,80,80,0,0,0,96,352,96,96,0,0,80,80,336],Le=[336,80,80,0,0,96,96,352,96,0,0,0,80,80,336,0,80,336,80,80,0,96,96,352,96,0,0,80,80,336,80,0,80,80,336,80,80,96,96,352,96,0,80,80,336,80,80,0,0,80,80,336,80,112,96,352,96,80,80,336,80,80,0,0,0,0,80,80,336,120,120,360,120,88,336,80,80,0,0,0,0,0,0,80,88,508,252,508,252,476,88,80,0,0,0,0,96,96,96,104,252,252,252,252,252,252,120,96,96,96,96,0,352,352,352,352,488,508,252,0,252,508,360,352,352,352,352,0,96,96,96,104,252,252,252,252,252,252,120,96,96,96,96,0,0,0,0,80,88,508,252,508,252,476,88,80,0,0,0,0,0,0,80,80,336,120,120,360,120,88,336,80,80,0,0,0,0,80,80,336,80,112,96,352,96,80,80,336,80,80,0,0,80,80,336,80,80,96,96,352,96,0,80,80,336,80,80,0,80,336,80,80,0,96,96,352,96,0,0,80,80,336,80,0,336,80,80,0,0,96,96,352,96,0,0,0,80,80,336],Ve=[336,80,80,0,0,96,96,352,96,96,0,0,80,80,336,0,80,336,80,80,0,96,96,352,96,96,0,80,80,336,80,0,80,80,336,80,80,96,96,352,96,96,80,80,336,80,80,0,0,80,80,336,80,112,96,352,96,112,80,336,80,80,0,0,0,0,80,80,336,120,120,360,120,120,336,80,80,0,0,0,0,0,0,80,88,508,252,508,252,508,88,80,0,0,0,0,96,96,96,104,252,252,252,252,252,252,252,104,96,96,96,0,352,352,352,352,488,508,252,0,252,508,488,352,352,352,352,0,96,96,96,104,252,252,252,252,252,252,252,104,96,96,96,0,0,0,0,80,88,508,252,508,252,508,88,80,0,0,0,0,0,0,80,80,336,120,120,360,120,120,336,80,80,0,0,0,0,80,80,336,80,112,96,352,96,112,80,336,80,80,0,0,80,80,336,80,80,96,96,352,96,96,80,80,336,80,80,0,80,336,80,80,0,96,96,352,96,96,0,80,80,336,80,0,336,80,80,0,0,96,96,352,96,96,0,0,80,80,336],tt=[336,80,80,112,112,112,96,352,96,96,112,112,112,80,336,0,80,336,80,112,112,112,112,352,96,112,112,112,112,336,80,0,80,80,336,112,112,112,112,368,112,112,112,112,368,80,80,0,80,80,80,368,112,112,112,368,112,112,112,368,112,80,80,0,80,80,80,112,368,120,120,376,120,120,368,112,112,80,80,0,0,80,88,120,120,508,252,508,252,508,120,120,120,88,80,0,96,104,252,252,252,252,252,252,252,252,252,252,252,252,104,0,352,352,480,480,488,508,252,0,252,508,488,480,480,480,352,0,96,104,252,252,252,252,252,252,252,252,252,252,252,252,104,0,0,80,88,120,120,508,252,508,252,508,120,120,120,88,80,0,80,80,80,112,368,120,120,376,120,120,368,112,112,80,80,0,80,80,80,368,112,112,112,368,112,112,112,368,112,80,80,0,80,80,336,112,112,112,112,368,112,112,112,112,368,80,80,0,80,336,80,112,112,112,112,352,96,112,112,112,112,336,80,0,336,80,80,112,112,112,96,352,96,96,112,112,112,80,336],De=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,33,16,31,15,0,0,0,0,0,0,0,0,0,0,0,18,17,16,15,14,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,-14,-15,-16,-17,-18,0,0,0,0,0,0,0,0,0,0,0,-15,-31,-16,-33,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],_t=[0,5,8,11,14],fn=[31,7,7,7,63],Kn={P:0,p:0,N:5,n:5,B:8,b:8,R:11,r:11,Q:14,q:14},Vn=[Gn,br,_r,dn,Qt],Jr=["","N","B","R","Q"],D={CAPTURE:1,BIG_PAWN:2,EP_CAPTURE:4,ANY_CAPTURE:5,PROMOTION:8,KSIDE_CASTLE:16,QSIDE_CASTLE:32,KQSIDE_CASTLE:48,DROP:64,DROP_OR_PROMOTE:72},pe=[0,6,1],ne={K:119,Q:112,k:7,q:0,A:112,B:113,C:114,D:115,E:116,F:117,G:118,H:119,a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},we=["Event","Site","Date","Round","White","Black","Result"],J=["Event","Site","Date","Round","White","Black","Result","Variant","SetUp","FEN","WhiteA","WhiteB","BlackA","BlackB"];function Z(On){return On>>4}function ft(On){return On&7}function Ht(On){return String.fromCharCode(ft(On)+97)+(8-Z(On))}function gt(On){return 3-On}function ze(On,nr){On[0]=(On[0]^nr[0])>>>0,On[1]=(On[1]^nr[1])>>>0}function Bn(On,nr,$t){return nr<1?On:(nr=typeof nr=="number"?nr:80,On.replace(new RegExp("(.{1,"+nr+`})(?: |$|\r?
)`,"g"),"$1"+$t).slice(0,-$t.length))}function Qn(On){var nr,$t;return On=On.trim(),$t=On.split(" "),nr=[""," w - - 0 1"," - - 0 1"," - 0 1"," 0 1"," 1"][$t.length],nr&&On?On+=nr:$t[5]==="0"&&($t[5]=1,On=$t.join(" ")),On}function yr(On){var nr=Math.floor(On%36e3/600),$t=Math.floor(On%36e3%600)/10;return Math.floor(On/36e3)+":"+(nr<10?"0":"")+nr+":"+($t<10?"0":"")+$t}function Sr(On){var nr=On.split(":");return(nr[0]*3600+nr[1]*60+nr[2]*1)*10}function Ur(){Q.zobristCheck=[[441249556,340005552],[1040760204,311043682],[1621584863,1749286446],[1006868636,1625552915],[1953853171,24921145],[161251506,1935545265]]}function ai(On,nr){var $t=On.length,We,an=0,kn=0,Sn=nr&&(nr===Xe.Crazyhouse||nr===Xe.Bughouse),sn;for(We=0;We<$t;++We)if(sn=On[We],+sn!=+sn)if(sn==="/"){if(kn!==8&&(On=On.substr(0,We)+(8-kn)+On.substr(We),++We,++$t),kn=0,++an>7){if(!Sn&&We<$t-1||!/^[pnbrq]{0,63}$/i.test(On.substr(We+1)))return!1;break}}else if(Te[sn]){if(++kn>8)return!1}else if(sn==="~")(!Sn||!We||!/[nbrq]/i.test(On[We-1]))&&(On=On.substr(0,We)+On.substr(We+1),--We,--$t);else return!1;else kn+=sn*1,kn>8&&(On=On.substr(0,We)+(sn-(kn-8))+On.substr(We+1),kn=8);return On}function Pn(On,nr){var $t,We,an,kn=/^(?:[A-H]{1,2}[a-h]{0,2}|[A-H]{0,2}[a-h]{1,2}|KQ?k?q?|Qk?q?|kq?|q|-)$/,Sn=Xe[nr]||nr*1||Xe[String(nr).replace(/\s/g,"").toLowerCase()],sn=Sn===Xe.Crazyhouse||Sn===Xe.Bughouse,rn,An,Un,Br=0,Fn=0,Yt,Rr=!0,zn="",Jn={0:0,7:0},Jt={0:0,7:0},si={0:"k",7:"K"},jr={0:"r",7:"R"},kr,Mi,so=Sn===Xe.Chess960,Kr,da,bi,Oi,ci,wi,mi,os,xi,Di,Ki;if(!On)return 1;if(Sn===Xe.Bughouse&&(An=On.split(" | "),An.length===2))return Un=Pn(An[0],nr),Un===0&&(Un=Pn(An[1],nr)),Un;if(An=On.split(/\s+/),Sn===Xe["3-check"]&&An.length===7&&(rn=An.pop(),!/^\+[0-3]\+[0-3]$/.test(rn)||rn==="+3+3"))return 14;if(An.length!==6)return 1;if(/\D|.{7,}|^0|^$/.test(An[5]))return 2;if(/\D|.{7,}|^0.|^$/.test(An[4]))return 3;if(!/^(?:-|[abcdefgh][36])$/.test(An[3]))return 4;if(Kr=An[2],so){if(!kn.test(Kr))return 12}else if(!/^(?:KQ?k?q?|Qk?q?|kq?|q|-)$/.test(Kr)){if(typeof nr<"u"||!kn.test(Kr))return 5;so=!0}if(An[1]!=="w"&&An[1]!=="b")return 6;if(sn&&(An[0]=An[0].replace(/~(?=.*\/)/g,"")),We=An[0].split("/"),sn&&We.length===9&&(rn=We.pop(),!/^[pnbrq]{0,63}$/i.test(rn)))return 13;if(We.length!==8)return 7;if(An[3][1]==="3"&&An[1]==="w"||An[3][1]==="6"&&An[1]==="b")return 11;for(An[3]!=="-"&&(Fn=An[3][1]==="3"?4:3,Yt=Fn===4?5:2,Br=An[3].charCodeAt(0)-97,Rr=!1,zn=Fn===4?"P":"p"),$t=0;$t<We.length;++$t){for(xi=0,Di=!1,Ki=0;Ki<We[$t].length;Ki++)if(an=We[$t][Ki],+an==+an){if(Di)return 8;xi+=an*1,Di=!0}else{if(mn.indexOf(an)===-1)return 9;if(!Rr&&Fn===$t&&Br===xi&&zn===an&&(Rr=!0),Yt===$t&&Br===xi)return 11;$t%7===0&&(an===si[$t]?Jt[$t]=1<<xi:an===jr[$t]&&(Jn[$t]|=1<<xi)),++xi,Di=!1}if(xi!==8)return 10}if(!Rr)return 11;if(Kr!=="-"){if(so){for(bi={0:0,1:0,2:252,4:248,8:240,16:224,32:192,64:128,128:0},da={0:0,1:0,2:1,4:3,8:7,16:15,32:31,64:63,128:0},os={0:[0,0],7:[0,0]},$t=Kr.length-1;$t>=0;--$t)if(wi=Kr.charCodeAt($t),mi&&mi>wi&&mi-wi<8||(wi===75?(ci=7,Oi=Jn[ci]&bi[Jt[ci]]):wi===81?(ci=7,Oi=Jn[ci]&da[Jt[ci]]):wi===107?(ci=0,Oi=Jn[ci]&bi[Jt[ci]]):wi===113?(ci=0,Oi=Jn[ci]&da[Jt[ci]]):(ci=wi>=97?0:7,Oi=1<<wi-(ci?65:97),mi=wi),!Oi||(Oi&Oi-1)!==0)||Jt[ci]<2||Jt[ci]>64||(Oi&Jn[ci])!==Oi||++os[ci][(Jt[ci]<Oi)*1]>1)return 15}else if(kr=(Kr.indexOf("K")>-1?128:0)|(Kr.indexOf("Q")>-1?1:0),kr&&(Jt[7]!==16||(kr&Jn[7])!==kr)||(Mi=(Kr.indexOf("k")>-1?128:0)|(Kr.indexOf("q")>-1?1:0),Mi&&(Jt[0]!==16||(Mi&Jn[0])!==Mi)))return 15}return 0}function ts(On,nr){var $t="",We=0,an,kn,Sn=nr?6:0;if(On)for(;We<5;){for(an=On>>_t[We]&fn[We],kn=0;kn<an;++kn)$t+=mn[We+Sn];++We}return $t}function Oa(On,nr){nr[Ce]&&ze(On,Q.zobristCheck[nr[Ce]-1]),nr[Lt]&&ze(On,Q.zobristCheck[nr[Lt]+2])}function Na(On,nr){var $t,We,an,kn,Sn=0,sn,rn,An;for($t=1;$t<3;++$t){if(We=nr[$t],We)for(an=0;an<5;){for(sn=Sn+an*63,kn=We>>_t[an]&fn[an],rn=0;rn<kn;++rn)An=Q.zobristPiece[sn++],ze(On,[An[0]*31>>>0,An[1]*17>>>0]);++an}Sn=315}}function ns(On,nr,$t,We){(On[$t+1]===We||On[$t-1]===We)&&ze(nr,Q.zobristEnPassant[ft($t)])}function iu(On,nr){var $t=[],We,an;for(We=0;We<120;++We)if(We&136&&(We+=8),an=On[We],an&&(an&nr)===nr){$t.push(We);continue}return $t}function Is(On,nr,$t,We){var an;(mt===0||On[$t+8]&Cr)&&(Z($t)%7===0?(an=We|D.PROMOTION|nr<<xn|$t<<hn,C[Ee++]=an|4<<jn,C[Ee++]=an|3<<jn,C[Ee++]=an|2<<jn,C[Ee++]=an|1<<jn):C[Ee++]=We|nr<<xn|$t<<hn)}function Os(On){switch(On){case 67:case 68:case 51:case 52:return!0}return!1}function rs(On,nr,$t,We){var an=nr+($t-nr%8),kn=$t>nr%8?1:-1,Sn,sn,rn;for(rn=nr+kn;rn!==an;rn+=kn)if(On[rn])return!1;if(We===Ce?Sn=kn===1?118:114:Sn=kn===1?6:2,sn=Sn-kn,On[Sn+8]||On[Sn]&&Sn!==nr&&Sn!==an||On[sn]&&sn!==nr&&sn!==an)return!1;if(Sn!==nr){for(kn=Sn>nr?1:-1,rn=nr+kn;rn!==Sn;rn+=kn)if(rn!==an&&On[rn]||On[rn+8])return!1}return!0}var ou=function(){function On(We,an,kn,Sn,sn,rn,An){var Un=[],Br="",Fn=!0,Yt,Rr,zn,Jn,Jt,si,jr=an[kn],kr=jr.length,Mi,so,Kr="";if(jr.commands)for(Jn in jr.commands)(!rn||rn.indexOf(Jn)>-1)&&(Kr+="[%"+Jn+" "+jr.commands[Jn]+"]");for(jr.initComment&&!An&&(Kr=(Kr+" "+jr.initComment.replace(/(\"|\}|\%|\\)/g,"\\$1")).trim()),Kr&&Un.push("{"+Kr+"}"),Rr=0;Rr<kr;++Rr){if(Yt=jr[Rr],si=Yt.color===Ce,Br="",Kr="",Sn!==Xe.Bughouse?(Fn&&!si?Br=We+"...":si&&(Br=We+"."),sn&&(si||Fn)&&(Br+=" ")):(Un.bughouseOrder||(Un.bughouseOrder=[]),Un.bughouseOrder.push(Yt.bughouseOrder),Rr||(Un.blackCountOffset=jr[0].color===Lt?1:0)),Br+=Yt.san,Yt.annotation&&(Br+=Yt.annotation),Yt.additionalAnnotation&&(Br+=" "+Yt.additionalAnnotation.join(" ")),Fn=!1,typeof Yt.time<"u"&&!Yt.commands&&(Yt.commands={clk:yr(Yt.time)}),Yt.commands)for(Jn in Yt.commands)(!rn||rn.indexOf(Jn)>-1)&&(Kr+="[%"+Jn+" "+Yt.commands[Jn]+"]");if(Yt.comment&&!An&&(Kr=(Kr+" "+Yt.comment.replace(/(\"|\}|\%|\\)/g,"\\$1")).trim()),Kr&&(Br+=" {"+Kr+"}",Fn=!0),Un.push(Br),Yt.lines)for(Mi=Yt.lines.length,zn=0;zn<Mi;++zn)so=Yt.lines[zn],an[so].length&&(Jt=On(We,an,so,Sn,sn,rn,An),Jt[0]="("+Jt[0],Jt[Jt.length-1]+=")",Un=Un.concat(Jt),Fn=!0);si||We++}return Un}function nr(We,an,kn){var Sn=an,sn=We.siblingGame.pgn(),rn=0,An=0,Un=[];for(an.bughouseOrder=an.bughouseOrder||[],sn.bughouseOrder=sn.bughouseOrder||[];an.bughouseOrder.length||sn.bughouseOrder.length;)!an.bughouseOrder.length||sn.bughouseOrder.length&&an.bughouseOrder[0]>sn.bughouseOrder[0]?(sn.bughouseOrder.shift(),Un.push("B")):(an.bughouseOrder.shift(),Un.push("A"));return an=[],Un.forEach(function(Br){var Fn,Yt,Rr="",zn;Br==="A"?(Fn=Sn,++rn,Yt=rn,zn=We.startingMoveNumber()):(Fn=sn,++An,Yt=An,zn=We.siblingGame.startingMoveNumber()),Rr=String(Math.floor((Yt+1)/2)+zn-1),(Fn.blackCountOffset+Yt)%2?Rr+=Br:Rr+=Br.toLowerCase(),Rr+="."+(kn?" ":"")+Fn.shift(),an.push(Rr)}),an}function $t(We,an){return"["+We+' "'+String(an).replace(/(\"|\\)/g,"\\$1")+'"]'}return function(an,kn,Sn,sn,rn,An){var Un=typeof an.newline=="string"?an.newline:`
`,Br=typeof an.spaceAfterPeriods>"u"?!0:an.spaceAfterPeriods,Fn="",Yt,Rr;Fn+=$t("Event",kn.Event)+Un,Fn+=$t("Site",kn.Site)+Un,Fn+=$t("Date",kn.Date)+Un,Fn+=$t("Round",kn.Round)+Un,rn===Xe.Bughouse?(Fn+=$t("WhiteA",kn.WhiteA||"?")+Un,Fn+=$t("BlackA",kn.BlackA||"?")+Un,Fn+=$t("WhiteB",kn.WhiteB||"?")+Un,Fn+=$t("BlackB",kn.BlackB||"?")+Un):(Fn+=$t("White",kn.White)+Un,Fn+=$t("Black",kn.Black)+Un),Fn+=$t("Result",kn.Result)+Un,rn&&(Fn+=$t("Variant",kn.Variant)+Un),kn.FEN&&kn.FEN!==bn&&(Fn+=$t("SetUp","1")+Un,Fn+=$t("FEN",kn.FEN)+Un);for(Yt in kn)J.indexOf(Yt)===-1&&(Fn+=$t(Yt,kn[Yt])+Un);if(Fn+=Un,Rr=On(sn,Sn,0,rn,Br,an.hideCommands?[]:an.restrictCommands,an.hideComments),rn===Xe.Bughouse){if(An.isDependent)return Rr;Rr=nr(An,Rr,Br)}return Rr.push(kn.Result),Fn+Bn(Rr.join(" "),an.maxWidth,Un)}}(),au=function(){var On="!?\u203C\u2047\u2049\u2048\u25A1\u2207\u0394\u221E\u2A72\u2A71\xB1\u2213\u2A00\u27F3\u2192\u2191\u21C6\u2206\u2313\u21D4\u21D7\u27EB\u27EA\u2715\u22A5\u2295\u25CB\u21C4\u21BB\u2299\u2612~",nr=/\[%(\S+)\s([^\]]+)\]/,$t=/^(?:[+=~\/\-\u2212]+|T?N|RR|D)$/;function We(kn){for(var Sn,sn=kn.commands||{};Sn=nr.exec(kn.value);)kn.value=kn.value.replace(Sn[0],"").trim(),sn[Sn[1]]=Sn[2],kn.commands=sn}function an(kn,Sn,sn,rn){for(var An;++Sn<sn;)if((An=kn[Sn].trim())&&An[0]!=="%")return An[0]==="["&&(!rn||/^\[\S+\s+".*"\]$/.test(An))}return function(Sn,sn){var rn,An,Un,Br,Fn="tags",Yt,Rr,zn,Jn=[],Jt={type:Fn,value:""},si=0,jr=[],kr=!0;sn=sn||{},rn=Sn.split(/\r?\n/),Br=rn.length;e:for(An=0;An<Br;++An)if(Un=rn[An].trim(),Un[0]!=="%")if(!Un)Jn.length&&(Fn==="tags"?(Fn="san",kr=!1):Fn!=="tagValueStart"&&an(rn,An,Br,si||Fn==="comment")&&(Fn==="comment"&&Jn.push(Jt),Jn[Jn.length-1].type!=="tagValue"&&(jr.push(Jn),Jn=[]),Fn="tags",kr=!0,si=0));else{if(Un=" "+Un+" ",Rr=Un.length,Yt=0,kr)for(;Yt<Rr;++Yt)if(zn=Un[Yt],Fn==="tags"){if(zn==="[")Fn="tagName",Jt={type:Fn,value:""};else if(zn.trim()){Fn="san",Jt={type:Fn,value:""},kr=!1;break}}else if(Fn==="tagName")Jt.value&&zn.trim()===""?(Jn.push(Jt),Fn="tagValueStart"):zn!==" "&&(Jt.value+=zn);else if(Fn==="tagValueStart"){if(zn==='"'||zn==="\u201C")Fn="tagValue",Jt={type:Fn,value:""};else if(zn.trim()){Jn.push({type:"tagValue",value:Un.slice(Yt,-1).match(/(.*?)"?\]?$/)[1]}),Fn="tags",Jt={type:Fn,value:""};continue e}}else if(Fn==="tagValue")if(zn==='"'||zn==="\u201D")if(Jn.push(Jt),Un[Yt+1]==="]")Fn="tags",Jt={type:Fn,value:""},++Yt;else if(Un.slice(-2,-1)==="]"){Jt.value+=Un.substr(Yt).match(/(.*?)"?\s*\] $/)[1],Fn="tags",Jt={type:Fn,value:""};continue e}else Fn="tagEnd";else zn==="\\"&&Yt+2<Rr&&(++Yt,zn=Un[Yt]),Yt>0&&(Jt.value+=zn);else{if(zn!=="]"){if(!zn.trim())continue;--Yt}Fn="tags",Jt={type:Fn,value:""}}for(;Yt<Rr;++Yt)if(zn=Un[Yt],Fn==="san"){if(On.indexOf(zn)>-1)zn==="!"||zn==="?"||On.indexOf(zn)<6&&(zn=["!!","??","!?","?!"][On.indexOf(zn)-2])?(Jt.value&&Jn.push(Jt),Jt={type:"a",value:zn},(Un[Yt+1]==="!"||Un[Yt+1]==="?")&&(Jt.value+=Un[++Yt]),Jn.push(Jt),Jt={type:"san",value:""}):(zn==="\u221E"&&Jt.value==="=/"?(Jt.type="aa",Jt.value+=zn):(Jt.value&&($t.test(Jt.value)&&(Jt.value!=="--"||sn.rejectNullMoves)&&(Jt.type="aa"),Jn.push(Jt)),Jt={type:"aa",value:zn},zn==="\u2191"&&Un[Yt+1]==="\u2191"&&(Jt.value="\u21BB",++Yt)),Jn.push(Jt),Jt={type:"san",value:""});else if(zn===" "||zn==="	"||zn==="\r"||zn==="{"||zn==="("||zn===")"){if(Jt.value){if(Jt.value[0]==="$")Jt.type="nag";else if(Jt.value==="*"||Jt.value==="1-0"||Jt.value==="0-1"||Jt.value==="1/2-1/2"||Jt.value==="\xBD-\xBD")if(si||Yt+1<Rr)Jt.type=Jt.value==="*"?"cont":"comment";else{if(Jt.type="result",Jt.value==="\xBD-\xBD"&&(Jt.value="1/2-1/2"),Jn.push(Jt),jr.push(Jn),An+1===Br||An+2===Br&&!rn[An+1])return jr;Fn="tags",kr=!0,Jt={type:Fn,value:""},Jn=[];break}$t.test(Jt.value)&&(Jt.value!=="--"||sn.rejectNullMoves)&&(Jt.type="aa"),Jn.push(Jt),Jt={type:Fn,value:""}}if(zn===" "||zn==="	"||zn==="\r")Fn="san";else if(zn==="{")Fn="comment",Jn.length&&Jn[Jn.length-1].type==="comment"&&(Jt=Jn.pop(),Jt.value+=" ");else if(zn==="(")Fn="san",Jn.push({type:"variationStart",value:++si});else{if(si<1){if(!sn.commentErrors)return!1}else Jn.push({type:"variationEnd",value:si--});Fn="san"}Jt.type=Fn}else if(zn!=="."&&(Jt.value||+zn!=+zn||Un[Yt+1]==="-"||Un[Yt+1]==="/"))Jt.value+=zn;else if(+zn==+zn)switch(Jt.number||(Jt.number=""),Jt.number+=zn,Un[Yt+1]){case"A":case"a":case"B":case"b":Jt.number+=Un[++Yt],Jn.push({type:"number",value:Jt.number}),delete Jt.number}}else Yt===0&&(Jt.value=Jt.value.trim()),zn!=="}"?(zn==="\\"&&Yt+2<Rr&&(zn=Un[++Yt]),Jt.value+=zn):(Jt.value=Jt.value.trim(),Jt.value.indexOf("[")>-1&&We(Jt),Jn.push(Jt),Fn="san",Jt={type:Fn,value:""})}return Jt.value&&Jn.push(Jt),(Jn.length||!jr.length)&&jr.push(Jn),jr}}();function fa(On,nr){var $t,We,an=0,kn=!0,Sn=[],sn=Ce,rn=[],An=Qe,Un=0,Br=1,Fn=1,Yt=[],Rr=[Yt],zn=0;Yt.id=zn;var Jn={},Jt=[],si=!1,jr=!1,kr=Ls,Mi=function(U,be){var oe="",ke,ye,Pe,xt,ln,Ut;return U&D.KQSIDE_CASTLE?U&D.KSIDE_CASTLE?oe="O-O":oe="O-O-O":U&D.DROP?(Pe=U>>hn&yt,ke=U>>jn,ke&&(oe+=Jr[ke]),oe+="@"+Ht(Pe)):(Pe=U>>hn&yt,ye=U>>xn&yt,xt=We[ye],xt&Gn?(U&D.ANY_CAPTURE&&(oe+=String.fromCharCode(ft(ye)+97)+"x"),oe+=Ht(Pe),U&D.PROMOTION&&(ke=U>>jn,oe+="="+Jr[ke])):(oe+=et[xt&_n],Me>1&&(oe+=uu(xt,ye,Pe)),U&D.ANY_CAPTURE&&(oe+="x"),oe+=Ht(Pe))),be||(U&D.KQSIDE_CASTLE?(ye=U>>xn&yt,Pe=U>>hn&yt):U&D.DROP_OR_PROMOTE&&(xt=Vn[ke]+sn),ls(xt,ye,Pe,U)&&(kr(U,ye,Pe,ke),ln=Y,Y=Ee,Ut=Me,an&&gi()||Zi()===Y?oe+="#":oe+="+",Ee=Y,Y=ln,Me=Ut,Ra(Yt.pop()))),oe};function so(){var U=sn===Ce?[4174784170,2938602761]:[0,0],be,oe,ke;for(ke=0;ke<120;++ke)ke&136&&(ke+=8),be=We[ke],be&&ze(U,Q.zobristPiece[64*Q.zobristPieceValueNumbers[be&_n]+8*(7-Z(ke))+ft(ke)]);if(jr)for(oe=1;oe<3;++oe)rn[oe]&&((rn[oe]&rn[oe]-1)!==0?(ze(U,Q.zobristCastle[oe-1]),ze(U,Q.zobristCastle[oe+1])):rn[oe]>1<<ft(Sn[oe])?ze(U,Q.zobristCastle[oe-1]):ze(U,Q.zobristCastle[oe+1]));else{for(oe=1;oe<3;++oe)rn[oe]&&(rn[oe]&D.KSIDE_CASTLE&&ze(U,Q.zobristCastle[oe-1]),rn[oe]&D.QSIDE_CASTLE&&ze(U,Q.zobristCastle[oe+1]));si?Na(U,$t._hand):an===Xe["3-check"]&&Oa(U,Jt)}return An!==Qe&&ns(We,U,An+(sn===Ce?16:-16),Gn|sn),U}function Kr(){var U;return Yt.length?U=Yt[Yt.length-1].hash:(Yt.hash||(Yt.hash=so()),U=Yt.hash),[U[0],U[1]]}function da(U){function be(ke){return/#/.test(ke)&&il()&&(ke=ke.replace("#","+")),ke}function oe(ke,ye){var Pe=U(ke,ye);return Pe&&(typeof Pe=="string"?Pe=be(Pe):(Pe.san=be(Pe.san),Yt[Yt.length-1].san=Pe.san)),Pe}return oe._isBughouseified=!0,oe._orig=U,oe}function bi(U,be){var oe=an;U?an=Xe[U]||U*1||Xe[String(U).replace(/\s/g,"").toLowerCase()]||Xe.Chess:an=0,oe!==an&&(an===Xe.Bughouse?(si=!0,$t.isDependent||($t.siblingGame=fa(),$t.siblingGame.hashing(kn),$t.siblingGame.isDependent=!0,$t.siblingGame.siblingGame=$t,$t.siblingGame.header({Variant:"Bughouse"})),Ur(),kr=lu,Mi=da(Mi),$t.move=da($t.move)):(delete $t.siblingGame,si=an===Xe.Crazyhouse,jr=an===Xe.Chess960,an?(Ur(),kr=lu):kr=Ls,Mi._isBughouseified&&(Mi=Mi._orig,$t.move=$t.move._orig)),be||nl(Di()))}function Oi(U,be){for(var oe=U>7?Ce:Lt,ke,ye;!(U&136);){if(ke=We[U],ke&oe){if(ke&dn){if(ye)return;ye=U%8+(oe===Ce?65:97)}else if(ke&ht)return ye}U+=be}}function ci(U,be,oe){We=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],sn=Ce,Sn[Ce]=Qe,Sn[Lt]=Qe,rn[Ce]=0,rn[Lt]=0,$t._hand[Ce]=0,$t._hand[Lt]=0,Jt[Ce]=0,Jt[Lt]=0,An=Qe,Un=0,Br=1,be||(Yt=[],Rr=[Yt],zn=0,Yt.id=zn,Jn={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},U?Ki(["Variant",U]):bi(!1,oe),oe||nl(Di()))}function wi(){ci(0,!1,!0),Yt.hash=[1178310168,378666140],We=[34,10,18,66,130,18,10,34,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,5,5,5,5,5,0,0,0,0,0,0,0,0,33,9,17,65,129,17,9,33,0,0,0,0,0,0,0,0],Fn=1,Sn[Ce]=116,Sn[Lt]=4,rn[Ce]=48,rn[Lt]=48}function mi(U,be,oe,ke){var ye=0,Pe,xt,ln,Ut,pt,$n,er,gr,Er,zr,ni,Ln;if(ke?(Pe=U.split(" "),Ln=Pe[3],ni=Pe[2]):(Pe=U.trim().split(/\s+/),Ln=Pe[3]||"-",ni=Pe[2]||"-"),typeof be>"u"?(ni.charCodeAt(0)&31)<9&&bi(Xe.Chess960,!0):bi(be,!0),xt=Pe[0],!ke&&!(xt=ai(xt,an)))return!1;if(Ut=xt.length,ci(Gt[an],oe,!0),si){if(an===Xe.Bughouse&&!$t.isDependent&&($n=U.split(" | "),!$t.siblingGame.load($n.length===1?U:$n[1],be,oe,ke)))return wi(),!1;for(pt=0;pt<Ut;++pt)if(er=xt[pt],+er!=+er)if(er==="/")if(ye>111){for(++pt;pt<Ut;++pt)er=xt[pt],$t._hand[er<"a"?Ce:Lt]+=1<<Kn[er]>>>0;break}else ye+=8;else We[ye]=Te[er],xt[pt+1]==="~"&&(++pt,We[ye]|=or),We[ye]&ht&&(Sn[We[ye]&Ye]=ye),++ye;else ye+=er*1}else for(pt=0;pt<Ut;++pt)er=xt[pt],+er!=+er?er==="/"?ye+=8:(We[ye]=Te[er],We[ye]&ht&&(Sn[We[ye]&Ye]=ye),++ye):ye+=er*1;if(sn=Pe[1]==="b"?Lt:Ce,ni!=="-")if(jr){for(Er={1:[0,0],2:[0,0]},pt=ni.length-1;pt>=0;--pt)ln=ni.charCodeAt(pt),ln===75?ln=Oi(119,-1):ln===81?ln=Oi(112,1):ln===107?ln=Oi(7,-1):ln===113&&(ln=Oi(0,1)),gr=ln<97?Ce:Lt,zr=ne[String.fromCharCode(ln)],(ke||We[zr]===(dn|gr))&&(ln>=97?Sn[gr]>=1&&Sn[gr]<=6&&(rn[gr]|=1<<zr):Sn[gr]>=113&&Sn[gr]<=118&&(rn[gr]|=1<<zr-112),++Er[gr][(Sn[gr]<zr)*1]);(Er[Ce][0]>1||Er[Ce][1]>1)&&(rn[Ce]=0),(Er[Lt][0]>1||Er[Lt][1]>1)&&(rn[Lt]=0)}else{if(!ke)for(pt=ni.length-1;pt>=0;--pt)gr=ni.charCodeAt(pt)<97?Ce:Lt,(We[ne[ni[pt]]]!==(dn|gr)||Sn[gr]!==(gr===Ce?116:4))&&(ni=ni.substr(0,pt)+ni.substr(pt+1));for(pt=ni.length-1;pt>=0;--pt)switch(ni[pt]){case"K":rn[Ce]|=D.KSIDE_CASTLE;break;case"Q":rn[Ce]|=D.QSIDE_CASTLE;break;case"k":rn[Lt]|=D.KSIDE_CASTLE;break;case"q":rn[Lt]|=D.QSIDE_CASTLE;break}}return!ke&&(Ln.length!==2||sn===Ce&&Ln[1]!=="6"||sn===Lt&&Ln[1]!=="3"||We[Ln.charCodeAt(0)-97+(8-(Ln[1]==="3"?4:5))*16]!==(Gn|gt(sn))||We[bt[Ln]])&&(Ln="-"),An=Ln==="-"?Qe:bt[Ln],Un=Pe[4]*1||0,Br=Pe[5]*1||1,an===Xe["3-check"]&&(Pe[6]&&Pe[6]!=="+3+3"&&($n=Pe[6].match(/^\+([0-3])\+([0-3])$/)),$n=$n||[0,0,0],Jt[Ce]=$n[1]*1,Jt[Lt]=$n[2]*1),oe||(Fn=Br,nl(Di())),!0}function os(){var U=0,be="",oe,ke="",ye;for(oe=0;oe<120;++oe)oe&136&&(U&&(be+=U),be+="/",U=0,oe+=8),ye=We[oe],ye?(U&&(be+=U,U=0),be+=Ne[ye&_n]):++U;return U&&(be+=U),rn[Ce]&D.KSIDE_CASTLE&&(ke+="K"),rn[Ce]&D.QSIDE_CASTLE&&(ke+="Q"),rn[Lt]&D.KSIDE_CASTLE&&(ke+="k"),rn[Lt]&D.QSIDE_CASTLE&&(ke+="q"),be+=" "+(sn===Ce?"w":"b")+" "+(ke||"-")+" "+(An===Qe?"-":Ht(An))+" "+Un+" "+Br,be}function xi(){var U=0,be="",oe,ke,ye="",Pe;for(oe=0;oe<120;++oe)oe&136&&(U&&(be+=U),be+="/",U=0,oe+=8),Pe=We[oe],Pe?(U&&(be+=U,U=0),be+=Ne[Pe&_n],si&&Pe&or&&(be+="~")):++U;if(U&&(be+=U),si&&(be+="/"+ts($t._hand[Ce],!0)+ts($t._hand[Lt])),jr){for(ke=rn[Lt],oe=0;ke;)ke&1&&(ye=String.fromCharCode(oe+97)+ye),ke>>=1,++oe;for(ke=rn[Ce],oe=0;ke;)ke&1&&(ye=String.fromCharCode(oe+65)+ye),ke>>=1,++oe}else rn[Ce]&D.KSIDE_CASTLE&&(ye+="K"),rn[Ce]&D.QSIDE_CASTLE&&(ye+="Q"),rn[Lt]&D.KSIDE_CASTLE&&(ye+="k"),rn[Lt]&D.QSIDE_CASTLE&&(ye+="q");return be+=" "+(sn===Ce?"w":"b")+" "+(ye||"-")+" "+(An===Qe?"-":Ht(An))+" "+Un+" "+Br,an===Xe["3-check"]?be+=" +"+Jt[Ce]+"+"+Jt[Lt]:an===Xe.Bughouse&&!$t.isDependent&&(be+=" | "+$t.siblingGame.fen()),be}function Di(){return an?xi():os()}function Ki(U){var be,oe,ke;for(be=0;be<U.length;be+=2)oe=U[be],ke=U[be+1],oe&&(oe==="Variant"&&(bi(ke),an?ke=Gt[an]:ke=void 0),oe==="Result"&&ke!=="*"&&ke!=="1-0"&&ke!=="0-1"&&ke!=="1/2-1/2"&&(ke="*"),ke!==void 0?Jn[oe]=String(ke):we.indexOf(oe)>-1?oe==="Date"?Jn[oe]="????.??.??":Jn[oe]="?":delete Jn[oe]);return Jn}function nl(U){Yt.length>0||zn||(U!==bn?(Jn.SetUp="1",Jn.FEN=U,Yt.hash=null):(delete Jn.SetUp,delete Jn.FEN,Yt.hash=[1178310168,378666140]))}function as(U){var be=We[bt[U]];return be?{type:Ne[be&cn|Lt],color:be&Ye,promoted:(be&or)!==0}:null}function ei(U,be){return jr&&rn[U]?tt:rn[U]&D.KSIDE_CASTLE&&!We[be+1]&&!We[be+2]?rn[U]&D.QSIDE_CASTLE&&!We[be-1]&&!We[be-2]&&!We[be-3]?(g=D.KQSIDE_CASTLE,Ve):(g=D.KSIDE_CASTLE,ae):rn[U]&D.QSIDE_CASTLE&&!We[be-1]&&!We[be-2]&&!We[be-3]?(g=D.QSIDE_CASTLE,Le):Be}function ta(U,be){var oe,ke,ye,Pe=sn,xt,ln,Ut,pt,$n,er,gr,Er,zr,ni,Ln=We;if(Oe=[],mt=0,Bt=0,g=0,Ln[8]=Ln[9]=Ln[10]=Ln[11]=Ln[12]=Ln[13]=Ln[14]=Ln[15]=Ln[24]=Ln[25]=Ln[26]=Ln[27]=Ln[28]=Ln[29]=Ln[30]=Ln[31]=Ln[40]=Ln[41]=Ln[42]=Ln[43]=Ln[44]=Ln[45]=Ln[46]=Ln[47]=Ln[56]=Ln[57]=Ln[58]=Ln[59]=Ln[60]=Ln[61]=Ln[62]=Ln[63]=Ln[72]=Ln[73]=Ln[74]=Ln[75]=Ln[76]=Ln[77]=Ln[78]=Ln[79]=Ln[88]=Ln[89]=Ln[90]=Ln[91]=Ln[92]=Ln[93]=Ln[94]=Ln[95]=Ln[104]=Ln[105]=Ln[106]=Ln[107]=Ln[108]=Ln[109]=Ln[110]=Ln[111]=Ln[120]=Ln[121]=Ln[122]=Ln[123]=Ln[124]=Ln[125]=Ln[126]=Ln[127]=0,be===Qe){Oe=iu(We,Pe|U);return}for(zr=ei(Pe,be),oe=0;oe<120;++oe)if(oe&136&&(oe+=8),xt=We[oe],!!xt){if(xt&Pe){(!U||(xt|0)&U)&&Oe.push(oe);continue}if(ni=zr[oe-be+119],(ni&xt)!==0)if(xt&Gn)for(er=w[xt],ke=1;ke<3;++ke)pt=oe+er[ke],!(pt&136)&&(Ln[pt+8]|=Rn,pt===be&&(++mt,Ln[oe+8]|=Cr));else{er=w[xt&cn],$n=er.length,Er=xt&Ar;e:for(ke=0;ke<$n;++ke)if(gr=er[ke],pt=oe,!(be>pt&&gr<0&&be-pt>16||be<pt&&gr>0&&pt-be>16))for(;((pt+=gr)&136)===0;){if(Ln[pt+8]|=Rn,ln=We[pt],ln){if(ln&Pe){if(pt===be){for(ye=pt-gr;ye!==oe;ye-=gr)Ln[ye+8]|=Cr;Ln[oe+8]|=Cr,++mt,Er&&(pt+=gr,(pt&136)===0&&(Ln[pt+8]|=Rn))}else if(Er&&ni&fr){for(Ut=pt;(Ut+=gr)!==be;)if(Ut&136||We[Ut])continue e;Ln[pt+8]|=Gr+(Math.abs(gr)<<Lr),++Bt}}break}if(!Er)break}}}mt>1&&(Oe=[be])}function su(U,be){var oe,ke,ye=be+16*(sn===Ce?1:-1),Pe;return mt===1&&(We[be+8]&Cr)===0&&(We[ye+8]&Cr)===0?!1:(oe=We[U],We[be]=oe,We[U]=0,ke=We[ye],We[ye]=0,Pe=us(),We[U]=oe,We[be]=0,We[ye]=ke,!Pe)}function _o(U){var be,oe,ke;if(jr){if(rn[U])for(be=Sn[U],oe=be%8,ke=0;ke<8;++ke)rn[U]&1<<ke&&rs(We,be,ke,U)&&(C[Ee++]=(ke>oe?D.KSIDE_CASTLE:D.QSIDE_CASTLE)+(be<<xn)+(be+(ke-oe)<<hn),++ke)}else g&D.KSIDE_CASTLE&&(be=Sn[U],oe=be+2,We[be+9]===0&&We[be+10]===0&&(C[Ee++]=D.KSIDE_CASTLE+(be<<xn)+(oe<<hn))),g&D.QSIDE_CASTLE&&(be=Sn[U],oe=be-2,We[be+7]===0&&We[be+6]===0&&(C[Ee++]=D.QSIDE_CASTLE+(be<<xn)+(oe<<hn)))}function ss(U,be,oe){var ke,ye,Pe,xt,ln;if(!U){for(be&&(be>>=26),xt=0;xt<5;++xt)if((!be||(be|0)===1<<xt)&&$t._hand[oe]&fn[xt]<<_t[xt]){for(xt===0?(ke=16,ye=103,Pe=D.DROP):(ke=0,ye=119,Pe=D.DROP|xt<<jn),ln=ke;ln<=ye;++ln)ln&136&&(ln+=8),We[ln]||(mt===0||mt===1&&We[ln+8]&Cr)&&(C[Ee++]=Pe|ln<<hn);if(be)return}}}function Zi(U,be){var oe,ke,ye,Pe=sn,xt=gt(Pe),ln,Ut,pt,$n,er,gr=Sn[Pe],Er,zr;for(ta(U,gr),Me=Oe.length,Ee=Y,Er=0;Er<Me;++Er)if(oe=Oe[Er],ln=We[oe],!(mt&&Bt&&We[oe+8]&Gr))if(ln&Gn)for(pt=w[ln],(Bt===0||(We[oe+8]&Gr)===0||We[oe+8]>>Lr===16)&&(Ut=oe+pt[0],We[Ut]===0&&(Is(We,oe,Ut,0),pe[Pe]===Z(oe)&&(Ut+=pt[0],We[Ut]||Is(We,oe,Ut,D.BIG_PAWN)))),ke=1;ke<3;++ke)$n=pt[ke],Ut=oe+$n,!(Ut&136||Bt&&We[oe+8]&Gr&&We[oe+8]>>Lr!==Math.abs($n))&&(We[Ut]&xt?Is(We,oe,Ut,D.CAPTURE):Ut===An&&su(oe,Ut)&&(C[Ee++]=D.EP_CAPTURE|oe<<xn|Ut<<hn));else{if(Bt&&We[oe+8]&Gr){if(ln&br)continue;if(ot[oe-Sn[Pe]+119]&ln)$n=We[oe+8]>>Lr,pt=[$n,-$n];else continue}else pt=w[ln&cn];if(zr=oe<<xn,oe===gr){for(ke=0;ke<8;++ke)$n=pt[ke],Ut=oe+$n,(Ut&136)===0&&(We[Ut]?We[Ut]&xt&&(We[Ut+8]&Rn)===0&&(C[Ee++]=D.CAPTURE|zr|Ut<<hn):(We[Ut+8]&Rn)===0&&(C[Ee++]=zr|Ut<<hn));mt===0&&_o(Pe)}else for(ye=pt.length,er=ln&Ar,ke=0;ke<ye;++ke)for($n=pt[ke],Ut=oe;Ut+=$n,!(Ut&136);){if(We[Ut]){We[Ut]&xt&&(mt===0||We[Ut+8]&Cr)&&(C[Ee++]=D.CAPTURE|zr|Ut<<hn);break}else(mt===0||We[Ut+8]&Cr)&&(C[Ee++]=zr|Ut<<hn);if(!er)break}}return an&&(si?ss(be,U,Pe):!jr&&gi()&&(Ee=Y)),Ee}function ls(U,be,oe,ke){var ye,Pe,xt,ln,Ut,pt,$n,er,gr;if(an===Xe["King of the Hill"]&&U&ht&&Os(oe))return!0;if(ke&D.KQSIDE_CASTLE&&(sn===Ce?oe=ke&D.KSIDE_CASTLE?117:115:oe=ke&D.KSIDE_CASTLE?5:3,U=dn,gr=!0),ye=Sn[gt(sn)],ye===Qe)return!1;if((U&ht)===0&&(Pe=ot[oe-ye+119],Pe&U))for(ln=De[oe-ye+119],pt=U&Ar,Ut=oe+ln;(Ut&136)===0;){if(Ut===ye){if(U&Gn){if((U&Ye)===Ce?ye-oe<0:ye-oe>0)return!0;break}return!0}if(Ut!==be&&We[Ut]||!pt)break;Ut+=ln}if(!gr){if(xt=ot[be-ye+119],xt&Ar&&(ln=De[be-ye+119],ln!==De[oe-ye+119]))for(Ut=ye-ln;(Ut&136)===0;){if(Ut!==be&&($n=We[Ut],$n)){if($n&sn&&xt&$n&&$n&Ar)return!0;break}Ut-=ln}if(ke&D.EP_CAPTURE&&(er=oe+16*(sn===Ce?1:-1),xt=ot[er-ye+119],xt&Ar))for(ln=De[er-ye+119],Ut=ye-ln;(Ut&136)===0;){if(Ut!==be&&Ut!==er){if(Ut===oe)break;if($n=We[Ut],$n){if($n&sn&&xt&$n&&$n&Ar)return!0;break}}Ut-=ln}}return!1}function rl(U,be){var oe,ke,ye,Pe=w[br],xt,ln=br|U;for(oe=0;oe<8;++oe)if(ye=be+Pe[oe],(ye&136)===0&&(ke=We[ye],(ke&ln)===ln))return!0;for(Pe=w[ht],oe=0;oe<8;++oe)for(xt=Pe[oe],ye=be+xt;(ye&136)===0;){if(ke=We[ye],ke){if(ke&U&&ot[be-ye+119]&ke)if(ke&Gn){if(U===Ce?be-ye<0:be-ye>0)return!0}else return!0;break}ye+=xt}return!1}function Ns(U){return Sn[U]!==Qe&&rl(gt(U),Sn[U])}function us(){return Ns(sn)}function il(){var U,be,oe,ke=1<<_t[4];return $t._hand[sn]+=ke,U=Y,Y=Ee,be=Me,oe=Zi()!==Y,Ee=Y,Y=U,Me=be,$t._hand[sn]-=ke,oe}function La(){return us()&&(C[0]=0)===Zi()&&!C[0]&&(an!==Xe.Bughouse||!il())}function na(){var U=!us()&&(C[0]=0)===Zi()&&!C[0];return U&&an===Xe.Bughouse&&!$t.isDependent&&(U=$t.siblingGame.inStalemate()),U&&Sn[sn]!==Qe}function cs(U){var be,oe,ke=100,ye=0,Pe=0,xt=0;for(oe=0;oe<120;++oe)if(oe&136&&(oe+=8),be=We[oe],be){if(U&&(be&U)===0)continue;if(ke&be)return!1;if(be&br){if(Pe||ye++)return!1}else if(be&_r&&(ye||(++Pe,(Z(oe)+oe)%2&&++xt,xt&&Pe!==xt)))return!1}return Sn[Ce]!==Qe&&Sn[Lt]!==Qe}function pa(){if(Un<8)return!1;for(var U=Kr(),be=!1,oe,ke=Un,ye=!1,Pe=Yt,xt=Pe.length-1;;){if(xt-=2,xt<0){if(Pe.id){xt=Pe.atMoveNode+xt+2,Pe=Rr[Pe.parentId];continue}if(xt===-2)return!1;oe=Pe.hash,ye=!0}else oe=Pe[xt].hash,Pe[xt].halfMoves>ke||ke<2?ye=!0:ke=Pe[xt].halfMoves;if(oe[0]===U[0]&&oe[1]===U[1]){if(be)return!0;be=!0}if(ye)return!1}}function ol(U){var be=U.move,oe,ke,ye,Pe,xt,ln,Ut,pt,$n,er;if(an===Xe.Crazyhouse||be&D.DROP?(ke=$t._hand,ln=U.hash,er=U.color):(ke=$t.siblingGame._hand,U.handSibling=!0,kn&&(Ut=$t.siblingGame._history(),Ut.length?ln=Ut[Ut.length-1].hash:(Ut.hash||(Ut.hash=$t.siblingGame._hashPosition()),ln=Ut.hash)),er=gt(U.color)),U.captured){switch(U.captured&or?ye=Gn:ye=U.captured&cn,ye&cn){case Gn:pt=0;break;case br:pt=1;break;case _r:pt=2;break;case dn:pt=3;break;default:pt=4}oe=1<<_t[pt],kn&&(xt=ke[er]>>_t[pt]&fn[pt],$n=Q.zobristPiece[xt+63*pt+(er===Ce?0:315)])}else Pe=be>>jn,oe=-1<<_t[Pe],kn&&(xt=ke[er]>>_t[Pe]&fn[Pe],$n=Q.zobristPiece[xt-1+63*Pe+(er===Ce?0:315)]);ke[er]+=oe,U.handChange=oe,kn&&ze(ln,[$n[0]*31>>>0,$n[1]*17>>>0])}function Ls(U,be,oe,ke){var ye=sn,Pe=gt(ye),xt,ln,Ut,pt,$n={move:U,epSquare:An,halfMoves:Un,castlingW:rn[Ce],castlingB:rn[Lt],color:ye},er,gr,Er=ye===Ce,zr,ni;kn&&(pt=Kr(),$n.hash=pt,ze(pt,Q.zobristTurn),An!==Qe&&ns(We,pt,An+(Er?16:-16),Gn|ye)),(U&D.KQSIDE_CASTLE)===0?si&&U&D.DROP?(We[oe]=Vn[ke]|ye,kn&&ze(pt,Q.zobristPiece[64*Q.zobristPieceValueNumbers[We[oe]]+8*(7-Z(oe))+ft(oe)]),ol($n),zr=0):(zr=We[be],ni=We[oe],ni&&($n.captured=ni,kn&&ze(pt,Q.zobristPiece[64*Q.zobristPieceValueNumbers[We[oe]&_n]+8*(7-Z(oe))+ft(oe)]),ni&dn&&rn[Pe]&&(jr?Z(oe)===(Er?0:7)&&(Ut=1<<ft(oe),rn[Pe]&Ut&&(rn[Pe]^=Ut,kn&&(Ut>1<<ft(Sn[ye])?ze(pt,Q.zobristCastle[Pe-1]):ze(pt,Q.zobristCastle[Pe+1])))):oe===(Er?7:119)?rn[Pe]&D.KSIDE_CASTLE&&(rn[Pe]^=D.KSIDE_CASTLE,kn&&ze(pt,Q.zobristCastle[Pe-1])):oe===(Er?0:112)&&rn[Pe]&D.QSIDE_CASTLE&&(rn[Pe]^=D.QSIDE_CASTLE,kn&&ze(pt,Q.zobristCastle[Pe+1])))),U&D.PROMOTION?We[oe]=Vn[ke]|ye|or:We[oe]=We[be],We[be]=0,kn&&(ze(pt,Q.zobristPiece[64*Q.zobristPieceValueNumbers[zr&_n]+8*(7-Z(be))+ft(be)]),ze(pt,Q.zobristPiece[64*Q.zobristPieceValueNumbers[We[oe]&_n]+8*(7-Z(oe))+ft(oe)]))):zr=ht,U&D.EP_CAPTURE?(Er?(gr=oe+16,er=6):(gr=oe-16,er=8),$n.captured=Gn|Pe,We[gr]=0,kn&&ze(pt,Q.zobristPiece[64*Q.zobristPieceValueNumbers[Gn|Pe]+8*(er-Z(oe))+ft(oe)])):zr&ht?(jr?(U&D.KQSIDE_CASTLE&&(We[oe]=0,We[be]=0,U&D.KSIDE_CASTLE?Er?(xt=118,ln=117):(xt=6,ln=5):Er?(xt=114,ln=115):(xt=2,ln=3),We[xt]=ye|ht,We[ln]=ye|dn,kn&&(ze(pt,Q.zobristPiece[64*Q.zobristPieceValueNumbers[ht|ye]+8*(7-Z(be))+ft(be)]),ze(pt,Q.zobristPiece[64*Q.zobristPieceValueNumbers[dn|ye]+8*(7-Z(oe))+ft(oe)]),ze(pt,Q.zobristPiece[64*Q.zobristPieceValueNumbers[ht|ye]+8*(7-Z(xt))+ft(xt)]),ze(pt,Q.zobristPiece[64*Q.zobristPieceValueNumbers[dn|ye]+8*(7-Z(ln))+ft(ln)]))),kn&&((rn[ye]&rn[ye]-1)!==0?(ze(pt,Q.zobristCastle[ye-1]),ze(pt,Q.zobristCastle[ye+1])):rn[ye]>1<<ft(Sn[ye])?ze(pt,Q.zobristCastle[ye-1]):ze(pt,Q.zobristCastle[ye+1])),Sn[ye]=xt||oe):(U&D.KQSIDE_CASTLE&&(We[oe]=We[be],We[be]=0,U&D.KSIDE_CASTLE?(xt=oe-1,ln=oe+1):(xt=oe+1,ln=oe-2),We[xt]=We[ln],We[ln]=0,kn&&(ze(pt,Q.zobristPiece[64*Q.zobristPieceValueNumbers[ht|ye]+8*(7-Z(be))+ft(be)]),ze(pt,Q.zobristPiece[64*Q.zobristPieceValueNumbers[dn|ye]+8*(7-Z(ln))+ft(ln)]),ze(pt,Q.zobristPiece[64*Q.zobristPieceValueNumbers[ht|ye]+8*(7-Z(oe))+ft(oe)]),ze(pt,Q.zobristPiece[64*Q.zobristPieceValueNumbers[dn|ye]+8*(7-Z(xt))+ft(xt)]))),kn&&(rn[ye]&D.KSIDE_CASTLE&&ze(pt,Q.zobristCastle[ye-1]),rn[ye]&D.QSIDE_CASTLE&&ze(pt,Q.zobristCastle[ye+1])),Sn[ye]=oe),rn[ye]=0):zr&dn&&rn[ye]&&(jr?Z(be)===(Er?7:0)&&(Ut=1<<ft(be),rn[ye]&Ut&&(rn[ye]^=Ut,kn&&(Ut>1<<ft(Sn[ye])?ze(pt,Q.zobristCastle[ye-1]):ze(pt,Q.zobristCastle[ye+1])))):be===(Er?119:7)?rn[ye]&D.KSIDE_CASTLE&&(rn[ye]^=D.KSIDE_CASTLE,kn&&ze(pt,Q.zobristCastle[ye-1])):be===(Er?112:0)&&rn[ye]&D.QSIDE_CASTLE&&(rn[ye]^=D.QSIDE_CASTLE,kn&&ze(pt,Q.zobristCastle[ye+1]))),U&D.BIG_PAWN?(Er?An=oe+16:An=oe-16,kn&&ns(We,pt,oe,Gn|Pe)):An=Qe,zr&Gn||U&D.ANY_CAPTURE?Un=0:Un++,sn=Pe,Yt.push($n)}function al(){var U={color:sn,san:"--",epSquare:An},be={color:sn,san:"--"},oe;return kn&&(oe=Kr(),U.hash=oe,ze(oe,Q.zobristTurn),An!==Qe&&ns(We,oe,An+(sn===Ce?16:-16),Gn|sn)),An=Qe,Un++,sn=gt(sn),sn===Ce&&++Br,Yt.push(U),be}function lu(U,be,oe,ke){var ye,Pe=sn;Ls(U,be,oe,ke),ye=Yt[Yt.length-1],si?(Un=ye.halfMoves+1,ye.captured&&ol(ye),an===Xe.Bughouse&&(ye.bughouseOrder=$t.moveCount()-1+$t.siblingGame.moveCount())):an===Xe["3-check"]&&Ns(sn)&&(ye.checked=!0,kn&&Jt[Pe]&&ze(ye.hash,Q.zobristCheck[Jt[Pe]+(Pe===Ce?-1:2)]),++Jt[Pe],kn&&ze(ye.hash,Q.zobristCheck[Jt[Pe]+(Pe===Ce?-1:2)]))}function Ra(U){var be,oe,ke=sn,ye=gt(ke),Pe=U.move,xt=Pe>>hn&yt,ln=Pe>>xn&yt;if(sn=ye,rn[Lt]=U.castlingB,rn[Ce]=U.castlingW,An=U.epSquare,Un=U.halfMoves,an){if(jr&&Pe&D.KQSIDE_CASTLE){Pe&D.KSIDE_CASTLE?ye===Ce?(oe=118,be=117):(oe=6,be=5):ye===Ce?(oe=114,be=115):(oe=2,be=3),We[oe]=0,We[be]=0,We[ln]=ye|ht,We[xt]=ye|dn,Sn[ye]=ln;return}if(U.handChange&&(an===Xe.Crazyhouse||!U.handSibling?$t._hand[ye]-=U.handChange:$t.siblingGame._hand[gt(ye)]-=U.handChange),Pe&D.DROP){We[xt]=0;return}U.checked&&--Jt[ye]}Pe&D.PROMOTION?(We[ln]=Gn|ye,Pe&D.CAPTURE?We[xt]=U.captured:We[xt]=0):(We[ln]=We[xt],Pe&D.KQSIDE_CASTLE?(We[xt]=0,Pe&D.KSIDE_CASTLE?(be=xt+1,oe=xt-1):(be=xt-2,oe=xt+1),We[be]=ye|dn,We[oe]=0,Sn[ye]=ln):(xt===Sn[ye]&&(Sn[ye]=ln),Pe&D.CAPTURE?We[xt]=U.captured:(We[xt]=0,Pe&D.EP_CAPTURE&&(We[xt-(ye===Ce?-16:16)]=Gn|ke))))}function uu(U,be,oe){var ke,ye,Pe,xt,ln,Ut,pt,$n;if(Ee<2)return"";for(U=U&cn,$n=0;$n<Ee;++$n)if(ke=C[$n],pt=ke>>hn,oe===pt&&(xt=ke>>xn&yt,xt!==be&&(ye=We[xt],ye&U))){if(Pe=!0,Z(be)===Z(xt)){if(ln)return Ht(be);Ut=!0}if(ft(be)===ft(xt)){if(Ut)return Ht(be);ln=!0}}return Pe?ln?String(8-Z(be)):String.fromCharCode(ft(be)+97):""}function Fo(U,be,oe){var ke,ye,Pe=U>>hn&yt,xt={color:sn,to:Ht(Pe),flags:U&yt};return!si||(U&D.DROP)===0?(ke=U>>xn&yt,xt.from=Ht(ke),xt.piece=We[ke],U&D.PROMOTION&&(ye=U>>jn,xt.promotion=Vn[ye]+sn),U&D.CAPTURE?xt.captured=We[Pe]:U&D.EP_CAPTURE&&(xt.captured=Gn|gt(sn))):(ye=U>>jn,xt.drop=ye,xt.piece=Vn[ye]+sn),be?xt.san=be:xt.san=Mi(U,oe),xt}function gi(){if(an===Xe["3-check"])return Jt[gt(sn)]===3;if(an===Xe["King of the Hill"])return Os(Sn[gt(sn)])}function fs(){if(an===Xe.Bughouse)return $t.siblingGame.inCheckmate()}function Rs(){if(an===Xe.Bughouse)return $t.siblingGame.in50MoveRule()||$t.siblingGame.inThreefoldRepetition()}function sl(){var U=[],be=Di(),oe=Yt.length-1,ke=Yt[oe];return ke?(U.parentId=zn,U.id=Rr.length,Yt.curFen=be,ke.lines||(ke.lines=[]),ke.lines.push(U.id),ke.move?Ra(ke):(An=ke.epSquare,--Un,sn=gt(sn)),sn===Lt&&--Br,U.atMoveNode=oe,oe?U.hash=Yt[oe-1].hash:U.hash=Yt.hash,zn=U.id,Rr.push(U),Yt=U,!0):!1}function Ds(U){var be=Di();Yt.curFen=be,Yt=Rr[U],zn=U,mi(Yt.curFen,an,!0,!0)}return $t={WHITE:Ce,BLACK:Lt,PAWN:Gn,KNIGHT:br,BISHOP:_r,ROOK:dn,QUEEN:Qt,KING:ht,FLAGS:D,load:mi,reset:wi,moves:function(U){var be=[],oe,ke=Mi,ye,Pe;for(U&&(U.verbose&&(ke=Fo),U.type&&(ye=U.type|U.type<<24),Pe=U.noDrop),Zi(ye,Pe),oe=0;oe<Ee;++oe)be.push(ke(C[oe]));return be},inCheck:us,inCheckmate:La,inStalemate:na,isBughouseWin:fs,in50MoveRule:function(){return Un>=100},inDraw:function(){return Un>=100||na()||cs()||pa()||Boolean(Rs())},insufficientMaterial:cs,inThreefoldRepetition:pa,isVariantWin:gi,gameOver:function(){return $t.inDraw()||La()||Boolean(gi())||Boolean(fs())},isPositionValid:function(U){var be,oe,ke=0,ye;if(U=U||{},U.pawns!==!1)for(be=0;be<=119;){if(ye=We[be],ye&Gn)return!1;++be===8&&(be=112)}if(U.kings!==!1){for(be=0;be<=119;++be)if(be&136&&(be+=8),ye=We[be],ye&ht){if(++ke>2||oe&&oe&ye)return!1;oe=ye&Ye}if(ke!==2)return!1}return!(U.check!==!1&&!(U.kings===!1&&Sn[gt(sn)]===Qe)&&Ns(gt(sn)))},validateFen:Pn,fen:Di,pgn:function(U){return U=U||{},!U.useResultHeader&&!zn&&(gi()||La()?Jn.Result=sn===Lt?"1-0":"0-1":$t.inStalemate()?Jn.Result="1/2-1/2":fs()&&(Jn.Result=$t.siblingGame.turn()===Ce?"1-0":"0-1")),ou(U,Jn,Rr,Fn,an,$t)},loadPgn:function(U,be,oe){var ke,ye,Pe,xt,ln={},Ut,pt,$n=0,er;if(typeof be!="number"&&(oe=oe||be,be=0),oe=oe||{},typeof U=="string"&&(oe.singleGame&&(U=U.replace(/(?:\r?\n\s*){2,}/g,`
`)),U=$t.tokenizePgn(U,oe)),be<0&&(be=U.length+be),xt=U[be],!xt)return!1;for(wi(),ye=xt.length,ke=0;ke<ye&&(Pe=xt[ke],Pe.type==="tagName");++ke){if(!xt[ke+1]||xt[ke+1].type!=="tagValue")return!1;++ke,Pe.value==="FEN"?er=Qn(xt[ke].value):ln[Pe.value]=xt[ke].value}if(oe.variant&&(ln.Variant=oe.variant),ln.Variant&&!er&&(er=bn),er||ln.SetUp==="1"){if(ln.SetUp==="0")ln.FEN=er;else if(!er||!mi(er,ln.Variant))return!1}for($t.header(ln),Ut=$t,pt=Ut._history();ke<ye;++ke)if(Pe=xt[ke],Pe.type==="san"&&$n===0){if(!Ut.move(Pe.value)&&(Pe.value!=="Z0"&&Pe.value!=="<>"||oe.rejectNullMoves||!Ut.move("--")))if(oe.commentErrors)pt.length?pt[pt.length-1].comment=((pt[pt.length-1].comment||"")+" "+Pe.value).trim():pt.initComment=((pt.initComment||"")+" "+Pe.value).trim();else if(oe.skipBadLines&&(zn!==0||Yt.length&&oe.allowBadMainLine))$n=1;else return wi(),!1}else if(Pe.type==="result"&&Jn.Result==="*")Ki(["Result",Pe.value]);else if(Pe.type==="a"&&$n===0&&pt[pt.length-1])pt[pt.length-1].annotation=Pe.value;else if((Pe.type==="nag"||Pe.type==="aa")&&$n===0&&pt[pt.length-1])pt[pt.length-1].additionalAnnotation||(pt[pt.length-1].additionalAnnotation=[]),pt[pt.length-1].additionalAnnotation.indexOf(Pe.value)===-1&&pt[pt.length-1].additionalAnnotation.push(Pe.value);else if(Pe.type==="comment"&&$n===0)pt.length?(Pe.value&&(pt[pt.length-1].comment=Pe.value),Pe.commands&&(pt[pt.length-1].commands=Pe.commands,Pe.commands.clk&&(pt[pt.length-1].time=Sr(Pe.commands.clk)))):(pt.initComment=String(Pe.value),Pe.commands&&(pt.commands=Pe.commands));else if(Pe.type==="variationStart"){if($n>0)++$n;else if(!sl())return wi(),!1;pt=Ut._history()}else if(Pe.type==="variationEnd")$n>0&&--$n,$n===0&&(Ds(pt.parentId),pt=Ut._history());else if(Pe.type==="number"){if(/b/i.test(Pe.value.slice(-1))?Ut=$t.siblingGame:Ut=$t,!Ut)return!1;pt=Ut._history()}else Pe.type==="cont"&&zn&&!pt.length&&Ut.move(Ut._lines()[pt.parentId][pt.atMoveNode].san);return!0},header:function(U){return Array.isArray(U)?Ki(U):(typeof U=="object"&&Object.keys(U).forEach(function(be){Ki([be,U[be]])}),Jn)},turn:function(U){return(U===Ce||U===Lt)&&(sn=U),sn},move:function U(be){var oe,ke,ye,Pe,xt,ln,Ut,pt,$n,er,gr,Er,zr;if(typeof be=="string"){switch(Pe=be.length-1,be[Pe]){case"+":case"#":be=be.substr(0,Pe)}for(mn.indexOf(be[0])>6?$n=Ae[be[0]]:be[0]==="O"?$n=ht:$n=Gn,si&&(be.indexOf("@")===-1?er=!0:(er=!1,$n<<=24)),Zi($n,er),Pe=0;Pe<Ee;++Pe)if(ln=Mi(C[Pe],!0),be===ln){ke=C[Pe];break}if(ke)Ut=ke>>xn&yt,pt=ke>>hn&yt,ye=ke>>jn;else{if(be==="--")return al();if(be=$t.fixMove(be))try{return U(be)}catch{}return null}}else{if(be.drop){switch(be.drop){case"p":ye=0;break;case"n":ye=1;break;case"b":ye=2;break;case"r":ye=3;break;case"q":ye=4;break;default:return null}$n=1<<26+ye}else{if(be.promotion)switch(be.promotion){case"q":ye=4;break;case"n":ye=1;break;case"r":ye=3;break;case"b":ye=2;break;default:return null}Ut=bt[be.from],er=!0,$n=We[Ut]&cn}for(pt=bt[be.to],oe=((ye?ye<<jn:0)|pt<<hn)>>xn|Ut,Zi($n,er),Pe=0;Pe<Ee;++Pe)if(C[Pe]>>xn===oe){ke=C[Pe];break}if(!ke)return(be=$t.fixMove(be))?U(be):null}return ke&D.DROP_OR_PROMOTE?zr=Vn[ye]+sn:zr=We[Ut],xt=Fo(ke,ln,!0),gr=ls(zr,Ut,pt,ke),kr(ke,Ut,pt,ye),gr&&(an&&gi()||Zi()===0?xt.san+="#":xt.san+="+"),Er=Yt[Yt.length-1],Er.san=xt.san,xt.piece&or&&(Er.promoted=!0),sn===Ce&&++Br,xt},undo:function(U){var be=Yt.pop();return be?(sn===Ce&&--Br,be.move?(Ra(be),U?!0:Fo(be.move,be.san)):(An=be.epSquare,--Un,sn=gt(sn),U?!0:{san:"--",color:be.color})):null},clear:function(U){ci(U)},put:function(U,be,oe){var ke=bt[be],ye=!1,Pe,xt=We[ke],ln=xt&Ye,Ut=U.color;if(isNaN(ke)||!U.type||!Ut||mn.indexOf(U.type)===-1)return!1;if(We[ke]=Ae[U.type]|Ut|(U.promoted?or:0),We[ke]&ht&&(Sn[Ut]=ke),xt&&We[Sn[ln]]&&We[Sn[ln]]!==(ht|ln)){for(Pe=0;Pe<120;++Pe)Pe&136&&(Pe+=8),We[Pe]===(ht|ln)&&(Sn[ln]=Pe,ye=!0);ye||(Sn[ln]=Qe)}return oe||mi(Di(),an,!1,!1),!0},get:as,remove:function(U,be){var oe=We[bt[U]],ke=as(U),ye=oe&Ye,Pe;if(We[bt[U]]=0,oe&ht){for(Sn[ye]=Qe,rn[ye]=0,Pe=0;Pe<120;++Pe)if(Pe&136&&(Pe+=8),We[Pe]===(ht|ye)){Sn[oe.color]=Pe;break}}return be||mi(Di(),an,!0,!1),ke},history:function(U,be){for(var oe=[],ke,ye=Yt,Pe=ye.length;;){if(--Pe===-1)if(ye.id&&!be){Pe=ye.atMoveNode,ye=Rr[ye.parentId];continue}else break;U?(ke=Fo(ye[Pe].move,ye[Pe].san),ke.color=ye[Pe].color,!Pe&&ye.initComment&&(ke.firstComment=ye.initComment),ye[Pe].comment!==void 0&&(ke.comment=ye[Pe].comment),ye[Pe].time!==void 0&&(ke.time=ye[Pe].time),ye[Pe].annotation!==void 0&&(ke.annotation=ye[Pe].annotation),ye[Pe].additionalAnnotation!==void 0&&(ke.additionalAnnotation=ye[Pe].additionalAnnotation),ye[Pe].commands!==void 0&&(ke.commands=ye[Pe].commands),ye[Pe].captured!==void 0&&(ke.captured=ye[Pe].captured),ye[Pe].promoted!==void 0&&(ke.promoted=ye[Pe].promoted),ye[Pe].lines!==void 0&&(ke.lines=ye[Pe].lines),ye[Pe].bughouseOrder!==void 0&&(ke.bughouseOrder=ye[Pe].bughouseOrder),mn.indexOf(ye[Pe].san[0])>6?ke.piece=Ae[ye[Pe].san[0]]:ye[Pe].san[0]==="O"?ke.piece=ht:ke.piece=Gn,ke.piece|=ke.color,oe.unshift(ke)):oe.unshift(ye[Pe].san)}return oe},hashes:function(){for(var U=[],be=Yt,oe=be.length;;){if(--oe===-1)if(be.id){oe=be.atMoveNode,be=Rr[be.parentId];continue}else{be.hash||Kr(),U.unshift(be.hash);break}U.unshift(be[oe].hash)}return U},moveCount:function(){return Yt.length},startingMoveNumber:function(){return Fn},completeFen:Qn,createVariation:sl,selectLine:Ds,hash:function(){var U=Kr();return an===Xe.Bughouse&&!$t.isDependent?[U,$t.siblingGame.hash()]:U},hashing:function(U){kn=U,an===Xe.Bughouse&&!$t.isDependent&&$t.siblingGame.hashing(kn)},hand:function(){if(si)return ts($t._hand[Ce],!0)+ts($t._hand[Lt])},checks:function(){if(an===Xe["3-check"])return[Jt[Ce],Jt[Lt]]},threats:function(){var U=sn,be=gt(U),oe=[],ke=[],ye=[],Pe=[],xt=[],ln=An,Ut,pt,$n,er,gr,Er,zr;if(ta(0,Sn[U]),mt||Bt)for(Ut=0;Ut<120;++Ut)Ut&136&&(Ut+=8),We[Ut+8]&Cr&&We[Ut]?ye.push(Ht(Ut)):We[Ut+8]&Gr&&oe.push(Ht(Ut));for(sn=be,An=Qe,Zi(),Ut=Ee;Ut--;){if(pt=C[Ut],gr=pt>>hn&yt,Er=pt>>xn&yt,pt&D.DROP_OR_PROMOTE){if(zr=pt>>jn,er=Vn[zr]|be,pt&D.PROMOTION&&zr%3!==1)continue}else er=We[Er],zr=0;if(ls(er,Er,gr,pt)&&(kr(pt,Er,gr,zr),Y=Ut,(an&&gi()||Zi()===Ut)&&ke.push((pt&D.DROP?Ne[er].toLowerCase()+"@":Ht(Er))+Ht(gr)),Ra(Yt.pop()),pt&D.CAPTURE)){for($n=0,Ut=Ee;Ut>Y;)if((C[--Ut]>>hn&yt)===gr){$n=1,Ut=Y;break}if(!$n){Pe.push(Ht(Er)+Ht(gr));continue}}pt&D.CAPTURE&&zr!==1&&($n=We[gr]&124)&&(rl(U,gr)?(er=We[Er]&cn,$n>er&&$n-er!==8&&xt.push(Ht(Er)+Ht(gr))):Pe.push(Ht(Er)+Ht(gr)))}return Y=0,sn=U,An=ln,{pins:oe,checkers:ye,mates:ke,undefended:Pe,underdefended:xt}},tokenizePgn:au,fixMove:function(U){var be,oe,ke;if(typeof U=="string"){if(/0|[?!+#]$|[18][QNRB]$|^P/i.test(U))return U.replace(/[?!+#]+$/,"").replace(/0/g,"O").replace(/([18])([QNRB])$/i,"$1=$2").replace(/^P+/i,"");if(oe=U.indexOf("=")>0?-4:-2,be=bt[U.substr(oe,2)],typeof be=="number"){if(We[be]&gt(sn)||/^[a-h]x?[a-h][36]$/.test(U)){if(U.indexOf("x")===-1)return U.slice(0,oe)+"x"+U.substr(oe)}else if(U.indexOf("x")>-1)return U.replace(/x/g,"");if(ke=U.match(/^([KQNRB]?)([a-h][1-8]?|[1-8])x?([a-h][1-8])=?(.?)$/)){if(We[bt[ke[2]]])return{from:ke[2],to:ke[3],promotion:ke[4].toLowerCase()};if(/^\d$/.test(ke[2])){for(U=0,Zi(Ae[ke[1]],!0),oe=0;oe<Ee;++oe)if(C[oe]>>hn===be&&Z(C[oe]>>xn&yt)===8-ke[2]){if(U)return;U=C[oe]}if(U)return Mi(U,!0)}return ke[1]+ke[3]+ke[4]}}}else if(We[bt[U.from]]===(ht|sn)&&U.to&&U.from[1]===U.to[1]){if(U.from<U.to)return"O-O";if(U.from>U.to)return"O-O-O"}},_hand:[],_history:function(U){return U&&(Yt=U,zn=Yt.id),Yt},_lines:function(){return Rr},_hashPosition:so,_board:function(){return We}},On&&mi(On,nr)||wi(),$t}return fa.variants=Gt,fa}(),L=function(se){var Xe="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",Gt=["bench","d","eval","flip","isready","ponderhit","stop","uci","ucinewgame"],bt=[{cmd:"position",args:["fen","startpos","moves","continuation"]},{cmd:"go",args:["binc","btime","confidence","depth","infinite","mate","mindepth","mintime","maxdepth","maxtime","movestogo","movetime","ponder","searchmoves","shallow","winc","wtime"]}],Oe=["moves","searchmoves"],mt=["ponder","infinite","startpos"],Bt={depth:1,seldepth:1,time:1,nodes:1,multipv:1,cp:1,mate:1,currmovenumber:1,hashfull:1,nps:1,tbhits:1,sbhits:1,cpuload:1,bmc:1,score:2,lowerbound:2,upperbound:2,bestmove:3,ponder:3,baseTurn:3,bestmoveSan:3,ponderSan:3,pv:4,pvSan:4,string:4,refutation:4,currline:4},g=/(?:Total|Final) Evaluation[\s\S]+\n$/i;function C(Qt,ht,Ye){var cn=new Worker(Qt||"stockfish.js"),_n={terminate:or,postMessage:fr};function fr(Rn){cn.postMessage(Rn)}function or(){cn.terminate()}function Ar(Rn){var Cr=Rn.concat();Rn.length=0,Cr.forEach(function(Gr){Gr.cmd?Gr.cmd.substr(0,2)!=="go"&&Ye.send(Gr.cmd,Gr.cb,Gr.stream):(clearTimeout(Gr.timer),Ye.getBestMove(Gr.args,Gr.cb,Gr.stream))})}return cn.onmessage=function(Rn){typeof Rn.data=="string"&&_n.onmessage(Rn.data)},cn.onerror=function(Rn){if(Ye.fallbackPath&&Ye.fallbackPath!==Qt){try{Rn.preventDefault()}catch{}try{cn.terminate()}catch{}return cn=C(Ye.fallbackPath,ht,Ye),cn.onmessage=function(Cr){_n.onmessage(Cr)},Ar(Ye._activeCommands()),Ar(Ye._bestMoveQueue()),!1}if(ht.onError)return ht.onError(Rn)},_n}function Y(Qt,ht){ht.fallbackPath=Qt.pathToNonWasmEngine,ht.path=Qt.enginePath||Qt.pathToEngineWorker,ht.wasmPath=Qt.pathToWasmEngine,Qt.engines&&(Qt.engines.multiThreaded&&se.supportsMultithreading()?(ht.path=Qt.engines.multiThreaded.loader,ht.wasmPath=Qt.engines.multiThreaded.engine):Qt.engines.singleThreaded&&(ht.path=Qt.engines.singleThreaded.loader,ht.wasmPath=Qt.engines.singleThreaded.engine),ht.fallbackPath=Qt.engines.asm||ht.fallbackPath)}function Ee(Qt,ht){var Ye;return Y(Qt,ht),Ye=ht.path,(ht.fallbackPath&&typeof WebAssembly>"u"||!Ye)&&(Ye=ht.fallbackPath),ht.wasmPath&&(Ye+="#"+ht.wasmPath),C(Ye,Qt,ht)}function Me(Qt){for(var ht=Qt.split(" "),Ye=ht.length,cn=ht[0]==="info"?1:0,_n={mtype:ht[0]},fr,or;cn<Ye;++cn)if(or=ht[cn],or)if(fr=Bt[or],fr===1){for(;!ht[++cn]&&cn<Ye;);_n[or]=Number(ht[cn])}else if(fr===2)_n[or]=!0;else if(fr===3){for(;!ht[++cn]&&cn<Ye;);_n[or]=ht[cn]}else for(_n[or]=[],++cn;cn<Ye;++cn)if(!Bt[ht[cn]])ht[cn]&&_n[or].push(ht[cn]);else{--cn;break}return(_n.bestmove==="(none)"||_n.bestmove==="0000")&&(_n.bestmove=void 0,_n.bestmoveSan=void 0),(_n.ponder==="(none)"||_n.ponder==="0000")&&(_n.ponder=void 0,_n.ponderSan=void 0),_n}function Qe(Qt){var ht=Qt.indexOf(" ");return ht===-1?Qt:Qt.substr(0,ht)}function Ce(Qt){return(Qt+"").replace(/^([^/]+)((?:\/[^/]+){7})\/([qrbnp]*)/i,"$1$2[$3]").replace(/( \d+ \d+) \+([0-3])\+([0-3])/,function(ht,Ye,cn,_n){return" "+(3-cn)+"+"+(3-_n)+Ye})}function Lt(Qt){return(Qt+"").replace(/\[([qrbnp]*)\]/i,"/$1").replace(/([0-3])\+([0-3]) (\d+ \d+)/,function(ht,Ye,cn,_n){return _n+" +"+(3-Ye)+"+"+(3-cn)})}function Gn(Qt,ht){var Ye,cn=Qe(Qt),_n,fr,or;for(cn==="uciok"||cn==="option"?Ye="uci":cn==="readyok"||cn==="ready"?Ye="isready":cn==="json"||Qt.indexOf("info string CEEError")>=0?Ye="fetch":cn==="bestmove"||cn==="info"?Ye="go":Ye="other",or=ht.length,fr=0;fr<or;fr+=1)if(_n=Qe(ht[fr].cmd),_n===Ye||Ye==="other"&&(_n==="d"||_n==="eval"))return fr;return 0}function br(Qt){var ht=Qt.match(/id name ((\S+) ([\d.a-z]+).*)/i);if(ht)return{all:ht[1].trim(),short:ht[2],version:ht[3],full:ht[2]+" "+ht[3],wasm:/ wasm/i.test(Qt),multithreaded:/ multithreaded/i.test(Qt)}}function _r(Qt,ht){var Ye={},cn,_n=[],fr,or=[],Ar,Rn=null;function Cr(yt){var mn,bn=0,w,Te,Ae;if(yt.indexOf(`
`)>-1){for(Te=yt.split(`
`),Ae=0;Ae<Te.length;Ae+=1)Cr(Te[Ae]);return}if(se.log&&console.log("debug (onmessage): "+yt),Ye.stream&&Ye.stream(yt),!_n.length||yt.indexOf("No such option")===0||yt.indexOf("Stockfish")===0||yt.indexOf("Komodo")===0||yt.indexOf("Explanation Engine")===0||yt.indexOf("info string variant")===0){if(Qt.ceeMode&&yt.indexOf("Explanation Engine")===0){var Ne=yt.match(/Explanation Engine\s*([0-9]+)\.([0-9]+)\s*\(C\)/);Ne?Rn={date:Ne[1],increment:Ne[2]}:(Ne=yt.match(/Explanation Engine\s*([0-9]+)\.([0-9]+)\.([0-9]+)/),Rn={major:Ne[1],minor:Ne[2],patch:Ne[3]})}return}if(bn=Gn(yt,_n),w=_n[bn],w.stream&&!w.discard&&w.stream(yt),typeof w.message>"u"?w.message="":w.message!==""&&(w.message+=`
`),w.message+=yt,yt.indexOf("uciok")===0)Ye.name=br(w.message),mn=!0;else if(yt.indexOf("ready")===0)mn=!0;else if((yt.indexOf("bestmove")===0||Qe(yt)==="bestmove")&&w.cmd!=="bench")mn=!0,w.message=yt;else if(w.cmd==="d")(yt.indexOf("Legal uci moves")===0||yt.indexOf("Key is")===0)&&(w.done=!0,mn=!0);else if(w.cmd.indexOf("fetch")===0)try{var et=w.message.split(`
`).filter(function(ot){return ot.includes("json")}).join(`
`);et&&(w.message=JSON.parse(et.replace(/^json /mg,"").replace(/\n/g,"")),mn=!0)}catch{}else w.cmd==="eval"?g.test(w.message)&&(mn=!0):(yt.indexOf("pawn key")===0||yt.indexOf("Nodes/second")===0||yt.indexOf("Unknown command")===0)&&(mn=!0);mn&&(_n.splice(bn,1),w.cb&&!w.discard?w.cb(w.message):w.ondiscard&&w.ondiscard())}function Gr(yt){return yt!=="ucinewgame"&&yt!=="flip"&&yt!=="stop"&&yt!=="ponderhit"&&yt.indexOf("position")!==0&&yt.indexOf("setoption")!==0&&yt.indexOf("variation")!==0&&yt.indexOf("threat-variation")!==0&&yt.indexOf("push")!==0&&yt.indexOf("pop")!==0&&yt.indexOf("serve")!==0&&yt.indexOf("speech")!==0}Ye.send=function(yt,mn,bn){var w;yt=String(yt).trim(),Gr(yt)?_n[_n.length]={cmd:yt,cb:mn,stream:bn}:w=!0,cn&&(se.log&&console.log("stdin: "+yt),cn.postMessage(yt),w&&mn&&setTimeout(mn,0))},Ye._activeCommands=function(){return _n},Ye._bestMoveQueue=function(){return or},Ye.quit=function(){if(cn&&cn.terminate){try{Ye.send("quit")}catch{}cn.terminate(),cn=null,Ye.ready=void 0}clearTimeout(fr)},Gt.forEach(function(mn){Ye[mn]=function(w,Te){Ye.send(mn,w,Te)}}),bt.forEach(function(mn){Ye[mn.cmd]=function(w,Te,Ae){var Ne=[mn.cmd];Ar&&w.fen&&(w.fen=Ce(w.fen)),mn.args.forEach(function(ot){if(w[ot]||w[ot]===0){if(Oe.indexOf(ot)>-1){if(!w[ot]||!w[ot].length)return;Array.isArray(w[ot])&&(w[ot]=w[ot].join(" "))}Ne.push(ot),mt.indexOf(ot)===-1&&Ne.push(w[ot])}}),Ye.send(Ne.join(" "),Te,Ae)}}),Ye.setoption=function(yt,mn){Ye.send("setoption name "+yt+" value "+mn)},Ye.setVariant=function(yt){var mn;yt!==Ar&&(mn=String(yt).toLowerCase().replace(/ |-/g,""),!yt||mn==="chess"?(mn=void 0,Ye.setoption("UCI_Variant","chess"),Ye.setoption("UCI_Chess960","false")):mn==="chess960"?(Ye.setoption("UCI_Variant","chess"),Ye.setoption("UCI_Chess960","true")):(mn==="threecheck"&&(mn="3check"),Ye.setoption("UCI_Variant",mn),Ye.setoption("UCI_Chess960","false")),Ar=mn)},Ye.loadBook=function(yt,mn){Ye.pathToBook=yt,Q.loadBook(yt,function(w,Te){Ye.book=Te,Ye.bookLoaded=!0,w&&(console.error("Error loading opening book."),console.error(w),Ye.pathToBook=null,Ye.bookLoaded=!1),mn()})},Ye.getBookMove=function(yt){var mn=se.createGame(yt),bn=Ye.book.pick({fen:mn.fen(),type:typeof yt.bookPick<"u"?yt.bookPick:"random",chess960:mn.header().Variant==="Chess960"}),w=bn&&mn.move(bn);if(w)return{moveSan:w.san,moveLan:bn,move:{from:w.from,to:w.to,promotion:w.promotion||null},baseTurn:mn.turn()===1?"b":"w",pv:[{moveSan:w.san,moveLan:bn}],depth:null,score:null,mateIn:null,isBookMove:!0}};function Lr(){var yt=1,mn=[],bn=[],w,Te,Ae=null,Ne=or[0].args,et=or[0].cb,ot=or[0].stream,Be,ae=1,Le,Ve=[],tt=14,De=_r._previousCP;or[0].started=!0,_r._previousCP=null;function _t(J){var Z=[],ft=bn[J]||pe(mn[J]);return mn[J].forEach(function(gt,ze){Z.push({moveSan:ft[ze],moveLan:gt})}),Z}function fn(J,Z,ft,Ht){var gt;for(gt=mn.length-1;gt>=0;gt-=1)if(mn[gt][0]===J)return _t(gt);return ft?[{moveSan:Z,moveLan:J},{moveSan:Ht,moveLan:ft}]:Z?[{moveSan:Z,moveLan:J}]:[]}function Kn(J){var Z=.03*Math.pow(32,J.depth/tt);J.cp=De+(J.cp-De)*Z}function Vn(J){J.mate===0?(J.mateIn=0,J.cp=-31800*ae):(J.mateIn=Number(J.mate*ae)||null,typeof J.mateIn=="number"&&!isNaN(J.mateIn)&&typeof J.cp!="number"?J.cp=31800*ae*(J.mate/Math.abs(J.mate)):(J.cp*=ae,Math.abs(J.cp)===9&&(J.cp=0),Ne.normalize&&J.depth<=tt&&typeof De=="number"&&J.multipv===1&&Kn(J))),J.score=J.cp/100}function Jr(J){var Z=Me(J);if(D(Z),yt>tt&&w<5e3&&w>-5e3&&(_r._previousCP=w),Z.pv=fn(Z.moveLan,Z.moveSan),Z.pv.length===1&&Z.ponder&&(Z.pv=fn(Z.moveLan,Z.moveSan,Z.ponder,Z.ponderSan)),Ve.length>1)Ve.splice(Ve.indexOf(Z.moveLan),1),Ne.searchmoves=Ve,Ne.getNextBest=0,xn(Ne,function(){et(Z)},function(Ht){ot&&(Ht.multipv=2,ot(Ht))});else if(et)try{et(Z)}catch(ft){console.error(ft)}or.shift(),clearTimeout(fr),or.length>0&&Lr()}function D(J){var Z;J.baseTurn=Be,J.cp=w,J.score=w/100,J.mate=Te,J.mateIn=Ae,J.depth=yt,J.moveLan=J.bestmove,J.moveLan&&(J.move=se.uciToObj(J.moveLan)[0],Z=Le.move(J.move),Z&&(J.moveSan=J.bestmoveSan=Z.san,J.ponder&&(Z=Le.move(se.uciToObj(J.ponder)[0]),Z&&(J.ponderSan=Z.san,Le.undo(!0))),Le.undo(!0)))}function pe(J){var Z,ft=J.length,Ht=[],gt;for(Z=0;Z<ft&&(gt=Le.move(se.uciToObj(J[Z])[0]),!!gt);++Z)Ht.push(gt.san);for(;Z>0;--Z)Le.undo(!0);return Ht}function ne(J){var Z=Me(J);Z.score&&(Z.baseTurn=Be,Vn(Z),!Z.multipv&&Z.depth&&(Z.multipv=1),(Z.multipv===1||Z.depth===0)&&(w=Z.cp,Te=Z.mate,Ae=Z.mateIn)),Z.pv&&ot&&(Z.pvSan=pe(Z.pv)),Z.pv&&!(Z.lowerbound||Z.upperbound)&&(mn.push(Z.pv),ot&&bn.push(Z.pvSan)),Z.depth>yt?yt=Z.depth:Z.mtype==="bestmove"&&D(Z),ot&&!(Z.mateIn===0&&Z.pv)&&ot(Z),we()}function we(){Ne.timeout&&(clearTimeout(fr),or[0].timer=fr=setTimeout(function(){Ye.stop(),et&&(et(),et=void 0)},Ne.timeout))}Ne.difficulty>=0&&Ne.difficulty<20?(Ye.setoption("Skill Level",Ne.difficulty),Ne.maximumError>=0&&Ne.maximumError<=4999&&Ye.setoption("Skill Level Maximum Error",Ne.maximumError),Ne.errorProbability>=1&&Ne.errorProbability<=128&&Ye.setoption("Skill Level Probability",Ne.errorProbability)):Ye.setoption("Skill Level",20),Ne.contempt!==void 0?Ye.setoption("Contempt",Ne.contempt):Ye.setoption("Contempt","0"),Ne.multiPv>1?Ye.setoption("MultiPV",Ne.multiPv):Ye.setoption("MultiPV",1),!Ne.movetime&&(!Ne.wtime||!Ne.btime)&&!Ne.depth&&(Ne.btime=Ne.btime||72e3,Ne.wtime=Ne.wtime||72e3),(Ne.startpos||!Ne.fen)&&!Ne.moves&&!Ne.variant?(Be="w",Le=se.createGame({disableHashing:!0})):(Le=se.createGame({fen:Ne.fen?Lt(Ne.fen):Xe,moves:Ne.moves,variant:Ne.variant,disableHashing:!0}),Le.turn()===Le.WHITE?Be="w":(Be="b",ae=-1)),Ye.setVariant(Ne.variant),Ye.position(Ne),Ye.go(Ne,Jr,ne),Ne.getNextBest&&et&&Le.moves({verbose:!0}).forEach(function(Z){Z=se.normalizeMoveObj(Z),Ve.push(Z.from+Z.to+(Z.promotion||""))}),we()}function xn(yt,mn,bn){or.push({args:yt,cb:mn,stream:bn}),or.length===1&&Lr()}Ye.getBestMove=function(yt,mn,bn){var w;if(yt=yt||{},yt.fen=yt.fen||yt.baseFen,yt.is960&&(yt.variant="Chess960"),Ye.bookLoaded&&yt.useBook&&(w=Ye.getBookMove(yt),w))return setTimeout(function(){w.mtype="bestmove",mn(w)},0);xn(yt,mn,bn)},Ye.stopAll=function(yt){var mn,bn=_n.length,w=0;function Te(){w-=1,w===0&&yt()}for(or=[],mn=0;mn<bn;mn+=1)se.log&&console.log("debug (stop_moves): "+mn,Qe(_n[mn].cmd)),Qe(_n[mn].cmd)==="go"&&!_n[mn].discard&&(Ye.stop(),_n[mn].discard=!0,yt&&(w+=1,_n[mn].ondiscard=Te));yt&&!w&&Ye.isready(yt)},Ye.restartEngine=function(yt){return Ye.stopAll(),Ye.quit(),_n=[],or=[],Ye.bookLoaded&&!Qt.book&&(Qt=JSON.parse(JSON.stringify(Qt)),Qt.book=Ye.book),_r(Qt,yt)},Ye.stopFast=function(yt,mn){var bn;Ye.stopAll(function(){clearTimeout(bn),yt(Ye)}),bn=setTimeout(function(){Ye.restartEngine(yt)},mn||5e3)};function hn(){Ye.uci(function(){Qt.settings&&Object.keys(Qt.settings).forEach(function(bn){Ye.setoption(bn,Qt.settings[bn])}),Ye.ready=!0,jn()})}function jn(){Ye.ready&&(Ye.bookLoaded||!Ye.pathToBook)&&ht&&ht(Ye)}return typeof Worker>"u"?!1:(Qt.ceeMode&&(dn(Ye,Qt),Ye.ceeVersion=function(){return JSON.parse(JSON.stringify(Rn))}),cn=Ee(Qt,Ye),cn.onmessage=Cr,Qt.book&&(Ye.book=Qt.book,Ye.bookLoaded=!0,Ye.pathToBook=Qt.pathToBook),Ye.getFenFromMoves=se.getFenFromMoves,Ye.getLegalMoves=se.getLegalMoves,Ye.getPositionInfo=se.getPositionInfo,Ye.isFenValid=se.isFenValid,Ye.ready=!1,hn(),!Ye.book&&Qt.pathToBook&&Ye.loadBook(Qt.pathToBook,jn),Ye)}function dn(Qt,ht){var Ye=1e3,cn=0,_n,fr;function or(Rn){function Cr(Gr){var Lr=Cr.callbacks;Cr.callbacks={},Cr.original&&Cr.original(Gr);for(var xn in Lr)Lr[xn](Gr)}return Cr.callbacks={},Cr.original=Rn,Cr}ht.onError=_n=or(ht.onError),ht.onSignal=fr=or(ht.onSignal);function Ar(Rn,Cr,Gr,Lr){var xn,hn=Date.now(),jn=!1,yt=++cn;function mn(){clearTimeout(xn),delete _n.callbacks[yt],delete fr.callbacks[yt],jn=!0}function bn(Ae){jn||(mn(),Lr({data:Ae,action:Cr,uci:Rn},Rn))}function w(Ae){bn({msg:"CEE process crashed unexpectedly",code:se.ERROR_CODES.CRASH,exitCode:Ae,err:new Error("CEE process exited with "+Ae)})}_n.callbacks[yt]=w,fr.callbacks[yt]=w,xn=setTimeout(function(){bn({msg:"CEE timed out",code:se.ERROR_CODES.TIMEOUT,timeout:Ye,duration:Date.now()-hn,err:new Error("CEE timed out")})},Ye);for(var Te=0;Te<Rn.length;++Te)Qt.send(Rn[Te]);Qt.send("fetch "+Cr,function(Ne){jn||(mn(),Gr(Ne,Rn))},function(Ne){Ne.indexOf("info string CEEError")>=0?bn({msg:"CEE crashed with error code",code:se.ERROR_CODES.ERROR,log:Ne.match(/info string CEEError\s*(.*)/)[1],err:new Error(Ne.match(/info string CEEError\s*(.*)/)[1])}):Qt.ceeDebug&&Ne.indexOf("not recognized")>=0&&bn({msg:"CEE received unknown UCI option (engine.ceeDebug mode on)",option:Ne,code:se.ERROR_CODES.NONFATAL_ERROR,err:new Error(Ne)})})}Qt.fetch=function(Rn,Cr,Gr){var Lr,xn;Rn=Rn||[],Lr=Rn.action||"analysis",Array.isArray(Rn)?xn=Rn:(xn=Rn.uciCommands?Rn.uciCommands.map(function(hn){return hn}):[],Rn.startFen&&(Rn.options=Rn.options||{},typeof Rn.options.ScoreWhiteToMove>"u"&&(Rn.options.ScoreWhiteToMove=!0),typeof Rn.options.SerializeLikeCEAC>"u"&&(Rn.options.SerializeLikeCEAC=!0),se.CEE_LIB.addOptions(xn,Rn.options),se.CEE_LIB.addVariant(xn,Rn.variant),se.CEE_LIB.addPosition(xn,Rn.startFen)),se.CEE_LIB.addVariations(xn,Rn.evals&&Rn.evals[0]),se.CEE_LIB.addVariations(xn,Rn.threats&&Rn.threats[0],"threat-variation"),(Rn.moves||[]).forEach(function(hn,jn){var yt=jn+1;se.CEE_LIB.addPush(xn,hn),se.CEE_LIB.addVariations(xn,Rn.evals&&Rn.evals[yt]),se.CEE_LIB.addVariations(xn,Rn.threats&&Rn.threats[yt],"threat-variation")})),Ar(xn,Lr,Cr,Gr)},Qt.fetch.setTimeout=function(Rn){Ye=Rn},se.ERROR_CODES={TIMEOUT:1,CRASH:2,ERROR:3,NONFATAL_ERROR:4}}return _r},fe=function(){var se=Ze(),Xe,Gt="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",bt=252,Oe=255,mt={4:"p",5:"P",6:"p",8:"n",9:"N",10:"n",16:"b",17:"B",18:"b",32:"r",33:"R",34:"r",64:"q",65:"Q",66:"q",128:"k",129:"K",130:"k"},Bt="pnbrq",g=512,C="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!?{~}(^)[_]@#$,./&-*++=",Y="qnrbkp";function Ee(w){var Te,Ae=w.length,Ne=[],et,ot,Be;for(Te=0;Te<Ae;Te+=2)Be={},et=C.indexOf(w[Te]),ot=C.indexOf(w[Te+1]),ot>63&&(Be.promotion=Y[Math.floor((ot-64)/3)],ot=et+(et<16?-8:8)+(ot-1)%3-1),et>75?Be.drop=Y[et-79]:Be.from=C[et%8]+(Math.floor(et/8)+1),Be.to=C[ot%8]+(Math.floor(ot/8)+1),Ne.push(Be);return Ne}function Me(w){var Te,Ae,Ne="",et,ot;for(Array.isArray(w)||(w=[w]),Ae=w.length,Te=0;Te<Ae;Te+=1)w[Te].drop?et=79+Y.indexOf(w[Te].drop):et=C.indexOf(w[Te].from[0])+(w[Te].from[1]-1)*8,ot=C.indexOf(w[Te].to[0])+(w[Te].to[1]-1)*8,w[Te].promotion&&(ot=Y.indexOf(w[Te].promotion)*3+64+(ot<et?9+ot-et:ot-et-7)),Ne+=C[et]+C[ot];return Ne}function Qe(w){var Te=w.split(" "),Ae,Ne=Te.length,et=[],ot;if(w)for(Ae=0;Ae<Ne;++Ae)ot=Te[Ae],ot.length===4?ot[1]==="@"?et.push({drop:ot[0].toLowerCase(),to:ot.substr(2,2)}):et.push({from:ot.substr(0,2),to:ot.substr(2,2)}):et.push({from:ot.substr(0,2),to:ot.substr(2,2),promotion:ot[4]});return et}function Ce(w,Te){return w.san===Te.san||w.to===Te.to&&(w.from===Te.from||!w.from&&!Te.from)&&(w.promotion===Te.promotion||!w.promotion&&!Te.promotion)&&(w.drop===Te.drop||!w.drop&&!Te.drop)}function Lt(w,Te,Ae){var Ne=[],et,ot,Be,ae,Le,Ve,tt,De,_t,fn,Kn=1,Vn=8,Jr=1,D=8,pe={verbose:!0};for(fn=w.turn(),_t=3-fn,ae=Ze("/",Te),ae.turn(_t),Ae&&(Kn=Vn=+Ae[1],Jr=D=Ae.charCodeAt(0)-96),et=Kn;et<=Vn;++et)for(ot=Jr;ot<=D;++ot)Le=String.fromCharCode(ot+96)+et,Be=w.get(Le),Be&&Be.color===_t&&(ae.put(Be,Le,!0),Be.type==="p"?(Ve=String.fromCharCode(ot-1+96)+(et+(_t===1?1:-1)),tt=String.fromCharCode(ot+1+96)+(et+(_t===1?1:-1)),ae.put({type:"n",color:fn},Ve,!0),ae.put({type:"n",color:fn},tt,!0)):Be.type==="k"&&(De=w.fen().split(" ")[2],De!=="-"&&ae.load(ae.fen().replace(/^(\S+\s\S\s)(\S+)/,"$1"+De),Te,!0,!0)),Ne=Ne.concat(ae.moves(pe)),ae.remove(Le,!0),Be.type==="p"&&(ae.remove(Ve,!0),ae.remove(tt,!0)));return Te&&w.hand()&&(ae._hand[_t]=18721,Ne=Ne.concat(ae.moves({verbose:!0}).filter(function(ne){return!Ae||ne.to===Ae}))),Ne.forEach(function(ne){Ar(ne)}),Ne}function Gn(w,Te){var Ae=w.header().Variant,Ne=Lt(w,Ae,Te.from),et,ot,Be,ae,Le,Ve=3-w.turn();for(et=Ne.length-1;et>=0;--et)if(ot=Ne[et],Ce(ot,Te)){Be=!0;break}if(Be)return ot.drop?w.put({type:ot.drop,color:Ve},ot.to):(ae=w.remove(ot.from,!0),ot.flags===se.FLAGS.KSIDE_CASTLE?(Le=w.remove(Ae==="Chess960"?ot.to:"h"+ot.from[1],!0),w.put(ae,"g"+ot.from[1],!0),w.put(Le,"f"+ot.from[1])):ot.flags===se.FLAGS.QSIDE_CASTLE?(Le=w.remove(Ae==="Chess960"?ot.to:"a"+ot.from[1],!0),w.put(ae,"c"+ot.from[1],!0),w.put(Le,"d"+ot.from[1])):(ot.promotion&&(ae.type=ot.promotion,ae.promoted=!0),Le=w.get(ot.to),w.put(ae,ot.to,ae.type!=="k"&&ae.type!=="r"&&(!Le||Le.color!==Ve||Le.type!=="r")))),ot;if(Te.from&&(w.turn(Ve),Te=w.fixMove(Te),w.turn(3-Ve),Te))return Gn(w,{san:Te,from:Te.from})}function br(w,Te){var Ae=Te?{}:[],Ne=w._board(),et,ot,Be;if(Te)for(et=112;et>=0;++et)et&136&&(et-=24),(ot=Ne[et])&&(Be=C[et&7]+(8-(et>>4)),Ae[Be]={type:mt[ot&bt],color:ot&3,promoted:(ot&g)!==0,square:Be});else for(et=112;et>=0;++et)et&136&&(et-=24),(ot=Ne[et])&&Ae.push({type:mt[ot&bt],color:ot&3,promoted:(ot&g)!==0,rank:8-(et>>4),file:(et&7)+1});return Ae}function _r(w,Te){var Ae=Math.min(Math.max(.20773843*Math.atan(2.49085889*w/100-2.47841945*Te/100)+.02262979*w/100-.02256839*Te/100+.52239679,0),1),Ne=Math.min(Math.max(-.20720905*Math.atan(2.49626837*w/100-2.48220286*Te/100)+-.02352551*w/100+.02172627*Te/100+.49443923,0),1),et=Math.min(Math.max(Math.exp(.037043456*w/100+.178106427*Te/100+-8.069742932)+.004823544*Math.exp(-1.364136591*Math.pow(w/100-Te/100,2))+-.001625539,0),1),ot=Ae+Ne+et;return{w:Ae/ot,b:Ne/ot,d:et/ot}}function dn(w,Te){var Ae,Ne,et,ot;if(w=w||{},w.disableHashing=!0,Ae=_n(w),!Ae)return null;if(Te){if(et=Ae.move(Te),!et)return null;Ae.extended||Ar(et)}return ot=Ae.fen(),!w.skipValidation&&!Ae.isPositionValid(w)?null:(Ne=ot.split(" "),{fen:ot,pieces:br(Ae),sideToMove:Ae.turn(),castling:Ne[2],epSquare:Ne[3]==="-"?null:Ne[3],halfMoves:+Ne[4],moveNumber:+Ne[5],move:et,hand:Ae.hand(),checks:Ae.checks()})}function Qt(w){var Te=_n(w),Ae,Ne,et,ot,Be,ae,Le=[""],Ve=[],tt,De,_t;if(!Te)return!1;for(De=Te.header(),_t=De.Variant||"",ae=Te.hashes(),Ae=typeof Te.origHistory=="function"?Te.origHistory(!0):Te.history(!0),Be=ae.length,Ne=[ae[0][0],ae[0][1]],Ve.push(Q.to64BitHex(Ne)+_t),ae[0]=Q.to64BitHex(ae[0]),et=1;et<Be;++et)Ne[0]=(Ne[0]^ae[et][0]*(et+58465))>>>0,Ne[1]=(Ne[1]^ae[et][1]*(et+984))>>>0,ae[et]=Q.to64BitHex(ae[et]),Ve.push(Q.to64BitHex(Ne)+_t),ot=et-1,Ar(Ae[ot]),tt=(Ae[ot].from?Ae[ot].from:Ae[ot].drop.toUpperCase()+"@")+Ae[ot].to+(Ae[ot].promotion||""),ot&&(tt=Le[ot]+" "+tt),Le.push(tt);return{startingFen:De.FEN||Gt,hashes:ae,fingerprints:Ve,moves:Le,variant:De.Variant}}function ht(w,Te,Ae,Ne){var et,ot,Be,ae,Le,Ve,tt,De,_t,fn,Kn;for(Ae=Ae||{},typeof Te=="string"&&(Te=Te.trim().split(" ")),Be=Te.length,et=0;et<Be;et+=1){if(Te[et].board==="b"||Te[et].board==="B"?Le=w.siblingGame:Le=w,typeof Te[et].moveLan=="string"?Ve=Qe(Te[et].moveLan)[0]:typeof Te[et]=="string"?Ve=Qe(Te[et])[0]:Te[et].san?Ve=Te[et].san:Ve=Te[et],!Le.move(Ve))if(Ae.autoPromote){if(Ae.autoPromote===!0?Ve.promotion="q":Ve.promotion=Ae.autoPromote,!Le.move(Ve)){if(Ae.skipBadLines)break;return!1}}else{if(Ae.skipBadLines)break;return!1}if(tt=Le._history(),De=tt[tt.length-1],Ne&&(_t=parseInt(Ne[et],10)),(typeof _t!="number"||isNaN(_t))&&(_t=parseInt(Te[et].time,10)),typeof _t=="number"&&!isNaN(_t)&&(De.time=_t,_t=void 0),Te[et].firstComment&&(tt.initComment=Te[et].firstComment),Te[et].comment&&(De.comment=Te[et].comment),Te[et].annotation&&(De.annotation=Te[et].annotation),Te[et].additionalAnnotation&&(De.additionalAnnotation=Te[et].additionalAnnotation),Te[et].commands&&(De.commands=Te[et].commands),Te[et].lines)for(ae=Te[et].lines.length,ot=0;ot<ae;++ot){if(fn=w._history().id,w.createVariation(),Kn=ht(w,Te[et].lines[ot],Ae),!Kn&&!Ae.skipBadLines)return!1;w.selectLine(fn)}}return!0}function Ye(w,Te,Ae){var Ne=[Ee(Te[0]),Ee(Te[1])],et=[0,0],ot=[0,0],Be=Ne[0].length+Ne[1].length,ae=Math.max(Ae[0][0]|0,Ae[0][1]|0,Ae[1][0]|0,Ae[1][1]|0),Le,Ve=[0,0],tt=[0,0],De,_t;for(ae+=600-ae%600,Le=[[ae,ae],[ae,ae]];Be--;){if(tt[0]=Ve[0]+Le[0][ot[0]]-Ae[0][et[0]]||0,tt[1]=Ve[1]+Le[1][ot[1]]-Ae[1][et[1]]||0,De=tt[0]<=tt[1]?0:1,Ne[De][et[De]]||(De^=1),_t=De?w.siblingGame:w,(!_t.move(Ne[De][et[De]])||Be&&_t.inCheckmate()&&_t.undo(!0))&&(De^=1,_t=De?w.siblingGame:w,!_t.move(Ne[De][et[De]])))return!1;_t._history()[et[De]].time=Ae[De][et[De]],Le[De][ot[De]]=Ae[De][et[De]],Ve[De]=tt[De],ot[De]^=1,++et[De]}return!0}function cn(w){var Te,Ae=-1,Ne=0,et;function ot(ae,Le,Ve){for(var tt=ae[Le],De;typeof(De=tt.parentId)=="number";){if(De===Ve)return tt.atMoveNode;tt=ae[De]}return!1}function Be(ae,Le){var Ve={moveTime:ae.moveTime,firstComment:ae.firstComment,comment:ae.comment,annotation:ae.annotation,additionalAnnotation:ae.additionalAnnotation,commands:ae.commands};Object.keys(Ve).forEach(function(tt){ae[tt]=Le[tt],Le[tt]=Ve[tt]})}w.extended||(w.extended=!0,Te={header:w.header,load:w.load,loadPgn:w.loadPgn,createVariation:w.createVariation,undo:w.undo,pgn:w.pgn},w._move=w.move,w.undo=function(){return w.siblingGame?w.deleteBughouseMove(w.curBughouseMove()):w.deletePosition(Ae,Ne)},w.getMove=function(ae){return ae&&(typeof ae=="string"||ae.to&&(ae.from||ae.drop))&&w._move(ae)&&Ar(Te.undo())||null},w.premove=function(){var ae,Le=[];return{queue:Le,move:function(Ve){var tt;return ae=ae||Ze(w.fen(),w.header().Variant),tt=Gn(ae,Ve),!tt||Ne||Ae!==w._history().length-1?(Le.length||(ae=void 0),null):(Le.push(tt),tt)},consume:function(){var Ve=Le.shift(),tt,De,_t;if(Ve){if(tt=w.move(Ve),tt){if(ae=void 0,De=Le.length,De)for(ae=Ze(w.fen(),w.header().Variant),_t=0;_t<De;++_t)Gn(ae,Le[_t]);return tt}w.premove.cancel()}},moves:function(Ve){return!Ne&&Ae===w._history().length-1&&Lt(ae||w,w.header().Variant,Ve)},getPieces:function(Ve){return br(ae||w,Ve)},fen:function(){return(ae||w).fen()},cancel:function(){Le.length=0,ae=void 0}}}(),w.getPieces=function(ae){return br(w,ae)},w.material=function(){var ae=w.getPieces(),Le={imbalance:0,white:{p:8,n:2,b:2,r:2,q:1,count:0},black:{p:8,n:2,b:2,r:2,q:1,count:0}},Ve,tt={p:1,n:3,b:3,r:5,q:9,k:0},De,_t;for(Ve=ae.length-1;Ve>=0;--Ve)ae[Ve].color===1?(De=Le.white,_t=Le.black):(De=Le.black,_t=Le.white),_t[ae[Ve].type]&&--_t[ae[Ve].type],De.count+=tt[ae[Ve].type];return Le.imbalance=Le.white.count-Le.black.count,Le},w.origHistory=w.history,w.history=function(ae,Le){var Ve=[],tt,De=w._history(),_t=De.length,fn=w._lines(),Kn,Vn;for(typeof ae=="boolean"&&(ae={verbose:ae}),ae=ae||{},Le&&(ae.noParentLines=Le),ae.toCurrent&&(_t=w.ids().move+1);;){if(--_t===-1)if(De.id&&!ae.noParentLines){_t=De.atMoveNode,De=fn[De.parentId];continue}else break;if(ae.verbose){tt={};for(Kn in De[_t])if(De[_t][Kn]&&typeof De[_t][Kn]=="object"){tt[Kn]=De[_t][Kn].constructor===Array?[]:{};for(Vn in De[_t][Kn])tt[Kn][Vn]=De[_t][Kn][Vn]}else tt[Kn]=De[_t][Kn];Ve.unshift(tt)}else Ve.unshift(De[_t].san)}return Ve},w._getPos=function(ae,Le){var Ve,tt,De;return typeof ae!="number"&&(ae=Ae),typeof Le!="number"&&(Le=Ne),tt=w._lines(),Ve=tt[Le],ae>=0?Ve[ae]:Ve.id?Ve.atMoveNode?tt[Ve.parentId][Ve.atMoveNode-1]:w._getPos(Ve.atMoveNode-1,Ve.parentId):(De={fen:Te.header().FEN||Gt,hash:Ve.hash,initial:!0,ids:{move:-1,line:0}},w.siblingGame&&(De.bughouseOrder=-1),De)},w.move=function(ae,Le){var Ve,tt=w._history(),De,_t,fn;if(ae&&(typeof ae=="string"||ae.to&&(ae.from||ae.drop))){if(Ne===tt.id&&Ae<tt.length-1||Le){if(w.moveForward(Le,ae))return!0;Ae<tt.length-1&&(w.selectPosition(Ae+1),w.createVariation(),tt=w._history())}w.siblingGame&&(_t=w.isDependent?w.siblingGame.fen():w.fen()),Ve=w._move(ae),Ve&&(Ar(Ve),Ne=tt.id,Ae=tt.length-1,De=tt[Ae],fn=w._getPos(Ae-1),w.siblingGame?(De.fen=w.isDependent?w.siblingGame.fen():w.fen(),De.beforeFen=_t,De.siblingIds=w.siblingGame.ids()):(De.fen=w.fen(),De.beforeFen=fn.fen),fn.initial?(De.moveNumber=0,De.previous=null):(De.moveNumber=fn.moveNumber+1,De.previous=fn.ids),Ne&&Ae===0&&w._lines()[tt.parentId][tt.atMoveNode].move===De.move&&(De.isContinuation=!0),De.flags=Ve.flags,De.to=Ve.to,De.from=Ve.from,De.drop=Ve.drop,De.capturedStr=Ve.captured,De.promotion=Ve.promotion,De.piece=Ve.piece,Ve.promoted&&(De.promoted=!0),Ve.capturedPromotedPawn&&(De.capturedPromotedPawn=!0),De.ids={move:Ae,line:Ne})}return Ve},w.moveDetails=function(ae){return ae=ae||w._history()[Ae],ae&&(ae.lines=ae.lines||null,ae.flags===se.FLAGS.KSIDE_CASTLE?(ae.rookFrom=w.header().Variant==="Chess960"?ae.to:"h"+ae.to[1],ae.rookTo="f"+ae.to[1],ae.kingTo="g"+ae.to[1]):ae.flags===se.FLAGS.QSIDE_CASTLE?(ae.rookFrom=w.header().Variant==="Chess960"?ae.to:"a"+ae.to[1],ae.rookTo="d"+ae.to[1],ae.kingTo="c"+ae.to[1]):ae.flags===se.FLAGS.EP_CAPTURE&&(ae.epCapture=ae.to[0]+ae.from[1])),ae},w.header=w.headers=function(ae){var Le=Te.header(ae);return w.siblingGame&&cn(w.siblingGame),Le},w.load=function(ae,Le,Ve,tt){var De=Te.load(ae,Le,Ve,tt);return w.siblingGame&&cn(w.siblingGame),De&&!Ve&&(Ae=-1,Ne=0),De},w.removeEmptyLines=function(){var ae=w._lines(),Le,Ve;for(Le=ae.length-1;Le>0;--Le)ae[Le].length||(ae[Le]=void 0,Ve=!0);Ve&&w.reorderLines()},w.loadPgn=function(ae,Le,Ve){var tt=Te.loadPgn(ae,Le,Ve),De=w._history();return w.removeEmptyLines(),Ae=De.length-1,Ne=De.id,Ne&&w.selectLine(0),tt},w.ids=function(){return{move:Ae,line:Ne}},w.selectLine=function(ae){w.selectPosition(null,ae)},w.curBughouseMove=function(){return Math.max(w._getPos().bughouseOrder,w.siblingGame._getPos().bughouseOrder)},w.deleteBughouseMove=function(ae){var Le=w.curBughouseMove(),Ve=!1,tt=w,De,_t,fn;if(ae>=0)for(Le>=ae&&w.selectBughouseMove(ae-1);;){for(De=tt._history(),_t=De.length,fn=0;fn<_t;++fn)if(De[fn].bughouseOrder>=ae){De.length=fn,Ve=!0;break}if(tt===w.siblingGame)break;tt=w.siblingGame}return Ve},w.selectBughouseMove=function(ae){var Le=w.isDependent?w.siblingGame:w,Ve=Le,tt,De;if(ae===-1)return Ve.selectPosition(-1,0,!0),Ve.siblingGame.selectPosition(-1,0,!0),Le.load(Le.header().FEN,"Bughouse",!0,!0);for(;;){for(tt=Ve._history(),De=tt.length-1;De>=0;--De)if(tt[De].bughouseOrder===ae)return Ve.selectPosition(tt[De].ids.move,0,!0),Ve.siblingGame.selectPosition(tt[De].siblingIds.move,0,!0),Le.load(tt[De].fen,"Bughouse",!0,!0);if(Ve===Le.siblingGame)return!1;Ve=Le.siblingGame}},w.moveBackward=function(ae){var Le;if(w.siblingGame)return w.selectBughouseMove(w.curBughouseMove()-1);if(Ae<=1)if(Ne===0){if(Ae===-1)return!1;w.selectPosition(Ae-1)}else Le=w._getPos(Ae-1,Ne),Le.isContinuation&&!ae&&(Le=w._getPos(Le.ids.move-1,Le.ids.line),Le=w._getPos(Le.ids.move+1,Le.ids.line)),w.selectPosition(Le.ids.move,Le.ids.line);else w.selectPosition(Ae-1);return!0},w.moveForward=function(ae,Le){var Ve=w._lines(),tt,De,_t,fn,Kn,Vn;if(w.siblingGame)return w.selectBughouseMove(w.curBughouseMove()+1);if(tt=Ve[Ne][Ae+1],typeof Le=="string"&&(Le={san:Le}),!tt||Le&&!Ce(Le,tt)){if(Le&&tt&&tt.lines){for(Kn=tt.lines.length,fn=0;fn<Kn;++fn)if(_t=Ve[tt.lines[fn]][0],_t&&Ce(Le,_t)){tt=_t,Vn=!0;break}}if(!Vn&&ae&&(De=Ve[Ne][Ae],De&&De.lines)){for(Kn=De.lines.length,fn=0;fn<Kn;++fn)if(_t=Ve[De.lines[fn]][0],_t&&_t.isContinuation&&(_t=Ve[De.lines[fn]][1],_t&&(!Le||Ce(Le,_t)))){tt=_t,Vn=!0;break}}if(!Vn){try{if(Le&&Le.san&&(Le=w.fixMove(Le.san))||Le&&Le.to&&Le.from&&Math.abs(Le.to.charCodeAt(0)-Le.from.charCodeAt(0))>1&&(Le=w.fixMove(Le)))return w.moveForward(ae,Le)}catch{}return!1}}return w.selectPosition(tt.ids.move,tt.ids.line)},w.moveVariation=function(ae,Le){var Ve=w._lines(),tt=Ve[ae],De,_t,fn;if(tt&&tt.id){for(De=Ve[tt.parentId][tt.atMoveNode].lines,_t=De.length-1;_t>=0;--_t)if(De[_t]===ae&&(fn=_t-(Le?1:-1),De[fn]))return De[_t]=De[fn],De[fn]=ae,w.reorderLines(),!0}return!1},w.promoteVariation=function(ae,Le){for(var Ve=w._lines(),tt=Ve[ae],De,_t,fn,Kn,Vn,Jr;tt&&tt[0]&&tt.id&&(Le!==-1||tt.parentId);){for(fn=tt.parentId,De=Ve[fn],Kn=tt.atMoveNode,tt[0].lines=De[Kn].lines.concat(tt[0].lines||[]),De[Kn].lines=void 0,Jr=De.length-Kn,_t=De.splice(Kn,Jr),Vn=0;Vn<Jr;++Vn)_t[Vn].ids.line=ae,_t[Vn].ids.move=Vn;for(_t.id=ae,_t.parentId=fn,_t.atMoveNode=Kn,_t.hash=tt.hash,Kn===0?(_t.initComment=De.initComment,De.initComment=tt.initComment):tt.initComment&&(De[Kn-1].comment=((De[Kn-1].comment||"")+" "+tt.initComment).trim()),Ve[ae]=_t,Jr=tt.length,Vn=0;Vn<Jr;++Vn)tt[Vn].ids.line=fn,tt[Vn].ids.move=Vn+Kn,De.push(tt[Vn]);for(_t[0].isContinuation=!!tt[0].isContinuation,De[Kn].isContinuation=!Kn&&typeof De.parentId=="number"&&Ve[De.parentId][De.atMoveNode].move===De[0].move,Jr=De[Kn].lines.length,Vn=0;Vn<Jr;++Vn)Ve[De[Kn].lines[Vn]].atMoveNode=Kn,Ve[De[Kn].lines[Vn]][0]&&(Ve[De[Kn].lines[Vn]][0].isContinuation=Ve[De[Kn].lines[Vn]][0].move===De[Kn].move);if(Ne===ae?(Ne=fn,Ae+=Kn):Ne===fn&&Ae>=Kn&&(Ne=ae,Ae-=Kn),Le===1)break;ae=fn,tt=Ve[ae]}return De!==void 0?(w._history(Ve[Ne]),w.reorderLines(),!Ae&&Ve[Ne][0].isContinuation&&w.selectPosition(Ve[Ne].atMoveNode,Ve[Ne].parentId),!0):!1},w.reorderLines=function(ae,Le){var Ve=w._lines(),tt,De,_t,fn,Kn,Vn,Jr,D,pe,ne,we=!1;for(ae?pe=Le.length-1:(ae=0,Le=[Ve[0]],pe=0,et=!1),tt=Ve[ae],_t=tt.length,De=0;De<_t;++De)if(fn=tt[De],fn.ids.line!==pe&&(we=!0,fn.ids.line=pe),fn.lines)for(Kn=fn.lines.length,Vn=0;Vn<Kn;++Vn)Jr=fn.lines[Vn],D=Ve[Jr],D?(D.atMoveNode=De,ne=Le.length,fn.lines[Vn]=ne,D.parentId=pe,!et&&Jr===Ne&&(et=!0,Ne=ne),Le.push(D),we=w.reorderLines(Jr,Le)||we):(fn.lines.length===1?delete fn.lines:fn.lines.splice(Vn,1),--Vn,--Kn);return ae||w.saveLines(Le,!0),we},w.createVariation=function(){var ae=w._history(),Le=w._lines(),Ve,tt,De;return Ae===ae.length-1?(Ve=Te.createVariation(),ae=w._history(),Ae=ae.length-1,Ne=ae.id,Ve):Ae===-1?!1:(tt=[],De=ae[Ae],tt.parentId=ae.id,tt.id=Le.length,De.lines||(De.lines=[]),De.lines.push(tt.id),tt.hash=w._getPos(Ae-1).hash,tt.atMoveNode=Ae,Le.push(tt),w.selectPosition(-1,tt.id))},w.selectLineEnd=function(ae){return w.siblingGame?w.selectBughouseMove(w._history().length+w.siblingGame._history().length-1):(typeof ae!="number"&&(ae=Ne),ae!==Ne||Ae<w._history().length-1?w.selectPosition(null,ae,!0):!1)},w.selectLineStart=function(){var ae,Le;return w.siblingGame?w.selectBughouseMove(-1):Ne?(Ae>1||Ae===1&&!w._getPos(0).isContinuation?ae=w._history():(Le=w._getPos(-1),ae=w._lines()[Le.ids.line]),w.selectPosition(ae.id?ae[1]&&ae[0].isContinuation?1:0:-1,ae.id)):Ae===-1?!1:w.selectPosition(-1,0)},w.selectPosition=function(ae,Le,Ve){var tt=w._lines(),De=w._history();if(typeof Le=="number"&&(Le!==Ne||Ve)){if(Le<0||Le>=tt.length)return!1;if(De=tt[Le],typeof ae!="number")ae=De.length-1;else if(ae<-1||ae>=De.length)return!1;Ne=Le,w._history(De),Ve=!0}if(typeof ae=="number"&&(ae!==Ae||Ve)){if(ae<-1||ae>=De.length)return!1;Te.load(w._getPos(ae).fen,Te.header().Variant,!0,!0),Ae=ae}return!0},w.resetToMainLine=function(){var ae=w._lines();w.selectLineEnd(0),ae.length>1&&(ae.length=1,w.reorderLines())},w.updateNode=function(ae,Le,Ve){var tt=w._lines(),De,_t;Ve=typeof Ve=="number"?Ve:Ne,Le=typeof Le=="number"?Le:Ae,De=tt[Ve][Le]||tt[Ve];for(_t in ae)De[_t]=ae[_t]},w.updateLineComment=function(ae,Le){w.updateNode({initComment:ae},-1,Le)},w.saveLines=function(ae,Le){var Ve=w._lines(),tt,De=ae.length,_t,fn;for(ae!==Ve&&(Ve.length=0),_t=0;_t<De;++_t){if(tt=ae[_t],_t&&typeof tt.parentId!="number")return!1;ae!==Ve&&Ve.push(tt),tt.id=_t}return w._history(w._history()),Le||(fn=w.ids(),w.selectPosition(-1,0,!0),w.selectPosition(fn.move,fn.line)),!0},w.deletePosition=function(ae,Le){var Ve=w._lines(),tt,De;return!Ve[Le]||!Ve[Le][ae]&&(ae!==-1||Le===0)?!1:(Le&&(ae===0||ae===1&&Ve[Le][0].isContinuation)&&(ae=-1),Ne>0&&Le!==Ne?(tt=ot(Ve,Ne,Le),De=tt!==!1&&tt>=ae):De=Le===Ne&&ae<=Ae,De&&(ae>1?w.selectPosition(ae-1,Le):(w.selectPosition((Ve[Le][0].isContinuation||ae===1)&&Ve[Le][1]?1:0,Le),w.moveBackward())),ae>0?Ve[Le].length=ae:Le?Ve[Le]=null:Ve[0].length=0,w.reorderLines(),w.ids())},w.mark=function(ae,Le){var Ve=Ae<0?w._lines()[Ne]:w._lines()[Ne][Ae],tt=ae.type,De=1;ae.color&&(tt==="arrow"?w.mark({key:ae.color+ae.key,type:"cal"},Le):tt==="square"&&w.mark({key:ae.color+ae.key,type:"csl"},Le)),tt!=="cal"&&tt!=="csl"&&(tt="c_"+tt,De=0),Ve.commands&&Ve.commands[tt]&&(Ve.commands[tt]=Ve.commands[tt].split(",").filter(function(fn){return fn.slice(De).split(";")[0]!==ae.key.slice(De)}).join(","),Ve.commands[tt]||delete Ve.commands[tt]),Le||(Ve.commands||(Ve.commands={}),Ve.commands[tt]=(Ve.commands[tt]?Ve.commands[tt]+",":"")+ae.key+(ae.data?";"+ae.data.join(";"):""))},w.markings=function(){var ae={},Le=Ae<0?w._lines()[Ne]:w._lines()[Ne][Ae],Ve,tt,De,_t={cal:"arrow",csl:"square"},fn,Kn,Vn,Jr,D;for(tt in Le.commands){if(De=Le.commands[tt],_t[tt])tt=_t[tt],fn=0;else if(tt.substr(0,2)==="c_")tt=tt.slice(2),fn=1;else continue;for(ae[tt]=ae[tt]||{},Kn=De.split(","),Vn=Kn.length,Ve=0;Ve<Vn;++Ve)fn?(Jr=Kn[Ve].split(";"),D=Jr.shift(),ae[tt][D]=ae[tt][D]||{type:tt,key:D},ae[tt][D].data=Jr):(D=Kn[Ve].slice(1),ae[tt][D]=ae[tt][D]||{type:tt,key:D},ae[tt][D].color=Kn[Ve][0])}return ae},w.clearMarkings=function(){var ae=Ae<0?w._lines()[Ne]:w._lines()[Ne][Ae],Le;for(Le in ae.commands)/^c[sa]l$|^c_/.test(Le)&&delete ae.commands[Le]},w.pgn=function(ae){var Le=w.ids(),Ve;return w.selectLineEnd(0),Ve=Te.pgn(ae),w.selectPosition(Le.move,Le.line),Ve},w.loadMoves=function(ae,Le){var Ve,tt,De,_t,fn;if(Le=Le||{},typeof ae=="string"&&(ae=Ee(ae)),ae){for(Le.atCurrent||w.selectPosition(-1,0),De=Ne,tt=ae.length,Ve=0;Ve<tt;++Ve){if(_t=w.move(ae[Ve],!0),!_t&&(ae[Ve].promotion=Le.autoPromote===!0?"q":Le.autoPromote,_t=w.move(ae[Ve],!0),!_t))return!1;Ne!==De&&Le.method!=="merge"&&(w.promoteVariation(Ne,1),Le.method!=="promote"&&(w._history()[Ae].lines=void 0,w.reorderLines()),De=Ne)}if(Le.method==="promote"){if(tt){for(w._history()[Ae+1]&&(_t=w._history()[Ae],w.createVariation(),w.move(_t),Be(w._history()[0],_t),w.promoteVariation(Ne,1)),fn=w._lines(),Ve=fn.length-1;Ve>=0;--Ve)fn[Ve].length===1&&fn[Ve][0].isContinuation&&(Be(fn[Ve][0],fn[fn[Ve].parentId][fn[Ve].atMoveNode]),fn[Ve].length=0);w.removeEmptyLines()}}else Le.method!=="merge"&&w.deletePosition(Ae+1,Ne)}return!0})}function _n(w){var Te,Ae;if(w=w||{},w.game)return w.game;if(Te=Ze(),w.analysis&&cn(Te),w.disableHashing&&Te.hashing(!1),w.pgn){if(!Te.loadPgn(w.pgn,w.index,w.options)&&(w.variant!=="detect"||!Ze.variants.some(function(Ne){return w.options=w.options||{},w.options.variant=Ne,Te.loadPgn(w.pgn,w.index,w.options)})))return!1}else{if(w.headers&&(w.variant=w.headers.Variant||w.variant,w.fen||(w.fen=w.headers.FEN)),w.variant==="detect"&&w.fen&&(w.fen.indexOf("|")>-1?w.variant="Bughouse":w.fen.split("/").length===9?w.variant="Crazyhouse":w.fen.indexOf("+")>-1?w.variant="3-check":w.variant=void 0),(w.fen||w.variant)&&!Te.load(w.fen||Gt,w.variant))return!1;w.headers&&typeof w.headers=="object"&&!Array.isArray(w.headers)&&Te.header(w.headers)}if(w.tcn)if(typeof w.tcn=="object"){if(!Ye(Te,w.tcn,w.timestamps||[[],[]]))return!1}else Ae=Ee(w.tcn);else Ae=w.moves;return Ae&&!ht(Te,Ae,w,w.timestamps)?!1:Te}function fr(w){var Te;return w=w||{},w.disableHashing=!0,Te=_n(w),Te?Te.pgn(w):!1}function or(w,Te){var Ae,Ne=[],et;if(se.reset(),!se.loadPgn(w))return!1;if(Ae=se.moveCount(),typeof Te=="number"){for(Te<0&&(Te=Ae+Te+1),et=Ae-1;et>=Te&&et>=0;et-=1)se.undo();return se.fen()}for(et=0;et<=Ae;et+=1)Ne.unshift(se.fen()),se.undo();return Ne}function Ar(w){return w&&(w.piece&g&&(w.promoted=!0),w.piece=mt[w.piece&bt],w.captured&&(w.captured&g&&(w.capturedPromotedPawn=!0),w.captured=mt[w.captured&Oe]),w.promotion&&(w.promotion=mt[w.promotion&bt]),w.drop!==void 0&&(w.drop=Bt[w.drop])),w}function Rn(w){var Te=w.history(!0,!0),Ae,Ne,et,ot,Be,ae,Le;if(w.siblingGame){for(Ae=w.siblingGame.history(!0,!0),et=Te.length+Ae.length,Ne=[],ot=0;ot<et;++ot)!Te.length||Ae.length&&Ae[0].bughouseOrder<Te[0].bughouseOrder?(Be=Ae.shift(),Be.board="b"):(Be=Te.shift(),Be.board="a"),Ne.push(Be);Te=Ne}for(et=Te.length,ot=0;ot<et;++ot)if(ae=Te[ot],ae.fen||Ar(ae),ae.lines)for(Le=ae.lines.length-1;Le>=0;--Le)w.selectLine(ae.lines[Le]),ae.lines[Le]=Rn(w).moves;return{moves:Te}}function Cr(w,Te,Ae){var Ne=[],et,ot=se;return typeof Te!="number"&&(Ae=Te,Te=void 0),et=ot.tokenizePgn(w,Ae),Te<0&&(Te=et.length+Te),et?(Ae&&Ae.includeFen&&(ot=_n({analysis:!0})),et.forEach(function(Be,ae){var Le,Ve;ae===Te||Te===void 0?ot.loadPgn([Be],0,Ae)?(Ve=Rn(ot),Le=ot.header(),Ne.push({headers:Le,moves:Ve.moves})):Ne.push(!1):Ne.push(void 0)}),typeof Te=="number"?Ne[Te]:Ne):!1}function Gr(w,Te,Ae){return se.reset(),se.load(Te,Ae)?Ar(se.move(w)):!1}function Lr(w,Te){return se.completeFen(w).split(" ").slice(0,Te||4).join(" ")}function xn(w,Te,Ae){return se.reset(),se.load(w,Ae),Te&&!ht(se,Te)?!1:se.fen()}function hn(w,Te){var Ae,Ne,et,ot;if(typeof w=="string"){if(Ne=se,Ne.reset(),!Ne.load(w,Te))return null}else Ne=_n(w);for(Ae=Ne.moves({verbose:!0}),ot=Ae.length,et=0;et<ot;++et)Ar(Ae[et]);return Ae}function jn(w,Te,Ae){var Ne,et={gameOver:!1,check:!1,checkmate:!1,draw:!1,stalemate:!1,threefold:!1,insufficient:!1},ot;if(Array.isArray(Te)||(Ae=Te,Te=null),typeof Ae=="boolean"?(Ne=Ae,Ae={}):(Ae=Ae||{},Ne=Ae.variant),typeof w=="string"){if(ot=se,ot.reset(),ot.validateFen(w,Ne)!==0||!ot.load(w,Ne))return!1}else ot=_n(w);return Te&&!ht(ot,Te)?!1:(Ae.getLegalMoves&&(et.legalMoves=hn({game:ot})),ot.inCheck()?(et.check=!0,et.checkmate=ot.inCheckmate()):et.stalemate=ot.inStalemate(),et.threefold=ot.inThreefoldRepetition(),et.insufficient=ot.insufficientMaterial(Ae.color),et.fiftyMoveRule=ot.in50MoveRule(),et.draw=et.stalemate||et.threefold||et.insufficient||et.fiftyMoveRule||ot.inDraw(),Ae.skipValidation||(et.isValid=ot.isPositionValid(Ae)),Ne&&(et.variantWin=ot.isVariantWin(),et.variantWin===void 0&&(et.variantWin=ot.isBughouseWin())),et.gameOver=et.checkmate||et.draw||Boolean(et.variantWin),et)}function yt(w,Te){return se.validateFen(w,Te)===0}function mn(w,Te){Q.loadBook(w,function(Ne,et){if(!et||!et.json)return Te(Ne||new Error("Invalid book"));Te(Ne,function(Be){var ae,Le,Ve,tt,De,_t,fn,Kn,Vn;if(Be.hash)typeof Be.hash=="string"?Le=[Q.hex64ToDec(Be.hash)]:Le=[Be.hash],tt=1;else{if(ae=_n(Be),!ae)return!1;Le=ae.hashes(),tt=Le.length}for(Ve=0;Ve<tt;++Ve)if(De=et.json[Q.to64BitHex(Le[Ve])],De){if(De.constructor===Array)if(_t&&De[0].m.indexOf(_t.m)===-1){for(Kn=De.length-1;Kn>=0;--Kn)if(!Kn||De[Kn].m.indexOf(_t.m)!==-1){Vn=De[Kn],Vn.e=De[0].e,Vn.s=De[0].s,Vn.mate=De[0].mate,Vn.v=De[0].v,Vn.h=De[0].h,Vn.n=Vn.n||De[0].n,Vn.u=Vn.u||De[0].u,Vn.c=Vn.c||De[0].c;break}}else Vn=De[0];else Vn=De;(Vn.n||Be.allowNameless)&&(_t=Vn)}else Be.mustEndInBook&&(_t=void 0);if(_t)return fn={name:_t.n},_t.m&&(fn.moves=_t.m),_t.d!==void 0&&(fn.sdiff=_t.d/100),_t.c&&(fn.code=_t.c,fn.url=_t.u||_t.n.replace(/[\u00e1-\u00e5]/g,"a").replace(/[\u0107\u010d]/g,"c").replace(/[\u00e9\u00e8\u0117\u0113]/g,"e").replace(/[\u00f3\u00f6\u00f8]/g,"o").replace(/[\u016f\u00fc]/g,"u").replace(/['+,]/g,"").replace(/[^a-z0-9.]+/ig,"-").replace(/(with-\d|St)\.+-?/,"$1-")),_t.e?(fn.eval=_t.e,fn.depth=_t.h,fn.score=_t.e[0].cp/100,_t.e[0].mate!==void 0&&(fn.mate=_t.e[0].mate)):(fn.score=_t.s/100,_t.mate!==void 0&&(fn.mate=_t.mate)),_t.v&&(fn.bad=!0),fn},et.json)})}function bn(w,Te){return Xe=Xe||L(bn),Xe(w,Te)}return bn.supportsMultithreading=function(){var w,Te=Boolean(bn._hasThreads);if(typeof bn._hasThreads!="boolean"){try{w=new Worker("data:application/javascript,"),w.postMessage(new SharedArrayBuffer(1)),Te=!0}catch{}try{w.terminate()}catch{}bn._hasThreads=Te}return Te},bn.gameFingerprints=Qt,bn.getFenFromMoves=xn,bn.getLegalMoves=hn,bn.getPositionInfo=jn,bn.isFenValid=yt,bn.encodeTCN=Me,bn.decodeTCN=Ee,bn.uciToObj=Qe,bn.generatePgn=fr,bn.pgnToFen=or,bn.pgnToJson=Cr,bn.sanToObj=Gr,bn.completeFen=se.completeFen,bn.shortenFen=Lr,bn.createGame=_n,bn.getPositionDetails=dn,bn.predict=_r,bn.normalizeMoveObj=Ar,bn.FLAGS=se.FLAGS,bn.loadECO=mn,bn.CEE_LIB=function(){var w={};return w.addOptions=function(Te,Ae){for(var Ne in Ae)Ae[Ne]!==void 0&&Te.push("setoption name "+Ne+" value "+Ae[Ne]);return Te},w.addVariations=function(Te,Ae,Ne){var et,ot;Ae=Ae||[],Ne=Ne||"variation";for(var Be=0;Be<Ae.length;++Be)et=Ae[Be],et.pv=Array.isArray(et.pv)&&et.pv.join(" ")||et.pv||"",ot=Ne+" "+et.pv,typeof et.mateIn=="number"?ot+=" mate "+et.mateIn:typeof et.mate=="number"?ot+=" mate "+et.mate:ot+=" cp "+Math.round(et.cp),typeof et.depth=="number"&&(ot+=" depth "+et.depth),Te.push(ot);return Te},w.addPush=function(Te,Ae){var Ne;return typeof Ae=="string"&&(Ae={moveLan:Ae}),Ne="push "+Ae.moveLan,Ae.isBook&&(Ne+=" isBook"),Ae.isRetry&&(Ne+=" isRetry"),Te.push(Ne),Te},w.addPosition=function(Te,Ae){return Te.push("position fen "+Ae),Te},w.addVariant=function(Te,Ae){return String(Ae).toLowerCase().replace(/ |-/g,"")==="chess960"?(Te.push("setoption name UCI_Variant value chess"),Te.push("setoption name UCI_Chess960 value "+!0)):(Te.push("setoption name UCI_Variant value chess"),Te.push("setoption name UCI_Chess960 value "+!1)),Te},w}(),bn}();return ie.exports=fe,fe})()})(x);var F=x.exports;function M(){const ie=[];return{emit:Q,listeners:ie,off:Ze,offAll:L,offMany:fe,on:se,onAll:Xe,onMany:Gt,once:bt};function Q(Oe,mt){let Bt;for(Bt of ie)Bt.type!==Oe&&Bt.type!=="all"||Bt.handler(mt)}function Ze(Oe){const mt=ie.findIndex(Bt=>Oe.type===Bt.type&&Oe.handler===Bt.handler);mt!==-1&&ie.splice(mt,1)}function L(Oe){return Ze({handler:Oe,type:"all"})}function fe(Oe=[]){Oe.forEach(mt=>Ze(mt))}function se(Oe,mt){const Bt={handler:mt,type:Oe};ie.push(Bt)}function Xe(Oe){se("all",Oe)}function Gt(Oe=[],mt){Oe.forEach(Bt=>se(Bt,mt))}function bt(Oe,mt){const Bt={handler:(...g)=>{Ze(Bt),mt(...g)},type:Oe};ie.push(Bt)}}var T;(function(ie){(function(Q){(function(Ze){Ze.NoTransition="NoTransition",Ze.OnEnter="Enter",Ze.OnExit="Exit",Ze.OnReEnter="ReEnter"})(Q.Types||(Q.Types={}))})(ie.Event||(ie.Event={}))})(T||(T={}));function Ie({data:ie,initialState:Q,states:Ze},L=M()){let fe=Q;return Object.assign(Object.assign({},L),{getCurrentState:se,getData:Xe,transition:Gt});function se(){return fe}function Xe(){return Object.assign({},ie)}function Gt(bt,Oe){if(!Ze[fe][bt])return L.emit(T.Event.Types.NoTransition,{action:bt,data:ie,state:fe}),!1;const mt=Ze[fe][bt](Oe),Bt=typeof mt=="string"?mt:mt.nextState,g=C=>({action:bt,currentState:fe,data:ie,event:C,nextState:Bt,params:Oe});return fe!==Bt&&L.emit(T.Event.Types.OnExit,g(T.Event.Types.OnExit)),mt.data&&Object.assign(ie,mt.data),fe!==Bt&&L.emit(T.Event.Types.OnEnter,g(T.Event.Types.OnEnter)),fe===Bt?L.emit(T.Event.Types.OnReEnter,g(T.Event.Types.OnReEnter)):fe=Bt,!0}}const ee=["mousedown","keydown","touchstart","touchend"];let z=!1;function Se(ie){z||(z=!0,ee.forEach(Q=>window.addEventListener(Q,ie)))}function he(ie){z&&(z=!1,ee.forEach(Q=>window.removeEventListener(Q,ie)))}function Ge(ie,Q){function Ze(L){var fe;((fe=L?.data)===null||fe===void 0?void 0:fe.key)===ie&&(Q(),window.removeEventListener("message",Ze))}window.addEventListener("message",Ze)}const de=window.chesscom||{},k=window.AudioContext||window.webkitAudioContext;let at=Boolean(k);function Xt(){try{return new k}catch{return null}}function Rt(){return at}function on(ie){if(!!k){if(de.audioContext||(de.audioContext=Xt()),!de.audioContext||!de.audioContext.resume){at=!1,ie();return}de.audioContext.resume().then(()=>{at=!1,ie()})}}var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof j.g<"u"?j.g:typeof self<"u"?self:{};function nn(ie){var Q={exports:{}};return ie(Q,Q.exports),Q.exports}/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var Ct=nn(function(ie,Q){(function(){var Ze=function(){this.init()};Ze.prototype={init:function(){var g=this||L;return g._counter=1e3,g._html5AudioPool=[],g.html5PoolSize=10,g._codecs={},g._howls=[],g._muted=!1,g._volume=1,g._canPlayEvent="canplaythrough",g._navigator=typeof window<"u"&&window.navigator?window.navigator:null,g.masterGain=null,g.noAudio=!1,g.usingWebAudio=!0,g.autoSuspend=!0,g.ctx=null,g.autoUnlock=!0,g._setup(),g},volume:function(g){var C=this||L;if(g=parseFloat(g),C.ctx||Bt(),typeof g<"u"&&g>=0&&g<=1){if(C._volume=g,C._muted)return C;C.usingWebAudio&&C.masterGain.gain.setValueAtTime(g,L.ctx.currentTime);for(var Y=0;Y<C._howls.length;Y++)if(!C._howls[Y]._webAudio)for(var Ee=C._howls[Y]._getSoundIds(),Me=0;Me<Ee.length;Me++){var Qe=C._howls[Y]._soundById(Ee[Me]);Qe&&Qe._node&&(Qe._node.volume=Qe._volume*g)}return C}return C._volume},mute:function(g){var C=this||L;C.ctx||Bt(),C._muted=g,C.usingWebAudio&&C.masterGain.gain.setValueAtTime(g?0:C._volume,L.ctx.currentTime);for(var Y=0;Y<C._howls.length;Y++)if(!C._howls[Y]._webAudio)for(var Ee=C._howls[Y]._getSoundIds(),Me=0;Me<Ee.length;Me++){var Qe=C._howls[Y]._soundById(Ee[Me]);Qe&&Qe._node&&(Qe._node.muted=g?!0:Qe._muted)}return C},stop:function(){for(var g=this||L,C=0;C<g._howls.length;C++)g._howls[C].stop();return g},unload:function(){for(var g=this||L,C=g._howls.length-1;C>=0;C--)g._howls[C].unload();return g.usingWebAudio&&g.ctx&&typeof g.ctx.close<"u"&&(g.ctx.close(),g.ctx=null,Bt()),g},codecs:function(g){return(this||L)._codecs[g.replace(/^x-/,"")]},_setup:function(){var g=this||L;if(g.state=g.ctx&&g.ctx.state||"suspended",g._autoSuspend(),!g.usingWebAudio)if(typeof Audio<"u")try{var C=new Audio;typeof C.oncanplaythrough>"u"&&(g._canPlayEvent="canplay")}catch{g.noAudio=!0}else g.noAudio=!0;try{var C=new Audio;C.muted&&(g.noAudio=!0)}catch{}return g.noAudio||g._setupCodecs(),g},_setupCodecs:function(){var g=this||L,C=null;try{C=typeof Audio<"u"?new Audio:null}catch{return g}if(!C||typeof C.canPlayType!="function")return g;var Y=C.canPlayType("audio/mpeg;").replace(/^no$/,""),Ee=g._navigator?g._navigator.userAgent:"",Me=Ee.match(/OPR\/([0-6].)/g),Qe=Me&&parseInt(Me[0].split("/")[1],10)<33,Ce=Ee.indexOf("Safari")!==-1&&Ee.indexOf("Chrome")===-1,Lt=Ee.match(/Version\/(.*?) /),Gn=Ce&&Lt&&parseInt(Lt[1],10)<15;return g._codecs={mp3:!!(!Qe&&(Y||C.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!Y,opus:!!C.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!C.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!C.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(C.canPlayType('audio/wav; codecs="1"')||C.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!C.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!C.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(C.canPlayType("audio/x-m4a;")||C.canPlayType("audio/m4a;")||C.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(C.canPlayType("audio/x-m4b;")||C.canPlayType("audio/m4b;")||C.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(C.canPlayType("audio/x-mp4;")||C.canPlayType("audio/mp4;")||C.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!Gn&&C.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!Gn&&C.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!C.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(C.canPlayType("audio/x-flac;")||C.canPlayType("audio/flac;")).replace(/^no$/,"")},g},_unlockAudio:function(){var g=this||L;if(!(g._audioUnlocked||!g.ctx)){g._audioUnlocked=!1,g.autoUnlock=!1,!g._mobileUnloaded&&g.ctx.sampleRate!==44100&&(g._mobileUnloaded=!0,g.unload()),g._scratchBuffer=g.ctx.createBuffer(1,1,22050);var C=function(Y){for(;g._html5AudioPool.length<g.html5PoolSize;)try{var Ee=new Audio;Ee._unlocked=!0,g._releaseHtml5Audio(Ee)}catch{g.noAudio=!0;break}for(var Me=0;Me<g._howls.length;Me++)if(!g._howls[Me]._webAudio)for(var Qe=g._howls[Me]._getSoundIds(),Ce=0;Ce<Qe.length;Ce++){var Lt=g._howls[Me]._soundById(Qe[Ce]);Lt&&Lt._node&&!Lt._node._unlocked&&(Lt._node._unlocked=!0,Lt._node.load())}g._autoResume();var Gn=g.ctx.createBufferSource();Gn.buffer=g._scratchBuffer,Gn.connect(g.ctx.destination),typeof Gn.start>"u"?Gn.noteOn(0):Gn.start(0),typeof g.ctx.resume=="function"&&g.ctx.resume(),Gn.onended=function(){Gn.disconnect(0),g._audioUnlocked=!0,document.removeEventListener("touchstart",C,!0),document.removeEventListener("touchend",C,!0),document.removeEventListener("click",C,!0),document.removeEventListener("keydown",C,!0);for(var br=0;br<g._howls.length;br++)g._howls[br]._emit("unlock")}};return document.addEventListener("touchstart",C,!0),document.addEventListener("touchend",C,!0),document.addEventListener("click",C,!0),document.addEventListener("keydown",C,!0),g}},_obtainHtml5Audio:function(){var g=this||L;if(g._html5AudioPool.length)return g._html5AudioPool.pop();var C=new Audio().play();return C&&typeof Promise<"u"&&(C instanceof Promise||typeof C.then=="function")&&C.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(g){var C=this||L;return g._unlocked&&C._html5AudioPool.push(g),C},_autoSuspend:function(){var g=this;if(!(!g.autoSuspend||!g.ctx||typeof g.ctx.suspend>"u"||!L.usingWebAudio)){for(var C=0;C<g._howls.length;C++)if(g._howls[C]._webAudio){for(var Y=0;Y<g._howls[C]._sounds.length;Y++)if(!g._howls[C]._sounds[Y]._paused)return g}return g._suspendTimer&&clearTimeout(g._suspendTimer),g._suspendTimer=setTimeout(function(){if(!!g.autoSuspend){g._suspendTimer=null,g.state="suspending";var Ee=function(){g.state="suspended",g._resumeAfterSuspend&&(delete g._resumeAfterSuspend,g._autoResume())};g.ctx.suspend().then(Ee,Ee)}},3e4),g}},_autoResume:function(){var g=this;if(!(!g.ctx||typeof g.ctx.resume>"u"||!L.usingWebAudio))return g.state==="running"&&g.ctx.state!=="interrupted"&&g._suspendTimer?(clearTimeout(g._suspendTimer),g._suspendTimer=null):g.state==="suspended"||g.state==="running"&&g.ctx.state==="interrupted"?(g.ctx.resume().then(function(){g.state="running";for(var C=0;C<g._howls.length;C++)g._howls[C]._emit("resume")}),g._suspendTimer&&(clearTimeout(g._suspendTimer),g._suspendTimer=null)):g.state==="suspending"&&(g._resumeAfterSuspend=!0),g}};var L=new Ze,fe=function(g){var C=this;if(!g.src||g.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}C.init(g)};fe.prototype={init:function(g){var C=this;return L.ctx||Bt(),C._autoplay=g.autoplay||!1,C._format=typeof g.format!="string"?g.format:[g.format],C._html5=g.html5||!1,C._muted=g.mute||!1,C._loop=g.loop||!1,C._pool=g.pool||5,C._preload=typeof g.preload=="boolean"||g.preload==="metadata"?g.preload:!0,C._rate=g.rate||1,C._sprite=g.sprite||{},C._src=typeof g.src!="string"?g.src:[g.src],C._volume=g.volume!==void 0?g.volume:1,C._xhr={method:g.xhr&&g.xhr.method?g.xhr.method:"GET",headers:g.xhr&&g.xhr.headers?g.xhr.headers:null,withCredentials:g.xhr&&g.xhr.withCredentials?g.xhr.withCredentials:!1},C._duration=0,C._state="unloaded",C._sounds=[],C._endTimers={},C._queue=[],C._playLock=!1,C._onend=g.onend?[{fn:g.onend}]:[],C._onfade=g.onfade?[{fn:g.onfade}]:[],C._onload=g.onload?[{fn:g.onload}]:[],C._onloaderror=g.onloaderror?[{fn:g.onloaderror}]:[],C._onplayerror=g.onplayerror?[{fn:g.onplayerror}]:[],C._onpause=g.onpause?[{fn:g.onpause}]:[],C._onplay=g.onplay?[{fn:g.onplay}]:[],C._onstop=g.onstop?[{fn:g.onstop}]:[],C._onmute=g.onmute?[{fn:g.onmute}]:[],C._onvolume=g.onvolume?[{fn:g.onvolume}]:[],C._onrate=g.onrate?[{fn:g.onrate}]:[],C._onseek=g.onseek?[{fn:g.onseek}]:[],C._onunlock=g.onunlock?[{fn:g.onunlock}]:[],C._onresume=[],C._webAudio=L.usingWebAudio&&!C._html5,typeof L.ctx<"u"&&L.ctx&&L.autoUnlock&&L._unlockAudio(),L._howls.push(C),C._autoplay&&C._queue.push({event:"play",action:function(){C.play()}}),C._preload&&C._preload!=="none"&&C.load(),C},load:function(){var g=this,C=null;if(L.noAudio){g._emit("loaderror",null,"No audio support.");return}typeof g._src=="string"&&(g._src=[g._src]);for(var Y=0;Y<g._src.length;Y++){var Ee,Me;if(g._format&&g._format[Y])Ee=g._format[Y];else{if(Me=g._src[Y],typeof Me!="string"){g._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}Ee=/^data:audio\/([^;,]+);/i.exec(Me),Ee||(Ee=/\.([^.]+)$/.exec(Me.split("?",1)[0])),Ee&&(Ee=Ee[1].toLowerCase())}if(Ee||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),Ee&&L.codecs(Ee)){C=g._src[Y];break}}if(!C){g._emit("loaderror",null,"No codec support for selected audio sources.");return}return g._src=C,g._state="loading",window.location.protocol==="https:"&&C.slice(0,5)==="http:"&&(g._html5=!0,g._webAudio=!1),new se(g),g._webAudio&&Gt(g),g},play:function(g,C){var Y=this,Ee=null;if(typeof g=="number")Ee=g,g=null;else{if(typeof g=="string"&&Y._state==="loaded"&&!Y._sprite[g])return null;if(typeof g>"u"&&(g="__default",!Y._playLock)){for(var Me=0,Qe=0;Qe<Y._sounds.length;Qe++)Y._sounds[Qe]._paused&&!Y._sounds[Qe]._ended&&(Me++,Ee=Y._sounds[Qe]._id);Me===1?g=null:Ee=null}}var Ce=Ee?Y._soundById(Ee):Y._inactiveSound();if(!Ce)return null;if(Ee&&!g&&(g=Ce._sprite||"__default"),Y._state!=="loaded"){Ce._sprite=g,Ce._ended=!1;var Lt=Ce._id;return Y._queue.push({event:"play",action:function(){Y.play(Lt)}}),Lt}if(Ee&&!Ce._paused)return C||Y._loadQueue("play"),Ce._id;Y._webAudio&&L._autoResume();var Gn=Math.max(0,Ce._seek>0?Ce._seek:Y._sprite[g][0]/1e3),br=Math.max(0,(Y._sprite[g][0]+Y._sprite[g][1])/1e3-Gn),_r=br*1e3/Math.abs(Ce._rate),dn=Y._sprite[g][0]/1e3,Qt=(Y._sprite[g][0]+Y._sprite[g][1])/1e3;Ce._sprite=g,Ce._ended=!1;var ht=function(){Ce._paused=!1,Ce._seek=Gn,Ce._start=dn,Ce._stop=Qt,Ce._loop=!!(Ce._loop||Y._sprite[g][2])};if(Gn>=Qt){Y._ended(Ce);return}var Ye=Ce._node;if(Y._webAudio){var cn=function(){Y._playLock=!1,ht(),Y._refreshBuffer(Ce);var Ar=Ce._muted||Y._muted?0:Ce._volume;Ye.gain.setValueAtTime(Ar,L.ctx.currentTime),Ce._playStart=L.ctx.currentTime,typeof Ye.bufferSource.start>"u"?Ce._loop?Ye.bufferSource.noteGrainOn(0,Gn,86400):Ye.bufferSource.noteGrainOn(0,Gn,br):Ce._loop?Ye.bufferSource.start(0,Gn,86400):Ye.bufferSource.start(0,Gn,br),_r!==1/0&&(Y._endTimers[Ce._id]=setTimeout(Y._ended.bind(Y,Ce),_r)),C||setTimeout(function(){Y._emit("play",Ce._id),Y._loadQueue()},0)};L.state==="running"&&L.ctx.state!=="interrupted"?cn():(Y._playLock=!0,Y.once("resume",cn),Y._clearTimer(Ce._id))}else{var _n=function(){Ye.currentTime=Gn,Ye.muted=Ce._muted||Y._muted||L._muted||Ye.muted,Ye.volume=Ce._volume*L.volume(),Ye.playbackRate=Ce._rate;try{var Ar=Ye.play();if(Ar&&typeof Promise<"u"&&(Ar instanceof Promise||typeof Ar.then=="function")?(Y._playLock=!0,ht(),Ar.then(function(){Y._playLock=!1,Ye._unlocked=!0,C?Y._loadQueue():Y._emit("play",Ce._id)}).catch(function(){Y._playLock=!1,Y._emit("playerror",Ce._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),Ce._ended=!0,Ce._paused=!0})):C||(Y._playLock=!1,ht(),Y._emit("play",Ce._id)),Ye.playbackRate=Ce._rate,Ye.paused){Y._emit("playerror",Ce._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}g!=="__default"||Ce._loop?Y._endTimers[Ce._id]=setTimeout(Y._ended.bind(Y,Ce),_r):(Y._endTimers[Ce._id]=function(){Y._ended(Ce),Ye.removeEventListener("ended",Y._endTimers[Ce._id],!1)},Ye.addEventListener("ended",Y._endTimers[Ce._id],!1))}catch(Rn){Y._emit("playerror",Ce._id,Rn)}};Ye.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(Ye.src=Y._src,Ye.load());var fr=window&&window.ejecta||!Ye.readyState&&L._navigator.isCocoonJS;if(Ye.readyState>=3||fr)_n();else{Y._playLock=!0,Y._state="loading";var or=function(){Y._state="loaded",_n(),Ye.removeEventListener(L._canPlayEvent,or,!1)};Ye.addEventListener(L._canPlayEvent,or,!1),Y._clearTimer(Ce._id)}}return Ce._id},pause:function(g){var C=this;if(C._state!=="loaded"||C._playLock)return C._queue.push({event:"pause",action:function(){C.pause(g)}}),C;for(var Y=C._getSoundIds(g),Ee=0;Ee<Y.length;Ee++){C._clearTimer(Y[Ee]);var Me=C._soundById(Y[Ee]);if(Me&&!Me._paused&&(Me._seek=C.seek(Y[Ee]),Me._rateSeek=0,Me._paused=!0,C._stopFade(Y[Ee]),Me._node))if(C._webAudio){if(!Me._node.bufferSource)continue;typeof Me._node.bufferSource.stop>"u"?Me._node.bufferSource.noteOff(0):Me._node.bufferSource.stop(0),C._cleanBuffer(Me._node)}else(!isNaN(Me._node.duration)||Me._node.duration===1/0)&&Me._node.pause();arguments[1]||C._emit("pause",Me?Me._id:null)}return C},stop:function(g,C){var Y=this;if(Y._state!=="loaded"||Y._playLock)return Y._queue.push({event:"stop",action:function(){Y.stop(g)}}),Y;for(var Ee=Y._getSoundIds(g),Me=0;Me<Ee.length;Me++){Y._clearTimer(Ee[Me]);var Qe=Y._soundById(Ee[Me]);Qe&&(Qe._seek=Qe._start||0,Qe._rateSeek=0,Qe._paused=!0,Qe._ended=!0,Y._stopFade(Ee[Me]),Qe._node&&(Y._webAudio?Qe._node.bufferSource&&(typeof Qe._node.bufferSource.stop>"u"?Qe._node.bufferSource.noteOff(0):Qe._node.bufferSource.stop(0),Y._cleanBuffer(Qe._node)):(!isNaN(Qe._node.duration)||Qe._node.duration===1/0)&&(Qe._node.currentTime=Qe._start||0,Qe._node.pause(),Qe._node.duration===1/0&&Y._clearSound(Qe._node))),C||Y._emit("stop",Qe._id))}return Y},mute:function(g,C){var Y=this;if(Y._state!=="loaded"||Y._playLock)return Y._queue.push({event:"mute",action:function(){Y.mute(g,C)}}),Y;if(typeof C>"u")if(typeof g=="boolean")Y._muted=g;else return Y._muted;for(var Ee=Y._getSoundIds(C),Me=0;Me<Ee.length;Me++){var Qe=Y._soundById(Ee[Me]);Qe&&(Qe._muted=g,Qe._interval&&Y._stopFade(Qe._id),Y._webAudio&&Qe._node?Qe._node.gain.setValueAtTime(g?0:Qe._volume,L.ctx.currentTime):Qe._node&&(Qe._node.muted=L._muted?!0:g),Y._emit("mute",Qe._id))}return Y},volume:function(){var g=this,C=arguments,Y,Ee;if(C.length===0)return g._volume;if(C.length===1||C.length===2&&typeof C[1]>"u"){var Me=g._getSoundIds(),Qe=Me.indexOf(C[0]);Qe>=0?Ee=parseInt(C[0],10):Y=parseFloat(C[0])}else C.length>=2&&(Y=parseFloat(C[0]),Ee=parseInt(C[1],10));var Ce;if(typeof Y<"u"&&Y>=0&&Y<=1){if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"volume",action:function(){g.volume.apply(g,C)}}),g;typeof Ee>"u"&&(g._volume=Y),Ee=g._getSoundIds(Ee);for(var Lt=0;Lt<Ee.length;Lt++)Ce=g._soundById(Ee[Lt]),Ce&&(Ce._volume=Y,C[2]||g._stopFade(Ee[Lt]),g._webAudio&&Ce._node&&!Ce._muted?Ce._node.gain.setValueAtTime(Y,L.ctx.currentTime):Ce._node&&!Ce._muted&&(Ce._node.volume=Y*L.volume()),g._emit("volume",Ce._id))}else return Ce=Ee?g._soundById(Ee):g._sounds[0],Ce?Ce._volume:0;return g},fade:function(g,C,Y,Ee){var Me=this;if(Me._state!=="loaded"||Me._playLock)return Me._queue.push({event:"fade",action:function(){Me.fade(g,C,Y,Ee)}}),Me;g=Math.min(Math.max(0,parseFloat(g)),1),C=Math.min(Math.max(0,parseFloat(C)),1),Y=parseFloat(Y),Me.volume(g,Ee);for(var Qe=Me._getSoundIds(Ee),Ce=0;Ce<Qe.length;Ce++){var Lt=Me._soundById(Qe[Ce]);if(Lt){if(Ee||Me._stopFade(Qe[Ce]),Me._webAudio&&!Lt._muted){var Gn=L.ctx.currentTime,br=Gn+Y/1e3;Lt._volume=g,Lt._node.gain.setValueAtTime(g,Gn),Lt._node.gain.linearRampToValueAtTime(C,br)}Me._startFadeInterval(Lt,g,C,Y,Qe[Ce],typeof Ee>"u")}}return Me},_startFadeInterval:function(g,C,Y,Ee,Me,Qe){var Ce=this,Lt=C,Gn=Y-C,br=Math.abs(Gn/.01),_r=Math.max(4,br>0?Ee/br:Ee),dn=Date.now();g._fadeTo=Y,g._interval=setInterval(function(){var Qt=(Date.now()-dn)/Ee;dn=Date.now(),Lt+=Gn*Qt,Lt=Math.round(Lt*100)/100,Gn<0?Lt=Math.max(Y,Lt):Lt=Math.min(Y,Lt),Ce._webAudio?g._volume=Lt:Ce.volume(Lt,g._id,!0),Qe&&(Ce._volume=Lt),(Y<C&&Lt<=Y||Y>C&&Lt>=Y)&&(clearInterval(g._interval),g._interval=null,g._fadeTo=null,Ce.volume(Y,g._id),Ce._emit("fade",g._id))},_r)},_stopFade:function(g){var C=this,Y=C._soundById(g);return Y&&Y._interval&&(C._webAudio&&Y._node.gain.cancelScheduledValues(L.ctx.currentTime),clearInterval(Y._interval),Y._interval=null,C.volume(Y._fadeTo,g),Y._fadeTo=null,C._emit("fade",g)),C},loop:function(){var g=this,C=arguments,Y,Ee,Me;if(C.length===0)return g._loop;if(C.length===1)if(typeof C[0]=="boolean")Y=C[0],g._loop=Y;else return Me=g._soundById(parseInt(C[0],10)),Me?Me._loop:!1;else C.length===2&&(Y=C[0],Ee=parseInt(C[1],10));for(var Qe=g._getSoundIds(Ee),Ce=0;Ce<Qe.length;Ce++)Me=g._soundById(Qe[Ce]),Me&&(Me._loop=Y,g._webAudio&&Me._node&&Me._node.bufferSource&&(Me._node.bufferSource.loop=Y,Y&&(Me._node.bufferSource.loopStart=Me._start||0,Me._node.bufferSource.loopEnd=Me._stop,g.playing(Qe[Ce])&&(g.pause(Qe[Ce],!0),g.play(Qe[Ce],!0)))));return g},rate:function(){var g=this,C=arguments,Y,Ee;if(C.length===0)Ee=g._sounds[0]._id;else if(C.length===1){var Me=g._getSoundIds(),Qe=Me.indexOf(C[0]);Qe>=0?Ee=parseInt(C[0],10):Y=parseFloat(C[0])}else C.length===2&&(Y=parseFloat(C[0]),Ee=parseInt(C[1],10));var Ce;if(typeof Y=="number"){if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"rate",action:function(){g.rate.apply(g,C)}}),g;typeof Ee>"u"&&(g._rate=Y),Ee=g._getSoundIds(Ee);for(var Lt=0;Lt<Ee.length;Lt++)if(Ce=g._soundById(Ee[Lt]),Ce){g.playing(Ee[Lt])&&(Ce._rateSeek=g.seek(Ee[Lt]),Ce._playStart=g._webAudio?L.ctx.currentTime:Ce._playStart),Ce._rate=Y,g._webAudio&&Ce._node&&Ce._node.bufferSource?Ce._node.bufferSource.playbackRate.setValueAtTime(Y,L.ctx.currentTime):Ce._node&&(Ce._node.playbackRate=Y);var Gn=g.seek(Ee[Lt]),br=(g._sprite[Ce._sprite][0]+g._sprite[Ce._sprite][1])/1e3-Gn,_r=br*1e3/Math.abs(Ce._rate);(g._endTimers[Ee[Lt]]||!Ce._paused)&&(g._clearTimer(Ee[Lt]),g._endTimers[Ee[Lt]]=setTimeout(g._ended.bind(g,Ce),_r)),g._emit("rate",Ce._id)}}else return Ce=g._soundById(Ee),Ce?Ce._rate:g._rate;return g},seek:function(){var g=this,C=arguments,Y,Ee;if(C.length===0)g._sounds.length&&(Ee=g._sounds[0]._id);else if(C.length===1){var Me=g._getSoundIds(),Qe=Me.indexOf(C[0]);Qe>=0?Ee=parseInt(C[0],10):g._sounds.length&&(Ee=g._sounds[0]._id,Y=parseFloat(C[0]))}else C.length===2&&(Y=parseFloat(C[0]),Ee=parseInt(C[1],10));if(typeof Ee>"u")return 0;if(typeof Y=="number"&&(g._state!=="loaded"||g._playLock))return g._queue.push({event:"seek",action:function(){g.seek.apply(g,C)}}),g;var Ce=g._soundById(Ee);if(Ce)if(typeof Y=="number"&&Y>=0){var Lt=g.playing(Ee);Lt&&g.pause(Ee,!0),Ce._seek=Y,Ce._ended=!1,g._clearTimer(Ee),!g._webAudio&&Ce._node&&!isNaN(Ce._node.duration)&&(Ce._node.currentTime=Y);var Gn=function(){Lt&&g.play(Ee,!0),g._emit("seek",Ee)};if(Lt&&!g._webAudio){var br=function(){g._playLock?setTimeout(br,0):Gn()};setTimeout(br,0)}else Gn()}else if(g._webAudio){var _r=g.playing(Ee)?L.ctx.currentTime-Ce._playStart:0,dn=Ce._rateSeek?Ce._rateSeek-Ce._seek:0;return Ce._seek+(dn+_r*Math.abs(Ce._rate))}else return Ce._node.currentTime;return g},playing:function(g){var C=this;if(typeof g=="number"){var Y=C._soundById(g);return Y?!Y._paused:!1}for(var Ee=0;Ee<C._sounds.length;Ee++)if(!C._sounds[Ee]._paused)return!0;return!1},duration:function(g){var C=this,Y=C._duration,Ee=C._soundById(g);return Ee&&(Y=C._sprite[Ee._sprite][1]/1e3),Y},state:function(){return this._state},unload:function(){for(var g=this,C=g._sounds,Y=0;Y<C.length;Y++)C[Y]._paused||g.stop(C[Y]._id),g._webAudio||(g._clearSound(C[Y]._node),C[Y]._node.removeEventListener("error",C[Y]._errorFn,!1),C[Y]._node.removeEventListener(L._canPlayEvent,C[Y]._loadFn,!1),C[Y]._node.removeEventListener("ended",C[Y]._endFn,!1),L._releaseHtml5Audio(C[Y]._node)),delete C[Y]._node,g._clearTimer(C[Y]._id);var Ee=L._howls.indexOf(g);Ee>=0&&L._howls.splice(Ee,1);var Me=!0;for(Y=0;Y<L._howls.length;Y++)if(L._howls[Y]._src===g._src||g._src.indexOf(L._howls[Y]._src)>=0){Me=!1;break}return Xe&&Me&&delete Xe[g._src],L.noAudio=!1,g._state="unloaded",g._sounds=[],g=null,null},on:function(g,C,Y,Ee){var Me=this,Qe=Me["_on"+g];return typeof C=="function"&&Qe.push(Ee?{id:Y,fn:C,once:Ee}:{id:Y,fn:C}),Me},off:function(g,C,Y){var Ee=this,Me=Ee["_on"+g],Qe=0;if(typeof C=="number"&&(Y=C,C=null),C||Y)for(Qe=0;Qe<Me.length;Qe++){var Ce=Y===Me[Qe].id;if(C===Me[Qe].fn&&Ce||!C&&Ce){Me.splice(Qe,1);break}}else if(g)Ee["_on"+g]=[];else{var Lt=Object.keys(Ee);for(Qe=0;Qe<Lt.length;Qe++)Lt[Qe].indexOf("_on")===0&&Array.isArray(Ee[Lt[Qe]])&&(Ee[Lt[Qe]]=[])}return Ee},once:function(g,C,Y){var Ee=this;return Ee.on(g,C,Y,1),Ee},_emit:function(g,C,Y){for(var Ee=this,Me=Ee["_on"+g],Qe=Me.length-1;Qe>=0;Qe--)(!Me[Qe].id||Me[Qe].id===C||g==="load")&&(setTimeout(function(Ce){Ce.call(this,C,Y)}.bind(Ee,Me[Qe].fn),0),Me[Qe].once&&Ee.off(g,Me[Qe].fn,Me[Qe].id));return Ee._loadQueue(g),Ee},_loadQueue:function(g){var C=this;if(C._queue.length>0){var Y=C._queue[0];Y.event===g&&(C._queue.shift(),C._loadQueue()),g||Y.action()}return C},_ended:function(g){var C=this,Y=g._sprite;if(!C._webAudio&&g._node&&!g._node.paused&&!g._node.ended&&g._node.currentTime<g._stop)return setTimeout(C._ended.bind(C,g),100),C;var Ee=!!(g._loop||C._sprite[Y][2]);if(C._emit("end",g._id),!C._webAudio&&Ee&&C.stop(g._id,!0).play(g._id),C._webAudio&&Ee){C._emit("play",g._id),g._seek=g._start||0,g._rateSeek=0,g._playStart=L.ctx.currentTime;var Me=(g._stop-g._start)*1e3/Math.abs(g._rate);C._endTimers[g._id]=setTimeout(C._ended.bind(C,g),Me)}return C._webAudio&&!Ee&&(g._paused=!0,g._ended=!0,g._seek=g._start||0,g._rateSeek=0,C._clearTimer(g._id),C._cleanBuffer(g._node),L._autoSuspend()),!C._webAudio&&!Ee&&C.stop(g._id,!0),C},_clearTimer:function(g){var C=this;if(C._endTimers[g]){if(typeof C._endTimers[g]!="function")clearTimeout(C._endTimers[g]);else{var Y=C._soundById(g);Y&&Y._node&&Y._node.removeEventListener("ended",C._endTimers[g],!1)}delete C._endTimers[g]}return C},_soundById:function(g){for(var C=this,Y=0;Y<C._sounds.length;Y++)if(g===C._sounds[Y]._id)return C._sounds[Y];return null},_inactiveSound:function(){var g=this;g._drain();for(var C=0;C<g._sounds.length;C++)if(g._sounds[C]._ended)return g._sounds[C].reset();return new se(g)},_drain:function(){var g=this,C=g._pool,Y=0,Ee=0;if(!(g._sounds.length<C)){for(Ee=0;Ee<g._sounds.length;Ee++)g._sounds[Ee]._ended&&Y++;for(Ee=g._sounds.length-1;Ee>=0;Ee--){if(Y<=C)return;g._sounds[Ee]._ended&&(g._webAudio&&g._sounds[Ee]._node&&g._sounds[Ee]._node.disconnect(0),g._sounds.splice(Ee,1),Y--)}}},_getSoundIds:function(g){var C=this;if(typeof g>"u"){for(var Y=[],Ee=0;Ee<C._sounds.length;Ee++)Y.push(C._sounds[Ee]._id);return Y}else return[g]},_refreshBuffer:function(g){var C=this;return g._node.bufferSource=L.ctx.createBufferSource(),g._node.bufferSource.buffer=Xe[C._src],g._panner?g._node.bufferSource.connect(g._panner):g._node.bufferSource.connect(g._node),g._node.bufferSource.loop=g._loop,g._loop&&(g._node.bufferSource.loopStart=g._start||0,g._node.bufferSource.loopEnd=g._stop||0),g._node.bufferSource.playbackRate.setValueAtTime(g._rate,L.ctx.currentTime),C},_cleanBuffer:function(g){var C=this,Y=L._navigator&&L._navigator.vendor.indexOf("Apple")>=0;if(L._scratchBuffer&&g.bufferSource&&(g.bufferSource.onended=null,g.bufferSource.disconnect(0),Y))try{g.bufferSource.buffer=L._scratchBuffer}catch{}return g.bufferSource=null,C},_clearSound:function(g){var C=/MSIE |Trident\//.test(L._navigator&&L._navigator.userAgent);C||(g.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var se=function(g){this._parent=g,this.init()};se.prototype={init:function(){var g=this,C=g._parent;return g._muted=C._muted,g._loop=C._loop,g._volume=C._volume,g._rate=C._rate,g._seek=0,g._paused=!0,g._ended=!0,g._sprite="__default",g._id=++L._counter,C._sounds.push(g),g.create(),g},create:function(){var g=this,C=g._parent,Y=L._muted||g._muted||g._parent._muted?0:g._volume;return C._webAudio?(g._node=typeof L.ctx.createGain>"u"?L.ctx.createGainNode():L.ctx.createGain(),g._node.gain.setValueAtTime(Y,L.ctx.currentTime),g._node.paused=!0,g._node.connect(L.masterGain)):L.noAudio||(g._node=L._obtainHtml5Audio(),g._errorFn=g._errorListener.bind(g),g._node.addEventListener("error",g._errorFn,!1),g._loadFn=g._loadListener.bind(g),g._node.addEventListener(L._canPlayEvent,g._loadFn,!1),g._endFn=g._endListener.bind(g),g._node.addEventListener("ended",g._endFn,!1),g._node.src=C._src,g._node.preload=C._preload===!0?"auto":C._preload,g._node.volume=Y*L.volume(),g._node.load()),g},reset:function(){var g=this,C=g._parent;return g._muted=C._muted,g._loop=C._loop,g._volume=C._volume,g._rate=C._rate,g._seek=0,g._rateSeek=0,g._paused=!0,g._ended=!0,g._sprite="__default",g._id=++L._counter,g},_errorListener:function(){var g=this;g._parent._emit("loaderror",g._id,g._node.error?g._node.error.code:0),g._node.removeEventListener("error",g._errorFn,!1)},_loadListener:function(){var g=this,C=g._parent;C._duration=Math.ceil(g._node.duration*10)/10,Object.keys(C._sprite).length===0&&(C._sprite={__default:[0,C._duration*1e3]}),C._state!=="loaded"&&(C._state="loaded",C._emit("load"),C._loadQueue()),g._node.removeEventListener(L._canPlayEvent,g._loadFn,!1)},_endListener:function(){var g=this,C=g._parent;C._duration===1/0&&(C._duration=Math.ceil(g._node.duration*10)/10,C._sprite.__default[1]===1/0&&(C._sprite.__default[1]=C._duration*1e3),C._ended(g)),g._node.removeEventListener("ended",g._endFn,!1)}};var Xe={},Gt=function(g){var C=g._src;if(Xe[C]){g._duration=Xe[C].duration,mt(g);return}if(/^data:[^;]+;base64,/.test(C)){for(var Y=atob(C.split(",")[1]),Ee=new Uint8Array(Y.length),Me=0;Me<Y.length;++Me)Ee[Me]=Y.charCodeAt(Me);Oe(Ee.buffer,g)}else{var Qe=new XMLHttpRequest;Qe.open(g._xhr.method,C,!0),Qe.withCredentials=g._xhr.withCredentials,Qe.responseType="arraybuffer",g._xhr.headers&&Object.keys(g._xhr.headers).forEach(function(Ce){Qe.setRequestHeader(Ce,g._xhr.headers[Ce])}),Qe.onload=function(){var Ce=(Qe.status+"")[0];if(Ce!=="0"&&Ce!=="2"&&Ce!=="3"){g._emit("loaderror",null,"Failed loading audio file with status: "+Qe.status+".");return}Oe(Qe.response,g)},Qe.onerror=function(){g._webAudio&&(g._html5=!0,g._webAudio=!1,g._sounds=[],delete Xe[C],g.load())},bt(Qe)}},bt=function(g){try{g.send()}catch{g.onerror()}},Oe=function(g,C){var Y=function(){C._emit("loaderror",null,"Decoding audio data failed.")},Ee=function(Me){Me&&C._sounds.length>0?(Xe[C._src]=Me,mt(C,Me)):Y()};typeof Promise<"u"&&L.ctx.decodeAudioData.length===1?L.ctx.decodeAudioData(g).then(Ee).catch(Y):L.ctx.decodeAudioData(g,Ee,Y)},mt=function(g,C){C&&!g._duration&&(g._duration=C.duration),Object.keys(g._sprite).length===0&&(g._sprite={__default:[0,g._duration*1e3]}),g._state!=="loaded"&&(g._state="loaded",g._emit("load"),g._loadQueue())},Bt=function(){if(!!L.usingWebAudio){try{typeof AudioContext<"u"?L.ctx=new AudioContext:typeof webkitAudioContext<"u"?L.ctx=new webkitAudioContext:L.usingWebAudio=!1}catch{L.usingWebAudio=!1}L.ctx||(L.usingWebAudio=!1);var g=/iP(hone|od|ad)/.test(L._navigator&&L._navigator.platform),C=L._navigator&&L._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),Y=C?parseInt(C[1],10):null;if(g&&Y&&Y<9){var Ee=/safari/.test(L._navigator&&L._navigator.userAgent.toLowerCase());L._navigator&&!Ee&&(L.usingWebAudio=!1)}L.usingWebAudio&&(L.masterGain=typeof L.ctx.createGain>"u"?L.ctx.createGainNode():L.ctx.createGain(),L.masterGain.gain.setValueAtTime(L._muted?0:L._volume,L.ctx.currentTime),L.masterGain.connect(L.ctx.destination)),L._setup()}};Q.Howler=L,Q.Howl=fe,typeof ut<"u"?(ut.HowlerGlobal=Ze,ut.Howler=L,ut.Howl=fe,ut.Sound=se):typeof window<"u"&&(window.HowlerGlobal=Ze,window.Howler=L,window.Howl=fe,window.Sound=se)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(L){var fe=this;if(!fe.ctx||!fe.ctx.listener)return fe;for(var se=fe._howls.length-1;se>=0;se--)fe._howls[se].stereo(L);return fe},HowlerGlobal.prototype.pos=function(L,fe,se){var Xe=this;if(!Xe.ctx||!Xe.ctx.listener)return Xe;if(fe=typeof fe!="number"?Xe._pos[1]:fe,se=typeof se!="number"?Xe._pos[2]:se,typeof L=="number")Xe._pos=[L,fe,se],typeof Xe.ctx.listener.positionX<"u"?(Xe.ctx.listener.positionX.setTargetAtTime(Xe._pos[0],Howler.ctx.currentTime,.1),Xe.ctx.listener.positionY.setTargetAtTime(Xe._pos[1],Howler.ctx.currentTime,.1),Xe.ctx.listener.positionZ.setTargetAtTime(Xe._pos[2],Howler.ctx.currentTime,.1)):Xe.ctx.listener.setPosition(Xe._pos[0],Xe._pos[1],Xe._pos[2]);else return Xe._pos;return Xe},HowlerGlobal.prototype.orientation=function(L,fe,se,Xe,Gt,bt){var Oe=this;if(!Oe.ctx||!Oe.ctx.listener)return Oe;var mt=Oe._orientation;if(fe=typeof fe!="number"?mt[1]:fe,se=typeof se!="number"?mt[2]:se,Xe=typeof Xe!="number"?mt[3]:Xe,Gt=typeof Gt!="number"?mt[4]:Gt,bt=typeof bt!="number"?mt[5]:bt,typeof L=="number")Oe._orientation=[L,fe,se,Xe,Gt,bt],typeof Oe.ctx.listener.forwardX<"u"?(Oe.ctx.listener.forwardX.setTargetAtTime(L,Howler.ctx.currentTime,.1),Oe.ctx.listener.forwardY.setTargetAtTime(fe,Howler.ctx.currentTime,.1),Oe.ctx.listener.forwardZ.setTargetAtTime(se,Howler.ctx.currentTime,.1),Oe.ctx.listener.upX.setTargetAtTime(Xe,Howler.ctx.currentTime,.1),Oe.ctx.listener.upY.setTargetAtTime(Gt,Howler.ctx.currentTime,.1),Oe.ctx.listener.upZ.setTargetAtTime(bt,Howler.ctx.currentTime,.1)):Oe.ctx.listener.setOrientation(L,fe,se,Xe,Gt,bt);else return mt;return Oe},Howl.prototype.init=function(L){return function(fe){var se=this;return se._orientation=fe.orientation||[1,0,0],se._stereo=fe.stereo||null,se._pos=fe.pos||null,se._pannerAttr={coneInnerAngle:typeof fe.coneInnerAngle<"u"?fe.coneInnerAngle:360,coneOuterAngle:typeof fe.coneOuterAngle<"u"?fe.coneOuterAngle:360,coneOuterGain:typeof fe.coneOuterGain<"u"?fe.coneOuterGain:0,distanceModel:typeof fe.distanceModel<"u"?fe.distanceModel:"inverse",maxDistance:typeof fe.maxDistance<"u"?fe.maxDistance:1e4,panningModel:typeof fe.panningModel<"u"?fe.panningModel:"HRTF",refDistance:typeof fe.refDistance<"u"?fe.refDistance:1,rolloffFactor:typeof fe.rolloffFactor<"u"?fe.rolloffFactor:1},se._onstereo=fe.onstereo?[{fn:fe.onstereo}]:[],se._onpos=fe.onpos?[{fn:fe.onpos}]:[],se._onorientation=fe.onorientation?[{fn:fe.onorientation}]:[],L.call(this,fe)}}(Howl.prototype.init),Howl.prototype.stereo=function(L,fe){var se=this;if(!se._webAudio)return se;if(se._state!=="loaded")return se._queue.push({event:"stereo",action:function(){se.stereo(L,fe)}}),se;var Xe=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof fe>"u")if(typeof L=="number")se._stereo=L,se._pos=[L,0,0];else return se._stereo;for(var Gt=se._getSoundIds(fe),bt=0;bt<Gt.length;bt++){var Oe=se._soundById(Gt[bt]);if(Oe)if(typeof L=="number")Oe._stereo=L,Oe._pos=[L,0,0],Oe._node&&(Oe._pannerAttr.panningModel="equalpower",(!Oe._panner||!Oe._panner.pan)&&Ze(Oe,Xe),Xe==="spatial"?typeof Oe._panner.positionX<"u"?(Oe._panner.positionX.setValueAtTime(L,Howler.ctx.currentTime),Oe._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),Oe._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):Oe._panner.setPosition(L,0,0):Oe._panner.pan.setValueAtTime(L,Howler.ctx.currentTime)),se._emit("stereo",Oe._id);else return Oe._stereo}return se},Howl.prototype.pos=function(L,fe,se,Xe){var Gt=this;if(!Gt._webAudio)return Gt;if(Gt._state!=="loaded")return Gt._queue.push({event:"pos",action:function(){Gt.pos(L,fe,se,Xe)}}),Gt;if(fe=typeof fe!="number"?0:fe,se=typeof se!="number"?-.5:se,typeof Xe>"u")if(typeof L=="number")Gt._pos=[L,fe,se];else return Gt._pos;for(var bt=Gt._getSoundIds(Xe),Oe=0;Oe<bt.length;Oe++){var mt=Gt._soundById(bt[Oe]);if(mt)if(typeof L=="number")mt._pos=[L,fe,se],mt._node&&((!mt._panner||mt._panner.pan)&&Ze(mt,"spatial"),typeof mt._panner.positionX<"u"?(mt._panner.positionX.setValueAtTime(L,Howler.ctx.currentTime),mt._panner.positionY.setValueAtTime(fe,Howler.ctx.currentTime),mt._panner.positionZ.setValueAtTime(se,Howler.ctx.currentTime)):mt._panner.setPosition(L,fe,se)),Gt._emit("pos",mt._id);else return mt._pos}return Gt},Howl.prototype.orientation=function(L,fe,se,Xe){var Gt=this;if(!Gt._webAudio)return Gt;if(Gt._state!=="loaded")return Gt._queue.push({event:"orientation",action:function(){Gt.orientation(L,fe,se,Xe)}}),Gt;if(fe=typeof fe!="number"?Gt._orientation[1]:fe,se=typeof se!="number"?Gt._orientation[2]:se,typeof Xe>"u")if(typeof L=="number")Gt._orientation=[L,fe,se];else return Gt._orientation;for(var bt=Gt._getSoundIds(Xe),Oe=0;Oe<bt.length;Oe++){var mt=Gt._soundById(bt[Oe]);if(mt)if(typeof L=="number")mt._orientation=[L,fe,se],mt._node&&(mt._panner||(mt._pos||(mt._pos=Gt._pos||[0,0,-.5]),Ze(mt,"spatial")),typeof mt._panner.orientationX<"u"?(mt._panner.orientationX.setValueAtTime(L,Howler.ctx.currentTime),mt._panner.orientationY.setValueAtTime(fe,Howler.ctx.currentTime),mt._panner.orientationZ.setValueAtTime(se,Howler.ctx.currentTime)):mt._panner.setOrientation(L,fe,se)),Gt._emit("orientation",mt._id);else return mt._orientation}return Gt},Howl.prototype.pannerAttr=function(){var L=this,fe=arguments,se,Xe,Gt;if(!L._webAudio)return L;if(fe.length===0)return L._pannerAttr;if(fe.length===1)if(typeof fe[0]=="object")se=fe[0],typeof Xe>"u"&&(se.pannerAttr||(se.pannerAttr={coneInnerAngle:se.coneInnerAngle,coneOuterAngle:se.coneOuterAngle,coneOuterGain:se.coneOuterGain,distanceModel:se.distanceModel,maxDistance:se.maxDistance,refDistance:se.refDistance,rolloffFactor:se.rolloffFactor,panningModel:se.panningModel}),L._pannerAttr={coneInnerAngle:typeof se.pannerAttr.coneInnerAngle<"u"?se.pannerAttr.coneInnerAngle:L._coneInnerAngle,coneOuterAngle:typeof se.pannerAttr.coneOuterAngle<"u"?se.pannerAttr.coneOuterAngle:L._coneOuterAngle,coneOuterGain:typeof se.pannerAttr.coneOuterGain<"u"?se.pannerAttr.coneOuterGain:L._coneOuterGain,distanceModel:typeof se.pannerAttr.distanceModel<"u"?se.pannerAttr.distanceModel:L._distanceModel,maxDistance:typeof se.pannerAttr.maxDistance<"u"?se.pannerAttr.maxDistance:L._maxDistance,refDistance:typeof se.pannerAttr.refDistance<"u"?se.pannerAttr.refDistance:L._refDistance,rolloffFactor:typeof se.pannerAttr.rolloffFactor<"u"?se.pannerAttr.rolloffFactor:L._rolloffFactor,panningModel:typeof se.pannerAttr.panningModel<"u"?se.pannerAttr.panningModel:L._panningModel});else return Gt=L._soundById(parseInt(fe[0],10)),Gt?Gt._pannerAttr:L._pannerAttr;else fe.length===2&&(se=fe[0],Xe=parseInt(fe[1],10));for(var bt=L._getSoundIds(Xe),Oe=0;Oe<bt.length;Oe++)if(Gt=L._soundById(bt[Oe]),Gt){var mt=Gt._pannerAttr;mt={coneInnerAngle:typeof se.coneInnerAngle<"u"?se.coneInnerAngle:mt.coneInnerAngle,coneOuterAngle:typeof se.coneOuterAngle<"u"?se.coneOuterAngle:mt.coneOuterAngle,coneOuterGain:typeof se.coneOuterGain<"u"?se.coneOuterGain:mt.coneOuterGain,distanceModel:typeof se.distanceModel<"u"?se.distanceModel:mt.distanceModel,maxDistance:typeof se.maxDistance<"u"?se.maxDistance:mt.maxDistance,refDistance:typeof se.refDistance<"u"?se.refDistance:mt.refDistance,rolloffFactor:typeof se.rolloffFactor<"u"?se.rolloffFactor:mt.rolloffFactor,panningModel:typeof se.panningModel<"u"?se.panningModel:mt.panningModel};var Bt=Gt._panner;Bt?(Bt.coneInnerAngle=mt.coneInnerAngle,Bt.coneOuterAngle=mt.coneOuterAngle,Bt.coneOuterGain=mt.coneOuterGain,Bt.distanceModel=mt.distanceModel,Bt.maxDistance=mt.maxDistance,Bt.refDistance=mt.refDistance,Bt.rolloffFactor=mt.rolloffFactor,Bt.panningModel=mt.panningModel):(Gt._pos||(Gt._pos=L._pos||[0,0,-.5]),Ze(Gt,"spatial"))}return L},Sound.prototype.init=function(L){return function(){var fe=this,se=fe._parent;fe._orientation=se._orientation,fe._stereo=se._stereo,fe._pos=se._pos,fe._pannerAttr=se._pannerAttr,L.call(this),fe._stereo?se.stereo(fe._stereo):fe._pos&&se.pos(fe._pos[0],fe._pos[1],fe._pos[2],fe._id)}}(Sound.prototype.init),Sound.prototype.reset=function(L){return function(){var fe=this,se=fe._parent;return fe._orientation=se._orientation,fe._stereo=se._stereo,fe._pos=se._pos,fe._pannerAttr=se._pannerAttr,fe._stereo?se.stereo(fe._stereo):fe._pos?se.pos(fe._pos[0],fe._pos[1],fe._pos[2],fe._id):fe._panner&&(fe._panner.disconnect(0),fe._panner=void 0,se._refreshBuffer(fe)),L.call(this)}}(Sound.prototype.reset);var Ze=function(L,fe){fe=fe||"spatial",fe==="spatial"?(L._panner=Howler.ctx.createPanner(),L._panner.coneInnerAngle=L._pannerAttr.coneInnerAngle,L._panner.coneOuterAngle=L._pannerAttr.coneOuterAngle,L._panner.coneOuterGain=L._pannerAttr.coneOuterGain,L._panner.distanceModel=L._pannerAttr.distanceModel,L._panner.maxDistance=L._pannerAttr.maxDistance,L._panner.refDistance=L._pannerAttr.refDistance,L._panner.rolloffFactor=L._pannerAttr.rolloffFactor,L._panner.panningModel=L._pannerAttr.panningModel,typeof L._panner.positionX<"u"?(L._panner.positionX.setValueAtTime(L._pos[0],Howler.ctx.currentTime),L._panner.positionY.setValueAtTime(L._pos[1],Howler.ctx.currentTime),L._panner.positionZ.setValueAtTime(L._pos[2],Howler.ctx.currentTime)):L._panner.setPosition(L._pos[0],L._pos[1],L._pos[2]),typeof L._panner.orientationX<"u"?(L._panner.orientationX.setValueAtTime(L._orientation[0],Howler.ctx.currentTime),L._panner.orientationY.setValueAtTime(L._orientation[1],Howler.ctx.currentTime),L._panner.orientationZ.setValueAtTime(L._orientation[2],Howler.ctx.currentTime)):L._panner.setOrientation(L._orientation[0],L._orientation[1],L._orientation[2])):(L._panner=Howler.ctx.createStereoPanner(),L._panner.pan.setValueAtTime(L._stereo,Howler.ctx.currentTime)),L._panner.connect(L._node),L._paused||L._parent.pause(L._id,!0).play(L._id,!0)}})()});class vt{constructor(Q,Ze=!1){this.howler=null,this.useAudioElement=!1,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?this.assets=Q.filter(fe=>fe.endsWith("mp3")).concat(Q.filter(fe=>!fe.endsWith("mp3"))):this.assets=Q,this.useAudioElement=Ze}load(){this.unload(),this.howler||(this.howler=new Ct.Howl({html5:this.useAudioElement,src:this.assets,onloaderror:()=>{console.warn("Howler: sounds failed to load, falling back to html5 audio"),this.howler=new Ct.Howl({html5:!0,src:this.assets,onloaderror:()=>{console.error("Howler: html5 audio fallback failed to load")}})}}))}unload(){var Q;(Q=this.howler)===null||Q===void 0||Q.unload()}play(){var Q;this.howler||this.load(),(Q=this.howler)===null||Q===void 0||Q.play(),window.Cypress&&(window.Cypress.howlerHistory||(window.Cypress.howlerHistory=[]),window.Cypress.howlerHistory.push({time:Date.now(),src:this.assets.slice(0)}))}}var Zt;(function(ie){ie.Suspended="web-ui-sound-suspended",ie.Enabled="web-ui-sound-enabled"})(Zt||(Zt={}));const jt=3;let pn=0,qe=!1;function Vt(ie){Ge(Zt.Enabled,ie)}function O(){Rt()&&on(()=>{window.postMessage({key:Zt.Enabled},window.location.origin),he(O)})}function le(ie,Q=!1){const Ze=new vt(ie,Q);return Rt()?(Se(O),Vt(()=>Ze.load())):Ze.load(),Ze}function V(ie){Rt()?!qe&&pn>jt?(pn=0,qe=!0,window.postMessage({key:Zt.Suspended},window.location.origin)):qe||(pn++,O(),Vt(()=>ie.play())):ie.play()}class lt{constructor(Q="keyval-store",Ze="keyval"){this.storeName=Ze,this._dbp=new Promise((L,fe)=>{const se=indexedDB.open(Q,1);se.onerror=()=>fe(se.error),se.onsuccess=()=>L(se.result),se.onupgradeneeded=()=>{se.result.createObjectStore(Ze)}})}_withIDBStore(Q,Ze){return this._dbp.then(L=>new Promise((fe,se)=>{const Xe=L.transaction(this.storeName,Q);Xe.oncomplete=()=>fe(),Xe.onabort=Xe.onerror=()=>se(Xe.error),Ze(Xe.objectStore(this.storeName))}))}}let wt;function In(){return wt||(wt=new lt),wt}function qt(ie,Q=In()){let Ze;return Q._withIDBStore("readonly",L=>{Ze=L.get(ie)}).then(()=>Ze.result)}function Ft(ie,Q,Ze=In()){return Ze._withIDBStore("readwrite",L=>{L.put(Q,ie)})}var en;(function(ie){(function(Q){Q.Hidden="hidden",Q.Invisible="invisible"})(ie.Classes||(ie.Classes={}))})(en||(en={}));function m(ie,Q="."){return`${Q}${ie}`}var I;(function(ie){(function(Q){Q[Q.Backspace=8]="Backspace",Q[Q.Delete=46]="Delete",Q[Q.DownArrow=40]="DownArrow",Q[Q.Enter=13]="Enter",Q[Q.Escape=27]="Escape",Q[Q.LeftArrow=37]="LeftArrow",Q[Q.RightArrow=39]="RightArrow",Q[Q.Spacebar=32]="Spacebar",Q[Q.Stop=137]="Stop",Q[Q.Tab=9]="Tab",Q[Q.UpArrow=38]="UpArrow"})(ie.KeyCodes||(ie.KeyCodes={}))})(I||(I={}));function W(){}function ue(ie){return ie()}function Ue(){return Object.create(null)}function nt(ie){ie.forEach(ue)}function re(ie){return typeof ie=="function"}function _e(ie,Q){return ie!=ie?Q==Q:ie!==Q||ie&&typeof ie=="object"||typeof ie=="function"}function E(ie){return Object.keys(ie).length===0}function K(ie,...Q){if(ie==null)return W;const Ze=ie.subscribe(...Q);return Ze.unsubscribe?()=>Ze.unsubscribe():Ze}function me(ie,Q,Ze){ie.$$.on_destroy.push(K(Q,Ze))}function je(ie){return ie??""}function ve(ie,Q){ie.appendChild(Q)}function ct(ie,Q,Ze){ie.insertBefore(Q,Ze||null)}function Dt(ie){ie.parentNode.removeChild(ie)}function te(ie,Q){for(let Ze=0;Ze<ie.length;Ze+=1)ie[Ze]&&ie[Ze].d(Q)}function xe(ie){return document.createElement(ie)}function N(ie){return document.createTextNode(ie)}function B(){return N(" ")}function P(){return N("")}function H(ie,Q,Ze,L){return ie.addEventListener(Q,Ze,L),()=>ie.removeEventListener(Q,Ze,L)}function X(ie,Q,Ze){Ze==null?ie.removeAttribute(Q):ie.getAttribute(Q)!==Ze&&ie.setAttribute(Q,Ze)}function He(ie){return Array.from(ie.childNodes)}function Je(ie,Q){Q=""+Q,ie.wholeText!==Q&&(ie.data=Q)}function rt(ie,Q,Ze){ie.classList[Ze?"add":"remove"](Q)}function Fe(ie,Q,Ze=!1){const L=document.createEvent("CustomEvent");return L.initCustomEvent(ie,Ze,!1,Q),L}class vn{constructor(){this.e=this.n=null}c(Q){this.h(Q)}m(Q,Ze,L=null){this.e||(this.e=xe(Ze.nodeName),this.t=Ze,this.c(Q)),this.i(L)}h(Q){this.e.innerHTML=Q,this.n=Array.from(this.e.childNodes)}i(Q){for(let Ze=0;Ze<this.n.length;Ze+=1)ct(this.t,this.n[Ze],Q)}p(Q){this.d(),this.h(Q),this.i(this.a)}d(){this.n.forEach(Dt)}}let It;function Mn(ie){It=ie}function qn(){if(!It)throw new Error("Function called outside component initialization");return It}function Pt(ie){qn().$$.on_mount.push(ie)}function Nt(ie){qn().$$.on_destroy.push(ie)}function mr(){const ie=qn();return(Q,Ze)=>{const L=ie.$$.callbacks[Q];if(L){const fe=Fe(Q,Ze);L.slice().forEach(se=>{se.call(ie,fe)})}}}const ur=[],En=[],Ui=[],Xn=[],pr=Promise.resolve();let Ri=!1;function to(){Ri||(Ri=!0,pr.then(Jo))}function vo(ie){Ui.push(ie)}let mo=!1;const go=new Set;function Jo(){if(!mo){mo=!0;do{for(let ie=0;ie<ur.length;ie+=1){const Q=ur[ie];Mn(Q),Ja(Q.$$)}for(Mn(null),ur.length=0;En.length;)En.pop()();for(let ie=0;ie<Ui.length;ie+=1){const Q=Ui[ie];go.has(Q)||(go.add(Q),Q())}Ui.length=0}while(ur.length);for(;Xn.length;)Xn.pop()();Ri=!1,mo=!1,go.clear()}}function Ja(ie){if(ie.fragment!==null){ie.update(),nt(ie.before_update);const Q=ie.dirty;ie.dirty=[-1],ie.fragment&&ie.fragment.p(ie.ctx,Q),ie.after_update.forEach(vo)}}const qi=new Set;function ka(ie,Q){ie&&ie.i&&(qi.delete(ie),ie.i(Q))}function ca(ie,Q,Ze,L){const{fragment:fe,on_mount:se,on_destroy:Xe,after_update:Gt}=ie.$$;fe&&fe.m(Q,Ze),L||vo(()=>{const bt=se.map(ue).filter(re);Xe?Xe.push(...bt):nt(bt),ie.$$.on_mount=[]}),Gt.forEach(vo)}function Ia(ie,Q){const Ze=ie.$$;Ze.fragment!==null&&(nt(Ze.on_destroy),Ze.fragment&&Ze.fragment.d(Q),Ze.on_destroy=Ze.fragment=null,Ze.ctx=[])}function ea(ie,Q){ie.$$.dirty[0]===-1&&(ur.push(ie),to(),ie.$$.dirty.fill(0)),ie.$$.dirty[Q/31|0]|=1<<Q%31}function es(ie,Q,Ze,L,fe,se,Xe,Gt=[-1]){const bt=It;Mn(ie);const Oe=ie.$$={fragment:null,ctx:null,props:se,update:W,not_equal:fe,bound:Ue(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(bt?bt.$$.context:Q.context||[]),callbacks:Ue(),dirty:Gt,skip_bound:!1,root:Q.target||bt.$$.root};Xe&&Xe(Oe.root);let mt=!1;if(Oe.ctx=Ze?Ze(ie,Q.props||{},(Bt,g,...C)=>{const Y=C.length?C[0]:g;return Oe.ctx&&fe(Oe.ctx[Bt],Oe.ctx[Bt]=Y)&&(!Oe.skip_bound&&Oe.bound[Bt]&&Oe.bound[Bt](Y),mt&&ea(ie,Bt)),g}):[],Oe.update(),mt=!0,nt(Oe.before_update),Oe.fragment=L?L(Oe.ctx):!1,Q.target){if(Q.hydrate){const Bt=He(Q.target);Oe.fragment&&Oe.fragment.l(Bt),Bt.forEach(Dt)}else Oe.fragment&&Oe.fragment.c();Q.intro&&ka(ie.$$.fragment),ca(ie,Q.target,Q.anchor,Q.customElement),Jo()}Mn(bt)}class Ii{$destroy(){Ia(this,1),this.$destroy=W}$on(Q,Ze){const L=this.$$.callbacks[Q]||(this.$$.callbacks[Q]=[]);return L.push(Ze),()=>{const fe=L.indexOf(Ze);fe!==-1&&L.splice(fe,1)}}$set(Q){this.$$set&&!E(Q)&&(this.$$.skip_bound=!0,this.$$set(Q),this.$$.skip_bound=!1)}}function ji(ie){return Object.keys(ie).reduce((Q,Ze)=>Object.assign(Object.assign({},Q),{[ie[Ze]]:Ze}),{})}function gn(ie,Q){return Q.reduce((Ze,L)=>(Object.prototype.hasOwnProperty.call(ie,L)&&(Ze[L]=ie[L]),Ze),{})}function wn(ie){return`${ie[0].toUpperCase()}${ie.slice(1)}`}const Mt=null;function $e(ie,Q=W){let Ze;const L=new Set;function fe(Gt){if(_e(ie,Gt)&&(ie=Gt,Ze)){const bt=!Mt.length;for(const Oe of L)Oe[1](),Mt.push(Oe,ie);if(bt){for(let Oe=0;Oe<Mt.length;Oe+=2)Mt[Oe][0](Mt[Oe+1]);Mt.length=0}}}function se(Gt){fe(Gt(ie))}function Xe(Gt,bt=W){const Oe=[Gt,bt];return L.add(Oe),L.size===1&&(Ze=Q(fe)||W),Gt(ie),()=>{L.delete(Oe),L.size===0&&(Ze(),Ze=null)}}return{set:fe,update:se,subscribe:Xe}}},3527:function(Cn,Ke,j){var A=j(4155);/*!
 * Chess.com (c) 2020 | all rights reserved
 *//*!
 * A distant fork of chess.js - BSD (c) 2014, Jeff Hlywa (jhlywa@gmail.com)
 */var x=function(){"use strict";var F=function(){var ee=[[2637767806,863464769],[720845184,95069639],[1155203408,610415943],[2618685246,1655139042],[1971536997,1218186377],[848342074,540017087],[263957791,1627660921],[3896152207,4076560586],[226391645,1484086288],[436746274,3467632685],[2516964848,3797861296],[3491888988,3510251221],[1086189917,1248276018],[18044180,1876255637],[1572111136,1190386149],[597658413,2146900428],[97624494,2243205793],[1738507407,1854916977],[1950989311,2149575947],[2098318769,3283594736],[2194108574,2015279052],[4079062812,2500884588],[856979699,2941369318],[1270058469,3877737539],[2858720366,3170717948],[2378012835,1387254795],[2278688587,2178388503],[435406673,3555273441],[3031118064,1655806655],[2063925420,1107589828],[3376753832,436852829],[615148625,1302492416],[1285502018,1963045959],[346460119,1016137793],[2803604355,1176288659],[55085973,2968618255],[1669016372,4287873088],[164740250,1037634196],[896886403,883023163],[1935551383,2764331555],[410153072,4055711755],[533441746,1505690343],[3541084098,3466290517],[3214426080,4267541060],[2675233103,1951705124],[1374411850,3115986997],[1552073989,3684348154],[4244110986,875606593],[844343081,3115990494],[2356462440,135999605],[3116133511,377238503],[2129956651,2197966368],[299173332,3276914047],[1701379241,745972291],[1306570996,254977976],[2530644806,214138461],[1122123979,1667800879],[1831591130,3801192033],[1116211970,920967505],[1594837592,2551651254],[972591349,2046373768],[2479207924,1935030411],[1675376029,2367888248],[3960916618,3935874422],[1398143232,3265801671],[133930885,1520005442],[1351827834,2829577566],[2076951437,2723839804],[435980918,2364847828],[1668970368,3738157273],[2185864314,3993911799],[2041407829,31969768],[346864372,2004703094],[4047877822,3437142421],[3669961416,538399484],[616810829,4190688246],[3144558884,4030272234],[216165387,2513010905],[2761740594,3216997572],[3919406634,4096014649],[669429112,2434161727],[2234904640,3111407601],[1421079802,1598085235],[1924213810,310373675],[4002762044,2067865415],[2592451728,2586110625],[1890340057,4031717877],[4189625662,2577429954],[2276713138,3049850801],[2741429688,3310307512],[2924122950,3426712818],[421576781,1193704381],[2277442246,3030264553],[153237420,595540057],[4278711886,4176286928],[2380848297,4030514510],[2618700582,1303682185],[3018992701,185284845],[957243316,1291916363],[1543415220,1898408169],[504378001,531073412],[2591337657,1692896435],[1333852064,903543556],[1661259930,188168388],[561112646,2197961224],[1536910315,2632972300],[1349168372,2307429186],[411152329,2745631190],[1694697476,1081411140],[3755185459,2631660711],[4019355068,4027326706],[2066937809,3761668332],[3120395808,3878773315],[94890149,2109283191],[3045629038,358812277],[1249184265,3465901047],[3477490924,2308583306],[4114113436,3875911716],[1014604031,1434513279],[3991324799,2222416029],[2040431088,1539915569],[2253613964,4081224332],[2547464012,1611168627],[2722521980,4281500978],[71289574,213969824],[2450408597,903689630],[1894451515,364024012],[1939968537,374938813],[1447259295,3785468557],[4021046128,1664847745],[3139524504,3562928047],[1173487682,4065269608],[2467266804,3907744866],[4284945151,3486998177],[2925674454,1953016432],[3710671816,1271453948],[2129465869,1422863833],[587093076,18243356],[3373793513,2411305257],[2156648078,1791034213],[3737413652,1534461430],[468575139,2935304962],[1129551363,3603256834],[2861996892,1763494778],[2826449619,2465197654],[1704209531,1014895022],[3738359347,3402630390],[569410928,4095796581],[3021312909,2108247612],[2444777957,2664129360],[282063667,3773661258],[682545472,3188439005],[3318488457,1917822038],[1447622272,4045023041],[757420137,4038580915],[2613420942,4146703316],[4012836163,150381244],[2938127093,3428591704],[1208226490,3086335530],[2935205706,1446903363],[430957978,3830532479],[1381578755,3757172800],[4109399782,1596778224],[288855589,1954372339],[3169178148,2256716053],[2644780093,3895892303],[107966643,1071681559],[1304747544,2607225372],[1359190711,1898207171],[3229237120,3273634996],[3027167685,3863637628],[3011615298,2883984519],[564135827,978463264],[770797430,362326607],[1983662611,1907583229],[4153656423,48268960],[3609759233,720080177],[3727911466,1270989899],[200708787,2366086947],[744508026,393422515],[1213261630,65757284],[3485747185,3845951003],[2958861301,1680248217],[2598470344,3163845864],[2767997908,4233451722],[3881113485,1492930166],[1773764017,2764062206],[4189435844,2898689174],[4234838742,1267095035],[2624081078,3302114327],[2395569449,390426320],[1728307101,690284926],[3309827454,1118258254],[2028172868,3888829086],[4271523049,909051386],[146617804,942892565],[2467685867,974297806],[2483428231,503635829],[3743260573,2018222096],[1002067894,2289153437],[3535252974,3738302271],[4154611160,1002664952],[3623154244,2349656961],[3646679180,3524329383],[862933752,4282853607],[2806008282,3272780913],[2734037942,3828874677],[1328176304,2137666995],[2278785213,2780788825],[381286368,1816476193],[2074232908,2316293454],[4087773386,3651330956],[967884669,3728964514],[4239349185,3213509668],[419231360,1463788948],[1275421624,2672384707],[1088456595,436245261],[2365565249,783696577],[1758083333,845223583],[2048846183,3530914274],[2635948261,124738415],[940630937,3069598626],[839474029,1253439921],[902477345,165479306],[2836079689,2681188273],[2007115168,2093139645],[1363041891,1282466609],[1130479818,1063857938],[3644959908,1260430427],[1385135238,46497915],[1386975934,3110156681],[2635987502,4233461619],[1915744629,4117939016],[487743653,285736599],[2049219159,3960249250],[69242857,3908563670],[1511066720,1488527520],[215590039,1703564952],[1459430344,4184955468],[676103291,2642967214],[83799035,3182827979],[1949179493,476101251],[2593534694,1493478716],[2283504289,995211746],[1349412676,3449243940],[2954378677,1878813305],[249149717,3329151870],[1578231917,1483986052],[4135085182,890874990],[461755528,3505523909],[3669622373,634949665],[219487622,2914465301],[2825233742,3703631897],[2479105382,2935590907],[2582097898,3187672881],[1221328648,1843341402],[2140891889,3958868911],[1482849818,345750049],[751922730,3178831411],[3546542069,4036458902],[216179596,877293293],[444615341,3117393729],[2424254530,494454238],[1344234989,3003337991],[929188581,2760877801],[2507911009,1879899982],[980166547,1311840394],[3566535507,1790747461],[143525013,2311336672],[4181962471,4273938872],[1815842366,862009811],[911175674,1179575598],[3591335374,3694215714],[1452686093,3393294272],[385158879,2447709103],[4011414929,1264623507],[1448477120,911094312],[3971299641,2289992053],[3133647265,2234591563],[3007628400,964409938],[1708345684,3673411261],[3031964479,2843021794],[3022128657,2480338599],[118850112,473449293],[2048127371,3202109429],[3158349745,382018770],[1505327237,3807570472],[2568424029,3272693060],[1866609495,3888556537],[844703982,1852802964],[3504617058,682636099],[1448882679,3733580327],[821387540,2215744532],[3631471417,311618895],[2077838877,2383929020],[3352949096,1688694420],[2491080787,3998672444],[3368630402,4182204255],[983299419,2837414346],[3651215291,1033373924],[265429091,3988955082],[3019003608,2896212153],[2955948456,3025235588],[903690197,2266253487],[3925215275,89402958],[3959093811,3609545561],[2455088053,223552128],[3115011301,2133669107],[1765081558,673805649],[3324795129,2111392191],[3443871631,432345706],[3152559950,3425427147],[3699649406,672784944],[3129545774,7668664],[2747044893,173040075],[3925243406,852328481],[164095314,3161868591],[2234471571,1302682825],[2164784335,105893718],[159995093,536831360],[599199451,425051327],[3274759746,1680930461],[1192619331,3903085578],[2832721114,3078660237],[91404660,4030521531],[3044880024,1578375623],[3906596030,754177855],[803516785,1894094672],[288455592,2030430096],[2143232492,2317305324],[388352703,3406060288],[2521731420,3588403719],[1043041227,4028028525],[3195290851,2468913324],[4166724431,3168683191],[1228226538,968516529],[500177583,3444787306],[533367442,4252082053],[4236023256,657816314],[413575568,3367198397],[3435884549,3334062733],[1004255532,1135705894],[2859513268,4170618274],[3914086821,1251487871],[3080761716,3489067886],[3571165255,699353261],[773372954,3648014952],[769693293,2939128604],[3116440923,507748478],[1687629160,3739431776],[2489486648,3502376324],[3686847158,2878383449],[3530767427,902211375],[2121652637,2493976397],[1827477891,930064171],[2549918411,4029725732],[2071415163,844118802],[2236083679,3088894868],[2040110303,4144562891],[3489536313,1133419300],[2190878435,2301466071],[2465915458,2448602097],[1675766804,2073834499],[3329799896,1613253148],[1483966600,1348836071],[159505618,2527621997],[2674227354,1695130688],[2683539437,1927873839],[3833196123,2570082188],[3891433165,759819981],[1455453349,2179602430],[1430583255,1957776111],[2067726741,4235143439],[303380021,2998980439],[2136024795,3126725799],[2054591852,1051702291],[1029141665,489794361],[2317027384,569642164],[2068461795,624418658],[2499875684,1830645251],[1302894490,4319401],[1002663431,2406815191],[1560941298,2060652753],[2141002286,515773223],[3661248027,475092913],[3705503008,2419919909],[914567990,3496539911],[3462935583,2039034761],[2878378006,2379243316],[1133857586,1390159333],[3023618742,2140726761],[282908558,944874642],[3686955701,1148723903],[2604456805,4163675010],[3061545110,377179268],[3218002352,76459088],[2836503392,916455101],[536836808,151306053],[2886925079,404221671],[2936593041,2011015485],[453815187,1852163908],[3042568989,82176306],[3279635891,4174836410],[3282689058,2360003049],[4088968807,1516570623],[2680453086,1322680794],[1731693966,3438253771],[1842894553,1294307894],[2736377365,2964642609],[121205621,521330014],[2324595870,3005710757],[3784465521,676493813],[1958759409,2030833406],[1306150933,1016370058],[2636541290,482366508],[1950415745,1695073534],[322077955,3746046623],[3602873262,3829181504],[1211684447,1861645455],[504701736,4080111082],[2407799203,1223857855],[1925743434,1498920209],[3617596327,845198428],[2498480299,3484773806],[2680229135,2560201696],[3731399221,1536412390],[2756509305,2924710846],[2635957500,3459716133],[1372762539,769635894],[802677945,3878474636],[1707760534,3075809808],[3714687192,2872792173],[1615679922,1606381794],[1940556374,1337437342],[445390489,731124040],[2864974375,64601760],[1984806574,2141516710],[513390958,1890172555],[744398315,1475299139],[982749166,852662657],[652663695,4260736510],[1184061125,82616221],[3363191899,147951756],[1064069880,1507328085],[2138882964,547595589],[2616926846,3186935246],[2298715513,3606862940],[2414381911,811477686],[2694745228,900437726],[4202576185,2201114451],[3602305260,3323446937],[3756663274,2658490339],[3061587876,2171079416],[3390977925,2850497765],[486312941,224925241],[3515712841,3510684394],[1322319486,2647200565],[3839619171,1148450258],[392296762,1154854654],[1401523788,957405781],[1934485528,527352730],[645968162,3131215255],[696971825,3361451947],[2038689491,1946699733],[1723966113,2785859721],[2652365974,1118037185],[3988018407,3134982149],[1354171594,3053634345],[1287854075,2631782435],[1723106141,2662328866],[563845090,1878819261],[639520332,171129501],[534957223,1696062352],[3612364282,2283204027],[3109494688,1304463816],[500957989,630925278],[3477030536,2149497258],[4109750364,281719363],[951472732,564407054],[922095147,2767874048],[3946156928,829677774],[2622281253,2086286851],[2936811901,850242186],[630086272,3340782667],[2340986210,1296336989],[4107355543,3865114709],[3560210278,3968418243],[3868847493,2967450637],[611513888,2083325060],[3265390517,3025776309],[2874106961,3424470508],[1668707698,2923258228],[2778598353,24320552],[292356118,3415510793],[754567370,86994591],[185141877,1621715171],[2884558258,3722473457],[1492107531,111281805],[3336927864,4225337056],[782994598,1021838039],[346133860,18281270],[2080909533,1649329040],[3612065399,3859901127],[2151962287,284556115],[3957975594,3745718727],[52533817,3998775856],[1232633839,397383972],[2716413964,3629253960],[1531307298,3836851439],[3030137657,2500401718],[3561556693,653345841],[313061910,2945718466],[2065276,3342140708],[410498334,1470588117],[2726640512,4051654894],[2570984935,758567696],[3008987264,3462702678],[623860175,228525243],[3527183895,1829844480],[467272850,3890501742],[568376656,650516927],[990477018,4035508558],[2366955227,817792110],[4183621538,989198068],[946958343,1639184195],[3395758993,3924097558],[1690887473,3220519765],[605184237,1255270525],[275515833,1926424610],[2142902612,283494960],[2021972412,1823828440],[105373677,3448326697],[1666662384,1042433908],[1338566998,261206307],[498685668,1344755577],[3101233780,3119109371],[2733370951,3808165089],[3656512268,3449289481],[4025308119,1607880299],[778896067,1612183167],[2846510368,3674754715],[3058428120,2991822529],[1892379383,3268787440],[2565895844,4154602030],[3213117192,98999135],[2495816991,116985075],[1040203361,1785041385],[3106252493,69316595],[1639829808,2087117568],[3213709576,3799911752],[604681594,2340981536],[4236730699,2938666503],[4009938384,1878897714],[2701667332,1725918218],[2182473079,1258184],[3550198211,2760750799],[657991062,875584532],[1640976276,3380476221],[460041378,2924352091],[1972323596,2287414795],[2510248061,1350206297],[2959337826,3762681165],[1625877874,3235902929],[2070189957,1429368735],[4245163299,1839731898],[2358312347,138364248],[275739390,2179122576],[2037777210,972544338],[2766930226,1984733259],[1933485829,4209310327],[3034118011,3286589799],[2653025529,62078937],[2641780289,2679545709],[3540781195,2787026415],[1569993599,3215949659],[441337890,3947723353],[1878946792,459505587],[3724105660,920173002],[1691411102,3934795955],[148741087,3647709027],[142506469,2776440083],[3811107376,3823285243],[472209891,252266174],[1913386482,1867329194],[2960608550,482740699],[1145005292,1513558421],[1091751784,1687823886],[3625186042,3086337482],[1712140887,940065262],[1504455800,1945702563],[3896940088,2003245591],[2478191531,4197739e3],[3233871270,250924495],[3404865229,1131917964],[1462204167,429621621],[1349259705,3641608989],[3627860584,2048468319],[1244251718,1513180369],[3979211282,371413143],[3043187861,4285699810],[581894202,3060983825],[1390895705,1811317301],[2599134010,3337406128],[2488233440,2436161462],[1816641224,2208816697],[1792034756,815866116],[2779893723,2695577703],[2084952115,2951772258],[1351806869,169269771],[2469979804,86740603],[1163545420,4264616949],[1795352113,2511146232],[1796715044,3134635815],[3521170642,1538900329],[3725363621,1455009392],[1342594643,1512127734],[2618386938,662157428],[2028859350,2494504685],[1841905045,648351336],[4002935891,4033319405],[850071259,1768358867],[979915719,3876018087],[830889197,1629549437],[1744763229,2455795856],[522919199,368499868],[3063822504,2522639205],[2861636095,407686388],[4097602344,1945259027],[4215946617,1251639506],[894485042,534122652],[924809191,1807237502],[1811585710,1589663609],[3439653887,1722232],[3810997538,105152714],[2677100683,4291805514],[77233985,102407776],[4239834691,2851274395],[148802076,2006440603],[2409138150,126301601],[3048474397,3217504870],[588133437,4221603123],[1139638106,263087485],[982032635,3165674595],[562514827,1294842959],[467575086,905357513],[1405117894,3370530088],[3813285157,242912619],[3601878331,1985076606],[1586505598,2092146221],[738488098,103663229],[2970334297,321718822],[1068097019,1742926233],[235518094,420804527],[283685722,4092504887],[2666392744,3799169331],[3569817788,1256762975],[2169728352,292617248],[2444571896,2239859206],[3967907832,1066404216],[420376911,2913277294],[3046293305,2956347747],[2311278792,2477686209],[2885955184,4172514290],[3030078181,2275536480],[4212469731,4280736393],[1046900335,1773022229],[995380926,1414273529],[3892683234,2429494358],[615726237,2127712535],[3880203074,2071130305],[176180504,3070850165],[1474506861,2283723599],[1256707747,1857412043],[764236850,359687368],[3521530334,511649419],[2318567964,3992868140],[128167623,2518992858],[2220129756,1042300052],[2567608573,1349636707],[441446694,384760969],[4143447316,829506048],[817912603,2738025500],[2368091832,357934982],[1187643061,1561463042],[3438021235,3030161697],[1318922279,895468690],[434876457,1130220303],[1180291767,1132759596],[2520707785,1798553137],[1962430872,2958700157],[1510954061,3534879512],[57831539,3269538993],[3354831405,3852135009],[891783098,2698494511],[2555636406,996018997],[2881342935,3982231648],[3473267445,2894952368],[1238029452,3958679326],[2051805420,559465638],[3655936674,1186951582],[330209165,167662935],[1929681327,2450868735],[1313566811,2458925988],[4283920930,3243182650],[1438004300,4185567150],[3093439067,89876832],[3401620219,3721579956],[3673745794,2682874719],[3053321309,825410712],[822915968,3681514755],[3900685126,561657358],[553823814,1857753416],[4166295066,983949325],[128359165,3426887194],[3300989119,3884968622],[4193552686,3647722552],[452189154,1569670618],[4122259632,3537825460],[2519387887,2821594244],[74333898,2940550377],[4032631446,2173999692],[2521268686,1934310532],[2620314688,2177785789],[1378755571,2455646622],[394133753,4231198609],[734399075,2800989170],[573292462,1634883078],[1214417373,3426576256],[2110224475,2399009920],[2331215665,3224086912],[531326186,698539511],[3839443603,583861850],[2644531398,2017784332],[616620850,3070237104],[590349237,2798642861],[3582377217,3317831670],[1582708616,1596570667],[2126148205,2358511947],[173450736,3219362418],[3616831144,1323437318],[2655785577,3131359031],[401600069,2967397952],[496349349,4244179910],[2479612086,2579650653],[1710903074,2049666425],[3589924952,690291925],[3266682943,1900485231],[1496318498,3025542656],[3459221058,3389461212],[2091479615,3140389256],[663040899,1207089672],[3323704225,1105530508],[353318429,2879253542],[2674540957,941987316],[1688550857,620657353],[338551967,4286217277],[204689992,2239736295],[178008789,3940832005],[3871613304,3300636974],[1911672356,2429684487],[4055679954,1974461722],[3878217928,1009991796],[2533095482,310920740],[2174833823,3596041637],[1604814460,2939543881],[1452830254,4092397851],[2441027029,4169690209],[3524103304,3372213855]],z=[[836181454,1689436944],[2776523577,3710710688],[4049974663,3750330768],[519497435,2979405513]],Se=[[1892447193,197291556],[3793382197,3742120663],[3838936,2994760034],[479846099,1018728609],[3476112862,182272649],[3504620154,1427438450],[2009473484,2679350403],[1738755500,1129731339]],he=[4174784170,2938602761],Ge={p:0,P:1,n:2,N:3,b:4,B:5,r:6,R:7,q:8,Q:9,k:10,K:11},de=[];de[5]=1,de[6]=0,de[9]=3,de[10]=2,de[17]=5,de[18]=4,de[33]=7,de[34]=6,de[65]=9,de[66]=8,de[129]=11,de[130]=10;var k=[2,5,10,20,40,80,160,64],at="nbrq",Xt=["","0000000","000000","00000","0000","000","00","0",""],Rt=16;function on(qe){var Vt=qe.toString(16);return Xt[Vt.length]+Vt}function ut(qe){return on(qe[0])+on(qe[1])}function nn(qe){return[parseInt(qe.substr(0,8),16),parseInt(qe.substr(8),16)]}function Ct(qe,Vt){var O,le,V=qe.split(" "),lt=V[0].split("/"),wt,In,qt,Ft,en,m,I,W,ue=V[1]==="w",Ue=0,nt,re,_e=Number(ue),E=_e?3:4;for(wt=7;wt>=0;wt-=1)for(In=0,qt=lt[wt],en=qt.length,Ft=0;Ft<en;Ft+=1)m=qt[Ft],nt=Ge[m],nt>=0&&(I=ee[64*nt+8*(7-wt)+In],O=(O^I[0])>>>0,le=(le^I[1])>>>0,nt===_e&&wt===E&&(Ue|=1<<In)),In+=Number(m)||1;return V[2]!=="-"&&(W=V[2],W.indexOf("K")>-1&&(I=z[0],O=(O^I[0])>>>0,le=(le^I[1])>>>0),W.indexOf("Q")>-1&&(I=z[2],O=(O^I[0])>>>0,le=(le^I[1])>>>0),W.indexOf("k")>-1&&(I=z[1],O=(O^I[0])>>>0,le=(le^I[1])>>>0),W.indexOf("q")>-1&&(I=z[3],O=(O^I[0])>>>0,le=(le^I[1])>>>0)),V[3]&&V[3]!=="-"&&(re=V[3].charCodeAt(0)-97,k[re]&Ue&&(I=Se[re],O=(O^I[0])>>>0,le=(le^I[1])>>>0)),ue&&(O=(O^he[0])>>>0,le=(le^he[1])>>>0),Vt&&Vt==="hex"?ut([O,le]):[O,le]}function vt(qe,Vt){var O=new XMLHttpRequest,le=qe.toLowerCase().indexOf(".json")>-1;function V(){var lt;if(O.status>=200&&O.status<300||O.status===304||O.status===0||O.status===1223)if(le)try{Vt(null,JSON.parse(O.response))}catch(wt){Vt(wt)}else lt=new DataView(O.response),Vt(null,lt);else Vt(new Error("Error code: "+O.status))}O.open("GET",qe,!0),le||(O.responseType="arraybuffer"),O.onload=V,O.onerror=V,O.send()}function Zt(qe){var Vt,O={},le,V,lt;function wt(W,ue){var Ue=le.getUint16(W+8),nt=le.getUint16(W+10),re,_e,E,K,me,je;return _e=Ue>>9&7,E=Ue>>6&7,K=Ue>>3&7,me=Ue&7,je=Ue>>12&7,E===4&&ue&&_e===K&&ue!=="-"&&(me===7&&(_e===0&&ue.indexOf("K")>-1||_e===7&&ue.indexOf("k")>-1)?me-=1:me===0&&(_e===0&&ue.indexOf("Q")>-1||_e===7&&ue.indexOf("q")>-1)&&(me+=2)),re=String.fromCharCode(E+97)+(_e+1)+String.fromCharCode(me+97)+(K+1),je&&(re+=at[je-1]),{move:re,weight:nt}}function In(W){W.sort(function(Ue,nt){return nt.weight-Ue.weight})}function qt(W){return typeof W=="string"&&(W={fen:W}),Vt(W)}function Ft(W){var ue,Ue,nt,re,_e,E=0;if(W=W||{},ue=W.moves||qt(W),In(ue),nt=ue.length,nt){if(!W.type||nt===1||W.type==="best")return ue[0].move;if(W.type==="random"){for(re=Math.floor(Math.random()*ue.sum)+1,_e=0;_e<nt-1&&(E+=ue[_e].weight,!(re<=E));_e+=1);return ue[_e].move}else return W.type==="randomDisregardWeight"?ue[Math.floor(Math.random()*nt)].move:W.type==="worst"?ue[nt-1].move:(Ue=parseInt(W.type)||1,Ue<0&&(Ue=nt+Ue+1),Ue<1?Ue=1:Ue>nt&&(Ue=nt),ue[Ue-1].move)}}function en(W){var ue=le.length||le.byteLength||0,Ue=W.offset||0,nt,re=W.fen,_e=W.chess960,E=W.checkAll,K,me=[],je=0,ve,ct,Dt;for(W.hash?(nt=W.hash,typeof nt=="string"&&(nt=nn(nt))):nt=Ct(re),!_e&&re&&(Dt=re.split(" ")[2]),Ue=0;Ue<ue;Ue+=Rt)if(le.getUint32(Ue)===nt[0]&&le.getUint32(Ue+4)===nt[1])ve=wt(Ue,Dt),me[me.length]=ve,je+=ve.weight,K=!0;else if(K&&!E)break;if(me.sum=je,W.relative)for(ct=me.length-1;ct>=0;ct-=1)me[ct].relative=Math.round(me[ct].weight/je*1e4);return me}function m(W){var ue=[],Ue,nt=W.b.length;for(Ue=0;Ue<nt;++Ue)ue.push({move:W.b[Ue],weight:W.w[Ue]});return ue}function I(W){var ue,Ue,nt=0,re,_e,E,K=W.fen,me;if(O.useFen)re=K.replace(/ \d+ \d+$/,""),ue=V[re],ue||(_e=re.replace(/[a-h][1-8]$/,"-"),_e!==re&&(ue=V[_e]));else if(W.hash||(W.hash=Ct(K,"hex")),ue=V[W.hash],ue){if(ue[0]&&ue[0].n&&(ue=ue[0]),ue.n&&!ue.b)return[];if(ue.b)ue=m(ue);else if(!W.chess960&&K)for(me=K.split(" ")[2],Ue=ue.length-1;Ue>=0;Ue-=1)E=ue[Ue].move.match(/e([18])([ah])\1/),E&&(E[2]==="h"&&(E[1]==="1"&&me.indexOf("K")>-1||E[1]==="8"&&me.indexOf("k")>-1)?ue[Ue]={move:"e"+E[1]+"g"+E[1],weight:ue[Ue].weight}:E[2]==="a"&&(E[1]==="1"&&me.indexOf("Q")>-1||E[1]==="8"&&me.indexOf("q")>-1)&&(ue[Ue]={move:"e"+E[1]+"c"+E[1],weight:ue[Ue].weight}))}if(ue)for(Ue=ue.length-1;Ue>=0;Ue-=1)nt+=Number(ue[Ue].weight);else ue=[];return ue.sum=nt,ue}if(O={query:qt,pick:Ft},qe.getUint32)Vt=en,le=qe,O.buffer=le;else{Vt=I,V=qe,O.json=V;for(lt in V){O.useFen=lt.indexOf(" ")>-1;break}}return O}function jt(qe,Vt){function O(le,V){var lt;if(V&&(lt=Zt(V)),Vt)return Vt(le,lt);if(le)throw le;return lt}vt(qe,O)}var pn=function(){var qe={};return function(O,le){if(qe[O]){qe[O].book?setTimeout(function(){le(null,qe[O].book)},0):qe[O].cbs.push(le);return}qe[O]={cbs:[le]},jt(O,function(lt,wt){var In=qe[O].cbs;lt?delete qe[O]:(qe[O].book=wt,qe[O].cbs=void 0),In.forEach(function(qt){setTimeout(function(){qt(lt,wt)},0)})})}}();return{hash:Ct,loadBook:pn,to64BitHex:ut,zobristPiece:ee,zobristCastle:z,zobristEnPassant:Se,zobristTurn:he,zobristPieceValue:Ge,zobristPieceValueNumbers:de}}();/*!
 * Chess.com (c) 2020
 *
 * A distant fork of chess.js - BSD (c) 2014, Jeff Hlywa (jhlywa@gmail.com)
 */var M=function(){var z={Chess:0,Chess960:1,Crazyhouse:2,"3-check":3,"King of the Hill":4,Bughouse:5,chess960:1,fischerandom:1,fischerrandom:1,fischer:1,chess9lx:1,960:1,crazyhouse:2,"three-check":3,threecheck:3,"3check":3,kingofthehill:4,koth:4,bughouse:5},Se=["Chess","Chess960","Crazyhouse","3-check","King of the Hill","Bughouse"],he={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Ge,de,k,at,Xt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Rt=0,on=0,ut=0,nn=-1,Ct=1,vt=2,Zt=4,jt=8,pn=16,qe=32,Vt=64,O=128,le=3,V=252,lt=255,wt=256,In=512,qt=112,Ft=1,en=2,m=4,I=3,W=7,ue=14,Ue=21,nt=127,re="pnbrqkPNBRQK",_e="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",E=[];E[5]=[-16,-17,-15],E[6]=[16,17,15],E[8]=[-18,-33,-31,-14,18,33,31,14],E[16]=[-17,-15,17,15],E[32]=[-16,1,16,-1],E[64]=[-17,-16,-15,1,17,16,15,-1],E[128]=[-17,-16,-15,1,17,16,15,-1];var K={P:5,p:6,N:9,n:10,B:17,b:18,R:33,r:34,Q:65,q:66,K:129,k:130},me={P:4,p:4,N:8,n:8,B:16,b:16,R:32,r:32,Q:64,q:64,K:128,k:128},je={5:"P",6:"p",9:"N",10:"n",17:"B",18:"b",33:"R",34:"r",65:"Q",66:"q",129:"K",130:"k"},ve={9:"N",10:"N",17:"B",18:"B",33:"R",34:"R",65:"Q",66:"Q",129:"K",130:"K"},ct=[80,0,0,0,0,0,0,96,0,0,0,0,0,0,80,0,0,80,0,0,0,0,0,96,0,0,0,0,0,80,0,0,0,0,80,0,0,0,0,96,0,0,0,0,80,0,0,0,0,0,0,80,0,0,0,96,0,0,0,80,0,0,0,0,0,0,0,0,80,0,0,96,0,0,80,0,0,0,0,0,0,0,0,0,0,80,8,96,8,80,0,0,0,0,0,0,0,0,0,0,0,8,212,224,212,8,0,0,0,0,0,0,96,96,96,96,96,96,224,0,224,96,96,96,96,96,96,0,0,0,0,0,0,8,212,224,212,8,0,0,0,0,0,0,0,0,0,0,0,80,8,96,8,80,0,0,0,0,0,0,0,0,0,0,80,0,0,96,0,0,80,0,0,0,0,0,0,0,0,80,0,0,0,96,0,0,0,80,0,0,0,0,0,0,80,0,0,0,0,96,0,0,0,0,80,0,0,0,0,80,0,0,0,0,0,96,0,0,0,0,0,80,0,0,80,0,0,0,0,0,0,96,0,0,0,0,0,0,80],Dt=[336,80,80,0,0,0,96,352,96,0,0,0,80,80,336,0,80,336,80,80,0,0,96,352,96,0,0,80,80,336,80,0,80,80,336,80,80,0,96,352,96,0,80,80,336,80,80,0,0,80,80,336,80,80,96,352,96,80,80,336,80,80,0,0,0,0,80,80,336,88,120,360,120,88,336,80,80,0,0,0,0,0,0,80,88,476,252,508,252,476,88,80,0,0,0,0,96,96,96,96,120,252,252,252,252,252,120,96,96,96,96,0,352,352,352,352,360,508,252,0,252,508,360,352,352,352,352,0,96,96,96,96,120,252,252,252,252,252,120,96,96,96,96,0,0,0,0,80,88,476,252,508,252,476,88,80,0,0,0,0,0,0,80,80,336,88,120,360,120,88,336,80,80,0,0,0,0,80,80,336,80,80,96,352,96,80,80,336,80,80,0,0,80,80,336,80,80,0,96,352,96,0,80,80,336,80,80,0,80,336,80,80,0,0,96,352,96,0,0,80,80,336,80,0,336,80,80,0,0,0,96,352,96,0,0,0,80,80,336],te=[336,80,80,0,0,0,96,352,96,96,0,0,80,80,336,0,80,336,80,80,0,0,96,352,96,96,0,80,80,336,80,0,80,80,336,80,80,0,96,352,96,96,80,80,336,80,80,0,0,80,80,336,80,80,96,352,96,112,80,336,80,80,0,0,0,0,80,80,336,88,120,360,120,120,336,80,80,0,0,0,0,0,0,80,88,476,252,508,252,508,88,80,0,0,0,0,96,96,96,96,120,252,252,252,252,252,252,104,96,96,96,0,352,352,352,352,360,508,252,0,252,508,488,352,352,352,352,0,96,96,96,96,120,252,252,252,252,252,252,104,96,96,96,0,0,0,0,80,88,476,252,508,252,508,88,80,0,0,0,0,0,0,80,80,336,88,120,360,120,120,336,80,80,0,0,0,0,80,80,336,80,80,96,352,96,112,80,336,80,80,0,0,80,80,336,80,80,0,96,352,96,96,80,80,336,80,80,0,80,336,80,80,0,0,96,352,96,96,0,80,80,336,80,0,336,80,80,0,0,0,96,352,96,96,0,0,80,80,336],xe=[336,80,80,0,0,96,96,352,96,0,0,0,80,80,336,0,80,336,80,80,0,96,96,352,96,0,0,80,80,336,80,0,80,80,336,80,80,96,96,352,96,0,80,80,336,80,80,0,0,80,80,336,80,112,96,352,96,80,80,336,80,80,0,0,0,0,80,80,336,120,120,360,120,88,336,80,80,0,0,0,0,0,0,80,88,508,252,508,252,476,88,80,0,0,0,0,96,96,96,104,252,252,252,252,252,252,120,96,96,96,96,0,352,352,352,352,488,508,252,0,252,508,360,352,352,352,352,0,96,96,96,104,252,252,252,252,252,252,120,96,96,96,96,0,0,0,0,80,88,508,252,508,252,476,88,80,0,0,0,0,0,0,80,80,336,120,120,360,120,88,336,80,80,0,0,0,0,80,80,336,80,112,96,352,96,80,80,336,80,80,0,0,80,80,336,80,80,96,96,352,96,0,80,80,336,80,80,0,80,336,80,80,0,96,96,352,96,0,0,80,80,336,80,0,336,80,80,0,0,96,96,352,96,0,0,0,80,80,336],N=[336,80,80,0,0,96,96,352,96,96,0,0,80,80,336,0,80,336,80,80,0,96,96,352,96,96,0,80,80,336,80,0,80,80,336,80,80,96,96,352,96,96,80,80,336,80,80,0,0,80,80,336,80,112,96,352,96,112,80,336,80,80,0,0,0,0,80,80,336,120,120,360,120,120,336,80,80,0,0,0,0,0,0,80,88,508,252,508,252,508,88,80,0,0,0,0,96,96,96,104,252,252,252,252,252,252,252,104,96,96,96,0,352,352,352,352,488,508,252,0,252,508,488,352,352,352,352,0,96,96,96,104,252,252,252,252,252,252,252,104,96,96,96,0,0,0,0,80,88,508,252,508,252,508,88,80,0,0,0,0,0,0,80,80,336,120,120,360,120,120,336,80,80,0,0,0,0,80,80,336,80,112,96,352,96,112,80,336,80,80,0,0,80,80,336,80,80,96,96,352,96,96,80,80,336,80,80,0,80,336,80,80,0,96,96,352,96,96,0,80,80,336,80,0,336,80,80,0,0,96,96,352,96,96,0,0,80,80,336],B=[336,80,80,112,112,112,96,352,96,96,112,112,112,80,336,0,80,336,80,112,112,112,112,352,96,112,112,112,112,336,80,0,80,80,336,112,112,112,112,368,112,112,112,112,368,80,80,0,80,80,80,368,112,112,112,368,112,112,112,368,112,80,80,0,80,80,80,112,368,120,120,376,120,120,368,112,112,80,80,0,0,80,88,120,120,508,252,508,252,508,120,120,120,88,80,0,96,104,252,252,252,252,252,252,252,252,252,252,252,252,104,0,352,352,480,480,488,508,252,0,252,508,488,480,480,480,352,0,96,104,252,252,252,252,252,252,252,252,252,252,252,252,104,0,0,80,88,120,120,508,252,508,252,508,120,120,120,88,80,0,80,80,80,112,368,120,120,376,120,120,368,112,112,80,80,0,80,80,80,368,112,112,112,368,112,112,112,368,112,80,80,0,80,80,336,112,112,112,112,368,112,112,112,112,368,80,80,0,80,336,80,112,112,112,112,352,96,112,112,112,112,336,80,0,336,80,80,112,112,112,96,352,96,96,112,112,112,80,336],P=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,33,16,31,15,0,0,0,0,0,0,0,0,0,0,0,18,17,16,15,14,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,-14,-15,-16,-17,-18,0,0,0,0,0,0,0,0,0,0,0,-15,-31,-16,-33,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],H=[0,5,8,11,14],X=[31,7,7,7,63],He={P:0,p:0,N:5,n:5,B:8,b:8,R:11,r:11,Q:14,q:14},Je=[Zt,jt,pn,qe,Vt],rt=["","N","B","R","Q"],Fe={CAPTURE:1,BIG_PAWN:2,EP_CAPTURE:4,ANY_CAPTURE:5,PROMOTION:8,KSIDE_CASTLE:16,QSIDE_CASTLE:32,KQSIDE_CASTLE:48,DROP:64,DROP_OR_PROMOTE:72},vn=[0,6,1],It={K:119,Q:112,k:7,q:0,A:112,B:113,C:114,D:115,E:116,F:117,G:118,H:119,a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},Mn=["Event","Site","Date","Round","White","Black","Result"],qn=["Event","Site","Date","Round","White","Black","Result","Variant","SetUp","FEN","WhiteA","WhiteB","BlackA","BlackB"];function Pt(gn){return gn>>4}function Nt(gn){return gn&7}function mr(gn){return String.fromCharCode(Nt(gn)+97)+(8-Pt(gn))}function ur(gn){return 3-gn}function En(gn,wn){gn[0]=(gn[0]^wn[0])>>>0,gn[1]=(gn[1]^wn[1])>>>0}function Ui(gn,wn,Mt){return wn<1?gn:(wn=typeof wn=="number"?wn:80,gn.replace(new RegExp("(.{1,"+wn+`})(?: |$|\r?
)`,"g"),"$1"+Mt).slice(0,-Mt.length))}function Xn(gn){var wn,Mt;return gn=gn.trim(),Mt=gn.split(" "),wn=[""," w - - 0 1"," - - 0 1"," - 0 1"," 0 1"," 1"][Mt.length],wn&&gn?gn+=wn:Mt[5]==="0"&&(Mt[5]=1,gn=Mt.join(" ")),gn}function pr(gn){var wn=Math.floor(gn%36e3/600),Mt=Math.floor(gn%36e3%600)/10;return Math.floor(gn/36e3)+":"+(wn<10?"0":"")+wn+":"+(Mt<10?"0":"")+Mt}function Ri(gn){var wn=gn.split(":");return(wn[0]*3600+wn[1]*60+wn[2]*1)*10}function to(){F.zobristCheck=[[441249556,340005552],[1040760204,311043682],[1621584863,1749286446],[1006868636,1625552915],[1953853171,24921145],[161251506,1935545265]]}function vo(gn,wn){var Mt=gn.length,$e,ie=0,Q=0,Ze=wn&&(wn===z.Crazyhouse||wn===z.Bughouse),L;for($e=0;$e<Mt;++$e)if(L=gn[$e],+L!=+L)if(L==="/"){if(Q!==8&&(gn=gn.substr(0,$e)+(8-Q)+gn.substr($e),++$e,++Mt),Q=0,++ie>7){if(!Ze&&$e<Mt-1||!/^[pnbrq]{0,63}$/i.test(gn.substr($e+1)))return!1;break}}else if(K[L]){if(++Q>8)return!1}else if(L==="~")(!Ze||!$e||!/[nbrq]/i.test(gn[$e-1]))&&(gn=gn.substr(0,$e)+gn.substr($e+1),--$e,--Mt);else return!1;else Q+=L*1,Q>8&&(gn=gn.substr(0,$e)+(L-(Q-8))+gn.substr($e+1),Q=8);return gn}function mo(gn,wn){var Mt,$e,ie,Q=/^(?:[A-H]{1,2}[a-h]{0,2}|[A-H]{0,2}[a-h]{1,2}|KQ?k?q?|Qk?q?|kq?|q|-)$/,Ze=z[wn]||wn*1||z[String(wn).replace(/\s/g,"").toLowerCase()],L=Ze===z.Crazyhouse||Ze===z.Bughouse,fe,se,Xe,Gt=0,bt=0,Oe,mt=!0,Bt="",g={0:0,7:0},C={0:0,7:0},Y={0:"k",7:"K"},Ee={0:"r",7:"R"},Me,Qe,Ce=Ze===z.Chess960,Lt,Gn,br,_r,dn,Qt,ht,Ye,cn,_n,fr;if(!gn)return 1;if(Ze===z.Bughouse&&(se=gn.split(" | "),se.length===2))return Xe=mo(se[0],wn),Xe===0&&(Xe=mo(se[1],wn)),Xe;if(se=gn.split(/\s+/),Ze===z["3-check"]&&se.length===7&&(fe=se.pop(),!/^\+[0-3]\+[0-3]$/.test(fe)||fe==="+3+3"))return 14;if(se.length!==6)return 1;if(/\D|.{7,}|^0|^$/.test(se[5]))return 2;if(/\D|.{7,}|^0.|^$/.test(se[4]))return 3;if(!/^(?:-|[abcdefgh][36])$/.test(se[3]))return 4;if(Lt=se[2],Ce){if(!Q.test(Lt))return 12}else if(!/^(?:KQ?k?q?|Qk?q?|kq?|q|-)$/.test(Lt)){if(typeof wn<"u"||!Q.test(Lt))return 5;Ce=!0}if(se[1]!=="w"&&se[1]!=="b")return 6;if(L&&(se[0]=se[0].replace(/~(?=.*\/)/g,"")),$e=se[0].split("/"),L&&$e.length===9&&(fe=$e.pop(),!/^[pnbrq]{0,63}$/i.test(fe)))return 13;if($e.length!==8)return 7;if(se[3][1]==="3"&&se[1]==="w"||se[3][1]==="6"&&se[1]==="b")return 11;for(se[3]!=="-"&&(bt=se[3][1]==="3"?4:3,Oe=bt===4?5:2,Gt=se[3].charCodeAt(0)-97,mt=!1,Bt=bt===4?"P":"p"),Mt=0;Mt<$e.length;++Mt){for(cn=0,_n=!1,fr=0;fr<$e[Mt].length;fr++)if(ie=$e[Mt][fr],+ie==+ie){if(_n)return 8;cn+=ie*1,_n=!0}else{if(re.indexOf(ie)===-1)return 9;if(!mt&&bt===Mt&&Gt===cn&&Bt===ie&&(mt=!0),Oe===Mt&&Gt===cn)return 11;Mt%7===0&&(ie===Y[Mt]?C[Mt]=1<<cn:ie===Ee[Mt]&&(g[Mt]|=1<<cn)),++cn,_n=!1}if(cn!==8)return 10}if(!mt)return 11;if(Lt!=="-"){if(Ce){for(br={0:0,1:0,2:252,4:248,8:240,16:224,32:192,64:128,128:0},Gn={0:0,1:0,2:1,4:3,8:7,16:15,32:31,64:63,128:0},Ye={0:[0,0],7:[0,0]},Mt=Lt.length-1;Mt>=0;--Mt)if(Qt=Lt.charCodeAt(Mt),ht&&ht>Qt&&ht-Qt<8||(Qt===75?(dn=7,_r=g[dn]&br[C[dn]]):Qt===81?(dn=7,_r=g[dn]&Gn[C[dn]]):Qt===107?(dn=0,_r=g[dn]&br[C[dn]]):Qt===113?(dn=0,_r=g[dn]&Gn[C[dn]]):(dn=Qt>=97?0:7,_r=1<<Qt-(dn?65:97),ht=Qt),!_r||(_r&_r-1)!==0)||C[dn]<2||C[dn]>64||(_r&g[dn])!==_r||++Ye[dn][(C[dn]<_r)*1]>1)return 15}else if(Me=(Lt.indexOf("K")>-1?128:0)|(Lt.indexOf("Q")>-1?1:0),Me&&(C[7]!==16||(Me&g[7])!==Me)||(Qe=(Lt.indexOf("k")>-1?128:0)|(Lt.indexOf("q")>-1?1:0),Qe&&(C[0]!==16||(Qe&g[0])!==Qe)))return 15}return 0}function go(gn,wn){var Mt="",$e=0,ie,Q,Ze=wn?6:0;if(gn)for(;$e<5;){for(ie=gn>>H[$e]&X[$e],Q=0;Q<ie;++Q)Mt+=re[$e+Ze];++$e}return Mt}function Jo(gn,wn){wn[Ct]&&En(gn,F.zobristCheck[wn[Ct]-1]),wn[vt]&&En(gn,F.zobristCheck[wn[vt]+2])}function Ja(gn,wn){var Mt,$e,ie,Q,Ze=0,L,fe,se;for(Mt=1;Mt<3;++Mt){if($e=wn[Mt],$e)for(ie=0;ie<5;){for(L=Ze+ie*63,Q=$e>>H[ie]&X[ie],fe=0;fe<Q;++fe)se=F.zobristPiece[L++],En(gn,[se[0]*31>>>0,se[1]*17>>>0]);++ie}Ze=315}}function qi(gn,wn,Mt,$e){(gn[Mt+1]===$e||gn[Mt-1]===$e)&&En(wn,F.zobristEnPassant[Nt(Mt)])}function ka(gn,wn){var Mt=[],$e,ie;for($e=0;$e<120;++$e)if($e&136&&($e+=8),ie=gn[$e],ie&&(ie&wn)===wn){Mt.push($e);continue}return Mt}function ca(gn,wn,Mt,$e){var ie;(de===0||gn[Mt+8]&en)&&(Pt(Mt)%7===0?(ie=$e|Fe.PROMOTION|wn<<W|Mt<<ue,Xt[on++]=ie|4<<Ue,Xt[on++]=ie|3<<Ue,Xt[on++]=ie|2<<Ue,Xt[on++]=ie|1<<Ue):Xt[on++]=$e|wn<<W|Mt<<ue)}function Ia(gn){switch(gn){case 67:case 68:case 51:case 52:return!0}return!1}function ea(gn,wn,Mt,$e){var ie=wn+(Mt-wn%8),Q=Mt>wn%8?1:-1,Ze,L,fe;for(fe=wn+Q;fe!==ie;fe+=Q)if(gn[fe])return!1;if($e===Ct?Ze=Q===1?118:114:Ze=Q===1?6:2,L=Ze-Q,gn[Ze+8]||gn[Ze]&&Ze!==wn&&Ze!==ie||gn[L]&&L!==wn&&L!==ie)return!1;if(Ze!==wn){for(Q=Ze>wn?1:-1,fe=wn+Q;fe!==Ze;fe+=Q)if(fe!==ie&&gn[fe]||gn[fe+8])return!1}return!0}var es=function(){function gn($e,ie,Q,Ze,L,fe,se){var Xe=[],Gt="",bt=!0,Oe,mt,Bt,g,C,Y,Ee=ie[Q],Me=Ee.length,Qe,Ce,Lt="";if(Ee.commands)for(g in Ee.commands)(!fe||fe.indexOf(g)>-1)&&(Lt+="[%"+g+" "+Ee.commands[g]+"]");for(Ee.initComment&&!se&&(Lt=(Lt+" "+Ee.initComment.replace(/(\"|\}|\%|\\)/g,"\\$1")).trim()),Lt&&Xe.push("{"+Lt+"}"),mt=0;mt<Me;++mt){if(Oe=Ee[mt],Y=Oe.color===Ct,Gt="",Lt="",Ze!==z.Bughouse?(bt&&!Y?Gt=$e+"...":Y&&(Gt=$e+"."),L&&(Y||bt)&&(Gt+=" ")):(Xe.bughouseOrder||(Xe.bughouseOrder=[]),Xe.bughouseOrder.push(Oe.bughouseOrder),mt||(Xe.blackCountOffset=Ee[0].color===vt?1:0)),Gt+=Oe.san,Oe.annotation&&(Gt+=Oe.annotation),Oe.additionalAnnotation&&(Gt+=" "+Oe.additionalAnnotation.join(" ")),bt=!1,typeof Oe.time<"u"&&!Oe.commands&&(Oe.commands={clk:pr(Oe.time)}),Oe.commands)for(g in Oe.commands)(!fe||fe.indexOf(g)>-1)&&(Lt+="[%"+g+" "+Oe.commands[g]+"]");if(Oe.comment&&!se&&(Lt=(Lt+" "+Oe.comment.replace(/(\"|\}|\%|\\)/g,"\\$1")).trim()),Lt&&(Gt+=" {"+Lt+"}",bt=!0),Xe.push(Gt),Oe.lines)for(Qe=Oe.lines.length,Bt=0;Bt<Qe;++Bt)Ce=Oe.lines[Bt],ie[Ce].length&&(C=gn($e,ie,Ce,Ze,L,fe,se),C[0]="("+C[0],C[C.length-1]+=")",Xe=Xe.concat(C),bt=!0);Y||$e++}return Xe}function wn($e,ie,Q){var Ze=ie,L=$e.siblingGame.pgn(),fe=0,se=0,Xe=[];for(ie.bughouseOrder=ie.bughouseOrder||[],L.bughouseOrder=L.bughouseOrder||[];ie.bughouseOrder.length||L.bughouseOrder.length;)!ie.bughouseOrder.length||L.bughouseOrder.length&&ie.bughouseOrder[0]>L.bughouseOrder[0]?(L.bughouseOrder.shift(),Xe.push("B")):(ie.bughouseOrder.shift(),Xe.push("A"));return ie=[],Xe.forEach(function(Gt){var bt,Oe,mt="",Bt;Gt==="A"?(bt=Ze,++fe,Oe=fe,Bt=$e.startingMoveNumber()):(bt=L,++se,Oe=se,Bt=$e.siblingGame.startingMoveNumber()),mt=String(Math.floor((Oe+1)/2)+Bt-1),(bt.blackCountOffset+Oe)%2?mt+=Gt:mt+=Gt.toLowerCase(),mt+="."+(Q?" ":"")+bt.shift(),ie.push(mt)}),ie}function Mt($e,ie){return"["+$e+' "'+String(ie).replace(/(\"|\\)/g,"\\$1")+'"]'}return function(ie,Q,Ze,L,fe,se){var Xe=typeof ie.newline=="string"?ie.newline:`
`,Gt=typeof ie.spaceAfterPeriods>"u"?!0:ie.spaceAfterPeriods,bt="",Oe,mt;bt+=Mt("Event",Q.Event)+Xe,bt+=Mt("Site",Q.Site)+Xe,bt+=Mt("Date",Q.Date)+Xe,bt+=Mt("Round",Q.Round)+Xe,fe===z.Bughouse?(bt+=Mt("WhiteA",Q.WhiteA||"?")+Xe,bt+=Mt("BlackA",Q.BlackA||"?")+Xe,bt+=Mt("WhiteB",Q.WhiteB||"?")+Xe,bt+=Mt("BlackB",Q.BlackB||"?")+Xe):(bt+=Mt("White",Q.White)+Xe,bt+=Mt("Black",Q.Black)+Xe),bt+=Mt("Result",Q.Result)+Xe,fe&&(bt+=Mt("Variant",Q.Variant)+Xe),Q.FEN&&Q.FEN!==_e&&(bt+=Mt("SetUp","1")+Xe,bt+=Mt("FEN",Q.FEN)+Xe);for(Oe in Q)qn.indexOf(Oe)===-1&&(bt+=Mt(Oe,Q[Oe])+Xe);if(bt+=Xe,mt=gn(L,Ze,0,fe,Gt,ie.hideCommands?[]:ie.restrictCommands,ie.hideComments),fe===z.Bughouse){if(se.isDependent)return mt;mt=wn(se,mt,Gt)}return mt.push(Q.Result),bt+Ui(mt.join(" "),ie.maxWidth,Xe)}}(),Ii=function(){var gn="!?\u203C\u2047\u2049\u2048\u25A1\u2207\u0394\u221E\u2A72\u2A71\xB1\u2213\u2A00\u27F3\u2192\u2191\u21C6\u2206\u2313\u21D4\u21D7\u27EB\u27EA\u2715\u22A5\u2295\u25CB\u21C4\u21BB\u2299\u2612~",wn=/\[%(\S+)\s([^\]]+)\]/,Mt=/^(?:[+=~\/\-\u2212]+|T?N|RR|D)$/;function $e(Q){for(var Ze,L=Q.commands||{};Ze=wn.exec(Q.value);)Q.value=Q.value.replace(Ze[0],"").trim(),L[Ze[1]]=Ze[2],Q.commands=L}function ie(Q,Ze,L,fe){for(var se;++Ze<L;)if((se=Q[Ze].trim())&&se[0]!=="%")return se[0]==="["&&(!fe||/^\[\S+\s+".*"\]$/.test(se))}return function(Ze,L){var fe,se,Xe,Gt,bt="tags",Oe,mt,Bt,g=[],C={type:bt,value:""},Y=0,Ee=[],Me=!0;L=L||{},fe=Ze.split(/\r?\n/),Gt=fe.length;e:for(se=0;se<Gt;++se)if(Xe=fe[se].trim(),Xe[0]!=="%")if(!Xe)g.length&&(bt==="tags"?(bt="san",Me=!1):bt!=="tagValueStart"&&ie(fe,se,Gt,Y||bt==="comment")&&(bt==="comment"&&g.push(C),g[g.length-1].type!=="tagValue"&&(Ee.push(g),g=[]),bt="tags",Me=!0,Y=0));else{if(Xe=" "+Xe+" ",mt=Xe.length,Oe=0,Me)for(;Oe<mt;++Oe)if(Bt=Xe[Oe],bt==="tags"){if(Bt==="[")bt="tagName",C={type:bt,value:""};else if(Bt.trim()){bt="san",C={type:bt,value:""},Me=!1;break}}else if(bt==="tagName")C.value&&Bt.trim()===""?(g.push(C),bt="tagValueStart"):Bt!==" "&&(C.value+=Bt);else if(bt==="tagValueStart"){if(Bt==='"'||Bt==="\u201C")bt="tagValue",C={type:bt,value:""};else if(Bt.trim()){g.push({type:"tagValue",value:Xe.slice(Oe,-1).match(/(.*?)"?\]?$/)[1]}),bt="tags",C={type:bt,value:""};continue e}}else if(bt==="tagValue")if(Bt==='"'||Bt==="\u201D")if(g.push(C),Xe[Oe+1]==="]")bt="tags",C={type:bt,value:""},++Oe;else if(Xe.slice(-2,-1)==="]"){C.value+=Xe.substr(Oe).match(/(.*?)"?\s*\] $/)[1],bt="tags",C={type:bt,value:""};continue e}else bt="tagEnd";else Bt==="\\"&&Oe+2<mt&&(++Oe,Bt=Xe[Oe]),Oe>0&&(C.value+=Bt);else{if(Bt!=="]"){if(!Bt.trim())continue;--Oe}bt="tags",C={type:bt,value:""}}for(;Oe<mt;++Oe)if(Bt=Xe[Oe],bt==="san"){if(gn.indexOf(Bt)>-1)Bt==="!"||Bt==="?"||gn.indexOf(Bt)<6&&(Bt=["!!","??","!?","?!"][gn.indexOf(Bt)-2])?(C.value&&g.push(C),C={type:"a",value:Bt},(Xe[Oe+1]==="!"||Xe[Oe+1]==="?")&&(C.value+=Xe[++Oe]),g.push(C),C={type:"san",value:""}):(Bt==="\u221E"&&C.value==="=/"?(C.type="aa",C.value+=Bt):(C.value&&(Mt.test(C.value)&&(C.value!=="--"||L.rejectNullMoves)&&(C.type="aa"),g.push(C)),C={type:"aa",value:Bt},Bt==="\u2191"&&Xe[Oe+1]==="\u2191"&&(C.value="\u21BB",++Oe)),g.push(C),C={type:"san",value:""});else if(Bt===" "||Bt==="	"||Bt==="\r"||Bt==="{"||Bt==="("||Bt===")"){if(C.value){if(C.value[0]==="$")C.type="nag";else if(C.value==="*"||C.value==="1-0"||C.value==="0-1"||C.value==="1/2-1/2"||C.value==="\xBD-\xBD")if(Y||Oe+1<mt)C.type=C.value==="*"?"cont":"comment";else{if(C.type="result",C.value==="\xBD-\xBD"&&(C.value="1/2-1/2"),g.push(C),Ee.push(g),se+1===Gt||se+2===Gt&&!fe[se+1])return Ee;bt="tags",Me=!0,C={type:bt,value:""},g=[];break}Mt.test(C.value)&&(C.value!=="--"||L.rejectNullMoves)&&(C.type="aa"),g.push(C),C={type:bt,value:""}}if(Bt===" "||Bt==="	"||Bt==="\r")bt="san";else if(Bt==="{")bt="comment",g.length&&g[g.length-1].type==="comment"&&(C=g.pop(),C.value+=" ");else if(Bt==="(")bt="san",g.push({type:"variationStart",value:++Y});else{if(Y<1){if(!L.commentErrors)return!1}else g.push({type:"variationEnd",value:Y--});bt="san"}C.type=bt}else if(Bt!=="."&&(C.value||+Bt!=+Bt||Xe[Oe+1]==="-"||Xe[Oe+1]==="/"))C.value+=Bt;else if(+Bt==+Bt)switch(C.number||(C.number=""),C.number+=Bt,Xe[Oe+1]){case"A":case"a":case"B":case"b":C.number+=Xe[++Oe],g.push({type:"number",value:C.number}),delete C.number}}else Oe===0&&(C.value=C.value.trim()),Bt!=="}"?(Bt==="\\"&&Oe+2<mt&&(Bt=Xe[++Oe]),C.value+=Bt):(C.value=C.value.trim(),C.value.indexOf("[")>-1&&$e(C),g.push(C),bt="san",C={type:bt,value:""})}return C.value&&g.push(C),(g.length||!Ee.length)&&Ee.push(g),Ee}}();function ji(gn,wn){var Mt,$e,ie=0,Q=!0,Ze=[],L=Ct,fe=[],se=nn,Xe=0,Gt=1,bt=1,Oe=[],mt=[Oe],Bt=0;Oe.id=Bt;var g={},C=[],Y=!1,Ee=!1,Me=Be,Qe=function(D,pe){var ne="",we,J,Z,ft,Ht,gt;return D&Fe.KQSIDE_CASTLE?D&Fe.KSIDE_CASTLE?ne="O-O":ne="O-O-O":D&Fe.DROP?(Z=D>>ue&nt,we=D>>Ue,we&&(ne+=rt[we]),ne+="@"+mr(Z)):(Z=D>>ue&nt,J=D>>W&nt,ft=$e[J],ft&Zt?(D&Fe.ANY_CAPTURE&&(ne+=String.fromCharCode(Nt(J)+97)+"x"),ne+=mr(Z),D&Fe.PROMOTION&&(we=D>>Ue,ne+="="+rt[we])):(ne+=ve[ft&lt],ut>1&&(ne+=tt(ft,J,Z)),D&Fe.ANY_CAPTURE&&(ne+="x"),ne+=mr(Z))),pe||(D&Fe.KQSIDE_CASTLE?(J=D>>W&nt,Z=D>>ue&nt):D&Fe.DROP_OR_PROMOTE&&(ft=Je[we]+L),jn(ft,J,Z,D)&&(Me(D,J,Z,we),Ht=Rt,Rt=on,gt=ut,ie&&_t()||hn()===Rt?ne+="#":ne+="+",on=Rt,Rt=Ht,ut=gt,Ve(Oe.pop()))),ne};function Ce(){var D=L===Ct?[4174784170,2938602761]:[0,0],pe,ne,we;for(we=0;we<120;++we)we&136&&(we+=8),pe=$e[we],pe&&En(D,F.zobristPiece[64*F.zobristPieceValueNumbers[pe&lt]+8*(7-Pt(we))+Nt(we)]);if(Ee)for(ne=1;ne<3;++ne)fe[ne]&&((fe[ne]&fe[ne]-1)!==0?(En(D,F.zobristCastle[ne-1]),En(D,F.zobristCastle[ne+1])):fe[ne]>1<<Nt(Ze[ne])?En(D,F.zobristCastle[ne-1]):En(D,F.zobristCastle[ne+1]));else{for(ne=1;ne<3;++ne)fe[ne]&&(fe[ne]&Fe.KSIDE_CASTLE&&En(D,F.zobristCastle[ne-1]),fe[ne]&Fe.QSIDE_CASTLE&&En(D,F.zobristCastle[ne+1]));Y?Ja(D,Mt._hand):ie===z["3-check"]&&Jo(D,C)}return se!==nn&&qi($e,D,se+(L===Ct?16:-16),Zt|L),D}function Lt(){var D;return Oe.length?D=Oe[Oe.length-1].hash:(Oe.hash||(Oe.hash=Ce()),D=Oe.hash),[D[0],D[1]]}function Gn(D){function pe(we){return/#/.test(we)&&w()&&(we=we.replace("#","+")),we}function ne(we,J){var Z=D(we,J);return Z&&(typeof Z=="string"?Z=pe(Z):(Z.san=pe(Z.san),Oe[Oe.length-1].san=Z.san)),Z}return ne._isBughouseified=!0,ne._orig=D,ne}function br(D,pe){var ne=ie;D?ie=z[D]||D*1||z[String(D).replace(/\s/g,"").toLowerCase()]||z.Chess:ie=0,ne!==ie&&(ie===z.Bughouse?(Y=!0,Mt.isDependent||(Mt.siblingGame=ji(),Mt.siblingGame.hashing(Q),Mt.siblingGame.isDependent=!0,Mt.siblingGame.siblingGame=Mt,Mt.siblingGame.header({Variant:"Bughouse"})),to(),Me=Le,Qe=Gn(Qe),Mt.move=Gn(Mt.move)):(delete Mt.siblingGame,Y=ie===z.Crazyhouse,Ee=ie===z.Chess960,ie?(to(),Me=Le):Me=Be,Qe._isBughouseified&&(Qe=Qe._orig,Mt.move=Mt.move._orig)),pe||or(_n()))}function _r(D,pe){for(var ne=D>7?Ct:vt,we,J;!(D&136);){if(we=$e[D],we&ne){if(we&qe){if(J)return;J=D%8+(ne===Ct?65:97)}else if(we&O)return J}D+=pe}}function dn(D,pe,ne){$e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L=Ct,Ze[Ct]=nn,Ze[vt]=nn,fe[Ct]=0,fe[vt]=0,Mt._hand[Ct]=0,Mt._hand[vt]=0,C[Ct]=0,C[vt]=0,se=nn,Xe=0,Gt=1,pe||(Oe=[],mt=[Oe],Bt=0,Oe.id=Bt,g={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},D?fr(["Variant",D]):br(!1,ne),ne||or(_n()))}function Qt(){dn(0,!1,!0),Oe.hash=[1178310168,378666140],$e=[34,10,18,66,130,18,10,34,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,5,5,5,5,5,0,0,0,0,0,0,0,0,33,9,17,65,129,17,9,33,0,0,0,0,0,0,0,0],bt=1,Ze[Ct]=116,Ze[vt]=4,fe[Ct]=48,fe[vt]=48}function ht(D,pe,ne,we){var J=0,Z,ft,Ht,gt,ze,Bn,Qn,yr,Sr,Ur,ai,Pn;if(we?(Z=D.split(" "),Pn=Z[3],ai=Z[2]):(Z=D.trim().split(/\s+/),Pn=Z[3]||"-",ai=Z[2]||"-"),typeof pe>"u"?(ai.charCodeAt(0)&31)<9&&br(z.Chess960,!0):br(pe,!0),ft=Z[0],!we&&!(ft=vo(ft,ie)))return!1;if(gt=ft.length,dn(Se[ie],ne,!0),Y){if(ie===z.Bughouse&&!Mt.isDependent&&(Bn=D.split(" | "),!Mt.siblingGame.load(Bn.length===1?D:Bn[1],pe,ne,we)))return Qt(),!1;for(ze=0;ze<gt;++ze)if(Qn=ft[ze],+Qn!=+Qn)if(Qn==="/")if(J>111){for(++ze;ze<gt;++ze)Qn=ft[ze],Mt._hand[Qn<"a"?Ct:vt]+=1<<He[Qn]>>>0;break}else J+=8;else $e[J]=K[Qn],ft[ze+1]==="~"&&(++ze,$e[J]|=In),$e[J]&O&&(Ze[$e[J]&le]=J),++J;else J+=Qn*1}else for(ze=0;ze<gt;++ze)Qn=ft[ze],+Qn!=+Qn?Qn==="/"?J+=8:($e[J]=K[Qn],$e[J]&O&&(Ze[$e[J]&le]=J),++J):J+=Qn*1;if(L=Z[1]==="b"?vt:Ct,ai!=="-")if(Ee){for(Sr={1:[0,0],2:[0,0]},ze=ai.length-1;ze>=0;--ze)Ht=ai.charCodeAt(ze),Ht===75?Ht=_r(119,-1):Ht===81?Ht=_r(112,1):Ht===107?Ht=_r(7,-1):Ht===113&&(Ht=_r(0,1)),yr=Ht<97?Ct:vt,Ur=It[String.fromCharCode(Ht)],(we||$e[Ur]===(qe|yr))&&(Ht>=97?Ze[yr]>=1&&Ze[yr]<=6&&(fe[yr]|=1<<Ur):Ze[yr]>=113&&Ze[yr]<=118&&(fe[yr]|=1<<Ur-112),++Sr[yr][(Ze[yr]<Ur)*1]);(Sr[Ct][0]>1||Sr[Ct][1]>1)&&(fe[Ct]=0),(Sr[vt][0]>1||Sr[vt][1]>1)&&(fe[vt]=0)}else{if(!we)for(ze=ai.length-1;ze>=0;--ze)yr=ai.charCodeAt(ze)<97?Ct:vt,($e[It[ai[ze]]]!==(qe|yr)||Ze[yr]!==(yr===Ct?116:4))&&(ai=ai.substr(0,ze)+ai.substr(ze+1));for(ze=ai.length-1;ze>=0;--ze)switch(ai[ze]){case"K":fe[Ct]|=Fe.KSIDE_CASTLE;break;case"Q":fe[Ct]|=Fe.QSIDE_CASTLE;break;case"k":fe[vt]|=Fe.KSIDE_CASTLE;break;case"q":fe[vt]|=Fe.QSIDE_CASTLE;break}}return!we&&(Pn.length!==2||L===Ct&&Pn[1]!=="6"||L===vt&&Pn[1]!=="3"||$e[Pn.charCodeAt(0)-97+(8-(Pn[1]==="3"?4:5))*16]!==(Zt|ur(L))||$e[he[Pn]])&&(Pn="-"),se=Pn==="-"?nn:he[Pn],Xe=Z[4]*1||0,Gt=Z[5]*1||1,ie===z["3-check"]&&(Z[6]&&Z[6]!=="+3+3"&&(Bn=Z[6].match(/^\+([0-3])\+([0-3])$/)),Bn=Bn||[0,0,0],C[Ct]=Bn[1]*1,C[vt]=Bn[2]*1),ne||(bt=Gt,or(_n())),!0}function Ye(){var D=0,pe="",ne,we="",J;for(ne=0;ne<120;++ne)ne&136&&(D&&(pe+=D),pe+="/",D=0,ne+=8),J=$e[ne],J?(D&&(pe+=D,D=0),pe+=je[J&lt]):++D;return D&&(pe+=D),fe[Ct]&Fe.KSIDE_CASTLE&&(we+="K"),fe[Ct]&Fe.QSIDE_CASTLE&&(we+="Q"),fe[vt]&Fe.KSIDE_CASTLE&&(we+="k"),fe[vt]&Fe.QSIDE_CASTLE&&(we+="q"),pe+=" "+(L===Ct?"w":"b")+" "+(we||"-")+" "+(se===nn?"-":mr(se))+" "+Xe+" "+Gt,pe}function cn(){var D=0,pe="",ne,we,J="",Z;for(ne=0;ne<120;++ne)ne&136&&(D&&(pe+=D),pe+="/",D=0,ne+=8),Z=$e[ne],Z?(D&&(pe+=D,D=0),pe+=je[Z&lt],Y&&Z&In&&(pe+="~")):++D;if(D&&(pe+=D),Y&&(pe+="/"+go(Mt._hand[Ct],!0)+go(Mt._hand[vt])),Ee){for(we=fe[vt],ne=0;we;)we&1&&(J=String.fromCharCode(ne+97)+J),we>>=1,++ne;for(we=fe[Ct],ne=0;we;)we&1&&(J=String.fromCharCode(ne+65)+J),we>>=1,++ne}else fe[Ct]&Fe.KSIDE_CASTLE&&(J+="K"),fe[Ct]&Fe.QSIDE_CASTLE&&(J+="Q"),fe[vt]&Fe.KSIDE_CASTLE&&(J+="k"),fe[vt]&Fe.QSIDE_CASTLE&&(J+="q");return pe+=" "+(L===Ct?"w":"b")+" "+(J||"-")+" "+(se===nn?"-":mr(se))+" "+Xe+" "+Gt,ie===z["3-check"]?pe+=" +"+C[Ct]+"+"+C[vt]:ie===z.Bughouse&&!Mt.isDependent&&(pe+=" | "+Mt.siblingGame.fen()),pe}function _n(){return ie?cn():Ye()}function fr(D){var pe,ne,we;for(pe=0;pe<D.length;pe+=2)ne=D[pe],we=D[pe+1],ne&&(ne==="Variant"&&(br(we),ie?we=Se[ie]:we=void 0),ne==="Result"&&we!=="*"&&we!=="1-0"&&we!=="0-1"&&we!=="1/2-1/2"&&(we="*"),we!==void 0?g[ne]=String(we):Mn.indexOf(ne)>-1?ne==="Date"?g[ne]="????.??.??":g[ne]="?":delete g[ne]);return g}function or(D){Oe.length>0||Bt||(D!==_e?(g.SetUp="1",g.FEN=D,Oe.hash=null):(delete g.SetUp,delete g.FEN,Oe.hash=[1178310168,378666140]))}function Ar(D){var pe=$e[he[D]];return pe?{type:je[pe&V|vt],color:pe&le,promoted:(pe&In)!==0}:null}function Rn(D,pe){return Ee&&fe[D]?B:fe[D]&Fe.KSIDE_CASTLE&&!$e[pe+1]&&!$e[pe+2]?fe[D]&Fe.QSIDE_CASTLE&&!$e[pe-1]&&!$e[pe-2]&&!$e[pe-3]?(at=Fe.KQSIDE_CASTLE,N):(at=Fe.KSIDE_CASTLE,te):fe[D]&Fe.QSIDE_CASTLE&&!$e[pe-1]&&!$e[pe-2]&&!$e[pe-3]?(at=Fe.QSIDE_CASTLE,xe):Dt}function Cr(D,pe){var ne,we,J,Z=L,ft,Ht,gt,ze,Bn,Qn,yr,Sr,Ur,ai,Pn=$e;if(Ge=[],de=0,k=0,at=0,Pn[8]=Pn[9]=Pn[10]=Pn[11]=Pn[12]=Pn[13]=Pn[14]=Pn[15]=Pn[24]=Pn[25]=Pn[26]=Pn[27]=Pn[28]=Pn[29]=Pn[30]=Pn[31]=Pn[40]=Pn[41]=Pn[42]=Pn[43]=Pn[44]=Pn[45]=Pn[46]=Pn[47]=Pn[56]=Pn[57]=Pn[58]=Pn[59]=Pn[60]=Pn[61]=Pn[62]=Pn[63]=Pn[72]=Pn[73]=Pn[74]=Pn[75]=Pn[76]=Pn[77]=Pn[78]=Pn[79]=Pn[88]=Pn[89]=Pn[90]=Pn[91]=Pn[92]=Pn[93]=Pn[94]=Pn[95]=Pn[104]=Pn[105]=Pn[106]=Pn[107]=Pn[108]=Pn[109]=Pn[110]=Pn[111]=Pn[120]=Pn[121]=Pn[122]=Pn[123]=Pn[124]=Pn[125]=Pn[126]=Pn[127]=0,pe===nn){Ge=ka($e,Z|D);return}for(Ur=Rn(Z,pe),ne=0;ne<120;++ne)if(ne&136&&(ne+=8),ft=$e[ne],!!ft){if(ft&Z){(!D||(ft|0)&D)&&Ge.push(ne);continue}if(ai=Ur[ne-pe+119],(ai&ft)!==0)if(ft&Zt)for(Qn=E[ft],we=1;we<3;++we)ze=ne+Qn[we],!(ze&136)&&(Pn[ze+8]|=Ft,ze===pe&&(++de,Pn[ne+8]|=en));else{Qn=E[ft&V],Bn=Qn.length,Sr=ft&qt;e:for(we=0;we<Bn;++we)if(yr=Qn[we],ze=ne,!(pe>ze&&yr<0&&pe-ze>16||pe<ze&&yr>0&&ze-pe>16))for(;((ze+=yr)&136)===0;){if(Pn[ze+8]|=Ft,Ht=$e[ze],Ht){if(Ht&Z){if(ze===pe){for(J=ze-yr;J!==ne;J-=yr)Pn[J+8]|=en;Pn[ne+8]|=en,++de,Sr&&(ze+=yr,(ze&136)===0&&(Pn[ze+8]|=Ft))}else if(Sr&&ai&wt){for(gt=ze;(gt+=yr)!==pe;)if(gt&136||$e[gt])continue e;Pn[ze+8]|=m+(Math.abs(yr)<<I),++k}}break}if(!Sr)break}}}de>1&&(Ge=[pe])}function Gr(D,pe){var ne,we,J=pe+16*(L===Ct?1:-1),Z;return de===1&&($e[pe+8]&en)===0&&($e[J+8]&en)===0?!1:(ne=$e[D],$e[pe]=ne,$e[D]=0,we=$e[J],$e[J]=0,Z=bn(),$e[D]=ne,$e[pe]=0,$e[J]=we,!Z)}function Lr(D){var pe,ne,we;if(Ee){if(fe[D])for(pe=Ze[D],ne=pe%8,we=0;we<8;++we)fe[D]&1<<we&&ea($e,pe,we,D)&&(Xt[on++]=(we>ne?Fe.KSIDE_CASTLE:Fe.QSIDE_CASTLE)+(pe<<W)+(pe+(we-ne)<<ue),++we)}else at&Fe.KSIDE_CASTLE&&(pe=Ze[D],ne=pe+2,$e[pe+9]===0&&$e[pe+10]===0&&(Xt[on++]=Fe.KSIDE_CASTLE+(pe<<W)+(ne<<ue))),at&Fe.QSIDE_CASTLE&&(pe=Ze[D],ne=pe-2,$e[pe+7]===0&&$e[pe+6]===0&&(Xt[on++]=Fe.QSIDE_CASTLE+(pe<<W)+(ne<<ue)))}function xn(D,pe,ne){var we,J,Z,ft,Ht;if(!D){for(pe&&(pe>>=26),ft=0;ft<5;++ft)if((!pe||(pe|0)===1<<ft)&&Mt._hand[ne]&X[ft]<<H[ft]){for(ft===0?(we=16,J=103,Z=Fe.DROP):(we=0,J=119,Z=Fe.DROP|ft<<Ue),Ht=we;Ht<=J;++Ht)Ht&136&&(Ht+=8),$e[Ht]||(de===0||de===1&&$e[Ht+8]&en)&&(Xt[on++]=Z|Ht<<ue);if(pe)return}}}function hn(D,pe){var ne,we,J,Z=L,ft=ur(Z),Ht,gt,ze,Bn,Qn,yr=Ze[Z],Sr,Ur;for(Cr(D,yr),ut=Ge.length,on=Rt,Sr=0;Sr<ut;++Sr)if(ne=Ge[Sr],Ht=$e[ne],!(de&&k&&$e[ne+8]&m))if(Ht&Zt)for(ze=E[Ht],(k===0||($e[ne+8]&m)===0||$e[ne+8]>>I===16)&&(gt=ne+ze[0],$e[gt]===0&&(ca($e,ne,gt,0),vn[Z]===Pt(ne)&&(gt+=ze[0],$e[gt]||ca($e,ne,gt,Fe.BIG_PAWN)))),we=1;we<3;++we)Bn=ze[we],gt=ne+Bn,!(gt&136||k&&$e[ne+8]&m&&$e[ne+8]>>I!==Math.abs(Bn))&&($e[gt]&ft?ca($e,ne,gt,Fe.CAPTURE):gt===se&&Gr(ne,gt)&&(Xt[on++]=Fe.EP_CAPTURE|ne<<W|gt<<ue));else{if(k&&$e[ne+8]&m){if(Ht&jt)continue;if(ct[ne-Ze[Z]+119]&Ht)Bn=$e[ne+8]>>I,ze=[Bn,-Bn];else continue}else ze=E[Ht&V];if(Ur=ne<<W,ne===yr){for(we=0;we<8;++we)Bn=ze[we],gt=ne+Bn,(gt&136)===0&&($e[gt]?$e[gt]&ft&&($e[gt+8]&Ft)===0&&(Xt[on++]=Fe.CAPTURE|Ur|gt<<ue):($e[gt+8]&Ft)===0&&(Xt[on++]=Ur|gt<<ue));de===0&&Lr(Z)}else for(J=ze.length,Qn=Ht&qt,we=0;we<J;++we)for(Bn=ze[we],gt=ne;gt+=Bn,!(gt&136);){if($e[gt]){$e[gt]&ft&&(de===0||$e[gt+8]&en)&&(Xt[on++]=Fe.CAPTURE|Ur|gt<<ue);break}else(de===0||$e[gt+8]&en)&&(Xt[on++]=Ur|gt<<ue);if(!Qn)break}}return ie&&(Y?xn(pe,D,Z):!Ee&&_t()&&(on=Rt)),on}function jn(D,pe,ne,we){var J,Z,ft,Ht,gt,ze,Bn,Qn,yr;if(ie===z["King of the Hill"]&&D&O&&Ia(ne))return!0;if(we&Fe.KQSIDE_CASTLE&&(L===Ct?ne=we&Fe.KSIDE_CASTLE?117:115:ne=we&Fe.KSIDE_CASTLE?5:3,D=qe,yr=!0),J=Ze[ur(L)],J===nn)return!1;if((D&O)===0&&(Z=ct[ne-J+119],Z&D))for(Ht=P[ne-J+119],ze=D&qt,gt=ne+Ht;(gt&136)===0;){if(gt===J){if(D&Zt){if((D&le)===Ct?J-ne<0:J-ne>0)return!0;break}return!0}if(gt!==pe&&$e[gt]||!ze)break;gt+=Ht}if(!yr){if(ft=ct[pe-J+119],ft&qt&&(Ht=P[pe-J+119],Ht!==P[ne-J+119]))for(gt=J-Ht;(gt&136)===0;){if(gt!==pe&&(Bn=$e[gt],Bn)){if(Bn&L&&ft&Bn&&Bn&qt)return!0;break}gt-=Ht}if(we&Fe.EP_CAPTURE&&(Qn=ne+16*(L===Ct?1:-1),ft=ct[Qn-J+119],ft&qt))for(Ht=P[Qn-J+119],gt=J-Ht;(gt&136)===0;){if(gt!==pe&&gt!==Qn){if(gt===ne)break;if(Bn=$e[gt],Bn){if(Bn&L&&ft&Bn&&Bn&qt)return!0;break}}gt-=Ht}}return!1}function yt(D,pe){var ne,we,J,Z=E[jt],ft,Ht=jt|D;for(ne=0;ne<8;++ne)if(J=pe+Z[ne],(J&136)===0&&(we=$e[J],(we&Ht)===Ht))return!0;for(Z=E[O],ne=0;ne<8;++ne)for(ft=Z[ne],J=pe+ft;(J&136)===0;){if(we=$e[J],we){if(we&D&&ct[pe-J+119]&we)if(we&Zt){if(D===Ct?pe-J<0:pe-J>0)return!0}else return!0;break}J+=ft}return!1}function mn(D){return Ze[D]!==nn&&yt(ur(D),Ze[D])}function bn(){return mn(L)}function w(){var D,pe,ne,we=1<<H[4];return Mt._hand[L]+=we,D=Rt,Rt=on,pe=ut,ne=hn()!==Rt,on=Rt,Rt=D,ut=pe,Mt._hand[L]-=we,ne}function Te(){return bn()&&(Xt[0]=0)===hn()&&!Xt[0]&&(ie!==z.Bughouse||!w())}function Ae(){var D=!bn()&&(Xt[0]=0)===hn()&&!Xt[0];return D&&ie===z.Bughouse&&!Mt.isDependent&&(D=Mt.siblingGame.inStalemate()),D&&Ze[L]!==nn}function Ne(D){var pe,ne,we=100,J=0,Z=0,ft=0;for(ne=0;ne<120;++ne)if(ne&136&&(ne+=8),pe=$e[ne],pe){if(D&&(pe&D)===0)continue;if(we&pe)return!1;if(pe&jt){if(Z||J++)return!1}else if(pe&pn&&(J||(++Z,(Pt(ne)+ne)%2&&++ft,ft&&Z!==ft)))return!1}return Ze[Ct]!==nn&&Ze[vt]!==nn}function et(){if(Xe<8)return!1;for(var D=Lt(),pe=!1,ne,we=Xe,J=!1,Z=Oe,ft=Z.length-1;;){if(ft-=2,ft<0){if(Z.id){ft=Z.atMoveNode+ft+2,Z=mt[Z.parentId];continue}if(ft===-2)return!1;ne=Z.hash,J=!0}else ne=Z[ft].hash,Z[ft].halfMoves>we||we<2?J=!0:we=Z[ft].halfMoves;if(ne[0]===D[0]&&ne[1]===D[1]){if(pe)return!0;pe=!0}if(J)return!1}}function ot(D){var pe=D.move,ne,we,J,Z,ft,Ht,gt,ze,Bn,Qn;if(ie===z.Crazyhouse||pe&Fe.DROP?(we=Mt._hand,Ht=D.hash,Qn=D.color):(we=Mt.siblingGame._hand,D.handSibling=!0,Q&&(gt=Mt.siblingGame._history(),gt.length?Ht=gt[gt.length-1].hash:(gt.hash||(gt.hash=Mt.siblingGame._hashPosition()),Ht=gt.hash)),Qn=ur(D.color)),D.captured){switch(D.captured&In?J=Zt:J=D.captured&V,J&V){case Zt:ze=0;break;case jt:ze=1;break;case pn:ze=2;break;case qe:ze=3;break;default:ze=4}ne=1<<H[ze],Q&&(ft=we[Qn]>>H[ze]&X[ze],Bn=F.zobristPiece[ft+63*ze+(Qn===Ct?0:315)])}else Z=pe>>Ue,ne=-1<<H[Z],Q&&(ft=we[Qn]>>H[Z]&X[Z],Bn=F.zobristPiece[ft-1+63*Z+(Qn===Ct?0:315)]);we[Qn]+=ne,D.handChange=ne,Q&&En(Ht,[Bn[0]*31>>>0,Bn[1]*17>>>0])}function Be(D,pe,ne,we){var J=L,Z=ur(J),ft,Ht,gt,ze,Bn={move:D,epSquare:se,halfMoves:Xe,castlingW:fe[Ct],castlingB:fe[vt],color:J},Qn,yr,Sr=J===Ct,Ur,ai;Q&&(ze=Lt(),Bn.hash=ze,En(ze,F.zobristTurn),se!==nn&&qi($e,ze,se+(Sr?16:-16),Zt|J)),(D&Fe.KQSIDE_CASTLE)===0?Y&&D&Fe.DROP?($e[ne]=Je[we]|J,Q&&En(ze,F.zobristPiece[64*F.zobristPieceValueNumbers[$e[ne]]+8*(7-Pt(ne))+Nt(ne)]),ot(Bn),Ur=0):(Ur=$e[pe],ai=$e[ne],ai&&(Bn.captured=ai,Q&&En(ze,F.zobristPiece[64*F.zobristPieceValueNumbers[$e[ne]&lt]+8*(7-Pt(ne))+Nt(ne)]),ai&qe&&fe[Z]&&(Ee?Pt(ne)===(Sr?0:7)&&(gt=1<<Nt(ne),fe[Z]&gt&&(fe[Z]^=gt,Q&&(gt>1<<Nt(Ze[J])?En(ze,F.zobristCastle[Z-1]):En(ze,F.zobristCastle[Z+1])))):ne===(Sr?7:119)?fe[Z]&Fe.KSIDE_CASTLE&&(fe[Z]^=Fe.KSIDE_CASTLE,Q&&En(ze,F.zobristCastle[Z-1])):ne===(Sr?0:112)&&fe[Z]&Fe.QSIDE_CASTLE&&(fe[Z]^=Fe.QSIDE_CASTLE,Q&&En(ze,F.zobristCastle[Z+1])))),D&Fe.PROMOTION?$e[ne]=Je[we]|J|In:$e[ne]=$e[pe],$e[pe]=0,Q&&(En(ze,F.zobristPiece[64*F.zobristPieceValueNumbers[Ur&lt]+8*(7-Pt(pe))+Nt(pe)]),En(ze,F.zobristPiece[64*F.zobristPieceValueNumbers[$e[ne]&lt]+8*(7-Pt(ne))+Nt(ne)]))):Ur=O,D&Fe.EP_CAPTURE?(Sr?(yr=ne+16,Qn=6):(yr=ne-16,Qn=8),Bn.captured=Zt|Z,$e[yr]=0,Q&&En(ze,F.zobristPiece[64*F.zobristPieceValueNumbers[Zt|Z]+8*(Qn-Pt(ne))+Nt(ne)])):Ur&O?(Ee?(D&Fe.KQSIDE_CASTLE&&($e[ne]=0,$e[pe]=0,D&Fe.KSIDE_CASTLE?Sr?(ft=118,Ht=117):(ft=6,Ht=5):Sr?(ft=114,Ht=115):(ft=2,Ht=3),$e[ft]=J|O,$e[Ht]=J|qe,Q&&(En(ze,F.zobristPiece[64*F.zobristPieceValueNumbers[O|J]+8*(7-Pt(pe))+Nt(pe)]),En(ze,F.zobristPiece[64*F.zobristPieceValueNumbers[qe|J]+8*(7-Pt(ne))+Nt(ne)]),En(ze,F.zobristPiece[64*F.zobristPieceValueNumbers[O|J]+8*(7-Pt(ft))+Nt(ft)]),En(ze,F.zobristPiece[64*F.zobristPieceValueNumbers[qe|J]+8*(7-Pt(Ht))+Nt(Ht)]))),Q&&((fe[J]&fe[J]-1)!==0?(En(ze,F.zobristCastle[J-1]),En(ze,F.zobristCastle[J+1])):fe[J]>1<<Nt(Ze[J])?En(ze,F.zobristCastle[J-1]):En(ze,F.zobristCastle[J+1])),Ze[J]=ft||ne):(D&Fe.KQSIDE_CASTLE&&($e[ne]=$e[pe],$e[pe]=0,D&Fe.KSIDE_CASTLE?(ft=ne-1,Ht=ne+1):(ft=ne+1,Ht=ne-2),$e[ft]=$e[Ht],$e[Ht]=0,Q&&(En(ze,F.zobristPiece[64*F.zobristPieceValueNumbers[O|J]+8*(7-Pt(pe))+Nt(pe)]),En(ze,F.zobristPiece[64*F.zobristPieceValueNumbers[qe|J]+8*(7-Pt(Ht))+Nt(Ht)]),En(ze,F.zobristPiece[64*F.zobristPieceValueNumbers[O|J]+8*(7-Pt(ne))+Nt(ne)]),En(ze,F.zobristPiece[64*F.zobristPieceValueNumbers[qe|J]+8*(7-Pt(ft))+Nt(ft)]))),Q&&(fe[J]&Fe.KSIDE_CASTLE&&En(ze,F.zobristCastle[J-1]),fe[J]&Fe.QSIDE_CASTLE&&En(ze,F.zobristCastle[J+1])),Ze[J]=ne),fe[J]=0):Ur&qe&&fe[J]&&(Ee?Pt(pe)===(Sr?7:0)&&(gt=1<<Nt(pe),fe[J]&gt&&(fe[J]^=gt,Q&&(gt>1<<Nt(Ze[J])?En(ze,F.zobristCastle[J-1]):En(ze,F.zobristCastle[J+1])))):pe===(Sr?119:7)?fe[J]&Fe.KSIDE_CASTLE&&(fe[J]^=Fe.KSIDE_CASTLE,Q&&En(ze,F.zobristCastle[J-1])):pe===(Sr?112:0)&&fe[J]&Fe.QSIDE_CASTLE&&(fe[J]^=Fe.QSIDE_CASTLE,Q&&En(ze,F.zobristCastle[J+1]))),D&Fe.BIG_PAWN?(Sr?se=ne+16:se=ne-16,Q&&qi($e,ze,ne,Zt|Z)):se=nn,Ur&Zt||D&Fe.ANY_CAPTURE?Xe=0:Xe++,L=Z,Oe.push(Bn)}function ae(){var D={color:L,san:"--",epSquare:se},pe={color:L,san:"--"},ne;return Q&&(ne=Lt(),D.hash=ne,En(ne,F.zobristTurn),se!==nn&&qi($e,ne,se+(L===Ct?16:-16),Zt|L)),se=nn,Xe++,L=ur(L),L===Ct&&++Gt,Oe.push(D),pe}function Le(D,pe,ne,we){var J,Z=L;Be(D,pe,ne,we),J=Oe[Oe.length-1],Y?(Xe=J.halfMoves+1,J.captured&&ot(J),ie===z.Bughouse&&(J.bughouseOrder=Mt.moveCount()-1+Mt.siblingGame.moveCount())):ie===z["3-check"]&&mn(L)&&(J.checked=!0,Q&&C[Z]&&En(J.hash,F.zobristCheck[C[Z]+(Z===Ct?-1:2)]),++C[Z],Q&&En(J.hash,F.zobristCheck[C[Z]+(Z===Ct?-1:2)]))}function Ve(D){var pe,ne,we=L,J=ur(we),Z=D.move,ft=Z>>ue&nt,Ht=Z>>W&nt;if(L=J,fe[vt]=D.castlingB,fe[Ct]=D.castlingW,se=D.epSquare,Xe=D.halfMoves,ie){if(Ee&&Z&Fe.KQSIDE_CASTLE){Z&Fe.KSIDE_CASTLE?J===Ct?(ne=118,pe=117):(ne=6,pe=5):J===Ct?(ne=114,pe=115):(ne=2,pe=3),$e[ne]=0,$e[pe]=0,$e[Ht]=J|O,$e[ft]=J|qe,Ze[J]=Ht;return}if(D.handChange&&(ie===z.Crazyhouse||!D.handSibling?Mt._hand[J]-=D.handChange:Mt.siblingGame._hand[ur(J)]-=D.handChange),Z&Fe.DROP){$e[ft]=0;return}D.checked&&--C[J]}Z&Fe.PROMOTION?($e[Ht]=Zt|J,Z&Fe.CAPTURE?$e[ft]=D.captured:$e[ft]=0):($e[Ht]=$e[ft],Z&Fe.KQSIDE_CASTLE?($e[ft]=0,Z&Fe.KSIDE_CASTLE?(pe=ft+1,ne=ft-1):(pe=ft-2,ne=ft+1),$e[pe]=J|qe,$e[ne]=0,Ze[J]=Ht):(ft===Ze[J]&&(Ze[J]=Ht),Z&Fe.CAPTURE?$e[ft]=D.captured:($e[ft]=0,Z&Fe.EP_CAPTURE&&($e[ft-(J===Ct?-16:16)]=Zt|we))))}function tt(D,pe,ne){var we,J,Z,ft,Ht,gt,ze,Bn;if(on<2)return"";for(D=D&V,Bn=0;Bn<on;++Bn)if(we=Xt[Bn],ze=we>>ue,ne===ze&&(ft=we>>W&nt,ft!==pe&&(J=$e[ft],J&D))){if(Z=!0,Pt(pe)===Pt(ft)){if(Ht)return mr(pe);gt=!0}if(Nt(pe)===Nt(ft)){if(gt)return mr(pe);Ht=!0}}return Z?Ht?String(8-Pt(pe)):String.fromCharCode(Nt(pe)+97):""}function De(D,pe,ne){var we,J,Z=D>>ue&nt,ft={color:L,to:mr(Z),flags:D&nt};return!Y||(D&Fe.DROP)===0?(we=D>>W&nt,ft.from=mr(we),ft.piece=$e[we],D&Fe.PROMOTION&&(J=D>>Ue,ft.promotion=Je[J]+L),D&Fe.CAPTURE?ft.captured=$e[Z]:D&Fe.EP_CAPTURE&&(ft.captured=Zt|ur(L))):(J=D>>Ue,ft.drop=J,ft.piece=Je[J]+L),pe?ft.san=pe:ft.san=Qe(D,ne),ft}function _t(){if(ie===z["3-check"])return C[ur(L)]===3;if(ie===z["King of the Hill"])return Ia(Ze[ur(L)])}function fn(){if(ie===z.Bughouse)return Mt.siblingGame.inCheckmate()}function Kn(){if(ie===z.Bughouse)return Mt.siblingGame.in50MoveRule()||Mt.siblingGame.inThreefoldRepetition()}function Vn(){var D=[],pe=_n(),ne=Oe.length-1,we=Oe[ne];return we?(D.parentId=Bt,D.id=mt.length,Oe.curFen=pe,we.lines||(we.lines=[]),we.lines.push(D.id),we.move?Ve(we):(se=we.epSquare,--Xe,L=ur(L)),L===vt&&--Gt,D.atMoveNode=ne,ne?D.hash=Oe[ne-1].hash:D.hash=Oe.hash,Bt=D.id,mt.push(D),Oe=D,!0):!1}function Jr(D){var pe=_n();Oe.curFen=pe,Oe=mt[D],Bt=D,ht(Oe.curFen,ie,!0,!0)}return Mt={WHITE:Ct,BLACK:vt,PAWN:Zt,KNIGHT:jt,BISHOP:pn,ROOK:qe,QUEEN:Vt,KING:O,FLAGS:Fe,load:ht,reset:Qt,moves:function(D){var pe=[],ne,we=Qe,J,Z;for(D&&(D.verbose&&(we=De),D.type&&(J=D.type|D.type<<24),Z=D.noDrop),hn(J,Z),ne=0;ne<on;++ne)pe.push(we(Xt[ne]));return pe},inCheck:bn,inCheckmate:Te,inStalemate:Ae,isBughouseWin:fn,in50MoveRule:function(){return Xe>=100},inDraw:function(){return Xe>=100||Ae()||Ne()||et()||Boolean(Kn())},insufficientMaterial:Ne,inThreefoldRepetition:et,isVariantWin:_t,gameOver:function(){return Mt.inDraw()||Te()||Boolean(_t())||Boolean(fn())},isPositionValid:function(D){var pe,ne,we=0,J;if(D=D||{},D.pawns!==!1)for(pe=0;pe<=119;){if(J=$e[pe],J&Zt)return!1;++pe===8&&(pe=112)}if(D.kings!==!1){for(pe=0;pe<=119;++pe)if(pe&136&&(pe+=8),J=$e[pe],J&O){if(++we>2||ne&&ne&J)return!1;ne=J&le}if(we!==2)return!1}return!(D.check!==!1&&!(D.kings===!1&&Ze[ur(L)]===nn)&&mn(ur(L)))},validateFen:mo,fen:_n,pgn:function(D){return D=D||{},!D.useResultHeader&&!Bt&&(_t()||Te()?g.Result=L===vt?"1-0":"0-1":Mt.inStalemate()?g.Result="1/2-1/2":fn()&&(g.Result=Mt.siblingGame.turn()===Ct?"1-0":"0-1")),es(D,g,mt,bt,ie,Mt)},loadPgn:function(D,pe,ne){var we,J,Z,ft,Ht={},gt,ze,Bn=0,Qn;if(typeof pe!="number"&&(ne=ne||pe,pe=0),ne=ne||{},typeof D=="string"&&(ne.singleGame&&(D=D.replace(/(?:\r?\n\s*){2,}/g,`
`)),D=Mt.tokenizePgn(D,ne)),pe<0&&(pe=D.length+pe),ft=D[pe],!ft)return!1;for(Qt(),J=ft.length,we=0;we<J&&(Z=ft[we],Z.type==="tagName");++we){if(!ft[we+1]||ft[we+1].type!=="tagValue")return!1;++we,Z.value==="FEN"?Qn=Xn(ft[we].value):Ht[Z.value]=ft[we].value}if(ne.variant&&(Ht.Variant=ne.variant),Ht.Variant&&!Qn&&(Qn=_e),Qn||Ht.SetUp==="1"){if(Ht.SetUp==="0")Ht.FEN=Qn;else if(!Qn||!ht(Qn,Ht.Variant))return!1}for(Mt.header(Ht),gt=Mt,ze=gt._history();we<J;++we)if(Z=ft[we],Z.type==="san"&&Bn===0){if(!gt.move(Z.value)&&(Z.value!=="Z0"&&Z.value!=="<>"||ne.rejectNullMoves||!gt.move("--")))if(ne.commentErrors)ze.length?ze[ze.length-1].comment=((ze[ze.length-1].comment||"")+" "+Z.value).trim():ze.initComment=((ze.initComment||"")+" "+Z.value).trim();else if(ne.skipBadLines&&(Bt!==0||Oe.length&&ne.allowBadMainLine))Bn=1;else return Qt(),!1}else if(Z.type==="result"&&g.Result==="*")fr(["Result",Z.value]);else if(Z.type==="a"&&Bn===0&&ze[ze.length-1])ze[ze.length-1].annotation=Z.value;else if((Z.type==="nag"||Z.type==="aa")&&Bn===0&&ze[ze.length-1])ze[ze.length-1].additionalAnnotation||(ze[ze.length-1].additionalAnnotation=[]),ze[ze.length-1].additionalAnnotation.indexOf(Z.value)===-1&&ze[ze.length-1].additionalAnnotation.push(Z.value);else if(Z.type==="comment"&&Bn===0)ze.length?(Z.value&&(ze[ze.length-1].comment=Z.value),Z.commands&&(ze[ze.length-1].commands=Z.commands,Z.commands.clk&&(ze[ze.length-1].time=Ri(Z.commands.clk)))):(ze.initComment=String(Z.value),Z.commands&&(ze.commands=Z.commands));else if(Z.type==="variationStart"){if(Bn>0)++Bn;else if(!Vn())return Qt(),!1;ze=gt._history()}else if(Z.type==="variationEnd")Bn>0&&--Bn,Bn===0&&(Jr(ze.parentId),ze=gt._history());else if(Z.type==="number"){if(/b/i.test(Z.value.slice(-1))?gt=Mt.siblingGame:gt=Mt,!gt)return!1;ze=gt._history()}else Z.type==="cont"&&Bt&&!ze.length&&gt.move(gt._lines()[ze.parentId][ze.atMoveNode].san);return!0},header:function(D){return Array.isArray(D)?fr(D):(typeof D=="object"&&Object.keys(D).forEach(function(pe){fr([pe,D[pe]])}),g)},turn:function(D){return(D===Ct||D===vt)&&(L=D),L},move:function D(pe){var ne,we,J,Z,ft,Ht,gt,ze,Bn,Qn,yr,Sr,Ur;if(typeof pe=="string"){switch(Z=pe.length-1,pe[Z]){case"+":case"#":pe=pe.substr(0,Z)}for(re.indexOf(pe[0])>6?Bn=me[pe[0]]:pe[0]==="O"?Bn=O:Bn=Zt,Y&&(pe.indexOf("@")===-1?Qn=!0:(Qn=!1,Bn<<=24)),hn(Bn,Qn),Z=0;Z<on;++Z)if(Ht=Qe(Xt[Z],!0),pe===Ht){we=Xt[Z];break}if(we)gt=we>>W&nt,ze=we>>ue&nt,J=we>>Ue;else{if(pe==="--")return ae();if(pe=Mt.fixMove(pe))try{return D(pe)}catch{}return null}}else{if(pe.drop){switch(pe.drop){case"p":J=0;break;case"n":J=1;break;case"b":J=2;break;case"r":J=3;break;case"q":J=4;break;default:return null}Bn=1<<26+J}else{if(pe.promotion)switch(pe.promotion){case"q":J=4;break;case"n":J=1;break;case"r":J=3;break;case"b":J=2;break;default:return null}gt=he[pe.from],Qn=!0,Bn=$e[gt]&V}for(ze=he[pe.to],ne=((J?J<<Ue:0)|ze<<ue)>>W|gt,hn(Bn,Qn),Z=0;Z<on;++Z)if(Xt[Z]>>W===ne){we=Xt[Z];break}if(!we)return(pe=Mt.fixMove(pe))?D(pe):null}return we&Fe.DROP_OR_PROMOTE?Ur=Je[J]+L:Ur=$e[gt],ft=De(we,Ht,!0),yr=jn(Ur,gt,ze,we),Me(we,gt,ze,J),yr&&(ie&&_t()||hn()===0?ft.san+="#":ft.san+="+"),Sr=Oe[Oe.length-1],Sr.san=ft.san,ft.piece&In&&(Sr.promoted=!0),L===Ct&&++Gt,ft},undo:function(D){var pe=Oe.pop();return pe?(L===Ct&&--Gt,pe.move?(Ve(pe),D?!0:De(pe.move,pe.san)):(se=pe.epSquare,--Xe,L=ur(L),D?!0:{san:"--",color:pe.color})):null},clear:function(D){dn(D)},put:function(D,pe,ne){var we=he[pe],J=!1,Z,ft=$e[we],Ht=ft&le,gt=D.color;if(isNaN(we)||!D.type||!gt||re.indexOf(D.type)===-1)return!1;if($e[we]=me[D.type]|gt|(D.promoted?In:0),$e[we]&O&&(Ze[gt]=we),ft&&$e[Ze[Ht]]&&$e[Ze[Ht]]!==(O|Ht)){for(Z=0;Z<120;++Z)Z&136&&(Z+=8),$e[Z]===(O|Ht)&&(Ze[Ht]=Z,J=!0);J||(Ze[Ht]=nn)}return ne||ht(_n(),ie,!1,!1),!0},get:Ar,remove:function(D,pe){var ne=$e[he[D]],we=Ar(D),J=ne&le,Z;if($e[he[D]]=0,ne&O){for(Ze[J]=nn,fe[J]=0,Z=0;Z<120;++Z)if(Z&136&&(Z+=8),$e[Z]===(O|J)){Ze[ne.color]=Z;break}}return pe||ht(_n(),ie,!0,!1),we},history:function(D,pe){for(var ne=[],we,J=Oe,Z=J.length;;){if(--Z===-1)if(J.id&&!pe){Z=J.atMoveNode,J=mt[J.parentId];continue}else break;D?(we=De(J[Z].move,J[Z].san),we.color=J[Z].color,!Z&&J.initComment&&(we.firstComment=J.initComment),J[Z].comment!==void 0&&(we.comment=J[Z].comment),J[Z].time!==void 0&&(we.time=J[Z].time),J[Z].annotation!==void 0&&(we.annotation=J[Z].annotation),J[Z].additionalAnnotation!==void 0&&(we.additionalAnnotation=J[Z].additionalAnnotation),J[Z].commands!==void 0&&(we.commands=J[Z].commands),J[Z].captured!==void 0&&(we.captured=J[Z].captured),J[Z].promoted!==void 0&&(we.promoted=J[Z].promoted),J[Z].lines!==void 0&&(we.lines=J[Z].lines),J[Z].bughouseOrder!==void 0&&(we.bughouseOrder=J[Z].bughouseOrder),re.indexOf(J[Z].san[0])>6?we.piece=me[J[Z].san[0]]:J[Z].san[0]==="O"?we.piece=O:we.piece=Zt,we.piece|=we.color,ne.unshift(we)):ne.unshift(J[Z].san)}return ne},hashes:function(){for(var D=[],pe=Oe,ne=pe.length;;){if(--ne===-1)if(pe.id){ne=pe.atMoveNode,pe=mt[pe.parentId];continue}else{pe.hash||Lt(),D.unshift(pe.hash);break}D.unshift(pe[ne].hash)}return D},moveCount:function(){return Oe.length},startingMoveNumber:function(){return bt},completeFen:Xn,createVariation:Vn,selectLine:Jr,hash:function(){var D=Lt();return ie===z.Bughouse&&!Mt.isDependent?[D,Mt.siblingGame.hash()]:D},hashing:function(D){Q=D,ie===z.Bughouse&&!Mt.isDependent&&Mt.siblingGame.hashing(Q)},hand:function(){if(Y)return go(Mt._hand[Ct],!0)+go(Mt._hand[vt])},checks:function(){if(ie===z["3-check"])return[C[Ct],C[vt]]},threats:function(){var D=L,pe=ur(D),ne=[],we=[],J=[],Z=[],ft=[],Ht=se,gt,ze,Bn,Qn,yr,Sr,Ur;if(Cr(0,Ze[D]),de||k)for(gt=0;gt<120;++gt)gt&136&&(gt+=8),$e[gt+8]&en&&$e[gt]?J.push(mr(gt)):$e[gt+8]&m&&ne.push(mr(gt));for(L=pe,se=nn,hn(),gt=on;gt--;){if(ze=Xt[gt],yr=ze>>ue&nt,Sr=ze>>W&nt,ze&Fe.DROP_OR_PROMOTE){if(Ur=ze>>Ue,Qn=Je[Ur]|pe,ze&Fe.PROMOTION&&Ur%3!==1)continue}else Qn=$e[Sr],Ur=0;if(jn(Qn,Sr,yr,ze)&&(Me(ze,Sr,yr,Ur),Rt=gt,(ie&&_t()||hn()===gt)&&we.push((ze&Fe.DROP?je[Qn].toLowerCase()+"@":mr(Sr))+mr(yr)),Ve(Oe.pop()),ze&Fe.CAPTURE)){for(Bn=0,gt=on;gt>Rt;)if((Xt[--gt]>>ue&nt)===yr){Bn=1,gt=Rt;break}if(!Bn){Z.push(mr(Sr)+mr(yr));continue}}ze&Fe.CAPTURE&&Ur!==1&&(Bn=$e[yr]&124)&&(yt(D,yr)?(Qn=$e[Sr]&V,Bn>Qn&&Bn-Qn!==8&&ft.push(mr(Sr)+mr(yr))):Z.push(mr(Sr)+mr(yr)))}return Rt=0,L=D,se=Ht,{pins:ne,checkers:J,mates:we,undefended:Z,underdefended:ft}},tokenizePgn:Ii,fixMove:function(D){var pe,ne,we;if(typeof D=="string"){if(/0|[?!+#]$|[18][QNRB]$|^P/i.test(D))return D.replace(/[?!+#]+$/,"").replace(/0/g,"O").replace(/([18])([QNRB])$/i,"$1=$2").replace(/^P+/i,"");if(ne=D.indexOf("=")>0?-4:-2,pe=he[D.substr(ne,2)],typeof pe=="number"){if($e[pe]&ur(L)||/^[a-h]x?[a-h][36]$/.test(D)){if(D.indexOf("x")===-1)return D.slice(0,ne)+"x"+D.substr(ne)}else if(D.indexOf("x")>-1)return D.replace(/x/g,"");if(we=D.match(/^([KQNRB]?)([a-h][1-8]?|[1-8])x?([a-h][1-8])=?(.?)$/)){if($e[he[we[2]]])return{from:we[2],to:we[3],promotion:we[4].toLowerCase()};if(/^\d$/.test(we[2])){for(D=0,hn(me[we[1]],!0),ne=0;ne<on;++ne)if(Xt[ne]>>ue===pe&&Pt(Xt[ne]>>W&nt)===8-we[2]){if(D)return;D=Xt[ne]}if(D)return Qe(D,!0)}return we[1]+we[3]+we[4]}}}else if($e[he[D.from]]===(O|L)&&D.to&&D.from[1]===D.to[1]){if(D.from<D.to)return"O-O";if(D.from>D.to)return"O-O-O"}},_hand:[],_history:function(D){return D&&(Oe=D,Bt=Oe.id),Oe},_lines:function(){return mt},_hashPosition:Ce,_board:function(){return $e}},gn&&ht(gn,wn)||Qt(),Mt}return ji.variants=Se,ji}(),T=function(ee){var z="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",Se=["bench","d","eval","flip","isready","ponderhit","stop","uci","ucinewgame"],he=[{cmd:"position",args:["fen","startpos","moves","continuation"]},{cmd:"go",args:["binc","btime","confidence","depth","infinite","mate","mindepth","mintime","maxdepth","maxtime","movestogo","movetime","ponder","searchmoves","shallow","winc","wtime"]}],Ge=["moves","searchmoves"],de=["ponder","infinite","startpos"],k={depth:1,seldepth:1,time:1,nodes:1,multipv:1,cp:1,mate:1,currmovenumber:1,hashfull:1,nps:1,tbhits:1,sbhits:1,cpuload:1,bmc:1,score:2,lowerbound:2,upperbound:2,bestmove:3,ponder:3,baseTurn:3,bestmoveSan:3,ponderSan:3,pv:4,pvSan:4,string:4,refutation:4,currline:4},at=/(?:Total|Final) Evaluation[\s\S]+\n$/i;function Xt(O,le){var V,lt={},wt=le.args||[],In="",qt=le.onSignal,Ft=le.onError;function en(m){ee.log&&console.log("echo: ",m.toString()),In+=m.toString(),In.slice(-1)===`
`&&lt.onmessage(In.slice(0,-1)+(In=""))}return O.slice(-3).toLowerCase()===".js"&&(wt=wt.concat(O),O=A.execPath,A.version.substr(1,2)>11&&(wt.unshift("--experimental-wasm-bulk-memory"),wt.unshift("--experimental-wasm-threads"))),V=spawn(O,wt,{stdio:"pipe"}),V.stdout.on("data",en),V.stderr.on("data",en),Ft&&(V.on("error",Ft),V.stdin.on("error",Ft),V.on("close",function(I){I&&Ft(new Error("Engine errored with code "+I))})),qt&&V.on("close",function(I,W){qt(W)}),lt.postMessage=function(m){ee.log&&console.log("postMessage: "+m),V.stdin.write(m+`
`)},lt.terminate=function(){V.stdin.end(),V.kill(),V=null},lt}function Rt(O,le,V){var lt=new Worker(O||"stockfish.js"),wt={terminate:qt,postMessage:In};function In(en){lt.postMessage(en)}function qt(){lt.terminate()}function Ft(en){var m=en.concat();en.length=0,m.forEach(function(I){I.cmd?I.cmd.substr(0,2)!=="go"&&V.send(I.cmd,I.cb,I.stream):(clearTimeout(I.timer),V.getBestMove(I.args,I.cb,I.stream))})}return lt.onmessage=function(en){typeof en.data=="string"&&wt.onmessage(en.data)},lt.onerror=function(en){if(V.fallbackPath&&V.fallbackPath!==O){try{en.preventDefault()}catch{}try{lt.terminate()}catch{}return lt=Rt(V.fallbackPath,le,V),lt.onmessage=function(m){wt.onmessage(m)},Ft(V._activeCommands()),Ft(V._bestMoveQueue()),!1}if(le.onError)return le.onError(en)},wt}function on(O,le){le.fallbackPath=O.pathToNonWasmEngine,le.path=O.enginePath||O.pathToEngineWorker,le.wasmPath=O.pathToWasmEngine,O.engines&&(O.engines.multiThreaded&&ee.supportsMultithreading()?(le.path=O.engines.multiThreaded.loader,le.wasmPath=O.engines.multiThreaded.engine):O.engines.singleThreaded&&(le.path=O.engines.singleThreaded.loader,le.wasmPath=O.engines.singleThreaded.engine),le.fallbackPath=O.engines.asm||le.fallbackPath)}function ut(O,le){var V;return on(O,le),V=le.path,(le.fallbackPath&&typeof WebAssembly>"u"||!V)&&(V=le.fallbackPath),le.wasmPath&&(V+="#"+le.wasmPath),Rt(V,O,le)}function nn(O){for(var le=O.split(" "),V=le.length,lt=le[0]==="info"?1:0,wt={mtype:le[0]},In,qt;lt<V;++lt)if(qt=le[lt],qt)if(In=k[qt],In===1){for(;!le[++lt]&&lt<V;);wt[qt]=Number(le[lt])}else if(In===2)wt[qt]=!0;else if(In===3){for(;!le[++lt]&&lt<V;);wt[qt]=le[lt]}else for(wt[qt]=[],++lt;lt<V;++lt)if(!k[le[lt]])le[lt]&&wt[qt].push(le[lt]);else{--lt;break}return(wt.bestmove==="(none)"||wt.bestmove==="0000")&&(wt.bestmove=void 0,wt.bestmoveSan=void 0),(wt.ponder==="(none)"||wt.ponder==="0000")&&(wt.ponder=void 0,wt.ponderSan=void 0),wt}function Ct(O){var le=O.indexOf(" ");return le===-1?O:O.substr(0,le)}function vt(O){return(O+"").replace(/^([^/]+)((?:\/[^/]+){7})\/([qrbnp]*)/i,"$1$2[$3]").replace(/( \d+ \d+) \+([0-3])\+([0-3])/,function(le,V,lt,wt){return" "+(3-lt)+"+"+(3-wt)+V})}function Zt(O){return(O+"").replace(/\[([qrbnp]*)\]/i,"/$1").replace(/([0-3])\+([0-3]) (\d+ \d+)/,function(le,V,lt,wt){return wt+" +"+(3-V)+"+"+(3-lt)})}function jt(O,le){var V,lt=Ct(O),wt,In,qt;for(lt==="uciok"||lt==="option"?V="uci":lt==="readyok"||lt==="ready"?V="isready":lt==="json"||O.indexOf("info string CEEError")>=0?V="fetch":lt==="bestmove"||lt==="info"?V="go":V="other",qt=le.length,In=0;In<qt;In+=1)if(wt=Ct(le[In].cmd),wt===V||V==="other"&&(wt==="d"||wt==="eval"))return In;return 0}function pn(O){var le=O.match(/id name ((\S+) ([\d.a-z]+).*)/i);if(le)return{all:le[1].trim(),short:le[2],version:le[3],full:le[2]+" "+le[3],wasm:/ wasm/i.test(O),multithreaded:/ multithreaded/i.test(O)}}function qe(O,le){var V={},lt,wt=[],In,qt=[],Ft,en=null;function m(re){var _e,E=0,K,me,je;if(re.indexOf(`
`)>-1){for(me=re.split(`
`),je=0;je<me.length;je+=1)m(me[je]);return}if(ee.log&&console.log("debug (onmessage): "+re),V.stream&&V.stream(re),!wt.length||re.indexOf("No such option")===0||re.indexOf("Stockfish")===0||re.indexOf("Komodo")===0||re.indexOf("Explanation Engine")===0||re.indexOf("info string variant")===0){if(O.ceeMode&&re.indexOf("Explanation Engine")===0){var ve=re.match(/Explanation Engine\s*([0-9]+)\.([0-9]+)\s*\(C\)/);ve?en={date:ve[1],increment:ve[2]}:(ve=re.match(/Explanation Engine\s*([0-9]+)\.([0-9]+)\.([0-9]+)/),en={major:ve[1],minor:ve[2],patch:ve[3]})}return}if(E=jt(re,wt),K=wt[E],K.stream&&!K.discard&&K.stream(re),typeof K.message>"u"?K.message="":K.message!==""&&(K.message+=`
`),K.message+=re,re.indexOf("uciok")===0)V.name=pn(K.message),_e=!0;else if(re.indexOf("ready")===0)_e=!0;else if((re.indexOf("bestmove")===0||Ct(re)==="bestmove")&&K.cmd!=="bench")_e=!0,K.message=re;else if(K.cmd==="d")(re.indexOf("Legal uci moves")===0||re.indexOf("Key is")===0)&&(K.done=!0,_e=!0);else if(K.cmd.indexOf("fetch")===0)try{var ct=K.message.split(`
`).filter(function(Dt){return Dt.includes("json")}).join(`
`);ct&&(K.message=JSON.parse(ct.replace(/^json /mg,"").replace(/\n/g,"")),_e=!0)}catch{}else K.cmd==="eval"?at.test(K.message)&&(_e=!0):(re.indexOf("pawn key")===0||re.indexOf("Nodes/second")===0||re.indexOf("Unknown command")===0)&&(_e=!0);_e&&(wt.splice(E,1),K.cb&&!K.discard?K.cb(K.message):K.ondiscard&&K.ondiscard())}function I(re){return re!=="ucinewgame"&&re!=="flip"&&re!=="stop"&&re!=="ponderhit"&&re.indexOf("position")!==0&&re.indexOf("setoption")!==0&&re.indexOf("variation")!==0&&re.indexOf("threat-variation")!==0&&re.indexOf("push")!==0&&re.indexOf("pop")!==0&&re.indexOf("serve")!==0&&re.indexOf("speech")!==0}V.send=function(re,_e,E){var K;re=String(re).trim(),I(re)?wt[wt.length]={cmd:re,cb:_e,stream:E}:K=!0,lt&&(ee.log&&console.log("stdin: "+re),lt.postMessage(re),K&&_e&&setTimeout(_e,0))},V._activeCommands=function(){return wt},V._bestMoveQueue=function(){return qt},V.quit=function(){if(lt&&lt.terminate){try{V.send("quit")}catch{}lt.terminate(),lt=null,V.ready=void 0}clearTimeout(In)},Se.forEach(function(_e){V[_e]=function(K,me){V.send(_e,K,me)}}),he.forEach(function(_e){V[_e.cmd]=function(K,me,je){var ve=[_e.cmd];Ft&&K.fen&&(K.fen=vt(K.fen)),_e.args.forEach(function(Dt){if(K[Dt]||K[Dt]===0){if(Ge.indexOf(Dt)>-1){if(!K[Dt]||!K[Dt].length)return;Array.isArray(K[Dt])&&(K[Dt]=K[Dt].join(" "))}ve.push(Dt),de.indexOf(Dt)===-1&&ve.push(K[Dt])}}),V.send(ve.join(" "),me,je)}}),V.setoption=function(re,_e){V.send("setoption name "+re+" value "+_e)},V.setVariant=function(re){var _e;re!==Ft&&(_e=String(re).toLowerCase().replace(/ |-/g,""),!re||_e==="chess"?(_e=void 0,V.setoption("UCI_Variant","chess"),V.setoption("UCI_Chess960","false")):_e==="chess960"?(V.setoption("UCI_Variant","chess"),V.setoption("UCI_Chess960","true")):(_e==="threecheck"&&(_e="3check"),V.setoption("UCI_Variant",_e),V.setoption("UCI_Chess960","false")),Ft=_e)},V.loadBook=function(re,_e){V.pathToBook=re,F.loadBook(re,function(K,me){V.book=me,V.bookLoaded=!0,K&&(console.error("Error loading opening book."),console.error(K),V.pathToBook=null,V.bookLoaded=!1),_e()})},V.getBookMove=function(re){var _e=ee.createGame(re),E=V.book.pick({fen:_e.fen(),type:typeof re.bookPick<"u"?re.bookPick:"random",chess960:_e.header().Variant==="Chess960"}),K=E&&_e.move(E);if(K)return{moveSan:K.san,moveLan:E,move:{from:K.from,to:K.to,promotion:K.promotion||null},baseTurn:_e.turn()===1?"b":"w",pv:[{moveSan:K.san,moveLan:E}],depth:null,score:null,mateIn:null,isBookMove:!0}};function W(){var re=1,_e=[],E=[],K,me,je=null,ve=qt[0].args,ct=qt[0].cb,Dt=qt[0].stream,te,xe=1,N,B=[],P=14,H=qe._previousCP;qt[0].started=!0,qe._previousCP=null;function X(Pt){var Nt=[],mr=E[Pt]||It(_e[Pt]);return _e[Pt].forEach(function(En,Ui){Nt.push({moveSan:mr[Ui],moveLan:En})}),Nt}function He(Pt,Nt,mr,ur){var En;for(En=_e.length-1;En>=0;En-=1)if(_e[En][0]===Pt)return X(En);return mr?[{moveSan:Nt,moveLan:Pt},{moveSan:ur,moveLan:mr}]:Nt?[{moveSan:Nt,moveLan:Pt}]:[]}function Je(Pt){var Nt=.03*Math.pow(32,Pt.depth/P);Pt.cp=H+(Pt.cp-H)*Nt}function rt(Pt){Pt.mate===0?(Pt.mateIn=0,Pt.cp=-31800*xe):(Pt.mateIn=Number(Pt.mate*xe)||null,typeof Pt.mateIn=="number"&&!isNaN(Pt.mateIn)&&typeof Pt.cp!="number"?Pt.cp=31800*xe*(Pt.mate/Math.abs(Pt.mate)):(Pt.cp*=xe,Math.abs(Pt.cp)===9&&(Pt.cp=0),ve.normalize&&Pt.depth<=P&&typeof H=="number"&&Pt.multipv===1&&Je(Pt))),Pt.score=Pt.cp/100}function Fe(Pt){var Nt=nn(Pt);if(vn(Nt),re>P&&K<5e3&&K>-5e3&&(qe._previousCP=K),Nt.pv=He(Nt.moveLan,Nt.moveSan),Nt.pv.length===1&&Nt.ponder&&(Nt.pv=He(Nt.moveLan,Nt.moveSan,Nt.ponder,Nt.ponderSan)),B.length>1)B.splice(B.indexOf(Nt.moveLan),1),ve.searchmoves=B,ve.getNextBest=0,ue(ve,function(){ct(Nt)},function(ur){Dt&&(ur.multipv=2,Dt(ur))});else if(ct)try{ct(Nt)}catch(mr){console.error(mr)}qt.shift(),clearTimeout(In),qt.length>0&&W()}function vn(Pt){var Nt;Pt.baseTurn=te,Pt.cp=K,Pt.score=K/100,Pt.mate=me,Pt.mateIn=je,Pt.depth=re,Pt.moveLan=Pt.bestmove,Pt.moveLan&&(Pt.move=ee.uciToObj(Pt.moveLan)[0],Nt=N.move(Pt.move),Nt&&(Pt.moveSan=Pt.bestmoveSan=Nt.san,Pt.ponder&&(Nt=N.move(ee.uciToObj(Pt.ponder)[0]),Nt&&(Pt.ponderSan=Nt.san,N.undo(!0))),N.undo(!0)))}function It(Pt){var Nt,mr=Pt.length,ur=[],En;for(Nt=0;Nt<mr&&(En=N.move(ee.uciToObj(Pt[Nt])[0]),!!En);++Nt)ur.push(En.san);for(;Nt>0;--Nt)N.undo(!0);return ur}function Mn(Pt){var Nt=nn(Pt);Nt.score&&(Nt.baseTurn=te,rt(Nt),!Nt.multipv&&Nt.depth&&(Nt.multipv=1),(Nt.multipv===1||Nt.depth===0)&&(K=Nt.cp,me=Nt.mate,je=Nt.mateIn)),Nt.pv&&Dt&&(Nt.pvSan=It(Nt.pv)),Nt.pv&&!(Nt.lowerbound||Nt.upperbound)&&(_e.push(Nt.pv),Dt&&E.push(Nt.pvSan)),Nt.depth>re?re=Nt.depth:Nt.mtype==="bestmove"&&vn(Nt),Dt&&!(Nt.mateIn===0&&Nt.pv)&&Dt(Nt),qn()}function qn(){ve.timeout&&(clearTimeout(In),qt[0].timer=In=setTimeout(function(){V.stop(),ct&&(ct(),ct=void 0)},ve.timeout))}ve.difficulty>=0&&ve.difficulty<20?(V.setoption("Skill Level",ve.difficulty),ve.maximumError>=0&&ve.maximumError<=4999&&V.setoption("Skill Level Maximum Error",ve.maximumError),ve.errorProbability>=1&&ve.errorProbability<=128&&V.setoption("Skill Level Probability",ve.errorProbability)):V.setoption("Skill Level",20),ve.contempt!==void 0?V.setoption("Contempt",ve.contempt):V.setoption("Contempt","0"),ve.multiPv>1?V.setoption("MultiPV",ve.multiPv):V.setoption("MultiPV",1),!ve.movetime&&(!ve.wtime||!ve.btime)&&!ve.depth&&(ve.btime=ve.btime||72e3,ve.wtime=ve.wtime||72e3),(ve.startpos||!ve.fen)&&!ve.moves&&!ve.variant?(te="w",N=ee.createGame({disableHashing:!0})):(N=ee.createGame({fen:ve.fen?Zt(ve.fen):z,moves:ve.moves,variant:ve.variant,disableHashing:!0}),N.turn()===N.WHITE?te="w":(te="b",xe=-1)),V.setVariant(ve.variant),V.position(ve),V.go(ve,Fe,Mn),ve.getNextBest&&ct&&N.moves({verbose:!0}).forEach(function(Nt){Nt=ee.normalizeMoveObj(Nt),B.push(Nt.from+Nt.to+(Nt.promotion||""))}),qn()}function ue(re,_e,E){qt.push({args:re,cb:_e,stream:E}),qt.length===1&&W()}V.getBestMove=function(re,_e,E){var K;if(re=re||{},re.fen=re.fen||re.baseFen,re.is960&&(re.variant="Chess960"),V.bookLoaded&&re.useBook&&(K=V.getBookMove(re),K))return setTimeout(function(){K.mtype="bestmove",_e(K)},0);ue(re,_e,E)},V.stopAll=function(re){var _e,E=wt.length,K=0;function me(){K-=1,K===0&&re()}for(qt=[],_e=0;_e<E;_e+=1)ee.log&&console.log("debug (stop_moves): "+_e,Ct(wt[_e].cmd)),Ct(wt[_e].cmd)==="go"&&!wt[_e].discard&&(V.stop(),wt[_e].discard=!0,re&&(K+=1,wt[_e].ondiscard=me));re&&!K&&V.isready(re)},V.restartEngine=function(re){return V.stopAll(),V.quit(),wt=[],qt=[],V.bookLoaded&&!O.book&&(O=JSON.parse(JSON.stringify(O)),O.book=V.book),qe(O,re)},V.stopFast=function(re,_e){var E;V.stopAll(function(){clearTimeout(E),re(V)}),E=setTimeout(function(){V.restartEngine(re)},_e||5e3)};function Ue(){V.uci(function(){O.settings&&Object.keys(O.settings).forEach(function(E){V.setoption(E,O.settings[E])}),V.ready=!0,nt()})}function nt(){V.ready&&(V.bookLoaded||!V.pathToBook)&&le&&le(V)}return typeof Worker>"u"?!1:(O.ceeMode&&(Vt(V,O),V.ceeVersion=function(){return JSON.parse(JSON.stringify(en))}),lt=ut(O,V),lt.onmessage=m,O.book&&(V.book=O.book,V.bookLoaded=!0,V.pathToBook=O.pathToBook),V.getFenFromMoves=ee.getFenFromMoves,V.getLegalMoves=ee.getLegalMoves,V.getPositionInfo=ee.getPositionInfo,V.isFenValid=ee.isFenValid,V.ready=!1,Ue(),!V.book&&O.pathToBook&&V.loadBook(O.pathToBook,nt),V)}function Vt(O,le){var V=1e3,lt=0,wt,In;function qt(en){function m(I){var W=m.callbacks;m.callbacks={},m.original&&m.original(I);for(var ue in W)W[ue](I)}return m.callbacks={},m.original=en,m}le.onError=wt=qt(le.onError),le.onSignal=In=qt(le.onSignal);function Ft(en,m,I,W){var ue,Ue=Date.now(),nt=!1,re=++lt;function _e(){clearTimeout(ue),delete wt.callbacks[re],delete In.callbacks[re],nt=!0}function E(je){nt||(_e(),W({data:je,action:m,uci:en},en))}function K(je){E({msg:"CEE process crashed unexpectedly",code:ee.ERROR_CODES.CRASH,exitCode:je,err:new Error("CEE process exited with "+je)})}wt.callbacks[re]=K,In.callbacks[re]=K,ue=setTimeout(function(){E({msg:"CEE timed out",code:ee.ERROR_CODES.TIMEOUT,timeout:V,duration:Date.now()-Ue,err:new Error("CEE timed out")})},V);for(var me=0;me<en.length;++me)O.send(en[me]);O.send("fetch "+m,function(ve){nt||(_e(),I(ve,en))},function(ve){ve.indexOf("info string CEEError")>=0?E({msg:"CEE crashed with error code",code:ee.ERROR_CODES.ERROR,log:ve.match(/info string CEEError\s*(.*)/)[1],err:new Error(ve.match(/info string CEEError\s*(.*)/)[1])}):O.ceeDebug&&ve.indexOf("not recognized")>=0&&E({msg:"CEE received unknown UCI option (engine.ceeDebug mode on)",option:ve,code:ee.ERROR_CODES.NONFATAL_ERROR,err:new Error(ve)})})}O.fetch=function(en,m,I){var W,ue;en=en||[],W=en.action||"analysis",Array.isArray(en)?ue=en:(ue=en.uciCommands?en.uciCommands.map(function(Ue){return Ue}):[],en.startFen&&(en.options=en.options||{},typeof en.options.ScoreWhiteToMove>"u"&&(en.options.ScoreWhiteToMove=!0),typeof en.options.SerializeLikeCEAC>"u"&&(en.options.SerializeLikeCEAC=!0),ee.CEE_LIB.addOptions(ue,en.options),ee.CEE_LIB.addVariant(ue,en.variant),ee.CEE_LIB.addPosition(ue,en.startFen)),ee.CEE_LIB.addVariations(ue,en.evals&&en.evals[0]),ee.CEE_LIB.addVariations(ue,en.threats&&en.threats[0],"threat-variation"),(en.moves||[]).forEach(function(Ue,nt){var re=nt+1;ee.CEE_LIB.addPush(ue,Ue),ee.CEE_LIB.addVariations(ue,en.evals&&en.evals[re]),ee.CEE_LIB.addVariations(ue,en.threats&&en.threats[re],"threat-variation")})),Ft(ue,W,m,I)},O.fetch.setTimeout=function(en){V=en},ee.ERROR_CODES={TIMEOUT:1,CRASH:2,ERROR:3,NONFATAL_ERROR:4}}return qe},Ie=function(){var ee=M(),z,Se="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",he=252,Ge=255,de={4:"p",5:"P",6:"p",8:"n",9:"N",10:"n",16:"b",17:"B",18:"b",32:"r",33:"R",34:"r",64:"q",65:"Q",66:"q",128:"k",129:"K",130:"k"},k="pnbrq",at=512,Xt="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!?{~}(^)[_]@#$,./&-*++=",Rt="qnrbkp";function on(E){var K,me=E.length,je=[],ve,ct,Dt;for(K=0;K<me;K+=2)Dt={},ve=Xt.indexOf(E[K]),ct=Xt.indexOf(E[K+1]),ct>63&&(Dt.promotion=Rt[Math.floor((ct-64)/3)],ct=ve+(ve<16?-8:8)+(ct-1)%3-1),ve>75?Dt.drop=Rt[ve-79]:Dt.from=Xt[ve%8]+(Math.floor(ve/8)+1),Dt.to=Xt[ct%8]+(Math.floor(ct/8)+1),je.push(Dt);return je}function ut(E){var K,me,je="",ve,ct;for(Array.isArray(E)||(E=[E]),me=E.length,K=0;K<me;K+=1)E[K].drop?ve=79+Rt.indexOf(E[K].drop):ve=Xt.indexOf(E[K].from[0])+(E[K].from[1]-1)*8,ct=Xt.indexOf(E[K].to[0])+(E[K].to[1]-1)*8,E[K].promotion&&(ct=Rt.indexOf(E[K].promotion)*3+64+(ct<ve?9+ct-ve:ct-ve-7)),je+=Xt[ve]+Xt[ct];return je}function nn(E){var K=E.split(" "),me,je=K.length,ve=[],ct;if(E)for(me=0;me<je;++me)ct=K[me],ct.length===4?ct[1]==="@"?ve.push({drop:ct[0].toLowerCase(),to:ct.substr(2,2)}):ve.push({from:ct.substr(0,2),to:ct.substr(2,2)}):ve.push({from:ct.substr(0,2),to:ct.substr(2,2),promotion:ct[4]});return ve}function Ct(E,K){return E.san===K.san||E.to===K.to&&(E.from===K.from||!E.from&&!K.from)&&(E.promotion===K.promotion||!E.promotion&&!K.promotion)&&(E.drop===K.drop||!E.drop&&!K.drop)}function vt(E,K,me){var je=[],ve,ct,Dt,te,xe,N,B,P,H,X,He=1,Je=8,rt=1,Fe=8,vn={verbose:!0};for(X=E.turn(),H=3-X,te=M("/",K),te.turn(H),me&&(He=Je=+me[1],rt=Fe=me.charCodeAt(0)-96),ve=He;ve<=Je;++ve)for(ct=rt;ct<=Fe;++ct)xe=String.fromCharCode(ct+96)+ve,Dt=E.get(xe),Dt&&Dt.color===H&&(te.put(Dt,xe,!0),Dt.type==="p"?(N=String.fromCharCode(ct-1+96)+(ve+(H===1?1:-1)),B=String.fromCharCode(ct+1+96)+(ve+(H===1?1:-1)),te.put({type:"n",color:X},N,!0),te.put({type:"n",color:X},B,!0)):Dt.type==="k"&&(P=E.fen().split(" ")[2],P!=="-"&&te.load(te.fen().replace(/^(\S+\s\S\s)(\S+)/,"$1"+P),K,!0,!0)),je=je.concat(te.moves(vn)),te.remove(xe,!0),Dt.type==="p"&&(te.remove(N,!0),te.remove(B,!0)));return K&&E.hand()&&(te._hand[H]=18721,je=je.concat(te.moves({verbose:!0}).filter(function(It){return!me||It.to===me}))),je.forEach(function(It){qt(It)}),je}function Zt(E,K){var me=E.header().Variant,je=vt(E,me,K.from),ve,ct,Dt,te,xe,N=3-E.turn();for(ve=je.length-1;ve>=0;--ve)if(ct=je[ve],Ct(ct,K)){Dt=!0;break}if(Dt)return ct.drop?E.put({type:ct.drop,color:N},ct.to):(te=E.remove(ct.from,!0),ct.flags===ee.FLAGS.KSIDE_CASTLE?(xe=E.remove(me==="Chess960"?ct.to:"h"+ct.from[1],!0),E.put(te,"g"+ct.from[1],!0),E.put(xe,"f"+ct.from[1])):ct.flags===ee.FLAGS.QSIDE_CASTLE?(xe=E.remove(me==="Chess960"?ct.to:"a"+ct.from[1],!0),E.put(te,"c"+ct.from[1],!0),E.put(xe,"d"+ct.from[1])):(ct.promotion&&(te.type=ct.promotion,te.promoted=!0),xe=E.get(ct.to),E.put(te,ct.to,te.type!=="k"&&te.type!=="r"&&(!xe||xe.color!==N||xe.type!=="r")))),ct;if(K.from&&(E.turn(N),K=E.fixMove(K),E.turn(3-N),K))return Zt(E,{san:K,from:K.from})}function jt(E,K){var me=K?{}:[],je=E._board(),ve,ct,Dt;if(K)for(ve=112;ve>=0;++ve)ve&136&&(ve-=24),(ct=je[ve])&&(Dt=Xt[ve&7]+(8-(ve>>4)),me[Dt]={type:de[ct&he],color:ct&3,promoted:(ct&at)!==0,square:Dt});else for(ve=112;ve>=0;++ve)ve&136&&(ve-=24),(ct=je[ve])&&me.push({type:de[ct&he],color:ct&3,promoted:(ct&at)!==0,rank:8-(ve>>4),file:(ve&7)+1});return me}function pn(E,K){var me=Math.min(Math.max(.20773843*Math.atan(2.49085889*E/100-2.47841945*K/100)+.02262979*E/100-.02256839*K/100+.52239679,0),1),je=Math.min(Math.max(-.20720905*Math.atan(2.49626837*E/100-2.48220286*K/100)+-.02352551*E/100+.02172627*K/100+.49443923,0),1),ve=Math.min(Math.max(Math.exp(.037043456*E/100+.178106427*K/100+-8.069742932)+.004823544*Math.exp(-1.364136591*Math.pow(E/100-K/100,2))+-.001625539,0),1),ct=me+je+ve;return{w:me/ct,b:je/ct,d:ve/ct}}function qe(E,K){var me,je,ve,ct;if(E=E||{},E.disableHashing=!0,me=lt(E),!me)return null;if(K){if(ve=me.move(K),!ve)return null;me.extended||qt(ve)}return ct=me.fen(),!E.skipValidation&&!me.isPositionValid(E)?null:(je=ct.split(" "),{fen:ct,pieces:jt(me),sideToMove:me.turn(),castling:je[2],epSquare:je[3]==="-"?null:je[3],halfMoves:+je[4],moveNumber:+je[5],move:ve,hand:me.hand(),checks:me.checks()})}function Vt(E){var K=lt(E),me,je,ve,ct,Dt,te,xe=[""],N=[],B,P,H;if(!K)return!1;for(P=K.header(),H=P.Variant||"",te=K.hashes(),me=typeof K.origHistory=="function"?K.origHistory(!0):K.history(!0),Dt=te.length,je=[te[0][0],te[0][1]],N.push(F.to64BitHex(je)+H),te[0]=F.to64BitHex(te[0]),ve=1;ve<Dt;++ve)je[0]=(je[0]^te[ve][0]*(ve+58465))>>>0,je[1]=(je[1]^te[ve][1]*(ve+984))>>>0,te[ve]=F.to64BitHex(te[ve]),N.push(F.to64BitHex(je)+H),ct=ve-1,qt(me[ct]),B=(me[ct].from?me[ct].from:me[ct].drop.toUpperCase()+"@")+me[ct].to+(me[ct].promotion||""),ct&&(B=xe[ct]+" "+B),xe.push(B);return{startingFen:P.FEN||Se,hashes:te,fingerprints:N,moves:xe,variant:P.Variant}}function O(E,K,me,je){var ve,ct,Dt,te,xe,N,B,P,H,X,He;for(me=me||{},typeof K=="string"&&(K=K.trim().split(" ")),Dt=K.length,ve=0;ve<Dt;ve+=1){if(K[ve].board==="b"||K[ve].board==="B"?xe=E.siblingGame:xe=E,typeof K[ve].moveLan=="string"?N=nn(K[ve].moveLan)[0]:typeof K[ve]=="string"?N=nn(K[ve])[0]:K[ve].san?N=K[ve].san:N=K[ve],!xe.move(N))if(me.autoPromote){if(me.autoPromote===!0?N.promotion="q":N.promotion=me.autoPromote,!xe.move(N)){if(me.skipBadLines)break;return!1}}else{if(me.skipBadLines)break;return!1}if(B=xe._history(),P=B[B.length-1],je&&(H=parseInt(je[ve],10)),(typeof H!="number"||isNaN(H))&&(H=parseInt(K[ve].time,10)),typeof H=="number"&&!isNaN(H)&&(P.time=H,H=void 0),K[ve].firstComment&&(B.initComment=K[ve].firstComment),K[ve].comment&&(P.comment=K[ve].comment),K[ve].annotation&&(P.annotation=K[ve].annotation),K[ve].additionalAnnotation&&(P.additionalAnnotation=K[ve].additionalAnnotation),K[ve].commands&&(P.commands=K[ve].commands),K[ve].lines)for(te=K[ve].lines.length,ct=0;ct<te;++ct){if(X=E._history().id,E.createVariation(),He=O(E,K[ve].lines[ct],me),!He&&!me.skipBadLines)return!1;E.selectLine(X)}}return!0}function le(E,K,me){var je=[on(K[0]),on(K[1])],ve=[0,0],ct=[0,0],Dt=je[0].length+je[1].length,te=Math.max(me[0][0]|0,me[0][1]|0,me[1][0]|0,me[1][1]|0),xe,N=[0,0],B=[0,0],P,H;for(te+=600-te%600,xe=[[te,te],[te,te]];Dt--;){if(B[0]=N[0]+xe[0][ct[0]]-me[0][ve[0]]||0,B[1]=N[1]+xe[1][ct[1]]-me[1][ve[1]]||0,P=B[0]<=B[1]?0:1,je[P][ve[P]]||(P^=1),H=P?E.siblingGame:E,(!H.move(je[P][ve[P]])||Dt&&H.inCheckmate()&&H.undo(!0))&&(P^=1,H=P?E.siblingGame:E,!H.move(je[P][ve[P]])))return!1;H._history()[ve[P]].time=me[P][ve[P]],xe[P][ct[P]]=me[P][ve[P]],N[P]=B[P],ct[P]^=1,++ve[P]}return!0}function V(E){var K,me=-1,je=0,ve;function ct(te,xe,N){for(var B=te[xe],P;typeof(P=B.parentId)=="number";){if(P===N)return B.atMoveNode;B=te[P]}return!1}function Dt(te,xe){var N={moveTime:te.moveTime,firstComment:te.firstComment,comment:te.comment,annotation:te.annotation,additionalAnnotation:te.additionalAnnotation,commands:te.commands};Object.keys(N).forEach(function(B){te[B]=xe[B],xe[B]=N[B]})}E.extended||(E.extended=!0,K={header:E.header,load:E.load,loadPgn:E.loadPgn,createVariation:E.createVariation,undo:E.undo,pgn:E.pgn},E._move=E.move,E.undo=function(){return E.siblingGame?E.deleteBughouseMove(E.curBughouseMove()):E.deletePosition(me,je)},E.getMove=function(te){return te&&(typeof te=="string"||te.to&&(te.from||te.drop))&&E._move(te)&&qt(K.undo())||null},E.premove=function(){var te,xe=[];return{queue:xe,move:function(N){var B;return te=te||M(E.fen(),E.header().Variant),B=Zt(te,N),!B||je||me!==E._history().length-1?(xe.length||(te=void 0),null):(xe.push(B),B)},consume:function(){var N=xe.shift(),B,P,H;if(N){if(B=E.move(N),B){if(te=void 0,P=xe.length,P)for(te=M(E.fen(),E.header().Variant),H=0;H<P;++H)Zt(te,xe[H]);return B}E.premove.cancel()}},moves:function(N){return!je&&me===E._history().length-1&&vt(te||E,E.header().Variant,N)},getPieces:function(N){return jt(te||E,N)},fen:function(){return(te||E).fen()},cancel:function(){xe.length=0,te=void 0}}}(),E.getPieces=function(te){return jt(E,te)},E.material=function(){var te=E.getPieces(),xe={imbalance:0,white:{p:8,n:2,b:2,r:2,q:1,count:0},black:{p:8,n:2,b:2,r:2,q:1,count:0}},N,B={p:1,n:3,b:3,r:5,q:9,k:0},P,H;for(N=te.length-1;N>=0;--N)te[N].color===1?(P=xe.white,H=xe.black):(P=xe.black,H=xe.white),H[te[N].type]&&--H[te[N].type],P.count+=B[te[N].type];return xe.imbalance=xe.white.count-xe.black.count,xe},E.origHistory=E.history,E.history=function(te,xe){var N=[],B,P=E._history(),H=P.length,X=E._lines(),He,Je;for(typeof te=="boolean"&&(te={verbose:te}),te=te||{},xe&&(te.noParentLines=xe),te.toCurrent&&(H=E.ids().move+1);;){if(--H===-1)if(P.id&&!te.noParentLines){H=P.atMoveNode,P=X[P.parentId];continue}else break;if(te.verbose){B={};for(He in P[H])if(P[H][He]&&typeof P[H][He]=="object"){B[He]=P[H][He].constructor===Array?[]:{};for(Je in P[H][He])B[He][Je]=P[H][He][Je]}else B[He]=P[H][He];N.unshift(B)}else N.unshift(P[H].san)}return N},E._getPos=function(te,xe){var N,B,P;return typeof te!="number"&&(te=me),typeof xe!="number"&&(xe=je),B=E._lines(),N=B[xe],te>=0?N[te]:N.id?N.atMoveNode?B[N.parentId][N.atMoveNode-1]:E._getPos(N.atMoveNode-1,N.parentId):(P={fen:K.header().FEN||Se,hash:N.hash,initial:!0,ids:{move:-1,line:0}},E.siblingGame&&(P.bughouseOrder=-1),P)},E.move=function(te,xe){var N,B=E._history(),P,H,X;if(te&&(typeof te=="string"||te.to&&(te.from||te.drop))){if(je===B.id&&me<B.length-1||xe){if(E.moveForward(xe,te))return!0;me<B.length-1&&(E.selectPosition(me+1),E.createVariation(),B=E._history())}E.siblingGame&&(H=E.isDependent?E.siblingGame.fen():E.fen()),N=E._move(te),N&&(qt(N),je=B.id,me=B.length-1,P=B[me],X=E._getPos(me-1),E.siblingGame?(P.fen=E.isDependent?E.siblingGame.fen():E.fen(),P.beforeFen=H,P.siblingIds=E.siblingGame.ids()):(P.fen=E.fen(),P.beforeFen=X.fen),X.initial?(P.moveNumber=0,P.previous=null):(P.moveNumber=X.moveNumber+1,P.previous=X.ids),je&&me===0&&E._lines()[B.parentId][B.atMoveNode].move===P.move&&(P.isContinuation=!0),P.flags=N.flags,P.to=N.to,P.from=N.from,P.drop=N.drop,P.capturedStr=N.captured,P.promotion=N.promotion,P.piece=N.piece,N.promoted&&(P.promoted=!0),N.capturedPromotedPawn&&(P.capturedPromotedPawn=!0),P.ids={move:me,line:je})}return N},E.moveDetails=function(te){return te=te||E._history()[me],te&&(te.lines=te.lines||null,te.flags===ee.FLAGS.KSIDE_CASTLE?(te.rookFrom=E.header().Variant==="Chess960"?te.to:"h"+te.to[1],te.rookTo="f"+te.to[1],te.kingTo="g"+te.to[1]):te.flags===ee.FLAGS.QSIDE_CASTLE?(te.rookFrom=E.header().Variant==="Chess960"?te.to:"a"+te.to[1],te.rookTo="d"+te.to[1],te.kingTo="c"+te.to[1]):te.flags===ee.FLAGS.EP_CAPTURE&&(te.epCapture=te.to[0]+te.from[1])),te},E.header=E.headers=function(te){var xe=K.header(te);return E.siblingGame&&V(E.siblingGame),xe},E.load=function(te,xe,N,B){var P=K.load(te,xe,N,B);return E.siblingGame&&V(E.siblingGame),P&&!N&&(me=-1,je=0),P},E.removeEmptyLines=function(){var te=E._lines(),xe,N;for(xe=te.length-1;xe>0;--xe)te[xe].length||(te[xe]=void 0,N=!0);N&&E.reorderLines()},E.loadPgn=function(te,xe,N){var B=K.loadPgn(te,xe,N),P=E._history();return E.removeEmptyLines(),me=P.length-1,je=P.id,je&&E.selectLine(0),B},E.ids=function(){return{move:me,line:je}},E.selectLine=function(te){E.selectPosition(null,te)},E.curBughouseMove=function(){return Math.max(E._getPos().bughouseOrder,E.siblingGame._getPos().bughouseOrder)},E.deleteBughouseMove=function(te){var xe=E.curBughouseMove(),N=!1,B=E,P,H,X;if(te>=0)for(xe>=te&&E.selectBughouseMove(te-1);;){for(P=B._history(),H=P.length,X=0;X<H;++X)if(P[X].bughouseOrder>=te){P.length=X,N=!0;break}if(B===E.siblingGame)break;B=E.siblingGame}return N},E.selectBughouseMove=function(te){var xe=E.isDependent?E.siblingGame:E,N=xe,B,P;if(te===-1)return N.selectPosition(-1,0,!0),N.siblingGame.selectPosition(-1,0,!0),xe.load(xe.header().FEN,"Bughouse",!0,!0);for(;;){for(B=N._history(),P=B.length-1;P>=0;--P)if(B[P].bughouseOrder===te)return N.selectPosition(B[P].ids.move,0,!0),N.siblingGame.selectPosition(B[P].siblingIds.move,0,!0),xe.load(B[P].fen,"Bughouse",!0,!0);if(N===xe.siblingGame)return!1;N=xe.siblingGame}},E.moveBackward=function(te){var xe;if(E.siblingGame)return E.selectBughouseMove(E.curBughouseMove()-1);if(me<=1)if(je===0){if(me===-1)return!1;E.selectPosition(me-1)}else xe=E._getPos(me-1,je),xe.isContinuation&&!te&&(xe=E._getPos(xe.ids.move-1,xe.ids.line),xe=E._getPos(xe.ids.move+1,xe.ids.line)),E.selectPosition(xe.ids.move,xe.ids.line);else E.selectPosition(me-1);return!0},E.moveForward=function(te,xe){var N=E._lines(),B,P,H,X,He,Je;if(E.siblingGame)return E.selectBughouseMove(E.curBughouseMove()+1);if(B=N[je][me+1],typeof xe=="string"&&(xe={san:xe}),!B||xe&&!Ct(xe,B)){if(xe&&B&&B.lines){for(He=B.lines.length,X=0;X<He;++X)if(H=N[B.lines[X]][0],H&&Ct(xe,H)){B=H,Je=!0;break}}if(!Je&&te&&(P=N[je][me],P&&P.lines)){for(He=P.lines.length,X=0;X<He;++X)if(H=N[P.lines[X]][0],H&&H.isContinuation&&(H=N[P.lines[X]][1],H&&(!xe||Ct(xe,H)))){B=H,Je=!0;break}}if(!Je){try{if(xe&&xe.san&&(xe=E.fixMove(xe.san))||xe&&xe.to&&xe.from&&Math.abs(xe.to.charCodeAt(0)-xe.from.charCodeAt(0))>1&&(xe=E.fixMove(xe)))return E.moveForward(te,xe)}catch{}return!1}}return E.selectPosition(B.ids.move,B.ids.line)},E.moveVariation=function(te,xe){var N=E._lines(),B=N[te],P,H,X;if(B&&B.id){for(P=N[B.parentId][B.atMoveNode].lines,H=P.length-1;H>=0;--H)if(P[H]===te&&(X=H-(xe?1:-1),P[X]))return P[H]=P[X],P[X]=te,E.reorderLines(),!0}return!1},E.promoteVariation=function(te,xe){for(var N=E._lines(),B=N[te],P,H,X,He,Je,rt;B&&B[0]&&B.id&&(xe!==-1||B.parentId);){for(X=B.parentId,P=N[X],He=B.atMoveNode,B[0].lines=P[He].lines.concat(B[0].lines||[]),P[He].lines=void 0,rt=P.length-He,H=P.splice(He,rt),Je=0;Je<rt;++Je)H[Je].ids.line=te,H[Je].ids.move=Je;for(H.id=te,H.parentId=X,H.atMoveNode=He,H.hash=B.hash,He===0?(H.initComment=P.initComment,P.initComment=B.initComment):B.initComment&&(P[He-1].comment=((P[He-1].comment||"")+" "+B.initComment).trim()),N[te]=H,rt=B.length,Je=0;Je<rt;++Je)B[Je].ids.line=X,B[Je].ids.move=Je+He,P.push(B[Je]);for(H[0].isContinuation=!!B[0].isContinuation,P[He].isContinuation=!He&&typeof P.parentId=="number"&&N[P.parentId][P.atMoveNode].move===P[0].move,rt=P[He].lines.length,Je=0;Je<rt;++Je)N[P[He].lines[Je]].atMoveNode=He,N[P[He].lines[Je]][0]&&(N[P[He].lines[Je]][0].isContinuation=N[P[He].lines[Je]][0].move===P[He].move);if(je===te?(je=X,me+=He):je===X&&me>=He&&(je=te,me-=He),xe===1)break;te=X,B=N[te]}return P!==void 0?(E._history(N[je]),E.reorderLines(),!me&&N[je][0].isContinuation&&E.selectPosition(N[je].atMoveNode,N[je].parentId),!0):!1},E.reorderLines=function(te,xe){var N=E._lines(),B,P,H,X,He,Je,rt,Fe,vn,It,Mn=!1;for(te?vn=xe.length-1:(te=0,xe=[N[0]],vn=0,ve=!1),B=N[te],H=B.length,P=0;P<H;++P)if(X=B[P],X.ids.line!==vn&&(Mn=!0,X.ids.line=vn),X.lines)for(He=X.lines.length,Je=0;Je<He;++Je)rt=X.lines[Je],Fe=N[rt],Fe?(Fe.atMoveNode=P,It=xe.length,X.lines[Je]=It,Fe.parentId=vn,!ve&&rt===je&&(ve=!0,je=It),xe.push(Fe),Mn=E.reorderLines(rt,xe)||Mn):(X.lines.length===1?delete X.lines:X.lines.splice(Je,1),--Je,--He);return te||E.saveLines(xe,!0),Mn},E.createVariation=function(){var te=E._history(),xe=E._lines(),N,B,P;return me===te.length-1?(N=K.createVariation(),te=E._history(),me=te.length-1,je=te.id,N):me===-1?!1:(B=[],P=te[me],B.parentId=te.id,B.id=xe.length,P.lines||(P.lines=[]),P.lines.push(B.id),B.hash=E._getPos(me-1).hash,B.atMoveNode=me,xe.push(B),E.selectPosition(-1,B.id))},E.selectLineEnd=function(te){return E.siblingGame?E.selectBughouseMove(E._history().length+E.siblingGame._history().length-1):(typeof te!="number"&&(te=je),te!==je||me<E._history().length-1?E.selectPosition(null,te,!0):!1)},E.selectLineStart=function(){var te,xe;return E.siblingGame?E.selectBughouseMove(-1):je?(me>1||me===1&&!E._getPos(0).isContinuation?te=E._history():(xe=E._getPos(-1),te=E._lines()[xe.ids.line]),E.selectPosition(te.id?te[1]&&te[0].isContinuation?1:0:-1,te.id)):me===-1?!1:E.selectPosition(-1,0)},E.selectPosition=function(te,xe,N){var B=E._lines(),P=E._history();if(typeof xe=="number"&&(xe!==je||N)){if(xe<0||xe>=B.length)return!1;if(P=B[xe],typeof te!="number")te=P.length-1;else if(te<-1||te>=P.length)return!1;je=xe,E._history(P),N=!0}if(typeof te=="number"&&(te!==me||N)){if(te<-1||te>=P.length)return!1;K.load(E._getPos(te).fen,K.header().Variant,!0,!0),me=te}return!0},E.resetToMainLine=function(){var te=E._lines();E.selectLineEnd(0),te.length>1&&(te.length=1,E.reorderLines())},E.updateNode=function(te,xe,N){var B=E._lines(),P,H;N=typeof N=="number"?N:je,xe=typeof xe=="number"?xe:me,P=B[N][xe]||B[N];for(H in te)P[H]=te[H]},E.updateLineComment=function(te,xe){E.updateNode({initComment:te},-1,xe)},E.saveLines=function(te,xe){var N=E._lines(),B,P=te.length,H,X;for(te!==N&&(N.length=0),H=0;H<P;++H){if(B=te[H],H&&typeof B.parentId!="number")return!1;te!==N&&N.push(B),B.id=H}return E._history(E._history()),xe||(X=E.ids(),E.selectPosition(-1,0,!0),E.selectPosition(X.move,X.line)),!0},E.deletePosition=function(te,xe){var N=E._lines(),B,P;return!N[xe]||!N[xe][te]&&(te!==-1||xe===0)?!1:(xe&&(te===0||te===1&&N[xe][0].isContinuation)&&(te=-1),je>0&&xe!==je?(B=ct(N,je,xe),P=B!==!1&&B>=te):P=xe===je&&te<=me,P&&(te>1?E.selectPosition(te-1,xe):(E.selectPosition((N[xe][0].isContinuation||te===1)&&N[xe][1]?1:0,xe),E.moveBackward())),te>0?N[xe].length=te:xe?N[xe]=null:N[0].length=0,E.reorderLines(),E.ids())},E.mark=function(te,xe){var N=me<0?E._lines()[je]:E._lines()[je][me],B=te.type,P=1;te.color&&(B==="arrow"?E.mark({key:te.color+te.key,type:"cal"},xe):B==="square"&&E.mark({key:te.color+te.key,type:"csl"},xe)),B!=="cal"&&B!=="csl"&&(B="c_"+B,P=0),N.commands&&N.commands[B]&&(N.commands[B]=N.commands[B].split(",").filter(function(X){return X.slice(P).split(";")[0]!==te.key.slice(P)}).join(","),N.commands[B]||delete N.commands[B]),xe||(N.commands||(N.commands={}),N.commands[B]=(N.commands[B]?N.commands[B]+",":"")+te.key+(te.data?";"+te.data.join(";"):""))},E.markings=function(){var te={},xe=me<0?E._lines()[je]:E._lines()[je][me],N,B,P,H={cal:"arrow",csl:"square"},X,He,Je,rt,Fe;for(B in xe.commands){if(P=xe.commands[B],H[B])B=H[B],X=0;else if(B.substr(0,2)==="c_")B=B.slice(2),X=1;else continue;for(te[B]=te[B]||{},He=P.split(","),Je=He.length,N=0;N<Je;++N)X?(rt=He[N].split(";"),Fe=rt.shift(),te[B][Fe]=te[B][Fe]||{type:B,key:Fe},te[B][Fe].data=rt):(Fe=He[N].slice(1),te[B][Fe]=te[B][Fe]||{type:B,key:Fe},te[B][Fe].color=He[N][0])}return te},E.clearMarkings=function(){var te=me<0?E._lines()[je]:E._lines()[je][me],xe;for(xe in te.commands)/^c[sa]l$|^c_/.test(xe)&&delete te.commands[xe]},E.pgn=function(te){var xe=E.ids(),N;return E.selectLineEnd(0),N=K.pgn(te),E.selectPosition(xe.move,xe.line),N},E.loadMoves=function(te,xe){var N,B,P,H,X;if(xe=xe||{},typeof te=="string"&&(te=on(te)),te){for(xe.atCurrent||E.selectPosition(-1,0),P=je,B=te.length,N=0;N<B;++N){if(H=E.move(te[N],!0),!H&&(te[N].promotion=xe.autoPromote===!0?"q":xe.autoPromote,H=E.move(te[N],!0),!H))return!1;je!==P&&xe.method!=="merge"&&(E.promoteVariation(je,1),xe.method!=="promote"&&(E._history()[me].lines=void 0,E.reorderLines()),P=je)}if(xe.method==="promote"){if(B){for(E._history()[me+1]&&(H=E._history()[me],E.createVariation(),E.move(H),Dt(E._history()[0],H),E.promoteVariation(je,1)),X=E._lines(),N=X.length-1;N>=0;--N)X[N].length===1&&X[N][0].isContinuation&&(Dt(X[N][0],X[X[N].parentId][X[N].atMoveNode]),X[N].length=0);E.removeEmptyLines()}}else xe.method!=="merge"&&E.deletePosition(me+1,je)}return!0})}function lt(E){var K,me;if(E=E||{},E.game)return E.game;if(K=M(),E.analysis&&V(K),E.disableHashing&&K.hashing(!1),E.pgn){if(!K.loadPgn(E.pgn,E.index,E.options)&&(E.variant!=="detect"||!M.variants.some(function(je){return E.options=E.options||{},E.options.variant=je,K.loadPgn(E.pgn,E.index,E.options)})))return!1}else{if(E.headers&&(E.variant=E.headers.Variant||E.variant,E.fen||(E.fen=E.headers.FEN)),E.variant==="detect"&&E.fen&&(E.fen.indexOf("|")>-1?E.variant="Bughouse":E.fen.split("/").length===9?E.variant="Crazyhouse":E.fen.indexOf("+")>-1?E.variant="3-check":E.variant=void 0),(E.fen||E.variant)&&!K.load(E.fen||Se,E.variant))return!1;E.headers&&typeof E.headers=="object"&&!Array.isArray(E.headers)&&K.header(E.headers)}if(E.tcn)if(typeof E.tcn=="object"){if(!le(K,E.tcn,E.timestamps||[[],[]]))return!1}else me=on(E.tcn);else me=E.moves;return me&&!O(K,me,E,E.timestamps)?!1:K}function wt(E){var K;return E=E||{},E.disableHashing=!0,K=lt(E),K?K.pgn(E):!1}function In(E,K){var me,je=[],ve;if(ee.reset(),!ee.loadPgn(E))return!1;if(me=ee.moveCount(),typeof K=="number"){for(K<0&&(K=me+K+1),ve=me-1;ve>=K&&ve>=0;ve-=1)ee.undo();return ee.fen()}for(ve=0;ve<=me;ve+=1)je.unshift(ee.fen()),ee.undo();return je}function qt(E){return E&&(E.piece&at&&(E.promoted=!0),E.piece=de[E.piece&he],E.captured&&(E.captured&at&&(E.capturedPromotedPawn=!0),E.captured=de[E.captured&Ge]),E.promotion&&(E.promotion=de[E.promotion&he]),E.drop!==void 0&&(E.drop=k[E.drop])),E}function Ft(E){var K=E.history(!0,!0),me,je,ve,ct,Dt,te,xe;if(E.siblingGame){for(me=E.siblingGame.history(!0,!0),ve=K.length+me.length,je=[],ct=0;ct<ve;++ct)!K.length||me.length&&me[0].bughouseOrder<K[0].bughouseOrder?(Dt=me.shift(),Dt.board="b"):(Dt=K.shift(),Dt.board="a"),je.push(Dt);K=je}for(ve=K.length,ct=0;ct<ve;++ct)if(te=K[ct],te.fen||qt(te),te.lines)for(xe=te.lines.length-1;xe>=0;--xe)E.selectLine(te.lines[xe]),te.lines[xe]=Ft(E).moves;return{moves:K}}function en(E,K,me){var je=[],ve,ct=ee;return typeof K!="number"&&(me=K,K=void 0),ve=ct.tokenizePgn(E,me),K<0&&(K=ve.length+K),ve?(me&&me.includeFen&&(ct=lt({analysis:!0})),ve.forEach(function(Dt,te){var xe,N;te===K||K===void 0?ct.loadPgn([Dt],0,me)?(N=Ft(ct),xe=ct.header(),je.push({headers:xe,moves:N.moves})):je.push(!1):je.push(void 0)}),typeof K=="number"?je[K]:je):!1}function m(E,K,me){return ee.reset(),ee.load(K,me)?qt(ee.move(E)):!1}function I(E,K){return ee.completeFen(E).split(" ").slice(0,K||4).join(" ")}function W(E,K,me){return ee.reset(),ee.load(E,me),K&&!O(ee,K)?!1:ee.fen()}function ue(E,K){var me,je,ve,ct;if(typeof E=="string"){if(je=ee,je.reset(),!je.load(E,K))return null}else je=lt(E);for(me=je.moves({verbose:!0}),ct=me.length,ve=0;ve<ct;++ve)qt(me[ve]);return me}function Ue(E,K,me){var je,ve={gameOver:!1,check:!1,checkmate:!1,draw:!1,stalemate:!1,threefold:!1,insufficient:!1},ct;if(Array.isArray(K)||(me=K,K=null),typeof me=="boolean"?(je=me,me={}):(me=me||{},je=me.variant),typeof E=="string"){if(ct=ee,ct.reset(),ct.validateFen(E,je)!==0||!ct.load(E,je))return!1}else ct=lt(E);return K&&!O(ct,K)?!1:(me.getLegalMoves&&(ve.legalMoves=ue({game:ct})),ct.inCheck()?(ve.check=!0,ve.checkmate=ct.inCheckmate()):ve.stalemate=ct.inStalemate(),ve.threefold=ct.inThreefoldRepetition(),ve.insufficient=ct.insufficientMaterial(me.color),ve.fiftyMoveRule=ct.in50MoveRule(),ve.draw=ve.stalemate||ve.threefold||ve.insufficient||ve.fiftyMoveRule||ct.inDraw(),me.skipValidation||(ve.isValid=ct.isPositionValid(me)),je&&(ve.variantWin=ct.isVariantWin(),ve.variantWin===void 0&&(ve.variantWin=ct.isBughouseWin())),ve.gameOver=ve.checkmate||ve.draw||Boolean(ve.variantWin),ve)}function nt(E,K){return ee.validateFen(E,K)===0}function re(E,K){F.loadBook(E,function(je,ve){if(!ve||!ve.json)return K(je||new Error("Invalid book"));K(je,function(Dt){var te,xe,N,B,P,H,X,He,Je;if(Dt.hash)typeof Dt.hash=="string"?xe=[F.hex64ToDec(Dt.hash)]:xe=[Dt.hash],B=1;else{if(te=lt(Dt),!te)return!1;xe=te.hashes(),B=xe.length}for(N=0;N<B;++N)if(P=ve.json[F.to64BitHex(xe[N])],P){if(P.constructor===Array)if(H&&P[0].m.indexOf(H.m)===-1){for(He=P.length-1;He>=0;--He)if(!He||P[He].m.indexOf(H.m)!==-1){Je=P[He],Je.e=P[0].e,Je.s=P[0].s,Je.mate=P[0].mate,Je.v=P[0].v,Je.h=P[0].h,Je.n=Je.n||P[0].n,Je.u=Je.u||P[0].u,Je.c=Je.c||P[0].c;break}}else Je=P[0];else Je=P;(Je.n||Dt.allowNameless)&&(H=Je)}else Dt.mustEndInBook&&(H=void 0);if(H)return X={name:H.n},H.m&&(X.moves=H.m),H.d!==void 0&&(X.sdiff=H.d/100),H.c&&(X.code=H.c,X.url=H.u||H.n.replace(/[\u00e1-\u00e5]/g,"a").replace(/[\u0107\u010d]/g,"c").replace(/[\u00e9\u00e8\u0117\u0113]/g,"e").replace(/[\u00f3\u00f6\u00f8]/g,"o").replace(/[\u016f\u00fc]/g,"u").replace(/['+,]/g,"").replace(/[^a-z0-9.]+/ig,"-").replace(/(with-\d|St)\.+-?/,"$1-")),H.e?(X.eval=H.e,X.depth=H.h,X.score=H.e[0].cp/100,H.e[0].mate!==void 0&&(X.mate=H.e[0].mate)):(X.score=H.s/100,H.mate!==void 0&&(X.mate=H.mate)),H.v&&(X.bad=!0),X},ve.json)})}function _e(E,K){return z=z||T(_e),z(E,K)}return _e.supportsMultithreading=function(){var E,K=Boolean(_e._hasThreads);if(typeof _e._hasThreads!="boolean"){try{E=new Worker("data:application/javascript,"),E.postMessage(new SharedArrayBuffer(1)),K=!0}catch{}try{E.terminate()}catch{}_e._hasThreads=K}return K},_e.gameFingerprints=Vt,_e.getFenFromMoves=W,_e.getLegalMoves=ue,_e.getPositionInfo=Ue,_e.isFenValid=nt,_e.encodeTCN=ut,_e.decodeTCN=on,_e.uciToObj=nn,_e.generatePgn=wt,_e.pgnToFen=In,_e.pgnToJson=en,_e.sanToObj=m,_e.completeFen=ee.completeFen,_e.shortenFen=I,_e.createGame=lt,_e.getPositionDetails=qe,_e.predict=pn,_e.normalizeMoveObj=qt,_e.FLAGS=ee.FLAGS,_e.loadECO=re,_e.CEE_LIB=function(){var E={};return E.addOptions=function(K,me){for(var je in me)me[je]!==void 0&&K.push("setoption name "+je+" value "+me[je]);return K},E.addVariations=function(K,me,je){var ve,ct;me=me||[],je=je||"variation";for(var Dt=0;Dt<me.length;++Dt)ve=me[Dt],ve.pv=Array.isArray(ve.pv)&&ve.pv.join(" ")||ve.pv||"",ct=je+" "+ve.pv,typeof ve.mateIn=="number"?ct+=" mate "+ve.mateIn:typeof ve.mate=="number"?ct+=" mate "+ve.mate:ct+=" cp "+Math.round(ve.cp),typeof ve.depth=="number"&&(ct+=" depth "+ve.depth),K.push(ct);return K},E.addPush=function(K,me){var je;return typeof me=="string"&&(me={moveLan:me}),je="push "+me.moveLan,me.isBook&&(je+=" isBook"),me.isRetry&&(je+=" isRetry"),K.push(je),K},E.addPosition=function(K,me){return K.push("position fen "+me),K},E.addVariant=function(K,me){return String(me).toLowerCase().replace(/ |-/g,"")==="chess960"?(K.push("setoption name UCI_Variant value chess"),K.push("setoption name UCI_Chess960 value "+!0)):(K.push("setoption name UCI_Variant value chess"),K.push("setoption name UCI_Chess960 value "+!1)),K},E}(),_e}();return Cn.exports=Ie,Ie}()},6279:function(Cn){(function(j,A){if(!0)Cn.exports=A();else var x,F})(typeof self<"u"?self:this,function(){return function(Ke){var j={};function A(x){if(j[x])return j[x].exports;var F=j[x]={i:x,l:!1,exports:{}};return Ke[x].call(F.exports,F,F.exports,A),F.l=!0,F.exports}return A.m=Ke,A.c=j,A.d=function(x,F,M){A.o(x,F)||Object.defineProperty(x,F,{enumerable:!0,get:M})},A.r=function(x){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})},A.t=function(x,F){if(F&1&&(x=A(x)),F&8||F&4&&typeof x=="object"&&x&&x.__esModule)return x;var M=Object.create(null);if(A.r(M),Object.defineProperty(M,"default",{enumerable:!0,value:x}),F&2&&typeof x!="string")for(var T in x)A.d(M,T,function(Ie){return x[Ie]}.bind(null,T));return M},A.n=function(x){var F=x&&x.__esModule?function(){return x.default}:function(){return x};return A.d(F,"a",F),F},A.o=function(x,F){return Object.prototype.hasOwnProperty.call(x,F)},A.p="",A(A.s=69)}([function(Ke,j,A){"use strict";A.d(j,"a",function(){return x});function x(F,M,T,Ie,ee,z,Se,he){var Ge=typeof F=="function"?F.options:F;M&&(Ge.render=M,Ge.staticRenderFns=T,Ge._compiled=!0),Ie&&(Ge.functional=!0),z&&(Ge._scopeId="data-v-"+z);var de;if(Se?(de=function(Xt){Xt=Xt||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!Xt&&typeof __VUE_SSR_CONTEXT__<"u"&&(Xt=__VUE_SSR_CONTEXT__),ee&&ee.call(this,Xt),Xt&&Xt._registeredComponents&&Xt._registeredComponents.add(Se)},Ge._ssrRegister=de):ee&&(de=he?function(){ee.call(this,this.$root.$options.shadowRoot)}:ee),de)if(Ge.functional){Ge._injectStyles=de;var k=Ge.render;Ge.render=function(Rt,on){return de.call(on),k(Rt,on)}}else{var at=Ge.beforeCreate;Ge.beforeCreate=at?[].concat(at,de):[de]}return{exports:F,options:Ge}}},function(Ke,j){Ke.exports=function(A){if(!A.webpackPolyfill){var x=Object.create(A);x.children||(x.children=[]),Object.defineProperty(x,"loaded",{enumerable:!0,get:function(){return x.l}}),Object.defineProperty(x,"id",{enumerable:!0,get:function(){return x.i}}),Object.defineProperty(x,"exports",{enumerable:!0}),x.webpackPolyfill=1}return x}},function(Ke,j,A){Ke.exports={component:"ui_modal-content-component",content:"ui_modal-content-content"}},function(Ke,j,A){Ke.exports={component:"ui_outside-close-component",icon:"ui_outside-close-icon"}},function(Ke,j,A){Ke.exports={component:"ui_modal-header-component","dark-mode":"ui_modal-header-dark-mode",icon:"ui_modal-header-icon"}},function(Ke,j,A){Ke.exports={component:"ui_modal-component",footer:"ui_modal-footer",header:"ui_modal-header","rounded-sm":"ui_modal-rounded-sm","rounded-lg":"ui_modal-rounded-lg",body:"ui_modal-body",transparent:"ui_modal-transparent","dark-light":"ui_modal-dark-light","light-grey":"ui_modal-light-grey",white:"ui_modal-white",content:"ui_modal-content","parent-centered":"ui_modal-parent-centered",bg:"ui_modal-bg","bg-dark":"ui_modal-bg-dark","bg-transparent":"ui_modal-bg-transparent",enter:"ui_modal-enter",leave:"ui_modal-leave",xs:"ui_modal-xs",sm:"ui_modal-sm",md:"ui_modal-md",lg:"ui_modal-lg",xl:"ui_modal-xl"}},function(Ke,j,A){"use strict";(function(x){var F=A(50),M=A(24),T=A(36),Ie=A(0),ee={},z=!1;function Se(de){z||(ee.$style=T.default.locals||T.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return ee.$style}}))}x.hot,x.hot;var he=Object(Ie.a)(M.a,F.a,F.b,!1,Se,null,null);if(!1)var Ge;he.options.__file="src/ui/pagination/pagination-item.vue",j.a=he.exports}).call(this,A(1)(Ke))},function(Ke,j,A){Ke.exports={component:"ui_pagination-item-component",light:"ui_pagination-item-light",dark:"ui_pagination-item-dark",disabled:"ui_pagination-item-disabled",active:"ui_pagination-item-active",icon:"ui_pagination-item-icon"}},function(Ke,j,A){"use strict";(function(x){var F=A(51),M=A(25),T=A(37),Ie=A(0),ee={},z=!1;function Se(de){z||(ee.$style=T.default.locals||T.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return ee.$style}}))}x.hot,x.hot;var he=Object(Ie.a)(M.a,F.a,F.b,!1,Se,null,null);if(!1)var Ge;he.options.__file="src/ui/pagination/pagination-spread.vue",j.a=he.exports}).call(this,A(1)(Ke))},function(Ke,j,A){Ke.exports={component:"ui_pagination-spread-component",light:"ui_pagination-spread-light",dark:"ui_pagination-spread-dark"}},function(Ke,j,A){Ke.exports={component:"ui_pagination-component",top:"ui_pagination-top",navigation:"ui_pagination-navigation"}},function(Ke,j,A){Ke.exports={component:"ui_v5-button-component",primary:"ui_v5-button-primary",large:"ui_v5-button-large",secondary:"ui_v5-button-secondary",tertiary:"ui_v5-button-tertiary",danger:"ui_v5-button-danger",basic:"ui_v5-button-basic","basic-dark":"ui_v5-button-basic-dark","basic-light":"ui_v5-button-basic-light",small:"ui_v5-button-small","x-small":"ui_v5-button-x-small","extra-padding":"ui_v5-button-extra-padding","min-width":"ui_v5-button-min-width",full:"ui_v5-button-full",icon:"ui_v5-button-icon",disabled:"ui_v5-button-disabled",active:"ui_v5-button-active"}},function(Ke,j,A){"use strict";(function(x){var F=A(55),M=A(29),T=A(41),Ie=A(0),ee={},z=!1;function Se(de){z||(ee.$style=T.default.locals||T.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return ee.$style}}))}x.hot,x.hot;var he=Object(Ie.a)(M.a,F.a,F.b,!1,Se,null,null);if(!1)var Ge;he.options.__file="src/ui/v5-input/v5-input.vue",j.a=he.exports}).call(this,A(1)(Ke))},function(Ke,j,A){Ke.exports={component:"ui_v5-input-component",light:"ui_v5-input-light",dark:"ui_v5-input-dark",error:"ui_v5-input-error",large:"ui_v5-input-large"}},function(Ke,j,A){Ke.exports={component:"ui_v5-input-group-component",light:"ui_v5-input-group-light",dark:"ui_v5-input-group-dark",icon:"ui_v5-input-group-icon",left:"ui_v5-input-group-left",right:"ui_v5-input-group-right","space-left":"ui_v5-input-group-space-left","space-right":"ui_v5-input-group-space-right",button:"ui_v5-input-group-button"}},function(Ke,j,A){Ke.exports={component:"ui_v5-select-component",light:"ui_v5-select-light",dark:"ui_v5-select-dark",error:"ui_v5-select-error",large:"ui_v5-select-large"}},function(Ke,j,A){Ke.exports={component:"ui_v5-switch-component",checkbox:"ui_v5-switch-checkbox",label:"ui_v5-switch-label",readonly:"ui_v5-switch-readonly",button:"ui_v5-switch-button",group:"ui_v5-switch-group"}},function(Ke,j,A){Ke.exports={component:"ui_v5-textarea-component",light:"ui_v5-textarea-light",dark:"ui_v5-textarea-dark",error:"ui_v5-textarea-error",autosize:"ui_v5-textarea-autosize",small:"ui_v5-textarea-small",large:"ui_v5-textarea-large","x-large":"ui_v5-textarea-x-large"}},function(Ke,j,A){"use strict";var x=function(){var he=this,Ge=he.$createElement,de=he._self._c||Ge;return de("div",he._b({class:["icon-font-chess",he.name],style:[{fontSize:he.size+"rem"}],on:{click:function(k){return he.$emit("click",k)}}},"div",he.$attrs,!1))},F=[];x._withStripped=!0;var M={name:"IconFont",props:{name:{required:!0,type:String},size:{default:3,required:!1,type:Number}}},T=M,Ie=A(0),ee=Object(Ie.a)(T,x,F,!1,null,null,null);if(!1)var z;ee.options.__file="src/ui/icon-font/icon-font.vue";var Se=j.a=ee.exports},function(Ke,j,A){"use strict";var x;(function(Ie){var ee;(function(z){z.DidHide="modal-did-hide"})(ee=Ie.Events||(Ie.Events={}))})(x||(x={}));var F;(function(Ie){var ee;(function(z){z[z.Backspace=8]="Backspace",z[z.Delete=46]="Delete",z[z.DownArrow=40]="DownArrow",z[z.Enter=13]="Enter",z[z.Escape=27]="Escape",z[z.LeftArrow=37]="LeftArrow",z[z.RightArrow=39]="RightArrow",z[z.Spacebar=32]="Spacebar",z[z.Stop=137]="Stop",z[z.Tab=9]="Tab",z[z.UpArrow=38]="UpArrow"})(ee=Ie.KeyCodes||(Ie.KeyCodes={}))})(F||(F={}));var M={name:"Modal",props:{autoShow:{type:Boolean,default:!1},closeOnAction:{type:Boolean,default:!0},centerOverParent:{type:Boolean,default:!1},bgColor:{type:String,default:null},enableBackgroundScroll:{type:Boolean,default:!0},isTransparent:{type:Boolean,default:!1},corners:{type:String,default:null},modalWidth:{type:String,default:null}},data:function(){return{visible:!1}},mounted:function(){this.closeOnAction&&window.addEventListener("keyup",this.onKeyPress),this.autoShow&&this.show()},beforeDestroy:function(){this.hide(),this.closeOnAction&&window.removeEventListener("keyup",this.onKeyPress)},methods:{hide:function(){this.visible=!1,document.body.classList.remove("modal-overflow-hidden"),this.$emit(x.Events.DidHide)},onBackgroundClick:function(ee){!document.contains(ee.target)||this.closeOnAction&&this.$refs.body&&!this.$refs.body.contains(ee.target)&&this.hide()},onKeyPress:function(ee){ee.keyCode===F.KeyCodes.Escape&&this.hide()},show:function(){this.visible=!0,this.enableBackgroundScroll||document.body.classList.add("modal-overflow-hidden")}}},T=j.a=M},function(Ke,j,A){"use strict";var x,F,M=typeof Map=="function"?new Map:(x=[],F=[],{has:function(k){return x.indexOf(k)>-1},get:function(k){return F[x.indexOf(k)]},set:function(k,at){x.indexOf(k)===-1&&(x.push(k),F.push(at))},delete:function(k){var at=x.indexOf(k);at>-1&&(x.splice(at,1),F.splice(at,1))}}),T=function(k){return new Event(k,{bubbles:!0})};try{new Event("test")}catch{T=function(at){var Xt=document.createEvent("Event");return Xt.initEvent(at,!0,!1),Xt}}function Ie(k){var at=M.get(k);at&&at.destroy()}function ee(k){var at=M.get(k);at&&at.update()}var z=null;typeof window>"u"||typeof window.getComputedStyle!="function"?((z=function(k){return k}).destroy=function(k){return k},z.update=function(k){return k}):((z=function(k,at){return k&&Array.prototype.forEach.call(k.length?k:[k],function(Xt){return function(Rt){if(Rt&&Rt.nodeName&&Rt.nodeName==="TEXTAREA"&&!M.has(Rt)){var on,ut=null,nn=null,Ct=null,vt=function(){Rt.clientWidth!==nn&&qe()},Zt=function(Vt){window.removeEventListener("resize",vt,!1),Rt.removeEventListener("input",qe,!1),Rt.removeEventListener("keyup",qe,!1),Rt.removeEventListener("autosize:destroy",Zt,!1),Rt.removeEventListener("autosize:update",qe,!1),Object.keys(Vt).forEach(function(O){Rt.style[O]=Vt[O]}),M.delete(Rt)}.bind(Rt,{height:Rt.style.height,resize:Rt.style.resize,overflowY:Rt.style.overflowY,overflowX:Rt.style.overflowX,wordWrap:Rt.style.wordWrap});Rt.addEventListener("autosize:destroy",Zt,!1),"onpropertychange"in Rt&&"oninput"in Rt&&Rt.addEventListener("keyup",qe,!1),window.addEventListener("resize",vt,!1),Rt.addEventListener("input",qe,!1),Rt.addEventListener("autosize:update",qe,!1),Rt.style.overflowX="hidden",Rt.style.wordWrap="break-word",M.set(Rt,{destroy:Zt,update:qe}),(on=window.getComputedStyle(Rt,null)).resize==="vertical"?Rt.style.resize="none":on.resize==="both"&&(Rt.style.resize="horizontal"),ut=on.boxSizing==="content-box"?-(parseFloat(on.paddingTop)+parseFloat(on.paddingBottom)):parseFloat(on.borderTopWidth)+parseFloat(on.borderBottomWidth),isNaN(ut)&&(ut=0),qe()}function jt(Vt){var O=Rt.style.width;Rt.style.width="0px",Rt.style.width=O,Rt.style.overflowY=Vt}function pn(){if(Rt.scrollHeight!==0){var Vt=function(le){for(var V=[];le&&le.parentNode&&le.parentNode instanceof Element;)le.parentNode.scrollTop&&V.push({node:le.parentNode,scrollTop:le.parentNode.scrollTop}),le=le.parentNode;return V}(Rt),O=document.documentElement&&document.documentElement.scrollTop;Rt.style.height="",Rt.style.height=Rt.scrollHeight+ut+"px",nn=Rt.clientWidth,Vt.forEach(function(le){le.node.scrollTop=le.scrollTop}),O&&(document.documentElement.scrollTop=O)}}function qe(){pn();var Vt=Math.round(parseFloat(Rt.style.height)),O=window.getComputedStyle(Rt,null),le=O.boxSizing==="content-box"?Math.round(parseFloat(O.height)):Rt.offsetHeight;if(le<Vt?O.overflowY==="hidden"&&(jt("scroll"),pn(),le=O.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(Rt,null).height)):Rt.offsetHeight):O.overflowY!=="hidden"&&(jt("hidden"),pn(),le=O.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(Rt,null).height)):Rt.offsetHeight),Ct!==le){Ct=le;var V=T("autosize:resized");try{Rt.dispatchEvent(V)}catch{}}}}(Xt)}),k}).destroy=function(k){return k&&Array.prototype.forEach.call(k.length?k:[k],Ie),k},z.update=function(k){return k&&Array.prototype.forEach.call(k.length?k:[k],ee),k});var Se=z,he=Se,Ge={name:"V5Textarea",props:{autofocus:{default:!1,type:Boolean},autosize:{type:Boolean,default:!1},forceTheme:{type:String,default:""},hasError:{default:!1,type:Boolean},size:{type:String,default:""},value:{default:"",type:[Number,String]}},watch:{value:{handler:function(){var at=this;this.autosize&&setTimeout(function(){he.update(at.$el)},50)}}},mounted:function(){this.autosize&&(he(this.$el),this.$el.addEventListener("autosize:resized",this.resizeEvent)),this.autofocus&&this.$el.focus()},beforeUnmount:function(){this.autosize&&this.$el.removeEventListener("autosize:resized",this.resizeEvent)},methods:{resizeEvent:function(){var at=this;this.$nextTick(function(){at.$emit("resize")})}}},de=j.a=Ge},function(Ke,j,A){"use strict";var x={name:"ModalContent"},F=j.a=x},function(Ke,j,A){"use strict";var x={name:"OutsideClose"},F=j.a=x},function(Ke,j,A){"use strict";var x=A(18),F={name:"ModalHeader",components:{IconFont:x.a},props:{icon:{type:String,default:""}}},M=j.a=F},function(Ke,j,A){"use strict";var x={name:"PaginationItem",props:{active:{type:Boolean,default:!1},content:{type:String,required:!1},disabled:{type:Boolean,default:!1},icon:{type:String,required:!1},href:{default:null,type:String,required:!1},forceTheme:{type:String,required:!1}},emits:["click"]},F=j.a=x},function(Ke,j,A){"use strict";var x={name:"PaginationSpread",props:{forceTheme:{type:String,required:!1}}},F=j.a=x},function(Ke,j,A){"use strict";var x=A(6),F=A(8),M={name:"Pagination",components:{PaginationItem:x.a,PaginationSpread:F.a},props:{forceTheme:{type:String,required:!1}}},T=j.a=M},function(Ke,j,A){"use strict";var x={name:"V5Button",props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},extraPadding:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},href:{default:null,type:String,required:!1},minWidth:{type:Boolean,required:!1},size:{type:String,default:""},theme:{type:String,default:"basic"},type:{type:String,default:"button"}}},F=j.a=x},function(Ke,j,A){"use strict";var x=A(40),F=A.n(x),M=A(12),T={name:"V5InputGroup",components:{V5Input:M.a},props:{ariaLabel:{type:String,default:""},autocapitalize:{required:!1,type:String},autocomplete:{type:String,default:"off"},autocorrect:{required:!1,type:String},autofocus:Boolean,clearButtonIcon:{type:String,default:""},disabled:Boolean,forceTheme:{type:String,default:""},iconLeft:{type:String,default:""},iconRight:{type:String,default:""},id:{type:String,default:""},maxlength:{type:Number,default:524288},name:{type:String,default:""},placeholder:{type:String,default:""},size:{type:String,default:"small"},spellcheck:{required:!1,type:String},type:{type:String,default:"text"},value:{type:[String,Number],default:""}},computed:{inputClasses:function(){var z;return[(z={},F()(z,this.$style["space-left"],this.iconLeft),F()(z,this.$style["space-right"],this.iconRight||this.clearButtonIcon),z)]}},methods:{clearButtonAction:function(z){this.$emit("clear-button-action",z)},blurEvent:function(z){this.$emit("blur",z)},focusEvent:function(z){this.$emit("focus",z)},keydownEvent:function(z){this.$emit("keydown",z)},keyupEvent:function(z){this.$emit("keyup",z)},keyupEnterEvent:function(z){this.$emit("enter",z)},onIconClick:function(z){this.$emit("icon-click-".concat(z))},updateValue:function(z){this.$emit("input",z)}}},Ie=j.a=T},function(Ke,j,A){"use strict";var x={name:"V5Input",props:{size:{type:String,default:""},forceTheme:{type:String,default:""},value:{default:"",type:[Number,String]},hasError:{default:!1,type:Boolean},hasNativeInputEvent:{default:!1,type:Boolean}},methods:{keyupEvent:function(T){this.$emit("keyup",T)},onInput:function(T){this.$emit("input",this.hasNativeInputEvent?T:T.target.value)}}},F=j.a=x},function(Ke,j,A){"use strict";var x={name:"V5Select",props:{emptyOption:{type:String,default:""},forceTheme:{type:String,default:""},hasError:{default:!1,type:Boolean},labelKey:{type:String,default:"label"},options:{type:Array,required:!0},placeholderText:{type:String,default:""},size:{type:String,default:""},value:{type:[String,Number],required:!1,default:""},valueKey:{type:String,default:"value"}},methods:{getLabel:function(T){return this.labelKey?T[this.labelKey]:T},getValue:function(T){return this.valueKey?T[this.valueKey]:T},setSelectedOption:function(T){this.$emit("input",T),this.onChange&&this.onChange()}}},F=j.a=x},function(Ke,j,A){"use strict";var x={name:"V5Switch",props:{name:{type:String,required:!0},value:{type:Boolean,required:!0},isDisabled:{type:Boolean,default:!1}},methods:{setSwitchStatus:function(T){this.$emit("input",T)}}},F=j.a=x},function(Ke,j,A){"use strict";var x=A(2),F=A.n(x);j.default=F.a},function(Ke,j,A){"use strict";var x=A(3),F=A.n(x);j.default=F.a},function(Ke,j,A){"use strict";var x=A(4),F=A.n(x);j.default=F.a},function(Ke,j,A){"use strict";var x=A(5),F=A.n(x);j.default=F.a},function(Ke,j,A){"use strict";var x=A(7),F=A.n(x);j.default=F.a},function(Ke,j,A){"use strict";var x=A(9),F=A.n(x);j.default=F.a},function(Ke,j,A){"use strict";var x=A(10),F=A.n(x);j.default=F.a},function(Ke,j,A){"use strict";var x=A(11),F=A.n(x);j.default=F.a},function(Ke,j){function A(x,F,M){return F in x?Object.defineProperty(x,F,{value:M,enumerable:!0,configurable:!0,writable:!0}):x[F]=M,x}Ke.exports=A},function(Ke,j,A){"use strict";var x=A(13),F=A.n(x);j.default=F.a},function(Ke,j,A){"use strict";var x=A(14),F=A.n(x);j.default=F.a},function(Ke,j,A){"use strict";var x=A(15),F=A.n(x);j.default=F.a},function(Ke,j,A){"use strict";var x=A(16),F=A.n(x);j.default=F.a},function(Ke,j,A){"use strict";var x=A(17),F=A.n(x);j.default=F.a},function(Ke,j,A){"use strict";var x=function(){var M=this,T=M.$createElement,Ie=M._self._c||T;return Ie("div",{class:M.$style.component},[M._t("default")],2)},F=[];x._withStripped=!0,A.d(j,"a",function(){return x}),A.d(j,"b",function(){return F})},function(Ke,j,A){"use strict";var x=function(){var M=this,T=M.$createElement,Ie=M._self._c||T;return Ie("button",{class:M.$style.component,attrs:{type:"button"},on:{click:function(ee){return M.$emit("click",ee)}}},[Ie("div",{staticClass:"icon-font-chess x",class:M.$style.icon})])},F=[];x._withStripped=!0,A.d(j,"a",function(){return x}),A.d(j,"b",function(){return F})},function(Ke,j,A){"use strict";var x=function(){var M=this,T=M.$createElement,Ie=M._self._c||T;return Ie("div",{class:M.$style.component},[M._t("default"),M._v(" "),M.icon?Ie("IconFont",{class:M.$style.icon,attrs:{name:M.icon},on:{click:function(ee){return M.$emit("close",ee)}}}):M._e()],2)},F=[];x._withStripped=!0,A.d(j,"a",function(){return x}),A.d(j,"b",function(){return F})},function(Ke,j,A){"use strict";var x=function(){var M,T=this,Ie=T.$createElement,ee=T._self._c||Ie;return ee("Transition",{attrs:{"enter-active-class":T.$style.enter,"leave-active-class":T.$style.leave}},[T.visible?ee("div",[T.centerOverParent?T._e():ee("div",{class:[T.$style.bg,[T.isTransparent?T.$style["bg-transparent"]:T.$style["bg-dark"]]]}),T._v(" "),ee("div",{class:[T.$style.component,(M={},M[T.$style["parent-centered"]]=T.centerOverParent,M)],on:{click:function(z){return T.onBackgroundClick(z)}}},[ee("div",{ref:"body",class:[T.$style.body,T.$style[T.corners],T.$style[T.modalWidth],T.$style[T.bgColor]]},[this.$slots.header?ee("div",{class:T.$style.header},[T._t("header")],2):T._e(),T._v(" "),this.$slots.content?ee("div",{class:T.$style.content},[T._t("content")],2):T._e(),T._v(" "),T._t("default"),T._v(" "),this.$slots.footer?ee("div",{class:T.$style.footer},[T._t("footer")],2):T._e()],2)])]):T._e()])},F=[];x._withStripped=!0,A.d(j,"a",function(){return x}),A.d(j,"b",function(){return F})},function(Ke,j,A){"use strict";var x=function(){var M,T=this,Ie=T.$createElement,ee=T._self._c||Ie;return ee(T.href?"a":"button",{tag:"Component",class:[T.$style.component,(M={},M[T.$style.disabled]=T.href&&T.disabled,M[T.$style.active]=T.active,M[T.$style.dark]=T.forceTheme=="dark",M[T.$style.light]=T.forceTheme=="light",M)],attrs:{rel:"nofollow","aria-selected":T.active,disabled:!T.href&&T.disabled,href:T.href,type:T.href?!1:"button"},on:{click:function(z){return T.$emit("click",z)}}},[T.icon?ee("span",{class:[T.$style.icon,"icon-font-chess",T.icon]}):T._e(),T._v(" "),T.content?ee("span",{domProps:{textContent:T._s(T.content)}}):T._e()])},F=[];x._withStripped=!0,A.d(j,"a",function(){return x}),A.d(j,"b",function(){return F})},function(Ke,j,A){"use strict";var x=function(){var M,T=this,Ie=T.$createElement,ee=T._self._c||Ie;return ee("div",{class:[T.$style.component,(M={},M[T.$style.dark]=T.forceTheme=="dark",M[T.$style.light]=T.forceTheme=="light",M)],domProps:{textContent:T._s("...")}})},F=[];x._withStripped=!0,A.d(j,"a",function(){return x}),A.d(j,"b",function(){return F})},function(Ke,j,A){"use strict";var x=function(){var M=this,T=M.$createElement,Ie=M._self._c||T;return Ie("div",{class:M.$style.component},[Ie("PaginationItem",{class:M.$style.top,attrs:{"aria-label":"Go to Top",icon:"chevron-up",content:"Top","force-theme":M.forceTheme},on:{click:M.onClick}}),M._v(" "),Ie("nav",{class:M.$style.navigation},[Ie("PaginationItem",{attrs:{"force-theme":M.forceTheme,href:"#"},domProps:{textContent:M._s("First")}}),M._v(" "),Ie("PaginationItem",{attrs:{disabled:"",icon:"chevron-left","force-theme":M.forceTheme},on:{click:M.onClick}}),M._v(" "),Ie("PaginationSpread",{attrs:{"force-theme":M.forceTheme}}),M._v(" "),Ie("PaginationItem",{attrs:{"force-theme":M.forceTheme,href:"#"},domProps:{textContent:M._s("4")}}),M._v(" "),Ie("PaginationItem",{attrs:{active:"","force-theme":M.forceTheme},domProps:{textContent:M._s("5")},on:{click:M.onClick}}),M._v(" "),Ie("PaginationItem",{attrs:{disabled:"",href:"#","force-theme":M.forceTheme},domProps:{textContent:M._s("6")}}),M._v(" "),Ie("PaginationItem",{attrs:{icon:"chevron-right","force-theme":M.forceTheme},on:{click:M.onClick}}),M._v(" "),Ie("PaginationItem",{attrs:{"force-theme":M.forceTheme},domProps:{textContent:M._s("Last")},on:{click:M.onClick}})],1)],1)},F=[];x._withStripped=!0,A.d(j,"a",function(){return x}),A.d(j,"b",function(){return F})},function(Ke,j,A){"use strict";var x=function(){var M,T=this,Ie=T.$createElement,ee=T._self._c||Ie;return ee(T.href?"a":"button",{tag:"Component",class:[T.$style.component,T.$style[T.theme],T.$style[T.size],(M={},M[T.$style.full]=T.fullWidth,M[T.$style.active]=T.active,M[T.$style.disabled]=T.disabled,M[T.$style["extra-padding"]]=T.extraPadding,M[T.$style["min-width"]]=T.minWidth,M)],attrs:{disabled:T.disabled,href:T.href,type:T.type},on:{click:function(z){return T.$emit("click",z)},contextmenu:function(z){return T.$emit("contextmenu",z)},touchend:function(z){return T.$emit("touchend",z)},touchstart:function(z){return T.$emit("touchstart",z)}}},[T._t("default")],2)},F=[];x._withStripped=!0,A.d(j,"a",function(){return x}),A.d(j,"b",function(){return F})},function(Ke,j,A){"use strict";var x=function(){var M,T=this,Ie=T.$createElement,ee=T._self._c||Ie;return ee("div",{class:[T.$style.component,(M={},M[T.$style.dark]=T.forceTheme=="dark",M[T.$style.light]=T.forceTheme=="light",M)]},[ee("V5Input",{class:T.inputClasses,attrs:{id:T.id,"aria-label":T.ariaLabel,autocapitalize:T.autocapitalize,autocomplete:T.autocomplete,autocorrect:T.autocorrect,autofocus:T.autofocus,"force-theme":T.forceTheme,maxlength:T.maxlength,name:T.name,placeholder:T.placeholder,readonly:T.disabled,spellcheck:T.spellcheck,type:T.type,size:T.size,value:T.value},on:{blur:function(z){return T.blurEvent(z)},change:function(z){return T.$emit("change",z)},focus:function(z){return T.focusEvent(z)},input:function(z){return T.updateValue(z)},keydown:function(z){return T.keydownEvent(z)},keyup:[function(z){return T.keyupEvent(z)},function(z){return!z.type.indexOf("key")&&T._k(z.keyCode,"enter",13,z.key,"Enter")?null:T.keyupEnterEvent(z)}]}}),T._v(" "),T.iconLeft?ee("span",{staticClass:"icon-font-chess",class:[T.$style.icon,T.$style.left,T.iconLeft],on:{click:function(z){return T.onIconClick("left")}}}):T._e(),T._v(" "),T.iconRight?ee("span",{staticClass:"icon-font-chess",class:[T.$style.icon,T.$style.right,T.iconRight],on:{click:function(z){return T.onIconClick("right")}}}):T._e(),T._v(" "),T.clearButtonIcon&&!T.iconRight&&T.value?ee("button",{class:T.$style.button,attrs:{type:"button"},on:{click:function(z){return T.clearButtonAction(z)}}},[ee("span",{staticClass:"icon-font-chess circle-x",class:T.$style.icon})]):T._e(),T._v(" "),T.clearButtonIcon&&!T.iconRight&&!T.value?ee("span",{staticClass:"icon-font-chess",class:[T.$style.icon,T.$style.right,T.clearButtonIcon]}):T._e()],1)},F=[];x._withStripped=!0,A.d(j,"a",function(){return x}),A.d(j,"b",function(){return F})},function(Ke,j,A){"use strict";var x=function(){var M,T=this,Ie=T.$createElement,ee=T._self._c||Ie;return ee("input",{class:[T.$style.component,T.$style[T.size],(M={},M[T.$style.dark]=T.forceTheme=="dark",M[T.$style.light]=T.forceTheme=="light",M[T.$style.error]=T.hasError,M)],domProps:{value:T.value},on:{blur:function(z){return T.$emit("blur",z)},change:function(z){return T.$emit("change",z)},focus:function(z){return T.$emit("focus",z)},input:T.onInput,keydown:function(z){return T.$emit("keydown",z)},keyup:[function(z){return T.keyupEvent(z)},function(z){return!z.type.indexOf("key")&&T._k(z.keyCode,"enter",13,z.key,"Enter")?null:T.$emit("enter",z)}],paste:function(z){return T.$emit("paste",z)}}})},F=[];x._withStripped=!0,A.d(j,"a",function(){return x}),A.d(j,"b",function(){return F})},function(Ke,j,A){"use strict";var x=function(){var M,T=this,Ie=T.$createElement,ee=T._self._c||Ie;return ee("select",{class:[T.$style.component,T.$style[T.size],(M={},M[T.$style.dark]=T.forceTheme=="dark",M[T.$style.light]=T.forceTheme=="light",M[T.$style.error]=T.hasError,M)],on:{change:function(z){return T.setSelectedOption(z.target.value)}}},[T.placeholderText?ee("option",{attrs:{disabled:"",hidden:"",selected:"",value:""},domProps:{textContent:T._s(T.placeholderText)}}):T._e(),T._v(" "),T.emptyOption?ee("option",{attrs:{selected:"",value:""},domProps:{textContent:T._s(T.emptyOption)}}):T._e(),T._v(" "),T._l(T.options,function(z,Se){return ee("option",{key:Se,attrs:{disabled:z.disabled,hidden:z.hidden},domProps:{selected:T.getValue(z)===T.value,value:T.getValue(z)}},[T._v(`
    `+T._s(T.getLabel(z))+`
  `)])})],2)},F=[];x._withStripped=!0,A.d(j,"a",function(){return x}),A.d(j,"b",function(){return F})},function(Ke,j,A){"use strict";var x=function(){var M=this,T=M.$createElement,Ie=M._self._c||T;return Ie("div",{class:M.$style.component},[Ie("input",{class:M.$style.checkbox,attrs:{id:M.name,type:"checkbox",disabled:M.isDisabled,name:M.name},domProps:{checked:M.value},on:{change:function(ee){return M.setSwitchStatus(ee.target.checked)}}}),M._v(" "),Ie("label",{class:M.$style.label,attrs:{for:M.name}},[Ie("div",{class:M.$style.button})])])},F=[];x._withStripped=!0,A.d(j,"a",function(){return x}),A.d(j,"b",function(){return F})},function(Ke,j,A){"use strict";var x=function(){var M,T=this,Ie=T.$createElement,ee=T._self._c||Ie;return ee("textarea",{class:[T.$style.component,T.$style[T.size],(M={},M[T.$style.dark]=T.forceTheme=="dark",M[T.$style.light]=T.forceTheme=="light",M[T.$style.autosize]=T.autosize,M[T.$style.error]=T.hasError,M)],domProps:{value:T.value},on:{blur:function(z){return T.$emit("blur",z)},focus:function(z){return T.$emit("focus",z)},input:function(z){return T.$emit("input",z.target.value)},keydown:function(z){return T.$emit("keydown",z)}}})},F=[];x._withStripped=!0,A.d(j,"a",function(){return x}),A.d(j,"b",function(){return F})},function(Ke,j,A){"use strict";(function(x){var F=A(46),M=A(21),T=A(32),Ie=A(0),ee={},z=!1;function Se(de){z||(ee.$style=T.default.locals||T.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return ee.$style}}))}x.hot,x.hot;var he=Object(Ie.a)(M.a,F.a,F.b,!1,Se,null,null);if(!1)var Ge;he.options.__file="src/ui/modal/modal-content/modal-content.vue",j.a=he.exports}).call(this,A(1)(Ke))},function(Ke,j,A){"use strict";(function(x){var F=A(47),M=A(22),T=A(33),Ie=A(0),ee={},z=!1;function Se(de){z||(ee.$style=T.default.locals||T.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return ee.$style}}))}x.hot,x.hot;var he=Object(Ie.a)(M.a,F.a,F.b,!1,Se,null,null);if(!1)var Ge;he.options.__file="src/ui/modal/modal-content/outside-close.vue",j.a=he.exports}).call(this,A(1)(Ke))},function(Ke,j,A){"use strict";(function(x){var F=A(48),M=A(23),T=A(34),Ie=A(0),ee={},z=!1;function Se(de){z||(ee.$style=T.default.locals||T.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return ee.$style}}))}x.hot,x.hot;var he=Object(Ie.a)(M.a,F.a,F.b,!1,Se,null,null);if(!1)var Ge;he.options.__file="src/ui/modal/modal-header/modal-header.vue",j.a=he.exports}).call(this,A(1)(Ke))},function(Ke,j,A){"use strict";(function(x){var F=A(49),M=A(19),T=A(35),Ie=A(0),ee={},z=!1;function Se(de){z||(ee.$style=T.default.locals||T.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return ee.$style}}))}x.hot,x.hot;var he=Object(Ie.a)(M.a,F.a,F.b,!1,Se,null,null);if(!1)var Ge;he.options.__file="src/ui/modal/modal.vue",j.a=he.exports}).call(this,A(1)(Ke))},function(Ke,j,A){"use strict";(function(x){var F=A(52),M=A(26),T=A(38),Ie=A(0),ee={},z=!1;function Se(de){z||(ee.$style=T.default.locals||T.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return ee.$style}}))}x.hot,x.hot;var he=Object(Ie.a)(M.a,F.a,F.b,!1,Se,null,null);if(!1)var Ge;he.options.__file="src/ui/pagination/pagination.vue",j.a=he.exports}).call(this,A(1)(Ke))},function(Ke,j,A){"use strict";(function(x){var F=A(53),M=A(27),T=A(39),Ie=A(0),ee={},z=!1;function Se(de){z||(ee.$style=T.default.locals||T.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return ee.$style}}))}x.hot,x.hot;var he=Object(Ie.a)(M.a,F.a,F.b,!1,Se,null,null);if(!1)var Ge;he.options.__file="src/ui/v5-button/v5-button.vue",j.a=he.exports}).call(this,A(1)(Ke))},function(Ke,j,A){"use strict";(function(x){var F=A(54),M=A(28),T=A(42),Ie=A(0),ee={},z=!1;function Se(de){z||(ee.$style=T.default.locals||T.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return ee.$style}}))}x.hot,x.hot;var he=Object(Ie.a)(M.a,F.a,F.b,!1,Se,null,null);if(!1)var Ge;he.options.__file="src/ui/v5-input/v5-input-group.vue",j.a=he.exports}).call(this,A(1)(Ke))},function(Ke,j,A){"use strict";(function(x){var F=A(56),M=A(30),T=A(43),Ie=A(0),ee={},z=!1;function Se(de){z||(ee.$style=T.default.locals||T.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return ee.$style}}))}x.hot,x.hot;var he=Object(Ie.a)(M.a,F.a,F.b,!1,Se,null,null);if(!1)var Ge;he.options.__file="src/ui/v5-select/v5-select.vue",j.a=he.exports}).call(this,A(1)(Ke))},function(Ke,j,A){"use strict";(function(x){var F=A(57),M=A(31),T=A(44),Ie=A(0),ee={},z=!1;function Se(de){z||(ee.$style=T.default.locals||T.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return ee.$style}}))}x.hot,x.hot;var he=Object(Ie.a)(M.a,F.a,F.b,!1,Se,null,null);if(!1)var Ge;he.options.__file="src/ui/v5-switch/v5-switch.vue",j.a=he.exports}).call(this,A(1)(Ke))},function(Ke,j,A){"use strict";(function(x){var F=A(58),M=A(20),T=A(45),Ie=A(0),ee={},z=!1;function Se(de){z||(ee.$style=T.default.locals||T.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return ee.$style}}))}x.hot,x.hot;var he=Object(Ie.a)(M.a,F.a,F.b,!1,Se,null,null);if(!1)var Ge;he.options.__file="src/ui/v5-textarea/v5-textarea.vue",j.a=he.exports}).call(this,A(1)(Ke))},function(Ke,j,A){"use strict";A.r(j);var x=A(18);A.d(j,"IconFont",function(){return x.a});var F=A(59);A.d(j,"ModalContent",function(){return F.a});var M=A(60);A.d(j,"OutsideClose",function(){return M.a});var T=A(61);A.d(j,"ModalHeader",function(){return T.a});var Ie=A(62);A.d(j,"Modal",function(){return Ie.a});var ee=A(6);A.d(j,"PaginationItem",function(){return ee.a});var z=A(8);A.d(j,"PaginationSpread",function(){return z.a});var Se=A(63);A.d(j,"Pagination",function(){return Se.a});var he=A(64);A.d(j,"V5Button",function(){return he.a});var Ge=A(65);A.d(j,"V5InputGroup",function(){return Ge.a});var de=A(12);A.d(j,"V5Input",function(){return de.a});var k=A(66);A.d(j,"V5Select",function(){return k.a});var at=A(67);A.d(j,"V5Switch",function(){return at.a});var Xt=A(68);A.d(j,"V5Textarea",function(){return Xt.a})}])})},5174:function(Cn,Ke,j){"use strict";j.d(Ke,{I:function(){return A}});function A(){const x=[];return{emit:F,listeners:x,off:M,offAll:T,offMany:Ie,on:ee,onAll:z,onMany:Se,once:he};function F(Ge,de){let k;for(k of x)k.type!==Ge&&k.type!=="all"||k.handler(de)}function M(Ge){const de=x.findIndex(k=>Ge.type===k.type&&Ge.handler===k.handler);de!==-1&&x.splice(de,1)}function T(Ge){return M({handler:Ge,type:"all"})}function Ie(Ge=[]){Ge.forEach(de=>M(de))}function ee(Ge,de){const k={handler:de,type:Ge};x.push(k)}function z(Ge){ee("all",Ge)}function Se(Ge=[],de){Ge.forEach(k=>ee(k,de))}function he(Ge,de){const k={handler:(...at)=>{M(k),de(...at)},type:Ge};x.push(k)}}},3167:function(Cn,Ke,j){"use strict";j.d(Ke,{ei:function(){return z}});function A(he){return Object.keys(he).reduce((Ge,de)=>Object.assign(Object.assign({},Ge),{[he[de]]:de}),{})}function x(he,Ge){return Ge.every(de=>Object.prototype.hasOwnProperty.call(he,de))}function F(he={}){return Object.keys(he).length>0}function M(he,Ge){return Object.prototype.hasOwnProperty.call(he,Ge)}function T(he,Ge){return Ge.some(de=>Object.prototype.hasOwnProperty.call(he,de))}function Ie(he){return!Object.keys(he).length}function ee(he,Ge=[]){return Object.keys(he).filter(de=>!Ge.includes(de)).reduce((de,k)=>Object.assign(Object.assign({},de),{[k]:he[k]}),{})}function z(he,Ge){return Ge.reduce((de,k)=>(Object.prototype.hasOwnProperty.call(he,k)&&(de[k]=he[k]),de),{})}function Se(he){return Object.keys(he).reduce((Ge,de)=>{let k=he[de];return typeof k=="boolean"&&(k=k?"1":"0"),Ge[de]=k,Ge},{})}},2591:function(Cn,Ke,j){"use strict";j.d(Ke,{j:function(){return x}});function A(){}function x(F=!0){const M=[];let T=!1;return{add:Ie,clear:ee,flush:z,getEntries:Se};function Ie(he,...Ge){let de=A,k=A;const at=new Promise((Xt,Rt)=>{k=Xt,de=Rt});return M.push({fn:he,params:Ge,reject:de,resolve:k}),F&&T===!1&&z(),at}function ee(){T=!1,M.length=0}async function z(){const he=M.shift();if(!he){T=!1;return}T=!0;try{const Ge=await he.fn(...he.params);return he.resolve(Ge),z()}catch(Ge){he.reject(Ge)}}function Se(){return M}}},6110:function(Cn,Ke,j){"use strict";j.d(Ke,{IZ:function(){return Zt},GN:function(){return jt}});const A=["mousedown","keydown","touchstart","touchend"];let x=!1;function F(pn){x||(x=!0,A.forEach(qe=>window.addEventListener(qe,pn)))}function M(pn){x&&(x=!1,A.forEach(qe=>window.removeEventListener(qe,pn)))}function T(pn,qe){function Vt(O){var le;((le=O?.data)===null||le===void 0?void 0:le.key)===pn&&(qe(),window.removeEventListener("message",Vt))}window.addEventListener("message",Vt)}const Ie=window.chesscom||{},ee=window.AudioContext||window.webkitAudioContext;let z=Boolean(ee);function Se(){try{return new ee}catch{return null}}function he(){return z}function Ge(pn){if(!!ee){if(Ie.audioContext||(Ie.audioContext=Se()),!Ie.audioContext||!Ie.audioContext.resume){z=!1,pn();return}Ie.audioContext.resume().then(()=>{z=!1,pn()})}}var de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof j.g<"u"?j.g:typeof self<"u"?self:{};function k(pn){var qe={exports:{}};return pn(qe,qe.exports),qe.exports}/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var at=k(function(pn,qe){(function(){var Vt=function(){this.init()};Vt.prototype={init:function(){var m=this||O;return m._counter=1e3,m._html5AudioPool=[],m.html5PoolSize=10,m._codecs={},m._howls=[],m._muted=!1,m._volume=1,m._canPlayEvent="canplaythrough",m._navigator=typeof window<"u"&&window.navigator?window.navigator:null,m.masterGain=null,m.noAudio=!1,m.usingWebAudio=!0,m.autoSuspend=!0,m.ctx=null,m.autoUnlock=!0,m._setup(),m},volume:function(m){var I=this||O;if(m=parseFloat(m),I.ctx||en(),typeof m<"u"&&m>=0&&m<=1){if(I._volume=m,I._muted)return I;I.usingWebAudio&&I.masterGain.gain.setValueAtTime(m,O.ctx.currentTime);for(var W=0;W<I._howls.length;W++)if(!I._howls[W]._webAudio)for(var ue=I._howls[W]._getSoundIds(),Ue=0;Ue<ue.length;Ue++){var nt=I._howls[W]._soundById(ue[Ue]);nt&&nt._node&&(nt._node.volume=nt._volume*m)}return I}return I._volume},mute:function(m){var I=this||O;I.ctx||en(),I._muted=m,I.usingWebAudio&&I.masterGain.gain.setValueAtTime(m?0:I._volume,O.ctx.currentTime);for(var W=0;W<I._howls.length;W++)if(!I._howls[W]._webAudio)for(var ue=I._howls[W]._getSoundIds(),Ue=0;Ue<ue.length;Ue++){var nt=I._howls[W]._soundById(ue[Ue]);nt&&nt._node&&(nt._node.muted=m?!0:nt._muted)}return I},stop:function(){for(var m=this||O,I=0;I<m._howls.length;I++)m._howls[I].stop();return m},unload:function(){for(var m=this||O,I=m._howls.length-1;I>=0;I--)m._howls[I].unload();return m.usingWebAudio&&m.ctx&&typeof m.ctx.close<"u"&&(m.ctx.close(),m.ctx=null,en()),m},codecs:function(m){return(this||O)._codecs[m.replace(/^x-/,"")]},_setup:function(){var m=this||O;if(m.state=m.ctx&&m.ctx.state||"suspended",m._autoSuspend(),!m.usingWebAudio)if(typeof Audio<"u")try{var I=new Audio;typeof I.oncanplaythrough>"u"&&(m._canPlayEvent="canplay")}catch{m.noAudio=!0}else m.noAudio=!0;try{var I=new Audio;I.muted&&(m.noAudio=!0)}catch{}return m.noAudio||m._setupCodecs(),m},_setupCodecs:function(){var m=this||O,I=null;try{I=typeof Audio<"u"?new Audio:null}catch{return m}if(!I||typeof I.canPlayType!="function")return m;var W=I.canPlayType("audio/mpeg;").replace(/^no$/,""),ue=m._navigator?m._navigator.userAgent:"",Ue=ue.match(/OPR\/([0-6].)/g),nt=Ue&&parseInt(Ue[0].split("/")[1],10)<33,re=ue.indexOf("Safari")!==-1&&ue.indexOf("Chrome")===-1,_e=ue.match(/Version\/(.*?) /),E=re&&_e&&parseInt(_e[1],10)<15;return m._codecs={mp3:!!(!nt&&(W||I.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!W,opus:!!I.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!I.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!I.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(I.canPlayType('audio/wav; codecs="1"')||I.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!I.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!I.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(I.canPlayType("audio/x-m4a;")||I.canPlayType("audio/m4a;")||I.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(I.canPlayType("audio/x-m4b;")||I.canPlayType("audio/m4b;")||I.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(I.canPlayType("audio/x-mp4;")||I.canPlayType("audio/mp4;")||I.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!E&&I.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!E&&I.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!I.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(I.canPlayType("audio/x-flac;")||I.canPlayType("audio/flac;")).replace(/^no$/,"")},m},_unlockAudio:function(){var m=this||O;if(!(m._audioUnlocked||!m.ctx)){m._audioUnlocked=!1,m.autoUnlock=!1,!m._mobileUnloaded&&m.ctx.sampleRate!==44100&&(m._mobileUnloaded=!0,m.unload()),m._scratchBuffer=m.ctx.createBuffer(1,1,22050);var I=function(W){for(;m._html5AudioPool.length<m.html5PoolSize;)try{var ue=new Audio;ue._unlocked=!0,m._releaseHtml5Audio(ue)}catch{m.noAudio=!0;break}for(var Ue=0;Ue<m._howls.length;Ue++)if(!m._howls[Ue]._webAudio)for(var nt=m._howls[Ue]._getSoundIds(),re=0;re<nt.length;re++){var _e=m._howls[Ue]._soundById(nt[re]);_e&&_e._node&&!_e._node._unlocked&&(_e._node._unlocked=!0,_e._node.load())}m._autoResume();var E=m.ctx.createBufferSource();E.buffer=m._scratchBuffer,E.connect(m.ctx.destination),typeof E.start>"u"?E.noteOn(0):E.start(0),typeof m.ctx.resume=="function"&&m.ctx.resume(),E.onended=function(){E.disconnect(0),m._audioUnlocked=!0,document.removeEventListener("touchstart",I,!0),document.removeEventListener("touchend",I,!0),document.removeEventListener("click",I,!0),document.removeEventListener("keydown",I,!0);for(var K=0;K<m._howls.length;K++)m._howls[K]._emit("unlock")}};return document.addEventListener("touchstart",I,!0),document.addEventListener("touchend",I,!0),document.addEventListener("click",I,!0),document.addEventListener("keydown",I,!0),m}},_obtainHtml5Audio:function(){var m=this||O;if(m._html5AudioPool.length)return m._html5AudioPool.pop();var I=new Audio().play();return I&&typeof Promise<"u"&&(I instanceof Promise||typeof I.then=="function")&&I.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(m){var I=this||O;return m._unlocked&&I._html5AudioPool.push(m),I},_autoSuspend:function(){var m=this;if(!(!m.autoSuspend||!m.ctx||typeof m.ctx.suspend>"u"||!O.usingWebAudio)){for(var I=0;I<m._howls.length;I++)if(m._howls[I]._webAudio){for(var W=0;W<m._howls[I]._sounds.length;W++)if(!m._howls[I]._sounds[W]._paused)return m}return m._suspendTimer&&clearTimeout(m._suspendTimer),m._suspendTimer=setTimeout(function(){if(!!m.autoSuspend){m._suspendTimer=null,m.state="suspending";var ue=function(){m.state="suspended",m._resumeAfterSuspend&&(delete m._resumeAfterSuspend,m._autoResume())};m.ctx.suspend().then(ue,ue)}},3e4),m}},_autoResume:function(){var m=this;if(!(!m.ctx||typeof m.ctx.resume>"u"||!O.usingWebAudio))return m.state==="running"&&m.ctx.state!=="interrupted"&&m._suspendTimer?(clearTimeout(m._suspendTimer),m._suspendTimer=null):m.state==="suspended"||m.state==="running"&&m.ctx.state==="interrupted"?(m.ctx.resume().then(function(){m.state="running";for(var I=0;I<m._howls.length;I++)m._howls[I]._emit("resume")}),m._suspendTimer&&(clearTimeout(m._suspendTimer),m._suspendTimer=null)):m.state==="suspending"&&(m._resumeAfterSuspend=!0),m}};var O=new Vt,le=function(m){var I=this;if(!m.src||m.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}I.init(m)};le.prototype={init:function(m){var I=this;return O.ctx||en(),I._autoplay=m.autoplay||!1,I._format=typeof m.format!="string"?m.format:[m.format],I._html5=m.html5||!1,I._muted=m.mute||!1,I._loop=m.loop||!1,I._pool=m.pool||5,I._preload=typeof m.preload=="boolean"||m.preload==="metadata"?m.preload:!0,I._rate=m.rate||1,I._sprite=m.sprite||{},I._src=typeof m.src!="string"?m.src:[m.src],I._volume=m.volume!==void 0?m.volume:1,I._xhr={method:m.xhr&&m.xhr.method?m.xhr.method:"GET",headers:m.xhr&&m.xhr.headers?m.xhr.headers:null,withCredentials:m.xhr&&m.xhr.withCredentials?m.xhr.withCredentials:!1},I._duration=0,I._state="unloaded",I._sounds=[],I._endTimers={},I._queue=[],I._playLock=!1,I._onend=m.onend?[{fn:m.onend}]:[],I._onfade=m.onfade?[{fn:m.onfade}]:[],I._onload=m.onload?[{fn:m.onload}]:[],I._onloaderror=m.onloaderror?[{fn:m.onloaderror}]:[],I._onplayerror=m.onplayerror?[{fn:m.onplayerror}]:[],I._onpause=m.onpause?[{fn:m.onpause}]:[],I._onplay=m.onplay?[{fn:m.onplay}]:[],I._onstop=m.onstop?[{fn:m.onstop}]:[],I._onmute=m.onmute?[{fn:m.onmute}]:[],I._onvolume=m.onvolume?[{fn:m.onvolume}]:[],I._onrate=m.onrate?[{fn:m.onrate}]:[],I._onseek=m.onseek?[{fn:m.onseek}]:[],I._onunlock=m.onunlock?[{fn:m.onunlock}]:[],I._onresume=[],I._webAudio=O.usingWebAudio&&!I._html5,typeof O.ctx<"u"&&O.ctx&&O.autoUnlock&&O._unlockAudio(),O._howls.push(I),I._autoplay&&I._queue.push({event:"play",action:function(){I.play()}}),I._preload&&I._preload!=="none"&&I.load(),I},load:function(){var m=this,I=null;if(O.noAudio){m._emit("loaderror",null,"No audio support.");return}typeof m._src=="string"&&(m._src=[m._src]);for(var W=0;W<m._src.length;W++){var ue,Ue;if(m._format&&m._format[W])ue=m._format[W];else{if(Ue=m._src[W],typeof Ue!="string"){m._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}ue=/^data:audio\/([^;,]+);/i.exec(Ue),ue||(ue=/\.([^.]+)$/.exec(Ue.split("?",1)[0])),ue&&(ue=ue[1].toLowerCase())}if(ue||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),ue&&O.codecs(ue)){I=m._src[W];break}}if(!I){m._emit("loaderror",null,"No codec support for selected audio sources.");return}return m._src=I,m._state="loading",window.location.protocol==="https:"&&I.slice(0,5)==="http:"&&(m._html5=!0,m._webAudio=!1),new V(m),m._webAudio&&wt(m),m},play:function(m,I){var W=this,ue=null;if(typeof m=="number")ue=m,m=null;else{if(typeof m=="string"&&W._state==="loaded"&&!W._sprite[m])return null;if(typeof m>"u"&&(m="__default",!W._playLock)){for(var Ue=0,nt=0;nt<W._sounds.length;nt++)W._sounds[nt]._paused&&!W._sounds[nt]._ended&&(Ue++,ue=W._sounds[nt]._id);Ue===1?m=null:ue=null}}var re=ue?W._soundById(ue):W._inactiveSound();if(!re)return null;if(ue&&!m&&(m=re._sprite||"__default"),W._state!=="loaded"){re._sprite=m,re._ended=!1;var _e=re._id;return W._queue.push({event:"play",action:function(){W.play(_e)}}),_e}if(ue&&!re._paused)return I||W._loadQueue("play"),re._id;W._webAudio&&O._autoResume();var E=Math.max(0,re._seek>0?re._seek:W._sprite[m][0]/1e3),K=Math.max(0,(W._sprite[m][0]+W._sprite[m][1])/1e3-E),me=K*1e3/Math.abs(re._rate),je=W._sprite[m][0]/1e3,ve=(W._sprite[m][0]+W._sprite[m][1])/1e3;re._sprite=m,re._ended=!1;var ct=function(){re._paused=!1,re._seek=E,re._start=je,re._stop=ve,re._loop=!!(re._loop||W._sprite[m][2])};if(E>=ve){W._ended(re);return}var Dt=re._node;if(W._webAudio){var te=function(){W._playLock=!1,ct(),W._refreshBuffer(re);var P=re._muted||W._muted?0:re._volume;Dt.gain.setValueAtTime(P,O.ctx.currentTime),re._playStart=O.ctx.currentTime,typeof Dt.bufferSource.start>"u"?re._loop?Dt.bufferSource.noteGrainOn(0,E,86400):Dt.bufferSource.noteGrainOn(0,E,K):re._loop?Dt.bufferSource.start(0,E,86400):Dt.bufferSource.start(0,E,K),me!==1/0&&(W._endTimers[re._id]=setTimeout(W._ended.bind(W,re),me)),I||setTimeout(function(){W._emit("play",re._id),W._loadQueue()},0)};O.state==="running"&&O.ctx.state!=="interrupted"?te():(W._playLock=!0,W.once("resume",te),W._clearTimer(re._id))}else{var xe=function(){Dt.currentTime=E,Dt.muted=re._muted||W._muted||O._muted||Dt.muted,Dt.volume=re._volume*O.volume(),Dt.playbackRate=re._rate;try{var P=Dt.play();if(P&&typeof Promise<"u"&&(P instanceof Promise||typeof P.then=="function")?(W._playLock=!0,ct(),P.then(function(){W._playLock=!1,Dt._unlocked=!0,I?W._loadQueue():W._emit("play",re._id)}).catch(function(){W._playLock=!1,W._emit("playerror",re._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),re._ended=!0,re._paused=!0})):I||(W._playLock=!1,ct(),W._emit("play",re._id)),Dt.playbackRate=re._rate,Dt.paused){W._emit("playerror",re._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}m!=="__default"||re._loop?W._endTimers[re._id]=setTimeout(W._ended.bind(W,re),me):(W._endTimers[re._id]=function(){W._ended(re),Dt.removeEventListener("ended",W._endTimers[re._id],!1)},Dt.addEventListener("ended",W._endTimers[re._id],!1))}catch(H){W._emit("playerror",re._id,H)}};Dt.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(Dt.src=W._src,Dt.load());var N=window&&window.ejecta||!Dt.readyState&&O._navigator.isCocoonJS;if(Dt.readyState>=3||N)xe();else{W._playLock=!0,W._state="loading";var B=function(){W._state="loaded",xe(),Dt.removeEventListener(O._canPlayEvent,B,!1)};Dt.addEventListener(O._canPlayEvent,B,!1),W._clearTimer(re._id)}}return re._id},pause:function(m){var I=this;if(I._state!=="loaded"||I._playLock)return I._queue.push({event:"pause",action:function(){I.pause(m)}}),I;for(var W=I._getSoundIds(m),ue=0;ue<W.length;ue++){I._clearTimer(W[ue]);var Ue=I._soundById(W[ue]);if(Ue&&!Ue._paused&&(Ue._seek=I.seek(W[ue]),Ue._rateSeek=0,Ue._paused=!0,I._stopFade(W[ue]),Ue._node))if(I._webAudio){if(!Ue._node.bufferSource)continue;typeof Ue._node.bufferSource.stop>"u"?Ue._node.bufferSource.noteOff(0):Ue._node.bufferSource.stop(0),I._cleanBuffer(Ue._node)}else(!isNaN(Ue._node.duration)||Ue._node.duration===1/0)&&Ue._node.pause();arguments[1]||I._emit("pause",Ue?Ue._id:null)}return I},stop:function(m,I){var W=this;if(W._state!=="loaded"||W._playLock)return W._queue.push({event:"stop",action:function(){W.stop(m)}}),W;for(var ue=W._getSoundIds(m),Ue=0;Ue<ue.length;Ue++){W._clearTimer(ue[Ue]);var nt=W._soundById(ue[Ue]);nt&&(nt._seek=nt._start||0,nt._rateSeek=0,nt._paused=!0,nt._ended=!0,W._stopFade(ue[Ue]),nt._node&&(W._webAudio?nt._node.bufferSource&&(typeof nt._node.bufferSource.stop>"u"?nt._node.bufferSource.noteOff(0):nt._node.bufferSource.stop(0),W._cleanBuffer(nt._node)):(!isNaN(nt._node.duration)||nt._node.duration===1/0)&&(nt._node.currentTime=nt._start||0,nt._node.pause(),nt._node.duration===1/0&&W._clearSound(nt._node))),I||W._emit("stop",nt._id))}return W},mute:function(m,I){var W=this;if(W._state!=="loaded"||W._playLock)return W._queue.push({event:"mute",action:function(){W.mute(m,I)}}),W;if(typeof I>"u")if(typeof m=="boolean")W._muted=m;else return W._muted;for(var ue=W._getSoundIds(I),Ue=0;Ue<ue.length;Ue++){var nt=W._soundById(ue[Ue]);nt&&(nt._muted=m,nt._interval&&W._stopFade(nt._id),W._webAudio&&nt._node?nt._node.gain.setValueAtTime(m?0:nt._volume,O.ctx.currentTime):nt._node&&(nt._node.muted=O._muted?!0:m),W._emit("mute",nt._id))}return W},volume:function(){var m=this,I=arguments,W,ue;if(I.length===0)return m._volume;if(I.length===1||I.length===2&&typeof I[1]>"u"){var Ue=m._getSoundIds(),nt=Ue.indexOf(I[0]);nt>=0?ue=parseInt(I[0],10):W=parseFloat(I[0])}else I.length>=2&&(W=parseFloat(I[0]),ue=parseInt(I[1],10));var re;if(typeof W<"u"&&W>=0&&W<=1){if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"volume",action:function(){m.volume.apply(m,I)}}),m;typeof ue>"u"&&(m._volume=W),ue=m._getSoundIds(ue);for(var _e=0;_e<ue.length;_e++)re=m._soundById(ue[_e]),re&&(re._volume=W,I[2]||m._stopFade(ue[_e]),m._webAudio&&re._node&&!re._muted?re._node.gain.setValueAtTime(W,O.ctx.currentTime):re._node&&!re._muted&&(re._node.volume=W*O.volume()),m._emit("volume",re._id))}else return re=ue?m._soundById(ue):m._sounds[0],re?re._volume:0;return m},fade:function(m,I,W,ue){var Ue=this;if(Ue._state!=="loaded"||Ue._playLock)return Ue._queue.push({event:"fade",action:function(){Ue.fade(m,I,W,ue)}}),Ue;m=Math.min(Math.max(0,parseFloat(m)),1),I=Math.min(Math.max(0,parseFloat(I)),1),W=parseFloat(W),Ue.volume(m,ue);for(var nt=Ue._getSoundIds(ue),re=0;re<nt.length;re++){var _e=Ue._soundById(nt[re]);if(_e){if(ue||Ue._stopFade(nt[re]),Ue._webAudio&&!_e._muted){var E=O.ctx.currentTime,K=E+W/1e3;_e._volume=m,_e._node.gain.setValueAtTime(m,E),_e._node.gain.linearRampToValueAtTime(I,K)}Ue._startFadeInterval(_e,m,I,W,nt[re],typeof ue>"u")}}return Ue},_startFadeInterval:function(m,I,W,ue,Ue,nt){var re=this,_e=I,E=W-I,K=Math.abs(E/.01),me=Math.max(4,K>0?ue/K:ue),je=Date.now();m._fadeTo=W,m._interval=setInterval(function(){var ve=(Date.now()-je)/ue;je=Date.now(),_e+=E*ve,_e=Math.round(_e*100)/100,E<0?_e=Math.max(W,_e):_e=Math.min(W,_e),re._webAudio?m._volume=_e:re.volume(_e,m._id,!0),nt&&(re._volume=_e),(W<I&&_e<=W||W>I&&_e>=W)&&(clearInterval(m._interval),m._interval=null,m._fadeTo=null,re.volume(W,m._id),re._emit("fade",m._id))},me)},_stopFade:function(m){var I=this,W=I._soundById(m);return W&&W._interval&&(I._webAudio&&W._node.gain.cancelScheduledValues(O.ctx.currentTime),clearInterval(W._interval),W._interval=null,I.volume(W._fadeTo,m),W._fadeTo=null,I._emit("fade",m)),I},loop:function(){var m=this,I=arguments,W,ue,Ue;if(I.length===0)return m._loop;if(I.length===1)if(typeof I[0]=="boolean")W=I[0],m._loop=W;else return Ue=m._soundById(parseInt(I[0],10)),Ue?Ue._loop:!1;else I.length===2&&(W=I[0],ue=parseInt(I[1],10));for(var nt=m._getSoundIds(ue),re=0;re<nt.length;re++)Ue=m._soundById(nt[re]),Ue&&(Ue._loop=W,m._webAudio&&Ue._node&&Ue._node.bufferSource&&(Ue._node.bufferSource.loop=W,W&&(Ue._node.bufferSource.loopStart=Ue._start||0,Ue._node.bufferSource.loopEnd=Ue._stop,m.playing(nt[re])&&(m.pause(nt[re],!0),m.play(nt[re],!0)))));return m},rate:function(){var m=this,I=arguments,W,ue;if(I.length===0)ue=m._sounds[0]._id;else if(I.length===1){var Ue=m._getSoundIds(),nt=Ue.indexOf(I[0]);nt>=0?ue=parseInt(I[0],10):W=parseFloat(I[0])}else I.length===2&&(W=parseFloat(I[0]),ue=parseInt(I[1],10));var re;if(typeof W=="number"){if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"rate",action:function(){m.rate.apply(m,I)}}),m;typeof ue>"u"&&(m._rate=W),ue=m._getSoundIds(ue);for(var _e=0;_e<ue.length;_e++)if(re=m._soundById(ue[_e]),re){m.playing(ue[_e])&&(re._rateSeek=m.seek(ue[_e]),re._playStart=m._webAudio?O.ctx.currentTime:re._playStart),re._rate=W,m._webAudio&&re._node&&re._node.bufferSource?re._node.bufferSource.playbackRate.setValueAtTime(W,O.ctx.currentTime):re._node&&(re._node.playbackRate=W);var E=m.seek(ue[_e]),K=(m._sprite[re._sprite][0]+m._sprite[re._sprite][1])/1e3-E,me=K*1e3/Math.abs(re._rate);(m._endTimers[ue[_e]]||!re._paused)&&(m._clearTimer(ue[_e]),m._endTimers[ue[_e]]=setTimeout(m._ended.bind(m,re),me)),m._emit("rate",re._id)}}else return re=m._soundById(ue),re?re._rate:m._rate;return m},seek:function(){var m=this,I=arguments,W,ue;if(I.length===0)m._sounds.length&&(ue=m._sounds[0]._id);else if(I.length===1){var Ue=m._getSoundIds(),nt=Ue.indexOf(I[0]);nt>=0?ue=parseInt(I[0],10):m._sounds.length&&(ue=m._sounds[0]._id,W=parseFloat(I[0]))}else I.length===2&&(W=parseFloat(I[0]),ue=parseInt(I[1],10));if(typeof ue>"u")return 0;if(typeof W=="number"&&(m._state!=="loaded"||m._playLock))return m._queue.push({event:"seek",action:function(){m.seek.apply(m,I)}}),m;var re=m._soundById(ue);if(re)if(typeof W=="number"&&W>=0){var _e=m.playing(ue);_e&&m.pause(ue,!0),re._seek=W,re._ended=!1,m._clearTimer(ue),!m._webAudio&&re._node&&!isNaN(re._node.duration)&&(re._node.currentTime=W);var E=function(){_e&&m.play(ue,!0),m._emit("seek",ue)};if(_e&&!m._webAudio){var K=function(){m._playLock?setTimeout(K,0):E()};setTimeout(K,0)}else E()}else if(m._webAudio){var me=m.playing(ue)?O.ctx.currentTime-re._playStart:0,je=re._rateSeek?re._rateSeek-re._seek:0;return re._seek+(je+me*Math.abs(re._rate))}else return re._node.currentTime;return m},playing:function(m){var I=this;if(typeof m=="number"){var W=I._soundById(m);return W?!W._paused:!1}for(var ue=0;ue<I._sounds.length;ue++)if(!I._sounds[ue]._paused)return!0;return!1},duration:function(m){var I=this,W=I._duration,ue=I._soundById(m);return ue&&(W=I._sprite[ue._sprite][1]/1e3),W},state:function(){return this._state},unload:function(){for(var m=this,I=m._sounds,W=0;W<I.length;W++)I[W]._paused||m.stop(I[W]._id),m._webAudio||(m._clearSound(I[W]._node),I[W]._node.removeEventListener("error",I[W]._errorFn,!1),I[W]._node.removeEventListener(O._canPlayEvent,I[W]._loadFn,!1),I[W]._node.removeEventListener("ended",I[W]._endFn,!1),O._releaseHtml5Audio(I[W]._node)),delete I[W]._node,m._clearTimer(I[W]._id);var ue=O._howls.indexOf(m);ue>=0&&O._howls.splice(ue,1);var Ue=!0;for(W=0;W<O._howls.length;W++)if(O._howls[W]._src===m._src||m._src.indexOf(O._howls[W]._src)>=0){Ue=!1;break}return lt&&Ue&&delete lt[m._src],O.noAudio=!1,m._state="unloaded",m._sounds=[],m=null,null},on:function(m,I,W,ue){var Ue=this,nt=Ue["_on"+m];return typeof I=="function"&&nt.push(ue?{id:W,fn:I,once:ue}:{id:W,fn:I}),Ue},off:function(m,I,W){var ue=this,Ue=ue["_on"+m],nt=0;if(typeof I=="number"&&(W=I,I=null),I||W)for(nt=0;nt<Ue.length;nt++){var re=W===Ue[nt].id;if(I===Ue[nt].fn&&re||!I&&re){Ue.splice(nt,1);break}}else if(m)ue["_on"+m]=[];else{var _e=Object.keys(ue);for(nt=0;nt<_e.length;nt++)_e[nt].indexOf("_on")===0&&Array.isArray(ue[_e[nt]])&&(ue[_e[nt]]=[])}return ue},once:function(m,I,W){var ue=this;return ue.on(m,I,W,1),ue},_emit:function(m,I,W){for(var ue=this,Ue=ue["_on"+m],nt=Ue.length-1;nt>=0;nt--)(!Ue[nt].id||Ue[nt].id===I||m==="load")&&(setTimeout(function(re){re.call(this,I,W)}.bind(ue,Ue[nt].fn),0),Ue[nt].once&&ue.off(m,Ue[nt].fn,Ue[nt].id));return ue._loadQueue(m),ue},_loadQueue:function(m){var I=this;if(I._queue.length>0){var W=I._queue[0];W.event===m&&(I._queue.shift(),I._loadQueue()),m||W.action()}return I},_ended:function(m){var I=this,W=m._sprite;if(!I._webAudio&&m._node&&!m._node.paused&&!m._node.ended&&m._node.currentTime<m._stop)return setTimeout(I._ended.bind(I,m),100),I;var ue=!!(m._loop||I._sprite[W][2]);if(I._emit("end",m._id),!I._webAudio&&ue&&I.stop(m._id,!0).play(m._id),I._webAudio&&ue){I._emit("play",m._id),m._seek=m._start||0,m._rateSeek=0,m._playStart=O.ctx.currentTime;var Ue=(m._stop-m._start)*1e3/Math.abs(m._rate);I._endTimers[m._id]=setTimeout(I._ended.bind(I,m),Ue)}return I._webAudio&&!ue&&(m._paused=!0,m._ended=!0,m._seek=m._start||0,m._rateSeek=0,I._clearTimer(m._id),I._cleanBuffer(m._node),O._autoSuspend()),!I._webAudio&&!ue&&I.stop(m._id,!0),I},_clearTimer:function(m){var I=this;if(I._endTimers[m]){if(typeof I._endTimers[m]!="function")clearTimeout(I._endTimers[m]);else{var W=I._soundById(m);W&&W._node&&W._node.removeEventListener("ended",I._endTimers[m],!1)}delete I._endTimers[m]}return I},_soundById:function(m){for(var I=this,W=0;W<I._sounds.length;W++)if(m===I._sounds[W]._id)return I._sounds[W];return null},_inactiveSound:function(){var m=this;m._drain();for(var I=0;I<m._sounds.length;I++)if(m._sounds[I]._ended)return m._sounds[I].reset();return new V(m)},_drain:function(){var m=this,I=m._pool,W=0,ue=0;if(!(m._sounds.length<I)){for(ue=0;ue<m._sounds.length;ue++)m._sounds[ue]._ended&&W++;for(ue=m._sounds.length-1;ue>=0;ue--){if(W<=I)return;m._sounds[ue]._ended&&(m._webAudio&&m._sounds[ue]._node&&m._sounds[ue]._node.disconnect(0),m._sounds.splice(ue,1),W--)}}},_getSoundIds:function(m){var I=this;if(typeof m>"u"){for(var W=[],ue=0;ue<I._sounds.length;ue++)W.push(I._sounds[ue]._id);return W}else return[m]},_refreshBuffer:function(m){var I=this;return m._node.bufferSource=O.ctx.createBufferSource(),m._node.bufferSource.buffer=lt[I._src],m._panner?m._node.bufferSource.connect(m._panner):m._node.bufferSource.connect(m._node),m._node.bufferSource.loop=m._loop,m._loop&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop||0),m._node.bufferSource.playbackRate.setValueAtTime(m._rate,O.ctx.currentTime),I},_cleanBuffer:function(m){var I=this,W=O._navigator&&O._navigator.vendor.indexOf("Apple")>=0;if(O._scratchBuffer&&m.bufferSource&&(m.bufferSource.onended=null,m.bufferSource.disconnect(0),W))try{m.bufferSource.buffer=O._scratchBuffer}catch{}return m.bufferSource=null,I},_clearSound:function(m){var I=/MSIE |Trident\//.test(O._navigator&&O._navigator.userAgent);I||(m.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var V=function(m){this._parent=m,this.init()};V.prototype={init:function(){var m=this,I=m._parent;return m._muted=I._muted,m._loop=I._loop,m._volume=I._volume,m._rate=I._rate,m._seek=0,m._paused=!0,m._ended=!0,m._sprite="__default",m._id=++O._counter,I._sounds.push(m),m.create(),m},create:function(){var m=this,I=m._parent,W=O._muted||m._muted||m._parent._muted?0:m._volume;return I._webAudio?(m._node=typeof O.ctx.createGain>"u"?O.ctx.createGainNode():O.ctx.createGain(),m._node.gain.setValueAtTime(W,O.ctx.currentTime),m._node.paused=!0,m._node.connect(O.masterGain)):O.noAudio||(m._node=O._obtainHtml5Audio(),m._errorFn=m._errorListener.bind(m),m._node.addEventListener("error",m._errorFn,!1),m._loadFn=m._loadListener.bind(m),m._node.addEventListener(O._canPlayEvent,m._loadFn,!1),m._endFn=m._endListener.bind(m),m._node.addEventListener("ended",m._endFn,!1),m._node.src=I._src,m._node.preload=I._preload===!0?"auto":I._preload,m._node.volume=W*O.volume(),m._node.load()),m},reset:function(){var m=this,I=m._parent;return m._muted=I._muted,m._loop=I._loop,m._volume=I._volume,m._rate=I._rate,m._seek=0,m._rateSeek=0,m._paused=!0,m._ended=!0,m._sprite="__default",m._id=++O._counter,m},_errorListener:function(){var m=this;m._parent._emit("loaderror",m._id,m._node.error?m._node.error.code:0),m._node.removeEventListener("error",m._errorFn,!1)},_loadListener:function(){var m=this,I=m._parent;I._duration=Math.ceil(m._node.duration*10)/10,Object.keys(I._sprite).length===0&&(I._sprite={__default:[0,I._duration*1e3]}),I._state!=="loaded"&&(I._state="loaded",I._emit("load"),I._loadQueue()),m._node.removeEventListener(O._canPlayEvent,m._loadFn,!1)},_endListener:function(){var m=this,I=m._parent;I._duration===1/0&&(I._duration=Math.ceil(m._node.duration*10)/10,I._sprite.__default[1]===1/0&&(I._sprite.__default[1]=I._duration*1e3),I._ended(m)),m._node.removeEventListener("ended",m._endFn,!1)}};var lt={},wt=function(m){var I=m._src;if(lt[I]){m._duration=lt[I].duration,Ft(m);return}if(/^data:[^;]+;base64,/.test(I)){for(var W=atob(I.split(",")[1]),ue=new Uint8Array(W.length),Ue=0;Ue<W.length;++Ue)ue[Ue]=W.charCodeAt(Ue);qt(ue.buffer,m)}else{var nt=new XMLHttpRequest;nt.open(m._xhr.method,I,!0),nt.withCredentials=m._xhr.withCredentials,nt.responseType="arraybuffer",m._xhr.headers&&Object.keys(m._xhr.headers).forEach(function(re){nt.setRequestHeader(re,m._xhr.headers[re])}),nt.onload=function(){var re=(nt.status+"")[0];if(re!=="0"&&re!=="2"&&re!=="3"){m._emit("loaderror",null,"Failed loading audio file with status: "+nt.status+".");return}qt(nt.response,m)},nt.onerror=function(){m._webAudio&&(m._html5=!0,m._webAudio=!1,m._sounds=[],delete lt[I],m.load())},In(nt)}},In=function(m){try{m.send()}catch{m.onerror()}},qt=function(m,I){var W=function(){I._emit("loaderror",null,"Decoding audio data failed.")},ue=function(Ue){Ue&&I._sounds.length>0?(lt[I._src]=Ue,Ft(I,Ue)):W()};typeof Promise<"u"&&O.ctx.decodeAudioData.length===1?O.ctx.decodeAudioData(m).then(ue).catch(W):O.ctx.decodeAudioData(m,ue,W)},Ft=function(m,I){I&&!m._duration&&(m._duration=I.duration),Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue())},en=function(){if(!!O.usingWebAudio){try{typeof AudioContext<"u"?O.ctx=new AudioContext:typeof webkitAudioContext<"u"?O.ctx=new webkitAudioContext:O.usingWebAudio=!1}catch{O.usingWebAudio=!1}O.ctx||(O.usingWebAudio=!1);var m=/iP(hone|od|ad)/.test(O._navigator&&O._navigator.platform),I=O._navigator&&O._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),W=I?parseInt(I[1],10):null;if(m&&W&&W<9){var ue=/safari/.test(O._navigator&&O._navigator.userAgent.toLowerCase());O._navigator&&!ue&&(O.usingWebAudio=!1)}O.usingWebAudio&&(O.masterGain=typeof O.ctx.createGain>"u"?O.ctx.createGainNode():O.ctx.createGain(),O.masterGain.gain.setValueAtTime(O._muted?0:O._volume,O.ctx.currentTime),O.masterGain.connect(O.ctx.destination)),O._setup()}};qe.Howler=O,qe.Howl=le,typeof de<"u"?(de.HowlerGlobal=Vt,de.Howler=O,de.Howl=le,de.Sound=V):typeof window<"u"&&(window.HowlerGlobal=Vt,window.Howler=O,window.Howl=le,window.Sound=V)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(O){var le=this;if(!le.ctx||!le.ctx.listener)return le;for(var V=le._howls.length-1;V>=0;V--)le._howls[V].stereo(O);return le},HowlerGlobal.prototype.pos=function(O,le,V){var lt=this;if(!lt.ctx||!lt.ctx.listener)return lt;if(le=typeof le!="number"?lt._pos[1]:le,V=typeof V!="number"?lt._pos[2]:V,typeof O=="number")lt._pos=[O,le,V],typeof lt.ctx.listener.positionX<"u"?(lt.ctx.listener.positionX.setTargetAtTime(lt._pos[0],Howler.ctx.currentTime,.1),lt.ctx.listener.positionY.setTargetAtTime(lt._pos[1],Howler.ctx.currentTime,.1),lt.ctx.listener.positionZ.setTargetAtTime(lt._pos[2],Howler.ctx.currentTime,.1)):lt.ctx.listener.setPosition(lt._pos[0],lt._pos[1],lt._pos[2]);else return lt._pos;return lt},HowlerGlobal.prototype.orientation=function(O,le,V,lt,wt,In){var qt=this;if(!qt.ctx||!qt.ctx.listener)return qt;var Ft=qt._orientation;if(le=typeof le!="number"?Ft[1]:le,V=typeof V!="number"?Ft[2]:V,lt=typeof lt!="number"?Ft[3]:lt,wt=typeof wt!="number"?Ft[4]:wt,In=typeof In!="number"?Ft[5]:In,typeof O=="number")qt._orientation=[O,le,V,lt,wt,In],typeof qt.ctx.listener.forwardX<"u"?(qt.ctx.listener.forwardX.setTargetAtTime(O,Howler.ctx.currentTime,.1),qt.ctx.listener.forwardY.setTargetAtTime(le,Howler.ctx.currentTime,.1),qt.ctx.listener.forwardZ.setTargetAtTime(V,Howler.ctx.currentTime,.1),qt.ctx.listener.upX.setTargetAtTime(lt,Howler.ctx.currentTime,.1),qt.ctx.listener.upY.setTargetAtTime(wt,Howler.ctx.currentTime,.1),qt.ctx.listener.upZ.setTargetAtTime(In,Howler.ctx.currentTime,.1)):qt.ctx.listener.setOrientation(O,le,V,lt,wt,In);else return Ft;return qt},Howl.prototype.init=function(O){return function(le){var V=this;return V._orientation=le.orientation||[1,0,0],V._stereo=le.stereo||null,V._pos=le.pos||null,V._pannerAttr={coneInnerAngle:typeof le.coneInnerAngle<"u"?le.coneInnerAngle:360,coneOuterAngle:typeof le.coneOuterAngle<"u"?le.coneOuterAngle:360,coneOuterGain:typeof le.coneOuterGain<"u"?le.coneOuterGain:0,distanceModel:typeof le.distanceModel<"u"?le.distanceModel:"inverse",maxDistance:typeof le.maxDistance<"u"?le.maxDistance:1e4,panningModel:typeof le.panningModel<"u"?le.panningModel:"HRTF",refDistance:typeof le.refDistance<"u"?le.refDistance:1,rolloffFactor:typeof le.rolloffFactor<"u"?le.rolloffFactor:1},V._onstereo=le.onstereo?[{fn:le.onstereo}]:[],V._onpos=le.onpos?[{fn:le.onpos}]:[],V._onorientation=le.onorientation?[{fn:le.onorientation}]:[],O.call(this,le)}}(Howl.prototype.init),Howl.prototype.stereo=function(O,le){var V=this;if(!V._webAudio)return V;if(V._state!=="loaded")return V._queue.push({event:"stereo",action:function(){V.stereo(O,le)}}),V;var lt=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof le>"u")if(typeof O=="number")V._stereo=O,V._pos=[O,0,0];else return V._stereo;for(var wt=V._getSoundIds(le),In=0;In<wt.length;In++){var qt=V._soundById(wt[In]);if(qt)if(typeof O=="number")qt._stereo=O,qt._pos=[O,0,0],qt._node&&(qt._pannerAttr.panningModel="equalpower",(!qt._panner||!qt._panner.pan)&&Vt(qt,lt),lt==="spatial"?typeof qt._panner.positionX<"u"?(qt._panner.positionX.setValueAtTime(O,Howler.ctx.currentTime),qt._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),qt._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):qt._panner.setPosition(O,0,0):qt._panner.pan.setValueAtTime(O,Howler.ctx.currentTime)),V._emit("stereo",qt._id);else return qt._stereo}return V},Howl.prototype.pos=function(O,le,V,lt){var wt=this;if(!wt._webAudio)return wt;if(wt._state!=="loaded")return wt._queue.push({event:"pos",action:function(){wt.pos(O,le,V,lt)}}),wt;if(le=typeof le!="number"?0:le,V=typeof V!="number"?-.5:V,typeof lt>"u")if(typeof O=="number")wt._pos=[O,le,V];else return wt._pos;for(var In=wt._getSoundIds(lt),qt=0;qt<In.length;qt++){var Ft=wt._soundById(In[qt]);if(Ft)if(typeof O=="number")Ft._pos=[O,le,V],Ft._node&&((!Ft._panner||Ft._panner.pan)&&Vt(Ft,"spatial"),typeof Ft._panner.positionX<"u"?(Ft._panner.positionX.setValueAtTime(O,Howler.ctx.currentTime),Ft._panner.positionY.setValueAtTime(le,Howler.ctx.currentTime),Ft._panner.positionZ.setValueAtTime(V,Howler.ctx.currentTime)):Ft._panner.setPosition(O,le,V)),wt._emit("pos",Ft._id);else return Ft._pos}return wt},Howl.prototype.orientation=function(O,le,V,lt){var wt=this;if(!wt._webAudio)return wt;if(wt._state!=="loaded")return wt._queue.push({event:"orientation",action:function(){wt.orientation(O,le,V,lt)}}),wt;if(le=typeof le!="number"?wt._orientation[1]:le,V=typeof V!="number"?wt._orientation[2]:V,typeof lt>"u")if(typeof O=="number")wt._orientation=[O,le,V];else return wt._orientation;for(var In=wt._getSoundIds(lt),qt=0;qt<In.length;qt++){var Ft=wt._soundById(In[qt]);if(Ft)if(typeof O=="number")Ft._orientation=[O,le,V],Ft._node&&(Ft._panner||(Ft._pos||(Ft._pos=wt._pos||[0,0,-.5]),Vt(Ft,"spatial")),typeof Ft._panner.orientationX<"u"?(Ft._panner.orientationX.setValueAtTime(O,Howler.ctx.currentTime),Ft._panner.orientationY.setValueAtTime(le,Howler.ctx.currentTime),Ft._panner.orientationZ.setValueAtTime(V,Howler.ctx.currentTime)):Ft._panner.setOrientation(O,le,V)),wt._emit("orientation",Ft._id);else return Ft._orientation}return wt},Howl.prototype.pannerAttr=function(){var O=this,le=arguments,V,lt,wt;if(!O._webAudio)return O;if(le.length===0)return O._pannerAttr;if(le.length===1)if(typeof le[0]=="object")V=le[0],typeof lt>"u"&&(V.pannerAttr||(V.pannerAttr={coneInnerAngle:V.coneInnerAngle,coneOuterAngle:V.coneOuterAngle,coneOuterGain:V.coneOuterGain,distanceModel:V.distanceModel,maxDistance:V.maxDistance,refDistance:V.refDistance,rolloffFactor:V.rolloffFactor,panningModel:V.panningModel}),O._pannerAttr={coneInnerAngle:typeof V.pannerAttr.coneInnerAngle<"u"?V.pannerAttr.coneInnerAngle:O._coneInnerAngle,coneOuterAngle:typeof V.pannerAttr.coneOuterAngle<"u"?V.pannerAttr.coneOuterAngle:O._coneOuterAngle,coneOuterGain:typeof V.pannerAttr.coneOuterGain<"u"?V.pannerAttr.coneOuterGain:O._coneOuterGain,distanceModel:typeof V.pannerAttr.distanceModel<"u"?V.pannerAttr.distanceModel:O._distanceModel,maxDistance:typeof V.pannerAttr.maxDistance<"u"?V.pannerAttr.maxDistance:O._maxDistance,refDistance:typeof V.pannerAttr.refDistance<"u"?V.pannerAttr.refDistance:O._refDistance,rolloffFactor:typeof V.pannerAttr.rolloffFactor<"u"?V.pannerAttr.rolloffFactor:O._rolloffFactor,panningModel:typeof V.pannerAttr.panningModel<"u"?V.pannerAttr.panningModel:O._panningModel});else return wt=O._soundById(parseInt(le[0],10)),wt?wt._pannerAttr:O._pannerAttr;else le.length===2&&(V=le[0],lt=parseInt(le[1],10));for(var In=O._getSoundIds(lt),qt=0;qt<In.length;qt++)if(wt=O._soundById(In[qt]),wt){var Ft=wt._pannerAttr;Ft={coneInnerAngle:typeof V.coneInnerAngle<"u"?V.coneInnerAngle:Ft.coneInnerAngle,coneOuterAngle:typeof V.coneOuterAngle<"u"?V.coneOuterAngle:Ft.coneOuterAngle,coneOuterGain:typeof V.coneOuterGain<"u"?V.coneOuterGain:Ft.coneOuterGain,distanceModel:typeof V.distanceModel<"u"?V.distanceModel:Ft.distanceModel,maxDistance:typeof V.maxDistance<"u"?V.maxDistance:Ft.maxDistance,refDistance:typeof V.refDistance<"u"?V.refDistance:Ft.refDistance,rolloffFactor:typeof V.rolloffFactor<"u"?V.rolloffFactor:Ft.rolloffFactor,panningModel:typeof V.panningModel<"u"?V.panningModel:Ft.panningModel};var en=wt._panner;en?(en.coneInnerAngle=Ft.coneInnerAngle,en.coneOuterAngle=Ft.coneOuterAngle,en.coneOuterGain=Ft.coneOuterGain,en.distanceModel=Ft.distanceModel,en.maxDistance=Ft.maxDistance,en.refDistance=Ft.refDistance,en.rolloffFactor=Ft.rolloffFactor,en.panningModel=Ft.panningModel):(wt._pos||(wt._pos=O._pos||[0,0,-.5]),Vt(wt,"spatial"))}return O},Sound.prototype.init=function(O){return function(){var le=this,V=le._parent;le._orientation=V._orientation,le._stereo=V._stereo,le._pos=V._pos,le._pannerAttr=V._pannerAttr,O.call(this),le._stereo?V.stereo(le._stereo):le._pos&&V.pos(le._pos[0],le._pos[1],le._pos[2],le._id)}}(Sound.prototype.init),Sound.prototype.reset=function(O){return function(){var le=this,V=le._parent;return le._orientation=V._orientation,le._stereo=V._stereo,le._pos=V._pos,le._pannerAttr=V._pannerAttr,le._stereo?V.stereo(le._stereo):le._pos?V.pos(le._pos[0],le._pos[1],le._pos[2],le._id):le._panner&&(le._panner.disconnect(0),le._panner=void 0,V._refreshBuffer(le)),O.call(this)}}(Sound.prototype.reset);var Vt=function(O,le){le=le||"spatial",le==="spatial"?(O._panner=Howler.ctx.createPanner(),O._panner.coneInnerAngle=O._pannerAttr.coneInnerAngle,O._panner.coneOuterAngle=O._pannerAttr.coneOuterAngle,O._panner.coneOuterGain=O._pannerAttr.coneOuterGain,O._panner.distanceModel=O._pannerAttr.distanceModel,O._panner.maxDistance=O._pannerAttr.maxDistance,O._panner.refDistance=O._pannerAttr.refDistance,O._panner.rolloffFactor=O._pannerAttr.rolloffFactor,O._panner.panningModel=O._pannerAttr.panningModel,typeof O._panner.positionX<"u"?(O._panner.positionX.setValueAtTime(O._pos[0],Howler.ctx.currentTime),O._panner.positionY.setValueAtTime(O._pos[1],Howler.ctx.currentTime),O._panner.positionZ.setValueAtTime(O._pos[2],Howler.ctx.currentTime)):O._panner.setPosition(O._pos[0],O._pos[1],O._pos[2]),typeof O._panner.orientationX<"u"?(O._panner.orientationX.setValueAtTime(O._orientation[0],Howler.ctx.currentTime),O._panner.orientationY.setValueAtTime(O._orientation[1],Howler.ctx.currentTime),O._panner.orientationZ.setValueAtTime(O._orientation[2],Howler.ctx.currentTime)):O._panner.setOrientation(O._orientation[0],O._orientation[1],O._orientation[2])):(O._panner=Howler.ctx.createStereoPanner(),O._panner.pan.setValueAtTime(O._stereo,Howler.ctx.currentTime)),O._panner.connect(O._node),O._paused||O._parent.pause(O._id,!0).play(O._id,!0)}})()});class Xt{constructor(qe,Vt=!1){this.howler=null,this.useAudioElement=!1,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?this.assets=qe.filter(le=>le.endsWith("mp3")).concat(qe.filter(le=>!le.endsWith("mp3"))):this.assets=qe,this.useAudioElement=Vt}load(){this.unload(),this.howler||(this.howler=new at.Howl({html5:this.useAudioElement,src:this.assets,onloaderror:()=>{console.warn("Howler: sounds failed to load, falling back to html5 audio"),this.howler=new at.Howl({html5:!0,src:this.assets,onloaderror:()=>{console.error("Howler: html5 audio fallback failed to load")}})}}))}unload(){var qe;(qe=this.howler)===null||qe===void 0||qe.unload()}play(){var qe;this.howler||this.load(),(qe=this.howler)===null||qe===void 0||qe.play(),window.Cypress&&(window.Cypress.howlerHistory||(window.Cypress.howlerHistory=[]),window.Cypress.howlerHistory.push({time:Date.now(),src:this.assets.slice(0)}))}}var Rt;(function(pn){pn.Suspended="web-ui-sound-suspended",pn.Enabled="web-ui-sound-enabled"})(Rt||(Rt={}));const on=3;let ut=0,nn=!1;function Ct(pn){T(Rt.Enabled,pn)}function vt(){he()&&Ge(()=>{window.postMessage({key:Rt.Enabled},window.location.origin),M(vt)})}function Zt(pn,qe=!1){const Vt=new Xt(pn,qe);return he()?(F(vt),Ct(()=>Vt.load())):Vt.load(),Vt}function jt(pn){he()?!nn&&ut>on?(ut=0,nn=!0,window.postMessage({key:Rt.Suspended},window.location.origin)):nn||(ut++,vt(),Ct(()=>pn.play())):pn.play()}},8774:function(Cn,Ke,j){"use strict";j.d(Ke,{CL:function(){return M}});function A(T){return T&&T.length&&T.substr(-1)!=="/"?`${T}/`:T}function x(T){return`${T[0].toUpperCase()}${T.slice(1)}`}function F(T){return T.toString().replace(/(?:\r\n|\r|\n)/g,"<br>")}function M(T){return`${T[0].toLowerCase()}${T.slice(1)}`}},5619:function(Cn,Ke,j){"use strict";j.d(Ke,{c:function(){return A}});function A(){let x,F;return{promise:new Promise((M,T)=>{x=M,F=T}),reject:F,resolve:x}}},9669:function(Cn,Ke,j){Cn.exports=j(1609)},5448:function(Cn,Ke,j){"use strict";var A=j(4867),x=j(6026),F=j(4372),M=j(5327),T=j(4097),Ie=j(4109),ee=j(7985),z=j(5061),Se=j(5655),he=j(5263);Cn.exports=function(de){return new Promise(function(at,Xt){var Rt=de.data,on=de.headers,ut=de.responseType,nn;function Ct(){de.cancelToken&&de.cancelToken.unsubscribe(nn),de.signal&&de.signal.removeEventListener("abort",nn)}A.isFormData(Rt)&&delete on["Content-Type"];var vt=new XMLHttpRequest;if(de.auth){var Zt=de.auth.username||"",jt=de.auth.password?unescape(encodeURIComponent(de.auth.password)):"";on.Authorization="Basic "+btoa(Zt+":"+jt)}var pn=T(de.baseURL,de.url);vt.open(de.method.toUpperCase(),M(pn,de.params,de.paramsSerializer),!0),vt.timeout=de.timeout;function qe(){if(!!vt){var O="getAllResponseHeaders"in vt?Ie(vt.getAllResponseHeaders()):null,le=!ut||ut==="text"||ut==="json"?vt.responseText:vt.response,V={data:le,status:vt.status,statusText:vt.statusText,headers:O,config:de,request:vt};x(function(wt){at(wt),Ct()},function(wt){Xt(wt),Ct()},V),vt=null}}if("onloadend"in vt?vt.onloadend=qe:vt.onreadystatechange=function(){!vt||vt.readyState!==4||vt.status===0&&!(vt.responseURL&&vt.responseURL.indexOf("file:")===0)||setTimeout(qe)},vt.onabort=function(){!vt||(Xt(z("Request aborted",de,"ECONNABORTED",vt)),vt=null)},vt.onerror=function(){Xt(z("Network Error",de,null,vt)),vt=null},vt.ontimeout=function(){var le=de.timeout?"timeout of "+de.timeout+"ms exceeded":"timeout exceeded",V=de.transitional||Se.transitional;de.timeoutErrorMessage&&(le=de.timeoutErrorMessage),Xt(z(le,de,V.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",vt)),vt=null},A.isStandardBrowserEnv()){var Vt=(de.withCredentials||ee(pn))&&de.xsrfCookieName?F.read(de.xsrfCookieName):void 0;Vt&&(on[de.xsrfHeaderName]=Vt)}"setRequestHeader"in vt&&A.forEach(on,function(le,V){typeof Rt>"u"&&V.toLowerCase()==="content-type"?delete on[V]:vt.setRequestHeader(V,le)}),A.isUndefined(de.withCredentials)||(vt.withCredentials=!!de.withCredentials),ut&&ut!=="json"&&(vt.responseType=de.responseType),typeof de.onDownloadProgress=="function"&&vt.addEventListener("progress",de.onDownloadProgress),typeof de.onUploadProgress=="function"&&vt.upload&&vt.upload.addEventListener("progress",de.onUploadProgress),(de.cancelToken||de.signal)&&(nn=function(O){!vt||(Xt(!O||O&&O.type?new he("canceled"):O),vt.abort(),vt=null)},de.cancelToken&&de.cancelToken.subscribe(nn),de.signal&&(de.signal.aborted?nn():de.signal.addEventListener("abort",nn))),Rt||(Rt=null),vt.send(Rt)})}},1609:function(Cn,Ke,j){"use strict";var A=j(4867),x=j(1849),F=j(321),M=j(7185),T=j(5655);function Ie(z){var Se=new F(z),he=x(F.prototype.request,Se);return A.extend(he,F.prototype,Se),A.extend(he,Se),he.create=function(de){return Ie(M(z,de))},he}var ee=Ie(T);ee.Axios=F,ee.Cancel=j(5263),ee.CancelToken=j(4972),ee.isCancel=j(6502),ee.VERSION=j(7288).version,ee.all=function(Se){return Promise.all(Se)},ee.spread=j(8713),ee.isAxiosError=j(6268),Cn.exports=ee,Cn.exports.default=ee},5263:function(Cn){"use strict";function Ke(j){this.message=j}Ke.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Ke.prototype.__CANCEL__=!0,Cn.exports=Ke},4972:function(Cn,Ke,j){"use strict";var A=j(5263);function x(F){if(typeof F!="function")throw new TypeError("executor must be a function.");var M;this.promise=new Promise(function(ee){M=ee});var T=this;this.promise.then(function(Ie){if(!!T._listeners){var ee,z=T._listeners.length;for(ee=0;ee<z;ee++)T._listeners[ee](Ie);T._listeners=null}}),this.promise.then=function(Ie){var ee,z=new Promise(function(Se){T.subscribe(Se),ee=Se}).then(Ie);return z.cancel=function(){T.unsubscribe(ee)},z},F(function(ee){T.reason||(T.reason=new A(ee),M(T.reason))})}x.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},x.prototype.subscribe=function(M){if(this.reason){M(this.reason);return}this._listeners?this._listeners.push(M):this._listeners=[M]},x.prototype.unsubscribe=function(M){if(!!this._listeners){var T=this._listeners.indexOf(M);T!==-1&&this._listeners.splice(T,1)}},x.source=function(){var M,T=new x(function(ee){M=ee});return{token:T,cancel:M}},Cn.exports=x},6502:function(Cn){"use strict";Cn.exports=function(j){return!!(j&&j.__CANCEL__)}},321:function(Cn,Ke,j){"use strict";var A=j(4867),x=j(5327),F=j(782),M=j(3572),T=j(7185),Ie=j(4875),ee=Ie.validators;function z(Se){this.defaults=Se,this.interceptors={request:new F,response:new F}}z.prototype.request=function(he,Ge){if(typeof he=="string"?(Ge=Ge||{},Ge.url=he):Ge=he||{},!Ge.url)throw new Error("Provided config url is not valid");Ge=T(this.defaults,Ge),Ge.method?Ge.method=Ge.method.toLowerCase():this.defaults.method?Ge.method=this.defaults.method.toLowerCase():Ge.method="get";var de=Ge.transitional;de!==void 0&&Ie.assertOptions(de,{silentJSONParsing:ee.transitional(ee.boolean),forcedJSONParsing:ee.transitional(ee.boolean),clarifyTimeoutError:ee.transitional(ee.boolean)},!1);var k=[],at=!0;this.interceptors.request.forEach(function(Zt){typeof Zt.runWhen=="function"&&Zt.runWhen(Ge)===!1||(at=at&&Zt.synchronous,k.unshift(Zt.fulfilled,Zt.rejected))});var Xt=[];this.interceptors.response.forEach(function(Zt){Xt.push(Zt.fulfilled,Zt.rejected)});var Rt;if(!at){var on=[M,void 0];for(Array.prototype.unshift.apply(on,k),on=on.concat(Xt),Rt=Promise.resolve(Ge);on.length;)Rt=Rt.then(on.shift(),on.shift());return Rt}for(var ut=Ge;k.length;){var nn=k.shift(),Ct=k.shift();try{ut=nn(ut)}catch(vt){Ct(vt);break}}try{Rt=M(ut)}catch(vt){return Promise.reject(vt)}for(;Xt.length;)Rt=Rt.then(Xt.shift(),Xt.shift());return Rt},z.prototype.getUri=function(he){if(!he.url)throw new Error("Provided config url is not valid");return he=T(this.defaults,he),x(he.url,he.params,he.paramsSerializer).replace(/^\?/,"")},A.forEach(["delete","get","head","options"],function(he){z.prototype[he]=function(Ge,de){return this.request(T(de||{},{method:he,url:Ge,data:(de||{}).data}))}}),A.forEach(["post","put","patch"],function(he){z.prototype[he]=function(Ge,de,k){return this.request(T(k||{},{method:he,url:Ge,data:de}))}}),Cn.exports=z},782:function(Cn,Ke,j){"use strict";var A=j(4867);function x(){this.handlers=[]}x.prototype.use=function(M,T,Ie){return this.handlers.push({fulfilled:M,rejected:T,synchronous:Ie?Ie.synchronous:!1,runWhen:Ie?Ie.runWhen:null}),this.handlers.length-1},x.prototype.eject=function(M){this.handlers[M]&&(this.handlers[M]=null)},x.prototype.forEach=function(M){A.forEach(this.handlers,function(Ie){Ie!==null&&M(Ie)})},Cn.exports=x},4097:function(Cn,Ke,j){"use strict";var A=j(1793),x=j(7303);Cn.exports=function(M,T){return M&&!A(T)?x(M,T):T}},5061:function(Cn,Ke,j){"use strict";var A=j(481);Cn.exports=function(F,M,T,Ie,ee){var z=new Error(F);return A(z,M,T,Ie,ee)}},3572:function(Cn,Ke,j){"use strict";var A=j(4867),x=j(8527),F=j(6502),M=j(5655),T=j(5263);function Ie(ee){if(ee.cancelToken&&ee.cancelToken.throwIfRequested(),ee.signal&&ee.signal.aborted)throw new T("canceled")}Cn.exports=function(z){Ie(z),z.headers=z.headers||{},z.data=x.call(z,z.data,z.headers,z.transformRequest),z.headers=A.merge(z.headers.common||{},z.headers[z.method]||{},z.headers),A.forEach(["delete","get","head","post","put","patch","common"],function(Ge){delete z.headers[Ge]});var Se=z.adapter||M.adapter;return Se(z).then(function(Ge){return Ie(z),Ge.data=x.call(z,Ge.data,Ge.headers,z.transformResponse),Ge},function(Ge){return F(Ge)||(Ie(z),Ge&&Ge.response&&(Ge.response.data=x.call(z,Ge.response.data,Ge.response.headers,z.transformResponse))),Promise.reject(Ge)})}},481:function(Cn){"use strict";Cn.exports=function(j,A,x,F,M){return j.config=A,x&&(j.code=x),j.request=F,j.response=M,j.isAxiosError=!0,j.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},j}},7185:function(Cn,Ke,j){"use strict";var A=j(4867);Cn.exports=function(F,M){M=M||{};var T={};function Ie(de,k){return A.isPlainObject(de)&&A.isPlainObject(k)?A.merge(de,k):A.isPlainObject(k)?A.merge({},k):A.isArray(k)?k.slice():k}function ee(de){if(A.isUndefined(M[de])){if(!A.isUndefined(F[de]))return Ie(void 0,F[de])}else return Ie(F[de],M[de])}function z(de){if(!A.isUndefined(M[de]))return Ie(void 0,M[de])}function Se(de){if(A.isUndefined(M[de])){if(!A.isUndefined(F[de]))return Ie(void 0,F[de])}else return Ie(void 0,M[de])}function he(de){if(de in M)return Ie(F[de],M[de]);if(de in F)return Ie(void 0,F[de])}var Ge={url:z,method:z,data:z,baseURL:Se,transformRequest:Se,transformResponse:Se,paramsSerializer:Se,timeout:Se,timeoutMessage:Se,withCredentials:Se,adapter:Se,responseType:Se,xsrfCookieName:Se,xsrfHeaderName:Se,onUploadProgress:Se,onDownloadProgress:Se,decompress:Se,maxContentLength:Se,maxBodyLength:Se,transport:Se,httpAgent:Se,httpsAgent:Se,cancelToken:Se,socketPath:Se,responseEncoding:Se,validateStatus:he};return A.forEach(Object.keys(F).concat(Object.keys(M)),function(k){var at=Ge[k]||ee,Xt=at(k);A.isUndefined(Xt)&&at!==he||(T[k]=Xt)}),T}},6026:function(Cn,Ke,j){"use strict";var A=j(5061);Cn.exports=function(F,M,T){var Ie=T.config.validateStatus;!T.status||!Ie||Ie(T.status)?F(T):M(A("Request failed with status code "+T.status,T.config,null,T.request,T))}},8527:function(Cn,Ke,j){"use strict";var A=j(4867),x=j(5655);Cn.exports=function(M,T,Ie){var ee=this||x;return A.forEach(Ie,function(Se){M=Se.call(ee,M,T)}),M}},5655:function(Cn,Ke,j){"use strict";var A=j(4155),x=j(4867),F=j(6016),M=j(481),T={"Content-Type":"application/x-www-form-urlencoded"};function Ie(he,Ge){!x.isUndefined(he)&&x.isUndefined(he["Content-Type"])&&(he["Content-Type"]=Ge)}function ee(){var he;return(typeof XMLHttpRequest<"u"||typeof A<"u"&&Object.prototype.toString.call(A)==="[object process]")&&(he=j(5448)),he}function z(he,Ge,de){if(x.isString(he))try{return(Ge||JSON.parse)(he),x.trim(he)}catch(k){if(k.name!=="SyntaxError")throw k}return(de||JSON.stringify)(he)}var Se={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:ee(),transformRequest:[function(Ge,de){return F(de,"Accept"),F(de,"Content-Type"),x.isFormData(Ge)||x.isArrayBuffer(Ge)||x.isBuffer(Ge)||x.isStream(Ge)||x.isFile(Ge)||x.isBlob(Ge)?Ge:x.isArrayBufferView(Ge)?Ge.buffer:x.isURLSearchParams(Ge)?(Ie(de,"application/x-www-form-urlencoded;charset=utf-8"),Ge.toString()):x.isObject(Ge)||de&&de["Content-Type"]==="application/json"?(Ie(de,"application/json"),z(Ge)):Ge}],transformResponse:[function(Ge){var de=this.transitional||Se.transitional,k=de&&de.silentJSONParsing,at=de&&de.forcedJSONParsing,Xt=!k&&this.responseType==="json";if(Xt||at&&x.isString(Ge)&&Ge.length)try{return JSON.parse(Ge)}catch(Rt){if(Xt)throw Rt.name==="SyntaxError"?M(Rt,this,"E_JSON_PARSE"):Rt}return Ge}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(Ge){return Ge>=200&&Ge<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};x.forEach(["delete","get","head"],function(Ge){Se.headers[Ge]={}}),x.forEach(["post","put","patch"],function(Ge){Se.headers[Ge]=x.merge(T)}),Cn.exports=Se},7288:function(Cn){Cn.exports={version:"0.25.0"}},1849:function(Cn){"use strict";Cn.exports=function(j,A){return function(){for(var F=new Array(arguments.length),M=0;M<F.length;M++)F[M]=arguments[M];return j.apply(A,F)}}},5327:function(Cn,Ke,j){"use strict";var A=j(4867);function x(F){return encodeURIComponent(F).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}Cn.exports=function(M,T,Ie){if(!T)return M;var ee;if(Ie)ee=Ie(T);else if(A.isURLSearchParams(T))ee=T.toString();else{var z=[];A.forEach(T,function(Ge,de){Ge===null||typeof Ge>"u"||(A.isArray(Ge)?de=de+"[]":Ge=[Ge],A.forEach(Ge,function(at){A.isDate(at)?at=at.toISOString():A.isObject(at)&&(at=JSON.stringify(at)),z.push(x(de)+"="+x(at))}))}),ee=z.join("&")}if(ee){var Se=M.indexOf("#");Se!==-1&&(M=M.slice(0,Se)),M+=(M.indexOf("?")===-1?"?":"&")+ee}return M}},7303:function(Cn){"use strict";Cn.exports=function(j,A){return A?j.replace(/\/+$/,"")+"/"+A.replace(/^\/+/,""):j}},4372:function(Cn,Ke,j){"use strict";var A=j(4867);Cn.exports=A.isStandardBrowserEnv()?function(){return{write:function(M,T,Ie,ee,z,Se){var he=[];he.push(M+"="+encodeURIComponent(T)),A.isNumber(Ie)&&he.push("expires="+new Date(Ie).toGMTString()),A.isString(ee)&&he.push("path="+ee),A.isString(z)&&he.push("domain="+z),Se===!0&&he.push("secure"),document.cookie=he.join("; ")},read:function(M){var T=document.cookie.match(new RegExp("(^|;\\s*)("+M+")=([^;]*)"));return T?decodeURIComponent(T[3]):null},remove:function(M){this.write(M,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},1793:function(Cn){"use strict";Cn.exports=function(j){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(j)}},6268:function(Cn,Ke,j){"use strict";var A=j(4867);Cn.exports=function(F){return A.isObject(F)&&F.isAxiosError===!0}},7985:function(Cn,Ke,j){"use strict";var A=j(4867);Cn.exports=A.isStandardBrowserEnv()?function(){var F=/(msie|trident)/i.test(navigator.userAgent),M=document.createElement("a"),T;function Ie(ee){var z=ee;return F&&(M.setAttribute("href",z),z=M.href),M.setAttribute("href",z),{href:M.href,protocol:M.protocol?M.protocol.replace(/:$/,""):"",host:M.host,search:M.search?M.search.replace(/^\?/,""):"",hash:M.hash?M.hash.replace(/^#/,""):"",hostname:M.hostname,port:M.port,pathname:M.pathname.charAt(0)==="/"?M.pathname:"/"+M.pathname}}return T=Ie(window.location.href),function(z){var Se=A.isString(z)?Ie(z):z;return Se.protocol===T.protocol&&Se.host===T.host}}():function(){return function(){return!0}}()},6016:function(Cn,Ke,j){"use strict";var A=j(4867);Cn.exports=function(F,M){A.forEach(F,function(Ie,ee){ee!==M&&ee.toUpperCase()===M.toUpperCase()&&(F[M]=Ie,delete F[ee])})}},4109:function(Cn,Ke,j){"use strict";var A=j(4867),x=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];Cn.exports=function(M){var T={},Ie,ee,z;return M&&A.forEach(M.split(`
`),function(he){if(z=he.indexOf(":"),Ie=A.trim(he.substr(0,z)).toLowerCase(),ee=A.trim(he.substr(z+1)),Ie){if(T[Ie]&&x.indexOf(Ie)>=0)return;Ie==="set-cookie"?T[Ie]=(T[Ie]?T[Ie]:[]).concat([ee]):T[Ie]=T[Ie]?T[Ie]+", "+ee:ee}}),T}},8713:function(Cn){"use strict";Cn.exports=function(j){return function(x){return j.apply(null,x)}}},4875:function(Cn,Ke,j){"use strict";var A=j(7288).version,x={};["object","boolean","number","function","string","symbol"].forEach(function(T,Ie){x[T]=function(z){return typeof z===T||"a"+(Ie<1?"n ":" ")+T}});var F={};x.transitional=function(Ie,ee,z){function Se(he,Ge){return"[Axios v"+A+"] Transitional option '"+he+"'"+Ge+(z?". "+z:"")}return function(he,Ge,de){if(Ie===!1)throw new Error(Se(Ge," has been removed"+(ee?" in "+ee:"")));return ee&&!F[Ge]&&(F[Ge]=!0,console.warn(Se(Ge," has been deprecated since v"+ee+" and will be removed in the near future"))),Ie?Ie(he,Ge,de):!0}};function M(T,Ie,ee){if(typeof T!="object")throw new TypeError("options must be an object");for(var z=Object.keys(T),Se=z.length;Se-- >0;){var he=z[Se],Ge=Ie[he];if(Ge){var de=T[he],k=de===void 0||Ge(de,he,T);if(k!==!0)throw new TypeError("option "+he+" must be "+k);continue}if(ee!==!0)throw Error("Unknown option "+he)}}Cn.exports={assertOptions:M,validators:x}},4867:function(Cn,Ke,j){"use strict";var A=j(1849),x=Object.prototype.toString;function F(qe){return Array.isArray(qe)}function M(qe){return typeof qe>"u"}function T(qe){return qe!==null&&!M(qe)&&qe.constructor!==null&&!M(qe.constructor)&&typeof qe.constructor.isBuffer=="function"&&qe.constructor.isBuffer(qe)}function Ie(qe){return x.call(qe)==="[object ArrayBuffer]"}function ee(qe){return x.call(qe)==="[object FormData]"}function z(qe){var Vt;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?Vt=ArrayBuffer.isView(qe):Vt=qe&&qe.buffer&&Ie(qe.buffer),Vt}function Se(qe){return typeof qe=="string"}function he(qe){return typeof qe=="number"}function Ge(qe){return qe!==null&&typeof qe=="object"}function de(qe){if(x.call(qe)!=="[object Object]")return!1;var Vt=Object.getPrototypeOf(qe);return Vt===null||Vt===Object.prototype}function k(qe){return x.call(qe)==="[object Date]"}function at(qe){return x.call(qe)==="[object File]"}function Xt(qe){return x.call(qe)==="[object Blob]"}function Rt(qe){return x.call(qe)==="[object Function]"}function on(qe){return Ge(qe)&&Rt(qe.pipe)}function ut(qe){return x.call(qe)==="[object URLSearchParams]"}function nn(qe){return qe.trim?qe.trim():qe.replace(/^\s+|\s+$/g,"")}function Ct(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function vt(qe,Vt){if(!(qe===null||typeof qe>"u"))if(typeof qe!="object"&&(qe=[qe]),F(qe))for(var O=0,le=qe.length;O<le;O++)Vt.call(null,qe[O],O,qe);else for(var V in qe)Object.prototype.hasOwnProperty.call(qe,V)&&Vt.call(null,qe[V],V,qe)}function Zt(){var qe={};function Vt(V,lt){de(qe[lt])&&de(V)?qe[lt]=Zt(qe[lt],V):de(V)?qe[lt]=Zt({},V):F(V)?qe[lt]=V.slice():qe[lt]=V}for(var O=0,le=arguments.length;O<le;O++)vt(arguments[O],Vt);return qe}function jt(qe,Vt,O){return vt(Vt,function(V,lt){O&&typeof V=="function"?qe[lt]=A(V,O):qe[lt]=V}),qe}function pn(qe){return qe.charCodeAt(0)===65279&&(qe=qe.slice(1)),qe}Cn.exports={isArray:F,isArrayBuffer:Ie,isBuffer:T,isFormData:ee,isArrayBufferView:z,isString:Se,isNumber:he,isObject:Ge,isPlainObject:de,isUndefined:M,isDate:k,isFile:at,isBlob:Xt,isFunction:Rt,isStream:on,isURLSearchParams:ut,isStandardBrowserEnv:Ct,forEach:vt,merge:Zt,extend:jt,trim:nn,stripBOM:pn}},2475:function(Cn,Ke,j){var A,x;/**
* @author William DURAND <william.durand1@gmail.com>
* @license MIT Licensed
*/(function(F,M){A=M,x=typeof A=="function"?A.call(Ke,j,Ke,Cn):A,x!==void 0&&(Cn.exports=x)})(this,function(){"use strict";var F={},M="en",T=[],Ie=new RegExp(/^\w+\: +(.+)$/),ee=new RegExp(/^\s*((\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]]))\s?(.+?)$/),z=new RegExp(/^\s*(\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]])/),Se={locale:on(),fallback:M,placeHolderPrefix:"%",placeHolderSuffix:"%",defaultDomain:"messages",pluralSeparator:"|",add:function(ut,nn,Ct,vt){var Zt=vt||this.locale||this.fallback,jt=Ct||this.defaultDomain;return F[Zt]||(F[Zt]={}),F[Zt][jt]||(F[Zt][jt]={}),F[Zt][jt][ut]=nn,Rt(T,jt)===!1&&T.push(jt),this},trans:function(ut,nn,Ct,vt){var Zt=Ge(ut,Ct,vt,this.locale,this.fallback);return he(Zt,nn||{})},transChoice:function(ut,nn,Ct,vt,Zt){var jt=Ge(ut,vt,Zt,this.locale,this.fallback),pn=parseInt(nn,10);return Ct=Ct||{},Ct.count===void 0&&(Ct.count=nn),typeof jt<"u"&&!isNaN(pn)&&(jt=k(jt,pn,Zt||this.locale||this.fallback)),he(jt,Ct)},fromJSON:function(ut){if(typeof ut=="string"&&(ut=JSON.parse(ut)),ut.locale&&(this.locale=ut.locale),ut.fallback&&(this.fallback=ut.fallback),ut.defaultDomain&&(this.defaultDomain=ut.defaultDomain),ut.translations)for(var nn in ut.translations)for(var Ct in ut.translations[nn])for(var vt in ut.translations[nn][Ct])this.add(vt,ut.translations[nn][Ct][vt],Ct,nn);return this},reset:function(){F={},T=[],this.locale=on()}};function he(ut,nn){var Ct,vt=Se.placeHolderPrefix,Zt=Se.placeHolderSuffix;for(Ct in nn){var jt=new RegExp(vt+Ct+Zt,"g");if(jt.test(ut)){var pn=String(nn[Ct]).replace(new RegExp("\\$","g"),"$$$$");ut=ut.replace(jt,pn)}}return ut}function Ge(ut,nn,Ct,vt,Zt){var jt=Ct||vt||Zt,pn=nn,qe=jt.split("_")[0];if(!(jt in F))if(qe in F)jt=qe;else{if(!(Zt in F))return ut;jt=Zt}if(typeof pn>"u"||pn===null){for(var Vt=0;Vt<T.length;Vt++)if(de(jt,T[Vt],ut)||de(qe,T[Vt],ut)||de(Zt,T[Vt],ut)){pn=T[Vt];break}}if(de(jt,pn,ut))return F[jt][pn][ut];for(var O,le,V,lt;jt.length>2&&(O=jt.length,le=jt.split(/[\s_]+/),V=le[le.length-1],lt=V.length,le.length!==1);)if(jt=jt.substring(0,O-(lt+1)),de(jt,pn,ut))return F[jt][pn][ut];return de(Zt,pn,ut)?F[Zt][pn][ut]:ut}function de(ut,nn,Ct){return!(!(ut in F)||!(nn in F[ut])||!(Ct in F[ut][nn]))}function k(ut,nn,Ct){var vt,Zt,jt=[],pn=[],qe=ut.split(Se.pluralSeparator),Vt=[];for(vt=0;vt<qe.length;vt++){var O=qe[vt];ee.test(O)?(Vt=O.match(ee),jt[Vt[0]]=Vt[Vt.length-1]):Ie.test(O)?(Vt=O.match(Ie),pn.push(Vt[1])):pn.push(O)}for(Zt in jt)if(z.test(Zt))if(Vt=Zt.match(z),Vt[1]){var le=Vt[2].split(","),V;for(V in le)if(nn==le[V])return jt[Zt]}else{var lt=at(Vt[4]),wt=at(Vt[5]);if((Vt[3]==="["?nn>=lt:nn>lt)&&(Vt[6]==="]"?nn<=wt:nn<wt))return jt[Zt]}return pn[Xt(nn,Ct)]||pn[0]||void 0}function at(ut){return ut==="-Inf"?Number.NEGATIVE_INFINITY:ut==="+Inf"||ut==="Inf"?Number.POSITIVE_INFINITY:parseInt(ut,10)}function Xt(ut,nn){var Ct=nn;switch(Ct==="pt_BR"&&(Ct="xbr"),Ct.length>3&&(Ct=Ct.split("_")[0]),Ct){case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"az":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return ut==1?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return ut===0||ut==1?0:1;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return ut%10==1&&ut%100!=11?0:ut%10>=2&&ut%10<=4&&(ut%100<10||ut%100>=20)?1:2;case"cs":case"sk":return ut==1?0:ut>=2&&ut<=4?1:2;case"ga":return ut==1?0:ut==2?1:2;case"lt":return ut%10==1&&ut%100!=11?0:ut%10>=2&&(ut%100<10||ut%100>=20)?1:2;case"sl":return ut%100==1?0:ut%100==2?1:ut%100==3||ut%100==4?2:3;case"mk":return ut%10==1?0:1;case"mt":return ut==1?0:ut===0||ut%100>1&&ut%100<11?1:ut%100>10&&ut%100<20?2:3;case"lv":return ut===0?0:ut%10==1&&ut%100!=11?1:2;case"pl":return ut==1?0:ut%10>=2&&ut%10<=4&&(ut%100<12||ut%100>14)?1:2;case"cy":return ut==1?0:ut==2?1:ut==8||ut==11?2:3;case"ro":return ut==1?0:ut===0||ut%100>0&&ut%100<20?1:2;case"ar":return ut===0?0:ut==1?1:ut==2?2:ut>=3&&ut<=10?3:ut>=11&&ut<=99?4:5;default:return 0}}function Rt(ut,nn){for(var Ct=0;Ct<ut.length;Ct++)if(nn===ut[Ct])return!0;return!1}function on(){return typeof document<"u"?document.documentElement.lang.replace("-","_"):M}return Se})},4155:function(Cn){var Ke=Cn.exports={},j,A;function x(){throw new Error("setTimeout has not been defined")}function F(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?j=setTimeout:j=x}catch{j=x}try{typeof clearTimeout=="function"?A=clearTimeout:A=F}catch{A=F}})();function M(at){if(j===setTimeout)return setTimeout(at,0);if((j===x||!j)&&setTimeout)return j=setTimeout,setTimeout(at,0);try{return j(at,0)}catch{try{return j.call(null,at,0)}catch{return j.call(this,at,0)}}}function T(at){if(A===clearTimeout)return clearTimeout(at);if((A===F||!A)&&clearTimeout)return A=clearTimeout,clearTimeout(at);try{return A(at)}catch{try{return A.call(null,at)}catch{return A.call(this,at)}}}var Ie=[],ee=!1,z,Se=-1;function he(){!ee||!z||(ee=!1,z.length?Ie=z.concat(Ie):Se=-1,Ie.length&&Ge())}function Ge(){if(!ee){var at=M(he);ee=!0;for(var Xt=Ie.length;Xt;){for(z=Ie,Ie=[];++Se<Xt;)z&&z[Se].run();Se=-1,Xt=Ie.length}z=null,ee=!1,T(at)}}Ke.nextTick=function(at){var Xt=new Array(arguments.length-1);if(arguments.length>1)for(var Rt=1;Rt<arguments.length;Rt++)Xt[Rt-1]=arguments[Rt];Ie.push(new de(at,Xt)),Ie.length===1&&!ee&&M(Ge)};function de(at,Xt){this.fun=at,this.array=Xt}de.prototype.run=function(){this.fun.apply(null,this.array)},Ke.title="browser",Ke.browser=!0,Ke.env={},Ke.argv=[],Ke.version="",Ke.versions={};function k(){}Ke.on=k,Ke.addListener=k,Ke.once=k,Ke.off=k,Ke.removeListener=k,Ke.removeAllListeners=k,Ke.emit=k,Ke.prependListener=k,Ke.prependOnceListener=k,Ke.listeners=function(at){return[]},Ke.binding=function(at){throw new Error("process.binding is not supported")},Ke.cwd=function(){return"/"},Ke.chdir=function(at){throw new Error("process.chdir is not supported")},Ke.umask=function(){return 0}},6940:function(Cn,Ke,j){"use strict";j.r(Ke),Ke.default="1.19.0"},4279:function(Cn){function Ke(){}Ke.prototype={on:function(j,A,x){var F=this.e||(this.e={});return(F[j]||(F[j]=[])).push({fn:A,ctx:x}),this},once:function(j,A,x){var F=this;function M(){F.off(j,M),A.apply(x,arguments)}return M._=A,this.on(j,M,x)},emit:function(j){var A=[].slice.call(arguments,1),x=((this.e||(this.e={}))[j]||[]).slice(),F=0,M=x.length;for(F;F<M;F++)x[F].fn.apply(x[F].ctx,A);return this},off:function(j,A){var x=this.e||(this.e={}),F=x[j],M=[];if(F&&A)for(var T=0,Ie=F.length;T<Ie;T++)F[T].fn!==A&&F[T].fn._!==A&&M.push(F[T]);return M.length?x[j]=M:delete x[j],this}},Cn.exports=Ke,Cn.exports.TinyEmitter=Ke},4752:function(Cn){Cn.exports=Ke;function Ke(j){return j=j||7,Math.random().toString(35).substr(2,j)}},1900:function(Cn,Ke,j){"use strict";j.d(Ke,{Z:function(){return A}});function A(x,F,M,T,Ie,ee,z,Se){var he=typeof x=="function"?x.options:x;F&&(he.render=F,he.staticRenderFns=M,he._compiled=!0),T&&(he.functional=!0),ee&&(he._scopeId="data-v-"+ee);var Ge;if(z?(Ge=function(at){at=at||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!at&&typeof __VUE_SSR_CONTEXT__<"u"&&(at=__VUE_SSR_CONTEXT__),Ie&&Ie.call(this,at),at&&at._registeredComponents&&at._registeredComponents.add(z)},he._ssrRegister=Ge):Ie&&(Ge=Se?function(){Ie.call(this,(he.functional?this.parent:this).$root.$options.shadowRoot)}:Ie),Ge)if(he.functional){he._injectStyles=Ge;var de=he.render;he.render=function(Xt,Rt){return Ge.call(Rt),de(Xt,Rt)}}else{var k=he.beforeCreate;he.beforeCreate=k?[].concat(k,Ge):[Ge]}return{exports:x,options:he}}},538:function(Cn,Ke,j){"use strict";j.d(Ke,{Fl:function(){return mn},ZP:function(){return _i},RC:function(){return Fc},aZ:function(){return Da},h:function(){return ye},qj:function(){return g},iH:function(){return Qt},YP:function(){return uu}});/*!
 * Vue.js v2.7.10
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */var A=Object.freeze({}),x=Array.isArray;function F(o){return o==null}function M(o){return o!=null}function T(o){return o===!0}function Ie(o){return o===!1}function ee(o){return typeof o=="string"||typeof o=="number"||typeof o=="symbol"||typeof o=="boolean"}function z(o){return typeof o=="function"}function Se(o){return o!==null&&typeof o=="object"}var he=Object.prototype.toString;function Ge(o){return he.call(o).slice(8,-1)}function de(o){return he.call(o)==="[object Object]"}function k(o){return he.call(o)==="[object RegExp]"}function at(o){var l=parseFloat(String(o));return l>=0&&Math.floor(l)===l&&isFinite(o)}function Xt(o){return M(o)&&typeof o.then=="function"&&typeof o.catch=="function"}function Rt(o){return o==null?"":Array.isArray(o)||de(o)&&o.toString===he?JSON.stringify(o,null,2):String(o)}function on(o){var l=parseFloat(o);return isNaN(l)?o:l}function ut(o,l){for(var c=Object.create(null),d=o.split(","),v=0;v<d.length;v++)c[d[v]]=!0;return l?function(_){return c[_.toLowerCase()]}:function(_){return c[_]}}var nn=ut("slot,component",!0),Ct=ut("key,ref,slot,slot-scope,is");function vt(o,l){if(o.length){var c=o.indexOf(l);if(c>-1)return o.splice(c,1)}}var Zt=Object.prototype.hasOwnProperty;function jt(o,l){return Zt.call(o,l)}function pn(o){var l=Object.create(null);return function(d){var v=l[d];return v||(l[d]=o(d))}}var qe=/-(\w)/g,Vt=pn(function(o){return o.replace(qe,function(l,c){return c?c.toUpperCase():""})}),O=pn(function(o){return o.charAt(0).toUpperCase()+o.slice(1)}),le=/\B([A-Z])/g,V=pn(function(o){return o.replace(le,"-$1").toLowerCase()});function lt(o,l){function c(d){var v=arguments.length;return v?v>1?o.apply(l,arguments):o.call(l,d):o.call(l)}return c._length=o.length,c}function wt(o,l){return o.bind(l)}var In=Function.prototype.bind?wt:lt;function qt(o,l){l=l||0;for(var c=o.length-l,d=new Array(c);c--;)d[c]=o[c+l];return d}function Ft(o,l){for(var c in l)o[c]=l[c];return o}function en(o){for(var l={},c=0;c<o.length;c++)o[c]&&Ft(l,o[c]);return l}function m(o,l,c){}var I=function(o,l,c){return!1},W=function(o){return o};function ue(o){return o.reduce(function(l,c){return l.concat(c.staticKeys||[])},[]).join(",")}function Ue(o,l){if(o===l)return!0;var c=Se(o),d=Se(l);if(c&&d)try{var v=Array.isArray(o),_=Array.isArray(l);if(v&&_)return o.length===l.length&&o.every(function(ge,st){return Ue(ge,l[st])});if(o instanceof Date&&l instanceof Date)return o.getTime()===l.getTime();if(!v&&!_){var R=Object.keys(o),q=Object.keys(l);return R.length===q.length&&R.every(function(ge){return Ue(o[ge],l[ge])})}else return!1}catch{return!1}else return!c&&!d?String(o)===String(l):!1}function nt(o,l){for(var c=0;c<o.length;c++)if(Ue(o[c],l))return c;return-1}function re(o){var l=!1;return function(){l||(l=!0,o.apply(this,arguments))}}function _e(o,l){return o===l?o===0&&1/o!==1/l:o===o||l===l}var E="data-server-rendered",K=["component","directive","filter"],me=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],je={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:I,isReservedAttr:I,isUnknownElement:I,getTagNamespace:m,parsePlatformTagName:W,mustUseProp:I,async:!0,_lifecycleHooks:me},ve=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function ct(o){var l=(o+"").charCodeAt(0);return l===36||l===95}function Dt(o,l,c,d){Object.defineProperty(o,l,{value:c,enumerable:!!d,writable:!0,configurable:!0})}var te=new RegExp("[^".concat(ve.source,".$_\\d]"));function xe(o){if(!te.test(o)){var l=o.split(".");return function(c){for(var d=0;d<l.length;d++){if(!c)return;c=c[l[d]]}return c}}}var N="__proto__"in{},B=typeof window<"u",P=B&&window.navigator.userAgent.toLowerCase(),H=P&&/msie|trident/.test(P),X=P&&P.indexOf("msie 9.0")>0,He=P&&P.indexOf("edge/")>0;P&&P.indexOf("android")>0;var Je=P&&/iphone|ipad|ipod|ios/.test(P);P&&/chrome\/\d+/.test(P),P&&/phantomjs/.test(P);var rt=P&&P.match(/firefox\/(\d+)/),Fe={}.watch,vn=!1;if(B)try{var It={};Object.defineProperty(It,"passive",{get:function(){vn=!0}}),window.addEventListener("test-passive",null,It)}catch{}var Mn,qn=function(){return Mn===void 0&&(!B&&typeof j.g<"u"?Mn=j.g.process&&j.g.process.env.VUE_ENV==="server":Mn=!1),Mn},Pt=B&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function Nt(o){return typeof o=="function"&&/native code/.test(o.toString())}var mr=typeof Symbol<"u"&&Nt(Symbol)&&typeof Reflect<"u"&&Nt(Reflect.ownKeys),ur;typeof Set<"u"&&Nt(Set)?ur=Set:ur=function(){function o(){this.set=Object.create(null)}return o.prototype.has=function(l){return this.set[l]===!0},o.prototype.add=function(l){this.set[l]=!0},o.prototype.clear=function(){this.set=Object.create(null)},o}();var En=null;function Ui(){return En&&{proxy:En}}function Xn(o){o===void 0&&(o=null),o||En&&En._scope.off(),En=o,o&&o._scope.on()}var pr=function(){function o(l,c,d,v,_,R,q,ge){this.tag=l,this.data=c,this.children=d,this.text=v,this.elm=_,this.ns=void 0,this.context=R,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=c&&c.key,this.componentOptions=q,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=ge,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(o.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),o}(),Ri=function(o){o===void 0&&(o="");var l=new pr;return l.text=o,l.isComment=!0,l};function to(o){return new pr(void 0,void 0,void 0,String(o))}function vo(o){var l=new pr(o.tag,o.data,o.children&&o.children.slice(),o.text,o.elm,o.context,o.componentOptions,o.asyncFactory);return l.ns=o.ns,l.isStatic=o.isStatic,l.key=o.key,l.isComment=o.isComment,l.fnContext=o.fnContext,l.fnOptions=o.fnOptions,l.fnScopeId=o.fnScopeId,l.asyncMeta=o.asyncMeta,l.isCloned=!0,l}var mo;if(!1)var go,Jo,Ja,qi,ka,ca,Ia;var ea=function(){return ea=Object.assign||function(l){for(var c,d=1,v=arguments.length;d<v;d++){c=arguments[d];for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(l[_]=c[_])}return l},ea.apply(this,arguments)},es=0,Ii=function(){function o(){this.id=es++,this.subs=[]}return o.prototype.addSub=function(l){this.subs.push(l)},o.prototype.removeSub=function(l){vt(this.subs,l)},o.prototype.depend=function(l){o.target&&o.target.addDep(this)},o.prototype.notify=function(l){for(var c=this.subs.slice(),d=0,v=c.length;d<v;d++){if(!1)var _;c[d].update()}},o}();Ii.target=null;var ji=[];function gn(o){ji.push(o),Ii.target=o}function wn(){ji.pop(),Ii.target=ji[ji.length-1]}var Mt=Array.prototype,$e=Object.create(Mt),ie=["push","pop","shift","unshift","splice","sort","reverse"];ie.forEach(function(o){var l=Mt[o];Dt($e,o,function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];var _=l.apply(this,d),R=this.__ob__,q;switch(o){case"push":case"unshift":q=d;break;case"splice":q=d.slice(2);break}return q&&R.observeArray(q),R.dep.notify(),_})});var Q=Object.getOwnPropertyNames($e),Ze={},L=!0;function fe(o){L=o}var se={notify:m,depend:m,addSub:m,removeSub:m},Xe=function(){function o(l,c,d){if(c===void 0&&(c=!1),d===void 0&&(d=!1),this.value=l,this.shallow=c,this.mock=d,this.dep=d?se:new Ii,this.vmCount=0,Dt(l,"__ob__",this),x(l)){if(!d)if(N)l.__proto__=$e;else for(var v=0,_=Q.length;v<_;v++){var R=Q[v];Dt(l,R,$e[R])}c||this.observeArray(l)}else for(var q=Object.keys(l),v=0;v<q.length;v++){var R=q[v];bt(l,R,Ze,void 0,c,d)}}return o.prototype.observeArray=function(l){for(var c=0,d=l.length;c<d;c++)Gt(l[c],!1,this.mock)},o}();function Gt(o,l,c){if(!(!Se(o)||dn(o)||o instanceof pr)){var d;return jt(o,"__ob__")&&o.__ob__ instanceof Xe?d=o.__ob__:L&&(c||!qn())&&(x(o)||de(o))&&Object.isExtensible(o)&&!o.__v_skip&&(d=new Xe(o,l,c)),d}}function bt(o,l,c,d,v,_){var R=new Ii,q=Object.getOwnPropertyDescriptor(o,l);if(!(q&&q.configurable===!1)){var ge=q&&q.get,st=q&&q.set;(!ge||st)&&(c===Ze||arguments.length===2)&&(c=o[l]);var kt=!v&&Gt(c,!1,_);return Object.defineProperty(o,l,{enumerable:!0,configurable:!0,get:function(){var Nn=ge?ge.call(o):c;return Ii.target&&(R.depend(),kt&&(kt.dep.depend(),x(Nn)&&Bt(Nn))),dn(Nn)&&!v?Nn.value:Nn},set:function(Nn){var tr=ge?ge.call(o):c;if(!!_e(tr,Nn)){if(st)st.call(o,Nn);else{if(ge)return;if(!v&&dn(tr)&&!dn(Nn)){tr.value=Nn;return}else c=Nn}kt=!v&&Gt(Nn,!1,_),R.notify()}}}),R}}function Oe(o,l,c){if(!Qe(o)){var d=o.__ob__;return x(o)&&at(l)?(o.length=Math.max(o.length,l),o.splice(l,1,c),d&&!d.shallow&&d.mock&&Gt(c,!1,!0),c):l in o&&!(l in Object.prototype)?(o[l]=c,c):o._isVue||d&&d.vmCount?c:d?(bt(d.value,l,c,void 0,d.shallow,d.mock),d.dep.notify(),c):(o[l]=c,c)}}function mt(o,l){if(x(o)&&at(l)){o.splice(l,1);return}var c=o.__ob__;o._isVue||c&&c.vmCount||Qe(o)||!jt(o,l)||(delete o[l],c&&c.dep.notify())}function Bt(o){for(var l=void 0,c=0,d=o.length;c<d;c++)l=o[c],l&&l.__ob__&&l.__ob__.dep.depend(),x(l)&&Bt(l)}function g(o){return Y(o,!1),o}function C(o){return Y(o,!0),Dt(o,"__v_isShallow",!0),o}function Y(o,l){if(!Qe(o)){if(!1)var c;var d=Gt(o,l,qn())}}function Ee(o){return Qe(o)?Ee(o.__v_raw):!!(o&&o.__ob__)}function Me(o){return!!(o&&o.__v_isShallow)}function Qe(o){return!!(o&&o.__v_isReadonly)}function Ce(o){return Ee(o)||Qe(o)}function Lt(o){var l=o&&o.__v_raw;return l?Lt(l):o}function Gn(o){return Dt(o,"__v_skip",!0),o}function br(o){var l=Ge(o);return l==="Map"||l==="WeakMap"||l==="Set"||l==="WeakSet"}var _r="__v_isRef";function dn(o){return!!(o&&o.__v_isRef===!0)}function Qt(o){return Ye(o,!1)}function ht(o){return Ye(o,!0)}function Ye(o,l){if(dn(o))return o;var c={};return Dt(c,_r,!0),Dt(c,"__v_isShallow",l),Dt(c,"dep",bt(c,"value",o,null,l,qn())),c}function cn(o){o.dep&&o.dep.notify()}function _n(o){return dn(o)?o.value:o}function fr(o){if(Ee(o))return o;for(var l={},c=Object.keys(o),d=0;d<c.length;d++)or(l,o,c[d]);return l}function or(o,l,c){Object.defineProperty(o,c,{enumerable:!0,configurable:!0,get:function(){var d=l[c];if(dn(d))return d.value;var v=d&&d.__ob__;return v&&v.dep.depend(),d},set:function(d){var v=l[c];dn(v)&&!dn(d)?v.value=d:l[c]=d}})}function Ar(o){var l=new Ii,c=o(function(){l.depend()},function(){l.notify()}),d=c.get,v=c.set,_={get value(){return d()},set value(R){v(R)}};return Dt(_,_r,!0),_}function Rn(o){var l=x(o)?new Array(o.length):{};for(var c in o)l[c]=Cr(o,c);return l}function Cr(o,l,c){var d=o[l];if(dn(d))return d;var v={get value(){var _=o[l];return _===void 0?c:_},set value(_){o[l]=_}};return Dt(v,_r,!0),v}var Gr="__v_rawToReadonly",Lr="__v_rawToShallowReadonly";function xn(o){return hn(o,!1)}function hn(o,l){if(!de(o)||Qe(o))return o;var c=l?Lr:Gr,d=o[c];if(d)return d;var v=Object.create(Object.getPrototypeOf(o));Dt(o,c,v),Dt(v,"__v_isReadonly",!0),Dt(v,"__v_raw",o),dn(o)&&Dt(v,_r,!0),(l||Me(o))&&Dt(v,"__v_isShallow",!0);for(var _=Object.keys(o),R=0;R<_.length;R++)jn(v,o,_[R],l);return v}function jn(o,l,c,d){Object.defineProperty(o,c,{enumerable:!0,configurable:!0,get:function(){var v=l[c];return d||!de(v)?v:xn(v)},set:function(){}})}function yt(o){return hn(o,!0)}function mn(o,l){var c,d,v=z(o);v?(c=o,d=m):(c=o.get,d=o.set);var _=qn()?null:new Bs(En,c,m,{lazy:!0}),R={effect:_,get value(){return _?(_.dirty&&_.evaluate(),Ii.target&&_.depend(),_.value):c()},set value(q){d(q)}};return Dt(R,_r,!0),Dt(R,"__v_isReadonly",v),R}var bn,w;if(!1)var Te;var Ae=pn(function(o){var l=o.charAt(0)==="&";o=l?o.slice(1):o;var c=o.charAt(0)==="~";o=c?o.slice(1):o;var d=o.charAt(0)==="!";return o=d?o.slice(1):o,{name:o,once:c,capture:d,passive:l}});function Ne(o,l){function c(){var d=c.fns;if(x(d))for(var v=d.slice(),_=0;_<v.length;_++)xt(v[_],null,arguments,l,"v-on handler");else return xt(d,null,arguments,l,"v-on handler")}return c.fns=o,c}function et(o,l,c,d,v,_){var R,q,ge,st;for(R in o)q=o[R],ge=l[R],st=Ae(R),F(q)||(F(ge)?(F(q.fns)&&(q=o[R]=Ne(q,_)),T(st.once)&&(q=o[R]=v(st.name,q,st.capture)),c(st.name,q,st.capture,st.passive,st.params)):q!==ge&&(ge.fns=q,o[R]=ge));for(R in l)F(o[R])&&(st=Ae(R),d(st.name,l[R],st.capture))}function ot(o,l,c){o instanceof pr&&(o=o.data.hook||(o.data.hook={}));var d,v=o[l];function _(){c.apply(this,arguments),vt(d.fns,_)}F(v)?d=Ne([_]):M(v.fns)&&T(v.merged)?(d=v,d.fns.push(_)):d=Ne([v,_]),d.merged=!0,o[l]=d}function Be(o,l,c){var d=l.options.props;if(!F(d)){var v={},_=o.attrs,R=o.props;if(M(_)||M(R))for(var q in d){var ge=V(q);if(!1)var st;ae(v,R,q,ge,!0)||ae(v,_,q,ge,!1)}return v}}function ae(o,l,c,d,v){if(M(l)){if(jt(l,c))return o[c]=l[c],v||delete l[c],!0;if(jt(l,d))return o[c]=l[d],v||delete l[d],!0}return!1}function Le(o){for(var l=0;l<o.length;l++)if(x(o[l]))return Array.prototype.concat.apply([],o);return o}function Ve(o){return ee(o)?[to(o)]:x(o)?De(o):void 0}function tt(o){return M(o)&&M(o.text)&&Ie(o.isComment)}function De(o,l){var c=[],d,v,_,R;for(d=0;d<o.length;d++)v=o[d],!(F(v)||typeof v=="boolean")&&(_=c.length-1,R=c[_],x(v)?v.length>0&&(v=De(v,"".concat(l||"","_").concat(d)),tt(v[0])&&tt(R)&&(c[_]=to(R.text+v[0].text),v.shift()),c.push.apply(c,v)):ee(v)?tt(R)?c[_]=to(R.text+v):v!==""&&c.push(to(v)):tt(v)&&tt(R)?c[_]=to(R.text+v.text):(T(o._isVList)&&M(v.tag)&&F(v.key)&&M(l)&&(v.key="__vlist".concat(l,"_").concat(d,"__")),c.push(v)));return c}var _t=1,fn=2;function Kn(o,l,c,d,v,_){return(x(c)||ee(c))&&(v=d,d=c,c=void 0),T(_)&&(v=fn),Vn(o,l,c,d,v)}function Vn(o,l,c,d,v){if(M(c)&&M(c.__ob__)||(M(c)&&M(c.is)&&(l=c.is),!l))return Ri();x(d)&&z(d[0])&&(c=c||{},c.scopedSlots={default:d[0]},d.length=0),v===fn?d=Ve(d):v===_t&&(d=Le(d));var _,R;if(typeof l=="string"){var q=void 0;R=o.$vnode&&o.$vnode.ns||je.getTagNamespace(l),je.isReservedTag(l)?_=new pr(je.parsePlatformTagName(l),c,d,void 0,void 0,o):(!c||!c.pre)&&M(q=dl(o.$options,"components",l))?_=ef(q,c,o,d,l):_=new pr(l,c,d,void 0,void 0,o)}else _=ef(l,c,o,d);return x(_)?_:M(_)?(M(R)&&Jr(_,R),M(c)&&D(c),_):Ri()}function Jr(o,l,c){if(o.ns=l,o.tag==="foreignObject"&&(l=void 0,c=!0),M(o.children))for(var d=0,v=o.children.length;d<v;d++){var _=o.children[d];M(_.tag)&&(F(_.ns)||T(c)&&_.tag!=="svg")&&Jr(_,l,c)}}function D(o){Se(o.style)&&ds(o.style),Se(o.class)&&ds(o.class)}function pe(o,l){var c=null,d,v,_,R;if(x(o)||typeof o=="string")for(c=new Array(o.length),d=0,v=o.length;d<v;d++)c[d]=l(o[d],d);else if(typeof o=="number")for(c=new Array(o),d=0;d<o;d++)c[d]=l(d+1,d);else if(Se(o))if(mr&&o[Symbol.iterator]){c=[];for(var q=o[Symbol.iterator](),ge=q.next();!ge.done;)c.push(l(ge.value,c.length)),ge=q.next()}else for(_=Object.keys(o),c=new Array(_.length),d=0,v=_.length;d<v;d++)R=_[d],c[d]=l(o[R],R,d);return M(c)||(c=[]),c._isVList=!0,c}function ne(o,l,c,d){var v=this.$scopedSlots[o],_;v?(c=c||{},d&&(c=Ft(Ft({},d),c)),_=v(c)||(z(l)?l():l)):_=this.$slots[o]||(z(l)?l():l);var R=c&&c.slot;return R?this.$createElement("template",{slot:R},_):_}function we(o){return dl(this.$options,"filters",o,!0)||W}function J(o,l){return x(o)?o.indexOf(l)===-1:o!==l}function Z(o,l,c,d,v){var _=je.keyCodes[l]||c;return v&&d&&!je.keyCodes[l]?J(v,d):_?J(_,o):d?V(d)!==l:o===void 0}function ft(o,l,c,d,v){if(c&&Se(c)){x(c)&&(c=en(c));var _=void 0,R=function(ge){if(ge==="class"||ge==="style"||Ct(ge))_=o;else{var st=o.attrs&&o.attrs.type;_=d||je.mustUseProp(l,st,ge)?o.domProps||(o.domProps={}):o.attrs||(o.attrs={})}var kt=Vt(ge),zt=V(ge);if(!(kt in _)&&!(zt in _)&&(_[ge]=c[ge],v)){var Nn=o.on||(o.on={});Nn["update:".concat(ge)]=function(tr){c[ge]=tr}}};for(var q in c)R(q)}return o}function Ht(o,l){var c=this._staticTrees||(this._staticTrees=[]),d=c[o];return d&&!l||(d=c[o]=this.$options.staticRenderFns[o].call(this._renderProxy,this._c,this),ze(d,"__static__".concat(o),!1)),d}function gt(o,l,c){return ze(o,"__once__".concat(l).concat(c?"_".concat(c):""),!0),o}function ze(o,l,c){if(x(o))for(var d=0;d<o.length;d++)o[d]&&typeof o[d]!="string"&&Bn(o[d],"".concat(l,"_").concat(d),c);else Bn(o,l,c)}function Bn(o,l,c){o.isStatic=!0,o.key=l,o.isOnce=c}function Qn(o,l){if(l&&de(l)){var c=o.on=o.on?Ft({},o.on):{};for(var d in l){var v=c[d],_=l[d];c[d]=v?[].concat(v,_):_}}return o}function yr(o,l,c,d){l=l||{$stable:!c};for(var v=0;v<o.length;v++){var _=o[v];x(_)?yr(_,l,c):_&&(_.proxy&&(_.fn.proxy=!0),l[_.key]=_.fn)}return d&&(l.$key=d),l}function Sr(o,l){for(var c=0;c<l.length;c+=2){var d=l[c];typeof d=="string"&&d&&(o[l[c]]=l[c+1])}return o}function Ur(o,l){return typeof o=="string"?l+o:o}function ai(o){o._o=gt,o._n=on,o._s=Rt,o._l=pe,o._t=ne,o._q=Ue,o._i=nt,o._m=Ht,o._f=we,o._k=Z,o._b=ft,o._v=to,o._e=Ri,o._u=yr,o._g=Qn,o._d=Sr,o._p=Ur}function Pn(o,l){if(!o||!o.length)return{};for(var c={},d=0,v=o.length;d<v;d++){var _=o[d],R=_.data;if(R&&R.attrs&&R.attrs.slot&&delete R.attrs.slot,(_.context===l||_.fnContext===l)&&R&&R.slot!=null){var q=R.slot,ge=c[q]||(c[q]=[]);_.tag==="template"?ge.push.apply(ge,_.children||[]):ge.push(_)}else(c.default||(c.default=[])).push(_)}for(var st in c)c[st].every(ts)&&delete c[st];return c}function ts(o){return o.isComment&&!o.asyncFactory||o.text===" "}function Oa(o){return o.isComment&&o.asyncFactory}function Na(o,l,c,d){var v,_=Object.keys(c).length>0,R=l?!!l.$stable:!_,q=l&&l.$key;if(!l)v={};else{if(l._normalized)return l._normalized;if(R&&d&&d!==A&&q===d.$key&&!_&&!d.$hasNormal)return d;v={};for(var ge in l)l[ge]&&ge[0]!=="$"&&(v[ge]=ns(o,c,ge,l[ge]))}for(var st in c)st in v||(v[st]=iu(c,st));return l&&Object.isExtensible(l)&&(l._normalized=v),Dt(v,"$stable",R),Dt(v,"$key",q),Dt(v,"$hasNormal",_),v}function ns(o,l,c,d){var v=function(){var _=En;Xn(o);var R=arguments.length?d.apply(null,arguments):d({});R=R&&typeof R=="object"&&!x(R)?[R]:Ve(R);var q=R&&R[0];return Xn(_),R&&(!q||R.length===1&&q.isComment&&!Oa(q))?void 0:R};return d.proxy&&Object.defineProperty(l,c,{get:v,enumerable:!0,configurable:!0}),v}function iu(o,l){return function(){return o[l]}}function Is(o){var l=o.$options,c=l.setup;if(c){var d=o._setupContext=Os(o);Xn(o),gn();var v=xt(c,null,[o._props||C({}),d],o,"setup");if(wn(),Xn(),z(v))l.render=v;else if(Se(v))if(o._setupState=v,v.__sfc){var R=o._setupProxy={};for(var _ in v)_!=="__sfc"&&or(R,v,_)}else for(var _ in v)ct(_)||or(o,v,_)}}function Os(o){var l=!1;return{get attrs(){if(!o._attrsProxy){var c=o._attrsProxy={};Dt(c,"_v_attr_proxy",!0),rs(c,o.$attrs,A,o,"$attrs")}return o._attrsProxy},get listeners(){if(!o._listenersProxy){var c=o._listenersProxy={};rs(c,o.$listeners,A,o,"$listeners")}return o._listenersProxy},get slots(){return au(o)},emit:In(o.$emit,o),expose:function(c){c&&Object.keys(c).forEach(function(d){return or(o,c,d)})}}}function rs(o,l,c,d,v){var _=!1;for(var R in l)R in o?l[R]!==c[R]&&(_=!0):(_=!0,ou(o,R,d,v));for(var R in o)R in l||(_=!0,delete o[R]);return _}function ou(o,l,c,d){Object.defineProperty(o,l,{enumerable:!0,configurable:!0,get:function(){return c[d][l]}})}function au(o){return o._slotsProxy||fa(o._slotsProxy={},o.$scopedSlots),o._slotsProxy}function fa(o,l){for(var c in l)o[c]=l[c];for(var c in o)c in l||delete o[c]}function On(){return We().slots}function nr(){return We().attrs}function $t(){return We().listeners}function We(){var o=En;return o._setupContext||(o._setupContext=Os(o))}function an(o,l){var c=x(o)?o.reduce(function(_,R){return _[R]={},_},{}):o;for(var d in l){var v=c[d];v?x(v)||z(v)?c[d]={type:v,default:l[d]}:v.default=l[d]:v===null&&(c[d]={default:l[d]})}return c}function kn(o){o._vnode=null,o._staticTrees=null;var l=o.$options,c=o.$vnode=l._parentVnode,d=c&&c.context;o.$slots=Pn(l._renderChildren,d),o.$scopedSlots=c?Na(o.$parent,c.data.scopedSlots,o.$slots):A,o._c=function(_,R,q,ge){return Kn(o,_,R,q,ge,!1)},o.$createElement=function(_,R,q,ge){return Kn(o,_,R,q,ge,!0)};var v=c&&c.data;bt(o,"$attrs",v&&v.attrs||A,null,!0),bt(o,"$listeners",l._parentListeners||A,null,!0)}var Sn=null;function sn(o){ai(o.prototype),o.prototype.$nextTick=function(l){return cu(l,this)},o.prototype._render=function(){var l=this,c=l.$options,d=c.render,v=c._parentVnode;v&&l._isMounted&&(l.$scopedSlots=Na(l.$parent,v.data.scopedSlots,l.$slots,l.$scopedSlots),l._slotsProxy&&fa(l._slotsProxy,l.$scopedSlots)),l.$vnode=v;var _;try{Xn(l),Sn=l,_=d.call(l._renderProxy,l.$createElement)}catch(R){Pe(R,l,"render"),_=l._vnode}finally{Sn=null,Xn()}return x(_)&&_.length===1&&(_=_[0]),_ instanceof pr||(_=Ri()),_.parent=v,_}}function rn(o,l){return(o.__esModule||mr&&o[Symbol.toStringTag]==="Module")&&(o=o.default),Se(o)?l.extend(o):o}function An(o,l,c,d,v){var _=Ri();return _.asyncFactory=o,_.asyncMeta={data:l,context:c,children:d,tag:v},_}function Un(o,l){if(T(o.error)&&M(o.errorComp))return o.errorComp;if(M(o.resolved))return o.resolved;var c=Sn;if(c&&M(o.owners)&&o.owners.indexOf(c)===-1&&o.owners.push(c),T(o.loading)&&M(o.loadingComp))return o.loadingComp;if(c&&!M(o.owners)){var d=o.owners=[c],v=!0,_=null,R=null;c.$on("hook:destroyed",function(){return vt(d,c)});var q=function(zt){for(var Nn=0,tr=d.length;Nn<tr;Nn++)d[Nn].$forceUpdate();zt&&(d.length=0,_!==null&&(clearTimeout(_),_=null),R!==null&&(clearTimeout(R),R=null))},ge=re(function(zt){o.resolved=rn(zt,l),v?d.length=0:q(!0)}),st=re(function(zt){M(o.errorComp)&&(o.error=!0,q(!0))}),kt=o(ge,st);return Se(kt)&&(Xt(kt)?F(o.resolved)&&kt.then(ge,st):Xt(kt.component)&&(kt.component.then(ge,st),M(kt.error)&&(o.errorComp=rn(kt.error,l)),M(kt.loading)&&(o.loadingComp=rn(kt.loading,l),kt.delay===0?o.loading=!0:_=setTimeout(function(){_=null,F(o.resolved)&&F(o.error)&&(o.loading=!0,q(!1))},kt.delay||200)),M(kt.timeout)&&(R=setTimeout(function(){R=null,F(o.resolved)&&st(null)},kt.timeout)))),v=!1,o.loading?o.loadingComp:o.resolved}}function Br(o){if(x(o))for(var l=0;l<o.length;l++){var c=o[l];if(M(c)&&(M(c.componentOptions)||Oa(c)))return c}}function Fn(o){o._events=Object.create(null),o._hasHookEvent=!1;var l=o.$options._parentListeners;l&&Jt(o,l)}var Yt;function Rr(o,l){Yt.$on(o,l)}function zn(o,l){Yt.$off(o,l)}function Jn(o,l){var c=Yt;return function d(){var v=l.apply(null,arguments);v!==null&&c.$off(o,d)}}function Jt(o,l,c){Yt=o,et(l,c||{},Rr,zn,Jn,o),Yt=void 0}function si(o){var l=/^hook:/;o.prototype.$on=function(c,d){var v=this;if(x(c))for(var _=0,R=c.length;_<R;_++)v.$on(c[_],d);else(v._events[c]||(v._events[c]=[])).push(d),l.test(c)&&(v._hasHookEvent=!0);return v},o.prototype.$once=function(c,d){var v=this;function _(){v.$off(c,_),d.apply(v,arguments)}return _.fn=d,v.$on(c,_),v},o.prototype.$off=function(c,d){var v=this;if(!arguments.length)return v._events=Object.create(null),v;if(x(c)){for(var _=0,R=c.length;_<R;_++)v.$off(c[_],d);return v}var q=v._events[c];if(!q)return v;if(!d)return v._events[c]=null,v;for(var ge,st=q.length;st--;)if(ge=q[st],ge===d||ge.fn===d){q.splice(st,1);break}return v},o.prototype.$emit=function(c){var d=this;if(!1)var v;var _=d._events[c];if(_){_=_.length>1?qt(_):_;for(var R=qt(arguments,1),q='event handler for "'.concat(c,'"'),ge=0,st=_.length;ge<st;ge++)xt(_[ge],d,R,d,q)}return d}}var jr=null,kr=!1;function Mi(o){var l=jr;return jr=o,function(){jr=l}}function so(o){var l=o.$options,c=l.parent;if(c&&!l.abstract){for(;c.$options.abstract&&c.$parent;)c=c.$parent;c.$children.push(o)}o.$parent=c,o.$root=c?c.$root:o,o.$children=[],o.$refs={},o._provided=c?c._provided:Object.create(null),o._watcher=null,o._inactive=null,o._directInactive=!1,o._isMounted=!1,o._isDestroyed=!1,o._isBeingDestroyed=!1}function Kr(o){o.prototype._update=function(l,c){var d=this,v=d.$el,_=d._vnode,R=Mi(d);d._vnode=l,_?d.$el=d.__patch__(_,l):d.$el=d.__patch__(d.$el,l,c,!1),R(),v&&(v.__vue__=null),d.$el&&(d.$el.__vue__=d);for(var q=d;q&&q.$vnode&&q.$parent&&q.$vnode===q.$parent._vnode;)q.$parent.$el=q.$el,q=q.$parent},o.prototype.$forceUpdate=function(){var l=this;l._watcher&&l._watcher.update()},o.prototype.$destroy=function(){var l=this;if(!l._isBeingDestroyed){mi(l,"beforeDestroy"),l._isBeingDestroyed=!0;var c=l.$parent;c&&!c._isBeingDestroyed&&!l.$options.abstract&&vt(c.$children,l),l._scope.stop(),l._data.__ob__&&l._data.__ob__.vmCount--,l._isDestroyed=!0,l.__patch__(l._vnode,null),mi(l,"destroyed"),l.$off(),l.$el&&(l.$el.__vue__=null),l.$vnode&&(l.$vnode.parent=null)}}}function da(o,l,c){o.$el=l,o.$options.render||(o.$options.render=Ri),mi(o,"beforeMount");var d;d=function(){o._update(o._render(),c)};var v={before:function(){o._isMounted&&!o._isDestroyed&&mi(o,"beforeUpdate")}};new Bs(o,d,m,v,!0),c=!1;var _=o._preWatchers;if(_)for(var R=0;R<_.length;R++)_[R].run();return o.$vnode==null&&(o._isMounted=!0,mi(o,"mounted")),o}function bi(o,l,c,d,v){var _=d.data.scopedSlots,R=o.$scopedSlots,q=!!(_&&!_.$stable||R!==A&&!R.$stable||_&&o.$scopedSlots.$key!==_.$key||!_&&o.$scopedSlots.$key),ge=!!(v||o.$options._renderChildren||q),st=o.$vnode;o.$options._parentVnode=d,o.$vnode=d,o._vnode&&(o._vnode.parent=d),o.$options._renderChildren=v;var kt=d.data.attrs||A;o._attrsProxy&&rs(o._attrsProxy,kt,st.data&&st.data.attrs||A,o,"$attrs")&&(ge=!0),o.$attrs=kt,c=c||A;var zt=o.$options._parentListeners;if(o._listenersProxy&&rs(o._listenersProxy,c,zt||A,o,"$listeners"),o.$listeners=o.$options._parentListeners=c,Jt(o,c,zt),l&&o.$options.props){fe(!1);for(var Nn=o._props,tr=o.$options._propKeys||[],Or=0;Or<tr.length;Or++){var Tt=tr[Or],ar=o.$options.props;Nn[Tt]=yu(Tt,ar,l,o)}fe(!0),o.$options.propsData=l}ge&&(o.$slots=Pn(v,d.context),o.$forceUpdate())}function Oi(o){for(;o&&(o=o.$parent);)if(o._inactive)return!0;return!1}function ci(o,l){if(l){if(o._directInactive=!1,Oi(o))return}else if(o._directInactive)return;if(o._inactive||o._inactive===null){o._inactive=!1;for(var c=0;c<o.$children.length;c++)ci(o.$children[c]);mi(o,"activated")}}function wi(o,l){if(!(l&&(o._directInactive=!0,Oi(o)))&&!o._inactive){o._inactive=!0;for(var c=0;c<o.$children.length;c++)wi(o.$children[c]);mi(o,"deactivated")}}function mi(o,l,c,d){d===void 0&&(d=!0),gn();var v=En;d&&Xn(o);var _=o.$options[l],R="".concat(l," hook");if(_)for(var q=0,ge=_.length;q<ge;q++)xt(_[q],o,c||null,o,R);o._hasHookEvent&&o.$emit("hook:"+l),d&&Xn(v),wn()}var os=100,xi=[],Di=[],Ki={},nl={},as=!1,ei=!1,ta=0;function su(){ta=xi.length=Di.length=0,Ki={},as=ei=!1}var _o=0,ss=Date.now;if(B&&!H){var Zi=window.performance;Zi&&typeof Zi.now=="function"&&ss()>document.createEvent("Event").timeStamp&&(ss=function(){return Zi.now()})}var ls=function(o,l){if(o.post){if(!l.post)return 1}else if(l.post)return-1;return o.id-l.id};function rl(){_o=ss(),ei=!0;var o,l;for(xi.sort(ls),ta=0;ta<xi.length;ta++)o=xi[ta],o.before&&o.before(),l=o.id,Ki[l]=null,o.run();var c=Di.slice(),d=xi.slice();su(),il(c),Ns(d),Pt&&je.devtools&&Pt.emit("flush")}function Ns(o){for(var l=o.length;l--;){var c=o[l],d=c.vm;d&&d._watcher===c&&d._isMounted&&!d._isDestroyed&&mi(d,"updated")}}function us(o){o._inactive=!1,Di.push(o)}function il(o){for(var l=0;l<o.length;l++)o[l]._inactive=!0,ci(o[l],!0)}function La(o){var l=o.id;if(Ki[l]==null&&!(o===Ii.target&&o.noRecurse)){if(Ki[l]=!0,!ei)xi.push(o);else{for(var c=xi.length-1;c>ta&&xi[c].id>o.id;)c--;xi.splice(c+1,0,o)}as||(as=!0,cu(rl))}}var na="watcher",cs="".concat(na," callback"),pa="".concat(na," getter"),ol="".concat(na," cleanup");function Ls(o,l){return Fo(o,null,l)}function al(o,l){return Fo(o,null,{flush:"post"})}function lu(o,l){return Fo(o,null,{flush:"sync"})}var Ra={};function uu(o,l,c){return Fo(o,l,c)}function Fo(o,l,c){var d=c===void 0?A:c,v=d.immediate,_=d.deep,R=d.flush,q=R===void 0?"pre":R,ge=d.onTrack,st=d.onTrigger,kt=function(sr){Bi("Invalid watch source: ".concat(sr,". A watch source can only be a getter/effect ")+"function, a ref, a reactive object, or an array of these types.")},zt=En,Nn=function(sr,ti,Yr){return Yr===void 0&&(Yr=null),xt(sr,null,Yr,zt,ti)},tr,Or=!1,Tt=!1;if(dn(o)?(tr=function(){return o.value},Or=Me(o)):Ee(o)?(tr=function(){return o.__ob__.dep.depend(),o},_=!0):x(o)?(Tt=!0,Or=o.some(function(sr){return Ee(sr)||Me(sr)}),tr=function(){return o.map(function(sr){if(dn(sr))return sr.value;if(Ee(sr))return ds(sr);if(z(sr))return Nn(sr,pa)})}):z(o)?l?tr=function(){return Nn(o,pa)}:tr=function(){if(!(zt&&zt._isDestroyed))return Ir&&Ir(),Nn(o,na,[dr])}:tr=m,l&&_){var ar=tr;tr=function(){return ds(ar())}}var Ir,dr=function(sr){Ir=Pr.onStop=function(){Nn(sr,ol)}};if(qn())return dr=m,l?v&&Nn(l,cs,[tr(),Tt?[]:void 0,dr]):tr(),m;var Pr=new Bs(En,tr,m,{lazy:!0});Pr.noRecurse=!l;var Qr=Tt?[]:Ra;return Pr.run=function(){if(!!Pr.active)if(l){var sr=Pr.get();(_||Or||(Tt?sr.some(function(ti,Yr){return _e(ti,Qr[Yr])}):_e(sr,Qr)))&&(Ir&&Ir(),Nn(l,cs,[sr,Qr===Ra?void 0:Qr,dr]),Qr=sr)}else Pr.get()},q==="sync"?Pr.update=Pr.run:q==="post"?(Pr.post=!0,Pr.update=function(){return La(Pr)}):Pr.update=function(){if(zt&&zt===En&&!zt._isMounted){var sr=zt._preWatchers||(zt._preWatchers=[]);sr.indexOf(Pr)<0&&sr.push(Pr)}else La(Pr)},l?v?Pr.run():Qr=Pr.get():q==="post"&&zt?zt.$once("hook:mounted",function(){return Pr.get()}):Pr.get(),function(){Pr.teardown()}}var gi,fs=function(){function o(l){l===void 0&&(l=!1),this.active=!0,this.effects=[],this.cleanups=[],!l&&gi&&(this.parent=gi,this.index=(gi.scopes||(gi.scopes=[])).push(this)-1)}return o.prototype.run=function(l){if(this.active){var c=gi;try{return gi=this,l()}finally{gi=c}}},o.prototype.on=function(){gi=this},o.prototype.off=function(){gi=this.parent},o.prototype.stop=function(l){if(this.active){var c=void 0,d=void 0;for(c=0,d=this.effects.length;c<d;c++)this.effects[c].teardown();for(c=0,d=this.cleanups.length;c<d;c++)this.cleanups[c]();if(this.scopes)for(c=0,d=this.scopes.length;c<d;c++)this.scopes[c].stop(!0);if(this.parent&&!l){var v=this.parent.scopes.pop();v&&v!==this&&(this.parent.scopes[this.index]=v,v.index=this.index)}this.active=!1}},o}();function Rs(o){return new fs(o)}function sl(o,l){l===void 0&&(l=gi),l&&l.active&&l.effects.push(o)}function Ds(){return gi}function U(o){gi&&gi.cleanups.push(o)}function be(o,l){En&&(oe(En)[o]=l)}function oe(o){var l=o._provided,c=o.$parent&&o.$parent._provided;return c===l?o._provided=Object.create(c):l}function ke(o,l,c){c===void 0&&(c=!1);var d=En;if(d){var v=d.$parent&&d.$parent._provided;if(v&&o in v)return v[o];if(arguments.length>1)return c&&z(l)?l.call(d):l}}function ye(o,l,c){return Kn(En,o,l,c,2,!0)}function Pe(o,l,c){gn();try{if(l)for(var d=l;d=d.$parent;){var v=d.$options.errorCaptured;if(v)for(var _=0;_<v.length;_++)try{var R=v[_].call(d,o,l,c)===!1;if(R)return}catch(q){ln(q,d,"errorCaptured hook")}}ln(o,l,c)}finally{wn()}}function xt(o,l,c,d,v){var _;try{_=c?o.apply(l,c):o.call(l),_&&!_._isVue&&Xt(_)&&!_._handled&&(_.catch(function(R){return Pe(R,d,v+" (Promise/async)")}),_._handled=!0)}catch(R){Pe(R,d,v)}return _}function ln(o,l,c){if(je.errorHandler)try{return je.errorHandler.call(null,o,l,c)}catch(d){d!==o&&Ut(d,null,"config.errorHandler")}Ut(o,l,c)}function Ut(o,l,c){if(B&&typeof console<"u")console.error(o);else throw o}var pt=!1,$n=[],er=!1;function gr(){er=!1;var o=$n.slice(0);$n.length=0;for(var l=0;l<o.length;l++)o[l]()}var Er;if(typeof Promise<"u"&&Nt(Promise)){var zr=Promise.resolve();Er=function(){zr.then(gr),Je&&setTimeout(m)},pt=!0}else if(!H&&typeof MutationObserver<"u"&&(Nt(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var ni=1,Ln=new MutationObserver(gr),ll=document.createTextNode(String(ni));Ln.observe(ll,{characterData:!0}),Er=function(){ni=(ni+1)%2,ll.data=String(ni)},pt=!0}else typeof setImmediate<"u"&&Nt(setImmediate)?Er=function(){setImmediate(gr)}:Er=function(){setTimeout(gr,0)};function cu(o,l){var c;if($n.push(function(){if(o)try{o.call(l)}catch(d){Pe(d,l,"nextTick")}else c&&c(l)}),er||(er=!0,Er()),!o&&typeof Promise<"u")return new Promise(function(d){c=d})}function pv(o){o===void 0&&(o="$style");{if(!En)return A;var l=En[o];return l||A}}function Bc(o){if(!!B){var l=En;!l||al(function(){var c=l.$el,d=o(l,l._setupProxy);if(c&&c.nodeType===1){var v=c.style;for(var _ in d)v.setProperty("--".concat(_),d[_])}})}}function Fc(o){z(o)&&(o={loader:o});var l=o.loader,c=o.loadingComponent,d=o.errorComponent,v=o.delay,_=v===void 0?200:v,R=o.timeout,q=o.suspensible,ge=q===void 0?!1:q,st=o.onError,kt=null,zt=0,Nn=function(){return zt++,kt=null,tr()},tr=function(){var Or;return kt||(Or=kt=l().catch(function(Tt){if(Tt=Tt instanceof Error?Tt:new Error(String(Tt)),st)return new Promise(function(ar,Ir){var dr=function(){return ar(Nn())},Pr=function(){return Ir(Tt)};st(Tt,dr,Pr,zt+1)});throw Tt}).then(function(Tt){return Or!==kt&&kt?kt:(Tt&&(Tt.__esModule||Tt[Symbol.toStringTag]==="Module")&&(Tt=Tt.default),Tt)}))};return function(){var Or=tr();return{component:Or,delay:_,timeout:R,error:d,loading:c}}}function yo(o){return function(l,c){if(c===void 0&&(c=En),!!c)return C0(c,o,l)}}function bo(o){return o==="beforeDestroy"?o="beforeUnmount":o==="destroyed"&&(o="unmounted"),"on".concat(o[0].toUpperCase()+o.slice(1))}function C0(o,l,c){var d=o.$options;d[l]=nf(d[l],c)}var hv=yo("beforeMount"),E0=yo("mounted"),vv=yo("beforeUpdate"),w0=yo("updated"),fu=yo("beforeDestroy"),mv=yo("destroyed"),Gi=yo("activated"),P0=yo("deactivated"),gv=yo("serverPrefetch"),Ai=yo("renderTracked"),$c=yo("renderTriggered"),Hc=yo("errorCaptured");function _v(o,l){l===void 0&&(l=En),Hc(o,l)}var Uc="2.7.10";function Da(o){return o}var jc=new ur;function ds(o){return Ao(o,jc),jc.clear(),o}function Ao(o,l){var c,d,v=x(o);if(!(!v&&!Se(o)||Object.isFrozen(o)||o instanceof pr)){if(o.__ob__){var _=o.__ob__.dep.id;if(l.has(_))return;l.add(_)}if(v)for(c=o.length;c--;)Ao(o[c],l);else if(dn(o))Ao(o.value,l);else for(d=Object.keys(o),c=d.length;c--;)Ao(o[d[c]],l)}}var Gc=0,Bs=function(){function o(l,c,d,v,_){sl(this,gi&&!gi._vm?gi:l?l._scope:void 0),(this.vm=l)&&_&&(l._watcher=this),v?(this.deep=!!v.deep,this.user=!!v.user,this.lazy=!!v.lazy,this.sync=!!v.sync,this.before=v.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=d,this.id=++Gc,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ur,this.newDepIds=new ur,this.expression="",z(c)?this.getter=c:(this.getter=xe(c),this.getter||(this.getter=m)),this.value=this.lazy?void 0:this.get()}return o.prototype.get=function(){gn(this);var l,c=this.vm;try{l=this.getter.call(c,c)}catch(d){if(this.user)Pe(d,c,'getter for watcher "'.concat(this.expression,'"'));else throw d}finally{this.deep&&ds(l),wn(),this.cleanupDeps()}return l},o.prototype.addDep=function(l){var c=l.id;this.newDepIds.has(c)||(this.newDepIds.add(c),this.newDeps.push(l),this.depIds.has(c)||l.addSub(this))},o.prototype.cleanupDeps=function(){for(var l=this.deps.length;l--;){var c=this.deps[l];this.newDepIds.has(c.id)||c.removeSub(this)}var d=this.depIds;this.depIds=this.newDepIds,this.newDepIds=d,this.newDepIds.clear(),d=this.deps,this.deps=this.newDeps,this.newDeps=d,this.newDeps.length=0},o.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():La(this)},o.prototype.run=function(){if(this.active){var l=this.get();if(l!==this.value||Se(l)||this.deep){var c=this.value;if(this.value=l,this.user){var d='callback for watcher "'.concat(this.expression,'"');xt(this.cb,this.vm,[l,c],this.vm,d)}else this.cb.call(this.vm,l,c)}}},o.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},o.prototype.depend=function(){for(var l=this.deps.length;l--;)this.deps[l].depend()},o.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&vt(this.vm._scope.effects,this),this.active){for(var l=this.deps.length;l--;)this.deps[l].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},o}(),ha={enumerable:!0,configurable:!0,get:m,set:m};function du(o,l,c){ha.get=function(){return this[l][c]},ha.set=function(v){this[l][c]=v},Object.defineProperty(o,c,ha)}function S0(o){var l=o.$options;if(l.props&&Ba(o,l.props),Is(o),l.methods&&M0(o,l.methods),l.data)zc(o);else{var c=Gt(o._data={});c&&c.vmCount++}l.computed&&Vc(o,l.computed),l.watch&&l.watch!==Fe&&x0(o,l.watch)}function Ba(o,l){var c=o.$options.propsData||{},d=o._props=C({}),v=o.$options._propKeys=[],_=!o.$parent;_||fe(!1);var R=function(ge){v.push(ge);var st=yu(ge,l,c,o);if(!1)var kt;else bt(d,ge,st);ge in o||du(o,"_props",ge)};for(var q in l)R(q);fe(!0)}function zc(o){var l=o.$options.data;l=o._data=z(l)?Wc(l,o):l||{},de(l)||(l={});for(var c=Object.keys(l),d=o.$options.props,v=o.$options.methods,_=c.length;_--;){var R=c[_];d&&jt(d,R)||ct(R)||du(o,"_data",R)}var q=Gt(l);q&&q.vmCount++}function Wc(o,l){gn();try{return o.call(l,l)}catch(c){return Pe(c,l,"data()"),{}}finally{wn()}}var T0={lazy:!0};function Vc(o,l){var c=o._computedWatchers=Object.create(null),d=qn();for(var v in l){var _=l[v],R=z(_)?_:_.get;d||(c[v]=new Bs(o,R||m,m,T0)),v in o||qc(o,v,_)}}function qc(o,l,c){var d=!qn();z(c)?(ha.get=d?Kc(l):Zc(c),ha.set=m):(ha.get=c.get?d&&c.cache!==!1?Kc(l):Zc(c.get):m,ha.set=c.set||m),Object.defineProperty(o,l,ha)}function Kc(o){return function(){var c=this._computedWatchers&&this._computedWatchers[o];if(c)return c.dirty&&c.evaluate(),Ii.target&&c.depend(),c.value}}function Zc(o){return function(){return o.call(this,this)}}function M0(o,l){var c=o.$options.props;for(var d in l)o[d]=typeof l[d]!="function"?m:In(l[d],o)}function x0(o,l){for(var c in l){var d=l[c];if(x(d))for(var v=0;v<d.length;v++)pu(o,c,d[v]);else pu(o,c,d)}}function pu(o,l,c,d){return de(c)&&(d=c,c=c.handler),typeof c=="string"&&(c=o[c]),o.$watch(l,c,d)}function k0(o){var l={};l.get=function(){return this._data};var c={};c.get=function(){return this._props},Object.defineProperty(o.prototype,"$data",l),Object.defineProperty(o.prototype,"$props",c),o.prototype.$set=Oe,o.prototype.$delete=mt,o.prototype.$watch=function(d,v,_){var R=this;if(de(v))return pu(R,d,v,_);_=_||{},_.user=!0;var q=new Bs(R,d,v,_);if(_.immediate){var ge='callback for immediate watcher "'.concat(q.expression,'"');gn(),xt(v,R,[q.value],R,ge),wn()}return function(){q.teardown()}}}function I0(o){var l=o.$options.provide;if(l){var c=z(l)?l.call(o):l;if(!Se(c))return;for(var d=oe(o),v=mr?Reflect.ownKeys(c):Object.keys(c),_=0;_<v.length;_++){var R=v[_];Object.defineProperty(d,R,Object.getOwnPropertyDescriptor(c,R))}}}function O0(o){var l=Xc(o.$options.inject,o);l&&(fe(!1),Object.keys(l).forEach(function(c){bt(o,c,l[c])}),fe(!0))}function Xc(o,l){if(o){for(var c=Object.create(null),d=mr?Reflect.ownKeys(o):Object.keys(o),v=0;v<d.length;v++){var _=d[v];if(_!=="__ob__"){var R=o[_].from;if(R in l._provided)c[_]=l._provided[R];else if("default"in o[_]){var q=o[_].default;c[_]=z(q)?q.call(l):q}}}return c}}var hu=0;function vu(o){o.prototype._init=function(l){var c=this;c._uid=hu++;var d,v;c._isVue=!0,c.__v_skip=!0,c._scope=new fs(!0),c._scope._vm=!0,l&&l._isComponent?N0(c,l):c.$options=va(ul(c.constructor),l||{},c),c._renderProxy=c,c._self=c,so(c),Fn(c),kn(c),mi(c,"beforeCreate",void 0,!1),O0(c),S0(c),I0(c),mi(c,"created"),c.$options.el&&c.$mount(c.$options.el)}}function N0(o,l){var c=o.$options=Object.create(o.constructor.options),d=l._parentVnode;c.parent=l.parent,c._parentVnode=d;var v=d.componentOptions;c.propsData=v.propsData,c._parentListeners=v.listeners,c._renderChildren=v.children,c._componentTag=v.tag,l.render&&(c.render=l.render,c.staticRenderFns=l.staticRenderFns)}function ul(o){var l=o.options;if(o.super){var c=ul(o.super),d=o.superOptions;if(c!==d){o.superOptions=c;var v=L0(o);v&&Ft(o.extendOptions,v),l=o.options=va(c,o.extendOptions),l.name&&(l.components[l.name]=o)}}return l}function L0(o){var l,c=o.options,d=o.sealedOptions;for(var v in c)c[v]!==d[v]&&(l||(l={}),l[v]=c[v]);return l}function Co(o,l,c,d,v){var _=this,R=v.options,q;jt(d,"_uid")?(q=Object.create(d),q._original=d):(q=d,d=d._original);var ge=T(R._compiled),st=!ge;this.data=o,this.props=l,this.children=c,this.parent=d,this.listeners=o.on||A,this.injections=Xc(R.inject,d),this.slots=function(){return _.$slots||Na(d,o.scopedSlots,_.$slots=Pn(c,d)),_.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Na(d,o.scopedSlots,this.slots())}}),ge&&(this.$options=R,this.$slots=this.slots(),this.$scopedSlots=Na(d,o.scopedSlots,this.$slots)),R._scopeId?this._c=function(kt,zt,Nn,tr){var Or=Kn(q,kt,zt,Nn,tr,st);return Or&&!x(Or)&&(Or.fnScopeId=R._scopeId,Or.fnContext=d),Or}:this._c=function(kt,zt,Nn,tr){return Kn(q,kt,zt,Nn,tr,st)}}ai(Co.prototype);function R0(o,l,c,d,v){var _=o.options,R={},q=_.props;if(M(q))for(var ge in q)R[ge]=yu(ge,q,l||A);else M(c.attrs)&&Yc(R,c.attrs),M(c.props)&&Yc(R,c.props);var st=new Co(c,R,v,d,o),kt=_.render.call(null,st._c,st);if(kt instanceof pr)return Qc(kt,c,st.parent,_,st);if(x(kt)){for(var zt=Ve(kt)||[],Nn=new Array(zt.length),tr=0;tr<zt.length;tr++)Nn[tr]=Qc(zt[tr],c,st.parent,_,st);return Nn}}function Qc(o,l,c,d,v){var _=vo(o);return _.fnContext=c,_.fnOptions=d,l.slot&&((_.data||(_.data={})).slot=l.slot),_}function Yc(o,l){for(var c in l)o[Vt(c)]=l[c]}function cl(o){return o.name||o.__name||o._componentTag}var mu={init:function(o,l){if(o.componentInstance&&!o.componentInstance._isDestroyed&&o.data.keepAlive){var c=o;mu.prepatch(c,c)}else{var d=o.componentInstance=tf(o,jr);d.$mount(l?o.elm:void 0,l)}},prepatch:function(o,l){var c=l.componentOptions,d=l.componentInstance=o.componentInstance;bi(d,c.propsData,c.listeners,l,c.children)},insert:function(o){var l=o.context,c=o.componentInstance;c._isMounted||(c._isMounted=!0,mi(c,"mounted")),o.data.keepAlive&&(l._isMounted?us(c):ci(c,!0))},destroy:function(o){var l=o.componentInstance;l._isDestroyed||(o.data.keepAlive?wi(l,!0):l.$destroy())}},Jc=Object.keys(mu);function ef(o,l,c,d,v){if(!F(o)){var _=c.$options._base;if(Se(o)&&(o=_.extend(o)),typeof o=="function"){var R;if(F(o.cid)&&(R=o,o=Un(R,_),o===void 0))return An(R,l,c,d,v);l=l||{},ul(o),M(l.model)&&F0(o.options,l);var q=Be(l,o,v);if(T(o.options.functional))return R0(o,q,l,c,d);var ge=l.on;if(l.on=l.nativeOn,T(o.options.abstract)){var st=l.slot;l={},st&&(l.slot=st)}D0(l);var kt=cl(o.options)||v,zt=new pr("vue-component-".concat(o.cid).concat(kt?"-".concat(kt):""),l,void 0,void 0,void 0,c,{Ctor:o,propsData:q,listeners:ge,tag:v,children:d},R);return zt}}}function tf(o,l){var c={_isComponent:!0,_parentVnode:o,parent:l},d=o.data.inlineTemplate;return M(d)&&(c.render=d.render,c.staticRenderFns=d.staticRenderFns),new o.componentOptions.Ctor(c)}function D0(o){for(var l=o.hook||(o.hook={}),c=0;c<Jc.length;c++){var d=Jc[c],v=l[d],_=mu[d];v!==_&&!(v&&v._merged)&&(l[d]=v?B0(_,v):_)}}function B0(o,l){var c=function(d,v){o(d,v),l(d,v)};return c._merged=!0,c}function F0(o,l){var c=o.model&&o.model.prop||"value",d=o.model&&o.model.event||"input";(l.attrs||(l.attrs={}))[c]=l.model.value;var v=l.on||(l.on={}),_=v[d],R=l.model.callback;M(_)?(x(_)?_.indexOf(R)===-1:_!==R)&&(v[d]=[R].concat(_)):v[d]=R}var Bi=m,fl=null,Fa,Eo;if(!1)var $0,yv,bv,Av;var $o=je.optionMergeStrategies;function gu(o,l){if(!l)return o;for(var c,d,v,_=mr?Reflect.ownKeys(l):Object.keys(l),R=0;R<_.length;R++)c=_[R],c!=="__ob__"&&(d=o[c],v=l[c],jt(o,c)?d!==v&&de(d)&&de(v)&&gu(d,v):Oe(o,c,v));return o}function _u(o,l,c){return c?function(){var v=z(l)?l.call(c,c):l,_=z(o)?o.call(c,c):o;return v?gu(v,_):_}:l?o?function(){return gu(z(l)?l.call(this,this):l,z(o)?o.call(this,this):o)}:l:o}$o.data=function(o,l,c){return c?_u(o,l,c):l&&typeof l!="function"?o:_u(o,l)};function nf(o,l){var c=l?o?o.concat(l):x(l)?l:[l]:o;return c&&H0(c)}function H0(o){for(var l=[],c=0;c<o.length;c++)l.indexOf(o[c])===-1&&l.push(o[c]);return l}me.forEach(function(o){$o[o]=nf});function U0(o,l,c,d){var v=Object.create(o||null);return l?Ft(v,l):v}K.forEach(function(o){$o[o+"s"]=U0}),$o.watch=function(o,l,c,d){if(o===Fe&&(o=void 0),l===Fe&&(l=void 0),!l)return Object.create(o||null);if(!o)return l;var v={};Ft(v,o);for(var _ in l){var R=v[_],q=l[_];R&&!x(R)&&(R=[R]),v[_]=R?R.concat(q):x(q)?q:[q]}return v},$o.props=$o.methods=$o.inject=$o.computed=function(o,l,c,d){if(!o)return l;var v=Object.create(null);return Ft(v,o),l&&Ft(v,l),v},$o.provide=_u;var j0=function(o,l){return l===void 0?o:l};function Cv(o){for(var l in o.components)G0(l)}function G0(o){new RegExp("^[a-zA-Z][\\-\\.0-9_".concat(ve.source,"]*$")).test(o)||Bi('Invalid component name: "'+o+'". Component names should conform to valid custom element name in html5 specification.'),(nn(o)||je.isReservedTag(o))&&Bi("Do not use built-in or reserved HTML elements as component id: "+o)}function z0(o,l){var c=o.props;if(!!c){var d={},v,_,R;if(x(c))for(v=c.length;v--;)_=c[v],typeof _=="string"&&(R=Vt(_),d[R]={type:null});else if(de(c))for(var q in c)_=c[q],R=Vt(q),d[R]=de(_)?_:{type:_};o.props=d}}function W0(o,l){var c=o.inject;if(!!c){var d=o.inject={};if(x(c))for(var v=0;v<c.length;v++)d[c[v]]={from:c[v]};else if(de(c))for(var _ in c){var R=c[_];d[_]=de(R)?Ft({from:_},R):{from:R}}}}function rf(o){var l=o.directives;if(l)for(var c in l){var d=l[c];z(d)&&(l[c]={bind:d,update:d})}}function V0(o,l,c){de(l)||Bi('Invalid value for option "'.concat(o,'": expected an Object, ')+"but got ".concat(Ge(l),"."),c)}function va(o,l,c){if(z(l)&&(l=l.options),z0(l,c),W0(l,c),rf(l),!l._base&&(l.extends&&(o=va(o,l.extends,c)),l.mixins))for(var d=0,v=l.mixins.length;d<v;d++)o=va(o,l.mixins[d],c);var _={},R;for(R in o)q(R);for(R in l)jt(o,R)||q(R);function q(ge){var st=$o[ge]||j0;_[ge]=st(o[ge],l[ge],c,ge)}return _}function dl(o,l,c,d){if(typeof c=="string"){var v=o[l];if(jt(v,c))return v[c];var _=Vt(c);if(jt(v,_))return v[_];var R=O(_);if(jt(v,R))return v[R];var q=v[c]||v[_]||v[R];return q}}function yu(o,l,c,d){var v=l[o],_=!jt(c,o),R=c[o],q=hl(Boolean,v.type);if(q>-1){if(_&&!jt(v,"default"))R=!1;else if(R===""||R===V(o)){var ge=hl(String,v.type);(ge<0||q<ge)&&(R=!0)}}if(R===void 0){R=ma(d,v,o);var st=L;fe(!0),Gt(R),fe(st)}return R}function ma(o,l,c){if(!!jt(l,"default")){var d=l.default;return o&&o.$options.propsData&&o.$options.propsData[c]===void 0&&o._props[c]!==void 0?o._props[c]:z(d)&&no(l.type)!=="Function"?d.call(o):d}}function pl(o,l,c,d,v){if(o.required&&v){Bi('Missing required prop: "'+l+'"',d);return}if(!(c==null&&!o.required)){var _=o.type,R=!_||_===!0,q=[];if(_){x(_)||(_=[_]);for(var ge=0;ge<_.length&&!R;ge++){var st=q0(c,_[ge],d);q.push(st.expectedType||""),R=st.valid}}var kt=q.some(function(Nn){return Nn});if(!R&&kt){Bi(Ot(l,c,q),d);return}var zt=o.validator;zt&&(zt(c)||Bi('Invalid prop: custom validator check failed for prop "'+l+'".',d))}}var of=/^(String|Number|Boolean|Function|Symbol|BigInt)$/;function q0(o,l,c){var d,v=no(l);if(of.test(v)){var _=typeof o;d=_===v.toLowerCase(),!d&&_==="object"&&(d=o instanceof l)}else if(v==="Object")d=de(o);else if(v==="Array")d=x(o);else try{d=o instanceof l}catch{Bi('Invalid prop type: "'+String(l)+'" is not a constructor',c),d=!1}return{valid:d,expectedType:v}}var K0=/^\s*function (\w+)/;function no(o){var l=o&&o.toString().match(K0);return l?l[1]:""}function af(o,l){return no(o)===no(l)}function hl(o,l){if(!x(l))return af(l,o)?0:-1;for(var c=0,d=l.length;c<d;c++)if(af(l[c],o))return c;return-1}function Ot(o,l,c){var d='Invalid prop: type check failed for prop "'.concat(o,'".')+" Expected ".concat(c.map(O).join(", ")),v=c[0],_=Ge(l);return c.length===1&&ga(v)&&ga(typeof l)&&!vl(v,_)&&(d+=" with value ".concat(Xr(l,v))),d+=", got ".concat(_," "),ga(_)&&(d+="with value ".concat(Xr(l,_),".")),d}function Xr(o,l){return l==="String"?'"'.concat(o,'"'):l==="Number"?"".concat(Number(o)):"".concat(o)}var lo=null;function ga(o){return lo.some(function(l){return o.toLowerCase()===l})}function vl(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return o.some(function(c){return c.toLowerCase()==="boolean"})}function _i(o){this._init(o)}vu(_i),k0(_i),si(_i),Kr(_i),sn(_i);function Z0(o){o.use=function(l){var c=this._installedPlugins||(this._installedPlugins=[]);if(c.indexOf(l)>-1)return this;var d=qt(arguments,1);return d.unshift(this),z(l.install)?l.install.apply(l,d):z(l)&&l.apply(null,d),c.push(l),this}}function X0(o){o.mixin=function(l){return this.options=va(this.options,l),this}}function Q0(o){o.cid=0;var l=1;o.extend=function(c){c=c||{};var d=this,v=d.cid,_=c._Ctor||(c._Ctor={});if(_[v])return _[v];var R=cl(c)||cl(d.options),q=function(st){this._init(st)};return q.prototype=Object.create(d.prototype),q.prototype.constructor=q,q.cid=l++,q.options=va(d.options,c),q.super=d,q.options.props&&Y0(q),q.options.computed&&J0(q),q.extend=d.extend,q.mixin=d.mixin,q.use=d.use,K.forEach(function(ge){q[ge]=d[ge]}),R&&(q.options.components[R]=q),q.superOptions=d.options,q.extendOptions=c,q.sealedOptions=Ft({},q.options),_[v]=q,q}}function Y0(o){var l=o.options.props;for(var c in l)du(o.prototype,"_props",c)}function J0(o){var l=o.options.computed;for(var c in l)qc(o.prototype,c,l[c])}function sf(o){K.forEach(function(l){o[l]=function(c,d){return d?(l==="component"&&de(d)&&(d.name=d.name||c,d=this.options._base.extend(d)),l==="directive"&&z(d)&&(d={bind:d,update:d}),this.options[l+"s"][c]=d,d):this.options[l+"s"][c]}})}function lf(o){return o&&(cl(o.Ctor.options)||o.tag)}function ml(o,l){return x(o)?o.indexOf(l)>-1:typeof o=="string"?o.split(",").indexOf(l)>-1:k(o)?o.test(l):!1}function ps(o,l){var c=o.cache,d=o.keys,v=o._vnode;for(var _ in c){var R=c[_];if(R){var q=R.name;q&&!l(q)&&bu(c,_,d,v)}}}function bu(o,l,c,d){var v=o[l];v&&(!d||v.tag!==d.tag)&&v.componentInstance.$destroy(),o[l]=null,vt(c,l)}var uf=[String,RegExp,Array],ep={name:"keep-alive",abstract:!0,props:{include:uf,exclude:uf,max:[String,Number]},methods:{cacheVNode:function(){var o=this,l=o.cache,c=o.keys,d=o.vnodeToCache,v=o.keyToCache;if(d){var _=d.tag,R=d.componentInstance,q=d.componentOptions;l[v]={name:lf(q),tag:_,componentInstance:R},c.push(v),this.max&&c.length>parseInt(this.max)&&bu(l,c[0],c,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var o in this.cache)bu(this.cache,o,this.keys)},mounted:function(){var o=this;this.cacheVNode(),this.$watch("include",function(l){ps(o,function(c){return ml(l,c)})}),this.$watch("exclude",function(l){ps(o,function(c){return!ml(l,c)})})},updated:function(){this.cacheVNode()},render:function(){var o=this.$slots.default,l=Br(o),c=l&&l.componentOptions;if(c){var d=lf(c),v=this,_=v.include,R=v.exclude;if(_&&(!d||!ml(_,d))||R&&d&&ml(R,d))return l;var q=this,ge=q.cache,st=q.keys,kt=l.key==null?c.Ctor.cid+(c.tag?"::".concat(c.tag):""):l.key;ge[kt]?(l.componentInstance=ge[kt].componentInstance,vt(st,kt),st.push(kt)):(this.vnodeToCache=l,this.keyToCache=kt),l.data.keepAlive=!0}return l||o&&o[0]}},tp={KeepAlive:ep};function cf(o){var l={};l.get=function(){return je},Object.defineProperty(o,"config",l),o.util={warn:Bi,extend:Ft,mergeOptions:va,defineReactive:bt},o.set=Oe,o.delete=mt,o.nextTick=cu,o.observable=function(c){return Gt(c),c},o.options=Object.create(null),K.forEach(function(c){o.options[c+"s"]=Object.create(null)}),o.options._base=o,Ft(o.options.components,tp),Z0(o),X0(o),Q0(o),sf(o)}cf(_i),Object.defineProperty(_i.prototype,"$isServer",{get:qn}),Object.defineProperty(_i.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(_i,"FunctionalRenderContext",{value:Co}),_i.version=Uc;var $a=ut("style,class"),Tr=ut("input,textarea,option,select,progress"),Au=function(o,l,c){return c==="value"&&Tr(o)&&l!=="button"||c==="selected"&&o==="option"||c==="checked"&&o==="input"||c==="muted"&&o==="video"},ff=ut("contenteditable,draggable,spellcheck"),gl=ut("events,caret,typing,plaintext-only"),Ev=function(o,l){return Fs(l)||l==="false"?"false":o==="contenteditable"&&gl(l)?l:"true"},df=ut("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Cu="http://www.w3.org/1999/xlink",Eu=function(o){return o.charAt(5)===":"&&o.slice(0,5)==="xlink"},pf=function(o){return Eu(o)?o.slice(6,o.length):""},Fs=function(o){return o==null||o===!1};function wu(o){for(var l=o.data,c=o,d=o;M(d.componentInstance);)d=d.componentInstance._vnode,d&&d.data&&(l=hf(d.data,l));for(;M(c=c.parent);)c&&c.data&&(l=hf(l,c.data));return np(l.staticClass,l.class)}function hf(o,l){return{staticClass:Pu(o.staticClass,l.staticClass),class:M(o.class)?[o.class,l.class]:l.class}}function np(o,l){return M(o)||M(l)?Pu(o,Su(l)):""}function Pu(o,l){return o?l?o+" "+l:o:l||""}function Su(o){return Array.isArray(o)?vf(o):Se(o)?rp(o):typeof o=="string"?o:""}function vf(o){for(var l="",c,d=0,v=o.length;d<v;d++)M(c=Su(o[d]))&&c!==""&&(l&&(l+=" "),l+=c);return l}function rp(o){var l="";for(var c in o)o[c]&&(l&&(l+=" "),l+=c);return l}var ip={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ra=ut("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),_l=ut("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Fr=function(o){return o==="pre"},Fi=function(o){return ra(o)||_l(o)};function mf(o){if(_l(o))return"svg";if(o==="math")return"math"}var hs=Object.create(null);function op(o){if(!B)return!0;if(Fi(o))return!1;if(o=o.toLowerCase(),hs[o]!=null)return hs[o];var l=document.createElement(o);return o.indexOf("-")>-1?hs[o]=l.constructor===window.HTMLUnknownElement||l.constructor===window.HTMLElement:hs[o]=/HTMLUnknownElement/.test(l.toString())}var Tu=ut("text,number,password,search,email,tel,url");function Mu(o){if(typeof o=="string"){var l=document.querySelector(o);return l||document.createElement("div")}else return o}function ap(o,l){var c=document.createElement(o);return o!=="select"||l.data&&l.data.attrs&&l.data.attrs.multiple!==void 0&&c.setAttribute("multiple","multiple"),c}function sp(o,l){return document.createElementNS(ip[o],l)}function lp(o){return document.createTextNode(o)}function up(o){return document.createComment(o)}function cp(o,l,c){o.insertBefore(l,c)}function fp(o,l){o.removeChild(l)}function dp(o,l){o.appendChild(l)}function pp(o){return o.parentNode}function hp(o){return o.nextSibling}function vp(o){return o.tagName}function mp(o,l){o.textContent=l}function gp(o,l){o.setAttribute(l,"")}var Ho=Object.freeze({__proto__:null,createElement:ap,createElementNS:sp,createTextNode:lp,createComment:up,insertBefore:cp,removeChild:fp,appendChild:dp,parentNode:pp,nextSibling:hp,tagName:vp,setTextContent:mp,setStyleScope:gp}),gf={create:function(o,l){vs(l)},update:function(o,l){o.data.ref!==l.data.ref&&(vs(o,!0),vs(l))},destroy:function(o){vs(o,!0)}};function vs(o,l){var c=o.data.ref;if(!!M(c)){var d=o.context,v=o.componentInstance||o.elm,_=l?null:v,R=l?void 0:v;if(z(c)){xt(c,d,[_],d,"template ref function");return}var q=o.data.refInFor,ge=typeof c=="string"||typeof c=="number",st=dn(c),kt=d.$refs;if(ge||st){if(q){var zt=ge?kt[c]:c.value;l?x(zt)&&vt(zt,v):x(zt)?zt.includes(v)||zt.push(v):ge?(kt[c]=[v],_f(d,c,kt[c])):c.value=[v]}else if(ge){if(l&&kt[c]!==v)return;kt[c]=R,_f(d,c,_)}else if(st){if(l&&c.value!==v)return;c.value=_}}}}function _f(o,l,c){var d=o._setupState;d&&jt(d,l)&&(dn(d[l])?d[l].value=c:d[l]=c)}var _a=new pr("",{},[]),$s=["create","activate","update","remove","destroy"];function Ha(o,l){return o.key===l.key&&o.asyncFactory===l.asyncFactory&&(o.tag===l.tag&&o.isComment===l.isComment&&M(o.data)===M(l.data)&&_p(o,l)||T(o.isAsyncPlaceholder)&&F(l.asyncFactory.error))}function _p(o,l){if(o.tag!=="input")return!0;var c,d=M(c=o.data)&&M(c=c.attrs)&&c.type,v=M(c=l.data)&&M(c=c.attrs)&&c.type;return d===v||Tu(d)&&Tu(v)}function yp(o,l,c){var d,v,_={};for(d=l;d<=c;++d)v=o[d].key,M(v)&&(_[v]=d);return _}function bp(o){var l,c,d={},v=o.modules,_=o.nodeOps;for(l=0;l<$s.length;++l)for(d[$s[l]]=[],c=0;c<v.length;++c)M(v[c][$s[l]])&&d[$s[l]].push(v[c][$s[l]]);function R(Et){return new pr(_.tagName(Et).toLowerCase(),{},[],void 0,Et)}function q(Et,dt){function tn(){--tn.listeners===0&&ge(Et)}return tn.listeners=dt,tn}function ge(Et){var dt=_.parentNode(Et);M(dt)&&_.removeChild(dt,Et)}function st(Et,dt){return!dt&&!Et.ns&&!(je.ignoredElements.length&&je.ignoredElements.some(function(tn){return k(tn)?tn.test(Et.tag):tn===Et.tag}))&&je.isUnknownElement(Et.tag)}var kt=0;function zt(Et,dt,tn,rr,wr,Zr,Wr){if(M(Et.elm)&&M(Zr)&&(Et=Zr[Wr]=vo(Et)),Et.isRootInsert=!wr,!Nn(Et,dt,tn,rr)){var Vr=Et.data,li=Et.children,ii=Et.tag;M(ii)?(Et.elm=Et.ns?_.createElementNS(Et.ns,ii):_.createElement(ii,Et),Pr(Et),ar(Et,li,dt),M(Vr)&&dr(Et,dt),Tt(tn,Et.elm,rr)):T(Et.isComment)?(Et.elm=_.createComment(Et.text),Tt(tn,Et.elm,rr)):(Et.elm=_.createTextNode(Et.text),Tt(tn,Et.elm,rr))}}function Nn(Et,dt,tn,rr){var wr=Et.data;if(M(wr)){var Zr=M(Et.componentInstance)&&wr.keepAlive;if(M(wr=wr.hook)&&M(wr=wr.init)&&wr(Et,!1),M(Et.componentInstance))return tr(Et,dt),Tt(tn,Et.elm,rr),T(Zr)&&Or(Et,dt,tn,rr),!0}}function tr(Et,dt){M(Et.data.pendingInsert)&&(dt.push.apply(dt,Et.data.pendingInsert),Et.data.pendingInsert=null),Et.elm=Et.componentInstance.$el,Ir(Et)?(dr(Et,dt),Pr(Et)):(vs(Et),dt.push(Et))}function Or(Et,dt,tn,rr){for(var wr,Zr=Et;Zr.componentInstance;)if(Zr=Zr.componentInstance._vnode,M(wr=Zr.data)&&M(wr=wr.transition)){for(wr=0;wr<d.activate.length;++wr)d.activate[wr](_a,Zr);dt.push(Zr);break}Tt(tn,Et.elm,rr)}function Tt(Et,dt,tn){M(Et)&&(M(tn)?_.parentNode(tn)===Et&&_.insertBefore(Et,dt,tn):_.appendChild(Et,dt))}function ar(Et,dt,tn){if(x(dt))for(var rr=0;rr<dt.length;++rr)zt(dt[rr],tn,Et.elm,null,!0,dt,rr);else ee(Et.text)&&_.appendChild(Et.elm,_.createTextNode(String(Et.text)))}function Ir(Et){for(;Et.componentInstance;)Et=Et.componentInstance._vnode;return M(Et.tag)}function dr(Et,dt){for(var tn=0;tn<d.create.length;++tn)d.create[tn](_a,Et);l=Et.data.hook,M(l)&&(M(l.create)&&l.create(_a,Et),M(l.insert)&&dt.push(Et))}function Pr(Et){var dt;if(M(dt=Et.fnScopeId))_.setStyleScope(Et.elm,dt);else for(var tn=Et;tn;)M(dt=tn.context)&&M(dt=dt.$options._scopeId)&&_.setStyleScope(Et.elm,dt),tn=tn.parent;M(dt=jr)&&dt!==Et.context&&dt!==Et.fnContext&&M(dt=dt.$options._scopeId)&&_.setStyleScope(Et.elm,dt)}function Qr(Et,dt,tn,rr,wr,Zr){for(;rr<=wr;++rr)zt(tn[rr],Zr,Et,dt,!1,tn,rr)}function sr(Et){var dt,tn,rr=Et.data;if(M(rr))for(M(dt=rr.hook)&&M(dt=dt.destroy)&&dt(Et),dt=0;dt<d.destroy.length;++dt)d.destroy[dt](Et);if(M(dt=Et.children))for(tn=0;tn<Et.children.length;++tn)sr(Et.children[tn])}function ti(Et,dt,tn){for(;dt<=tn;++dt){var rr=Et[dt];M(rr)&&(M(rr.tag)?(Yr(rr),sr(rr)):ge(rr.elm))}}function Yr(Et,dt){if(M(dt)||M(Et.data)){var tn,rr=d.remove.length+1;for(M(dt)?dt.listeners+=rr:dt=q(Et.elm,rr),M(tn=Et.componentInstance)&&M(tn=tn._vnode)&&M(tn.data)&&Yr(tn,dt),tn=0;tn<d.remove.length;++tn)d.remove[tn](Et,dt);M(tn=Et.data.hook)&&M(tn=tn.remove)?tn(Et,dt):dt()}else ge(Et.elm)}function No(Et,dt,tn,rr,wr){for(var Zr=0,Wr=0,Vr=dt.length-1,li=dt[0],ii=dt[Vr],oi=tn.length-1,pi=tn[0],Mo=tn[oi],Va,Ea,wa,Qd,mc=!wr;Zr<=Vr&&Wr<=oi;)F(li)?li=dt[++Zr]:F(ii)?ii=dt[--Vr]:Ha(li,pi)?(To(li,pi,rr,tn,Wr),li=dt[++Zr],pi=tn[++Wr]):Ha(ii,Mo)?(To(ii,Mo,rr,tn,oi),ii=dt[--Vr],Mo=tn[--oi]):Ha(li,Mo)?(To(li,Mo,rr,tn,oi),mc&&_.insertBefore(Et,li.elm,_.nextSibling(ii.elm)),li=dt[++Zr],Mo=tn[--oi]):Ha(ii,pi)?(To(ii,pi,rr,tn,Wr),mc&&_.insertBefore(Et,ii.elm,li.elm),ii=dt[--Vr],pi=tn[++Wr]):(F(Va)&&(Va=yp(dt,Zr,Vr)),Ea=M(pi.key)?Va[pi.key]:So(pi,dt,Zr,Vr),F(Ea)?zt(pi,rr,Et,li.elm,!1,tn,Wr):(wa=dt[Ea],Ha(wa,pi)?(To(wa,pi,rr,tn,Wr),dt[Ea]=void 0,mc&&_.insertBefore(Et,wa.elm,li.elm)):zt(pi,rr,Et,li.elm,!1,tn,Wr)),pi=tn[++Wr]);Zr>Vr?(Qd=F(tn[oi+1])?null:tn[oi+1].elm,Qr(Et,Qd,tn,Wr,oi,rr)):Wr>oi&&ti(dt,Zr,Vr)}function bs(Et){for(var dt={},tn=0;tn<Et.length;tn++){var rr=Et[tn],wr=rr.key;M(wr)&&(dt[wr]?Bi("Duplicate keys detected: '".concat(wr,"'. This may cause an update error."),rr.context):dt[wr]=!0)}}function So(Et,dt,tn,rr){for(var wr=tn;wr<rr;wr++){var Zr=dt[wr];if(M(Zr)&&Ha(Et,Zr))return wr}}function To(Et,dt,tn,rr,wr,Zr){if(Et!==dt){M(dt.elm)&&M(rr)&&(dt=rr[wr]=vo(dt));var Wr=dt.elm=Et.elm;if(T(Et.isAsyncPlaceholder)){M(dt.asyncFactory.resolved)?Ca(Et.elm,dt,tn):dt.isAsyncPlaceholder=!0;return}if(T(dt.isStatic)&&T(Et.isStatic)&&dt.key===Et.key&&(T(dt.isCloned)||T(dt.isOnce))){dt.componentInstance=Et.componentInstance;return}var Vr,li=dt.data;M(li)&&M(Vr=li.hook)&&M(Vr=Vr.prepatch)&&Vr(Et,dt);var ii=Et.children,oi=dt.children;if(M(li)&&Ir(dt)){for(Vr=0;Vr<d.update.length;++Vr)d.update[Vr](Et,dt);M(Vr=li.hook)&&M(Vr=Vr.update)&&Vr(Et,dt)}F(dt.text)?M(ii)&&M(oi)?ii!==oi&&No(Wr,ii,oi,tn,Zr):M(oi)?(M(Et.text)&&_.setTextContent(Wr,""),Qr(Wr,null,oi,0,oi.length-1,tn)):M(ii)?ti(ii,0,ii.length-1):M(Et.text)&&_.setTextContent(Wr,""):Et.text!==dt.text&&_.setTextContent(Wr,dt.text),M(li)&&M(Vr=li.hook)&&M(Vr=Vr.postpatch)&&Vr(Et,dt)}}function Aa(Et,dt,tn){if(T(tn)&&M(Et.parent))Et.parent.data.pendingInsert=dt;else for(var rr=0;rr<dt.length;++rr)dt[rr].data.hook.insert(dt[rr])}var As=!1,Lo=ut("attrs,class,staticClass,staticStyle,key");function Ca(Et,dt,tn,rr){var wr,Zr=dt.tag,Wr=dt.data,Vr=dt.children;if(rr=rr||Wr&&Wr.pre,dt.elm=Et,T(dt.isComment)&&M(dt.asyncFactory))return dt.isAsyncPlaceholder=!0,!0;if(M(Wr)&&(M(wr=Wr.hook)&&M(wr=wr.init)&&wr(dt,!0),M(wr=dt.componentInstance)))return tr(dt,tn),!0;if(M(Zr)){if(M(Vr))if(!Et.hasChildNodes())ar(dt,Vr,tn);else if(M(wr=Wr)&&M(wr=wr.domProps)&&M(wr=wr.innerHTML)){if(wr!==Et.innerHTML)return!1}else{for(var li=!0,ii=Et.firstChild,oi=0;oi<Vr.length;oi++){if(!ii||!Ca(ii,Vr[oi],tn,rr)){li=!1;break}ii=ii.nextSibling}if(!li||ii)return!1}if(M(Wr)){var pi=!1;for(var Mo in Wr)if(!Lo(Mo)){pi=!0,dr(dt,tn);break}!pi&&Wr.class&&ds(Wr.class)}}else Et.data!==dt.text&&(Et.data=dt.text);return!0}function Zs(Et,dt,tn){return M(dt.tag)?dt.tag.indexOf("vue-component")===0||!st(dt,tn)&&dt.tag.toLowerCase()===(Et.tagName&&Et.tagName.toLowerCase()):Et.nodeType===(dt.isComment?8:3)}return function(dt,tn,rr,wr){if(F(tn)){M(dt)&&sr(dt);return}var Zr=!1,Wr=[];if(F(dt))Zr=!0,zt(tn,Wr);else{var Vr=M(dt.nodeType);if(!Vr&&Ha(dt,tn))To(dt,tn,Wr,null,null,wr);else{if(Vr){if(dt.nodeType===1&&dt.hasAttribute(E)&&(dt.removeAttribute(E),rr=!0),T(rr)&&Ca(dt,tn,Wr))return Aa(tn,Wr,!0),dt;dt=R(dt)}var li=dt.elm,ii=_.parentNode(li);if(zt(tn,Wr,li._leaveCb?null:ii,_.nextSibling(li)),M(tn.parent))for(var oi=tn.parent,pi=Ir(tn);oi;){for(var Mo=0;Mo<d.destroy.length;++Mo)d.destroy[Mo](oi);if(oi.elm=tn.elm,pi){for(var Va=0;Va<d.create.length;++Va)d.create[Va](_a,oi);var Ea=oi.data.hook.insert;if(Ea.merged)for(var wa=1;wa<Ea.fns.length;wa++)Ea.fns[wa]()}else vs(oi);oi=oi.parent}M(ii)?ti([dt],0,0):M(dt.tag)&&sr(dt)}}return Aa(tn,Wr,Zr),tn.elm}}var Ap={create:xu,update:xu,destroy:function(l){xu(l,_a)}};function xu(o,l){(o.data.directives||l.data.directives)&&Cp(o,l)}function Cp(o,l){var c=o===_a,d=l===_a,v=yf(o.data.directives,o.context),_=yf(l.data.directives,l.context),R=[],q=[],ge,st,kt;for(ge in _)st=v[ge],kt=_[ge],st?(kt.oldValue=st.value,kt.oldArg=st.arg,Hs(kt,"update",l,o),kt.def&&kt.def.componentUpdated&&q.push(kt)):(Hs(kt,"bind",l,o),kt.def&&kt.def.inserted&&R.push(kt));if(R.length){var zt=function(){for(var Nn=0;Nn<R.length;Nn++)Hs(R[Nn],"inserted",l,o)};c?ot(l,"insert",zt):zt()}if(q.length&&ot(l,"postpatch",function(){for(var Nn=0;Nn<q.length;Nn++)Hs(q[Nn],"componentUpdated",l,o)}),!c)for(ge in v)_[ge]||Hs(v[ge],"unbind",o,o,d)}var Ep=Object.create(null);function yf(o,l){var c=Object.create(null);if(!o)return c;var d,v;for(d=0;d<o.length;d++){if(v=o[d],v.modifiers||(v.modifiers=Ep),c[wp(v)]=v,l._setupState&&l._setupState.__sfc){var _=v.def||dl(l,"_setupState","v-"+v.name);typeof _=="function"?v.def={bind:_,update:_}:v.def=_}v.def=v.def||dl(l.$options,"directives",v.name,!0)}return c}function wp(o){return o.rawName||"".concat(o.name,".").concat(Object.keys(o.modifiers||{}).join("."))}function Hs(o,l,c,d,v){var _=o.def&&o.def[l];if(_)try{_(c.elm,o,c,d,v)}catch(R){Pe(R,c.context,"directive ".concat(o.name," ").concat(l," hook"))}}var Pp=[gf,Ap];function bf(o,l){var c=l.componentOptions;if(!(M(c)&&c.Ctor.options.inheritAttrs===!1)&&!(F(o.data.attrs)&&F(l.data.attrs))){var d,v,_,R=l.elm,q=o.data.attrs||{},ge=l.data.attrs||{};(M(ge.__ob__)||T(ge._v_attr_proxy))&&(ge=l.data.attrs=Ft({},ge));for(d in ge)v=ge[d],_=q[d],_!==v&&Af(R,d,v,l.data.pre);(H||He)&&ge.value!==q.value&&Af(R,"value",ge.value);for(d in q)F(ge[d])&&(Eu(d)?R.removeAttributeNS(Cu,pf(d)):ff(d)||R.removeAttribute(d))}}function Af(o,l,c,d){d||o.tagName.indexOf("-")>-1?Cf(o,l,c):df(l)?Fs(c)?o.removeAttribute(l):(c=l==="allowfullscreen"&&o.tagName==="EMBED"?"true":l,o.setAttribute(l,c)):ff(l)?o.setAttribute(l,Ev(l,c)):Eu(l)?Fs(c)?o.removeAttributeNS(Cu,pf(l)):o.setAttributeNS(Cu,l,c):Cf(o,l,c)}function Cf(o,l,c){if(Fs(c))o.removeAttribute(l);else{if(H&&!X&&o.tagName==="TEXTAREA"&&l==="placeholder"&&c!==""&&!o.__ieph){var d=function(v){v.stopImmediatePropagation(),o.removeEventListener("input",d)};o.addEventListener("input",d),o.__ieph=!0}o.setAttribute(l,c)}}var Sp={create:bf,update:bf};function Ef(o,l){var c=l.elm,d=l.data,v=o.data;if(!(F(d.staticClass)&&F(d.class)&&(F(v)||F(v.staticClass)&&F(v.class)))){var _=wu(l),R=c._transitionClasses;M(R)&&(_=Pu(_,Su(R))),_!==c._prevClass&&(c.setAttribute("class",_),c._prevClass=_)}}var wv={create:Ef,update:Ef},Hn=/[\w).+\-_$\]]/;function Uo(o){var l=!1,c=!1,d=!1,v=!1,_=0,R=0,q=0,ge=0,st,kt,zt,Nn,tr;for(zt=0;zt<o.length;zt++)if(kt=st,st=o.charCodeAt(zt),l)st===39&&kt!==92&&(l=!1);else if(c)st===34&&kt!==92&&(c=!1);else if(d)st===96&&kt!==92&&(d=!1);else if(v)st===47&&kt!==92&&(v=!1);else if(st===124&&o.charCodeAt(zt+1)!==124&&o.charCodeAt(zt-1)!==124&&!_&&!R&&!q)Nn===void 0?(ge=zt+1,Nn=o.slice(0,zt).trim()):ar();else{switch(st){case 34:c=!0;break;case 39:l=!0;break;case 96:d=!0;break;case 40:q++;break;case 41:q--;break;case 91:R++;break;case 93:R--;break;case 123:_++;break;case 125:_--;break}if(st===47){for(var Or=zt-1,Tt=void 0;Or>=0&&(Tt=o.charAt(Or),Tt===" ");Or--);(!Tt||!Hn.test(Tt))&&(v=!0)}}Nn===void 0?Nn=o.slice(0,zt).trim():ge!==0&&ar();function ar(){(tr||(tr=[])).push(o.slice(ge,zt).trim()),ge=zt+1}if(tr)for(zt=0;zt<tr.length;zt++)Nn=yi(Nn,tr[zt]);return Nn}function yi(o,l){var c=l.indexOf("(");if(c<0)return'_f("'.concat(l,'")(').concat(o,")");var d=l.slice(0,c),v=l.slice(c+1);return'_f("'.concat(d,'")(').concat(o).concat(v!==")"?","+v:v)}function fi(o,l){console.error("[Vue compiler]: ".concat(o))}function di(o,l){return o?o.map(function(c){return c[l]}).filter(function(c){return c}):[]}function ri(o,l,c,d,v){(o.props||(o.props=[])).push(Us({name:l,value:c,dynamic:v},d)),o.plain=!1}function ku(o,l,c,d,v){var _=v?o.dynamicAttrs||(o.dynamicAttrs=[]):o.attrs||(o.attrs=[]);_.push(Us({name:l,value:c,dynamic:v},d)),o.plain=!1}function Iu(o,l,c,d){o.attrsMap[l]=c,o.attrsList.push(Us({name:l,value:c},d))}function Tp(o,l,c,d,v,_,R,q){(o.directives||(o.directives=[])).push(Us({name:l,rawName:c,value:d,arg:v,isDynamicArg:_,modifiers:R},q)),o.plain=!1}function Ou(o,l,c){return c?"_p(".concat(l,',"').concat(o,'")'):o+l}function ia(o,l,c,d,v,_,R,q){d=d||A,d.right?q?l="(".concat(l,")==='click'?'contextmenu':(").concat(l,")"):l==="click"&&(l="contextmenu",delete d.right):d.middle&&(q?l="(".concat(l,")==='click'?'mouseup':(").concat(l,")"):l==="click"&&(l="mouseup")),d.capture&&(delete d.capture,l=Ou("!",l,q)),d.once&&(delete d.once,l=Ou("~",l,q)),d.passive&&(delete d.passive,l=Ou("&",l,q));var ge;d.native?(delete d.native,ge=o.nativeEvents||(o.nativeEvents={})):ge=o.events||(o.events={});var st=Us({value:c.trim(),dynamic:q},R);d!==A&&(st.modifiers=d);var kt=ge[l];Array.isArray(kt)?v?kt.unshift(st):kt.push(st):kt?ge[l]=v?[st,kt]:[kt,st]:ge[l]=st,o.plain=!1}function Mp(o,l){return o.rawAttrsMap[":"+l]||o.rawAttrsMap["v-bind:"+l]||o.rawAttrsMap[l]}function wo(o,l,c){var d=ki(o,":"+l)||ki(o,"v-bind:"+l);if(d!=null)return Uo(d);if(c!==!1){var v=ki(o,l);if(v!=null)return JSON.stringify(v)}}function ki(o,l,c){var d;if((d=o.attrsMap[l])!=null){for(var v=o.attrsList,_=0,R=v.length;_<R;_++)if(v[_].name===l){v.splice(_,1);break}}return c&&delete o.attrsMap[l],d}function wf(o,l){for(var c=o.attrsList,d=0,v=c.length;d<v;d++){var _=c[d];if(l.test(_.name))return c.splice(d,1),_}}function Us(o,l){return l&&(l.start!=null&&(o.start=l.start),l.end!=null&&(o.end=l.end)),o}function Pf(o,l,c){var d=c||{},v=d.number,_=d.trim,R="$$v",q=R;_&&(q="(typeof ".concat(R," === 'string'")+"? ".concat(R,".trim()")+": ".concat(R,")")),v&&(q="_n(".concat(q,")"));var ge=ya(l,q);o.model={value:"(".concat(l,")"),expression:JSON.stringify(l),callback:"function (".concat(R,") {").concat(ge,"}")}}function ya(o,l){var c=xp(o);return c.key===null?"".concat(o,"=").concat(l):"$set(".concat(c.exp,", ").concat(c.key,", ").concat(l,")")}var js,Sf,Gs,oa,yl,Nu;function xp(o){if(o=o.trim(),js=o.length,o.indexOf("[")<0||o.lastIndexOf("]")<js-1)return oa=o.lastIndexOf("."),oa>-1?{exp:o.slice(0,oa),key:'"'+o.slice(oa+1)+'"'}:{exp:o,key:null};for(Sf=o,oa=yl=Nu=0;!Ru();)Gs=Lu(),Tf(Gs)?Mf(Gs):Gs===91&&kp(Gs);return{exp:o.slice(0,yl),key:o.slice(yl+1,Nu)}}function Lu(){return Sf.charCodeAt(++oa)}function Ru(){return oa>=js}function Tf(o){return o===34||o===39}function kp(o){var l=1;for(yl=oa;!Ru();){if(o=Lu(),Tf(o)){Mf(o);continue}if(o===91&&l++,o===93&&l--,l===0){Nu=oa;break}}}function Mf(o){for(var l=o;!Ru()&&(o=Lu(),o!==l););}var Ip,bl="__r",jo="__c";function xf(o,l,c){Ip=c;var d=l.value,v=l.modifiers,_=o.tag,R=o.attrsMap.type;if(o.component)return Pf(o,d,v),!1;if(_==="select")Lp(o,d,v);else if(_==="input"&&R==="checkbox")Op(o,d,v);else if(_==="input"&&R==="radio")Np(o,d,v);else if(_==="input"||_==="textarea")Rp(o,d,v);else if(!je.isReservedTag(_))return Pf(o,d,v),!1;return!0}function Op(o,l,c){var d=c&&c.number,v=wo(o,"value")||"null",_=wo(o,"true-value")||"true",R=wo(o,"false-value")||"false";ri(o,"checked","Array.isArray(".concat(l,")")+"?_i(".concat(l,",").concat(v,")>-1")+(_==="true"?":(".concat(l,")"):":_q(".concat(l,",").concat(_,")"))),ia(o,"change","var $$a=".concat(l,",")+"$$el=$event.target,"+"$$c=$$el.checked?(".concat(_,"):(").concat(R,");")+"if(Array.isArray($$a)){"+"var $$v=".concat(d?"_n("+v+")":v,",")+"$$i=_i($$a,$$v);"+"if($$el.checked){$$i<0&&(".concat(ya(l,"$$a.concat([$$v])"),")}")+"else{$$i>-1&&(".concat(ya(l,"$$a.slice(0,$$i).concat($$a.slice($$i+1))"),")}")+"}else{".concat(ya(l,"$$c"),"}"),null,!0)}function Np(o,l,c){var d=c&&c.number,v=wo(o,"value")||"null";v=d?"_n(".concat(v,")"):v,ri(o,"checked","_q(".concat(l,",").concat(v,")")),ia(o,"change",ya(l,v),null,!0)}function Lp(o,l,c){var d=c&&c.number,v='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;'+"return ".concat(d?"_n(val)":"val","})"),_="$event.target.multiple ? $$selectedVal : $$selectedVal[0]",R="var $$selectedVal = ".concat(v,";");R="".concat(R," ").concat(ya(l,_)),ia(o,"change",R,null,!0)}function Rp(o,l,c){var d=o.attrsMap.type;if(!1)var v,_,R;var q=c||{},ge=q.lazy,st=q.number,kt=q.trim,zt=!ge&&d!=="range",Nn=ge?"change":d==="range"?bl:"input",tr="$event.target.value";kt&&(tr="$event.target.value.trim()"),st&&(tr="_n(".concat(tr,")"));var Or=ya(l,tr);zt&&(Or="if($event.target.composing)return;".concat(Or)),ri(o,"value","(".concat(l,")")),ia(o,Nn,Or,null,!0),(kt||st)&&ia(o,"blur","$forceUpdate()")}function Dp(o){if(M(o[bl])){var l=H?"change":"input";o[l]=[].concat(o[bl],o[l]||[]),delete o[bl]}M(o[jo])&&(o.change=[].concat(o[jo],o.change||[]),delete o[jo])}var zs;function Pv(o,l,c){var d=zs;return function v(){var _=l.apply(null,arguments);_!==null&&If(o,v,c,d)}}var kf=pt&&!(rt&&Number(rt[1])<=53);function Bp(o,l,c,d){if(kf){var v=_o,_=l;l=_._wrapper=function(R){if(R.target===R.currentTarget||R.timeStamp>=v||R.timeStamp<=0||R.target.ownerDocument!==document)return _.apply(this,arguments)}}zs.addEventListener(o,l,vn?{capture:c,passive:d}:c)}function If(o,l,c,d){(d||zs).removeEventListener(o,l._wrapper||l,c)}function Du(o,l){if(!(F(o.data.on)&&F(l.data.on))){var c=l.data.on||{},d=o.data.on||{};zs=l.elm||o.elm,Dp(c),et(c,d,Bp,If,Pv,l.context),zs=void 0}}var Fp={create:Du,update:Du,destroy:function(o){return Du(o,_a)}},Ua;function Of(o,l){if(!(F(o.data.domProps)&&F(l.data.domProps))){var c,d,v=l.elm,_=o.data.domProps||{},R=l.data.domProps||{};(M(R.__ob__)||T(R._v_attr_proxy))&&(R=l.data.domProps=Ft({},R));for(c in _)c in R||(v[c]="");for(c in R){if(d=R[c],c==="textContent"||c==="innerHTML"){if(l.children&&(l.children.length=0),d===_[c])continue;v.childNodes.length===1&&v.removeChild(v.childNodes[0])}if(c==="value"&&v.tagName!=="PROGRESS"){v._value=d;var q=F(d)?"":String(d);Nf(v,q)&&(v.value=q)}else if(c==="innerHTML"&&_l(v.tagName)&&F(v.innerHTML)){Ua=Ua||document.createElement("div"),Ua.innerHTML="<svg>".concat(d,"</svg>");for(var ge=Ua.firstChild;v.firstChild;)v.removeChild(v.firstChild);for(;ge.firstChild;)v.appendChild(ge.firstChild)}else if(d!==_[c])try{v[c]=d}catch{}}}}function Nf(o,l){return!o.composing&&(o.tagName==="OPTION"||vi(o,l)||$p(o,l))}function vi(o,l){var c=!0;try{c=document.activeElement!==o}catch{}return c&&o.value!==l}function $p(o,l){var c=o.value,d=o._vModifiers;if(M(d)){if(d.number)return on(c)!==on(l);if(d.trim)return c.trim()!==l.trim()}return c!==l}var Hp={create:Of,update:Of},Al=pn(function(o){var l={},c=/;(?![^(]*\))/g,d=/:(.+)/;return o.split(c).forEach(function(v){if(v){var _=v.split(d);_.length>1&&(l[_[0].trim()]=_[1].trim())}}),l});function Cl(o){var l=ja(o.style);return o.staticStyle?Ft(o.staticStyle,l):l}function ja(o){return Array.isArray(o)?en(o):typeof o=="string"?Al(o):o}function Lf(o,l){var c={},d;if(l)for(var v=o;v.componentInstance;)v=v.componentInstance._vnode,v&&v.data&&(d=Cl(v.data))&&Ft(c,d);(d=Cl(o.data))&&Ft(c,d);for(var _=o;_=_.parent;)_.data&&(d=Cl(_.data))&&Ft(c,d);return c}var Up=/^--/,Rf=/\s*!important$/,Df=function(o,l,c){if(Up.test(l))o.style.setProperty(l,c);else if(Rf.test(c))o.style.setProperty(V(l),c.replace(Rf,""),"important");else{var d=jp(l);if(Array.isArray(c))for(var v=0,_=c.length;v<_;v++)o.style[d]=c[v];else o.style[d]=c}},Bf=["Webkit","Moz","ms"],ms,jp=pn(function(o){if(ms=ms||document.createElement("div").style,o=Vt(o),o!=="filter"&&o in ms)return o;for(var l=o.charAt(0).toUpperCase()+o.slice(1),c=0;c<Bf.length;c++){var d=Bf[c]+l;if(d in ms)return d}});function Ff(o,l){var c=l.data,d=o.data;if(!(F(c.staticStyle)&&F(c.style)&&F(d.staticStyle)&&F(d.style))){var v,_,R=l.elm,q=d.staticStyle,ge=d.normalizedStyle||d.style||{},st=q||ge,kt=ja(l.data.style)||{};l.data.normalizedStyle=M(kt.__ob__)?Ft({},kt):kt;var zt=Lf(l,!0);for(_ in st)F(zt[_])&&Df(R,_,"");for(_ in zt)v=zt[_],v!==st[_]&&Df(R,_,v??"")}}var $f={create:Ff,update:Ff},Hf=/\s+/;function Uf(o,l){if(!(!l||!(l=l.trim())))if(o.classList)l.indexOf(" ")>-1?l.split(Hf).forEach(function(d){return o.classList.add(d)}):o.classList.add(l);else{var c=" ".concat(o.getAttribute("class")||""," ");c.indexOf(" "+l+" ")<0&&o.setAttribute("class",(c+l).trim())}}function Bu(o,l){if(!(!l||!(l=l.trim())))if(o.classList)l.indexOf(" ")>-1?l.split(Hf).forEach(function(v){return o.classList.remove(v)}):o.classList.remove(l),o.classList.length||o.removeAttribute("class");else{for(var c=" ".concat(o.getAttribute("class")||""," "),d=" "+l+" ";c.indexOf(d)>=0;)c=c.replace(d," ");c=c.trim(),c?o.setAttribute("class",c):o.removeAttribute("class")}}function Fu(o){if(!!o){if(typeof o=="object"){var l={};return o.css!==!1&&Ft(l,Gp(o.name||"v")),Ft(l,o),l}else if(typeof o=="string")return Gp(o)}}var Gp=pn(function(o){return{enterClass:"".concat(o,"-enter"),enterToClass:"".concat(o,"-enter-to"),enterActiveClass:"".concat(o,"-enter-active"),leaveClass:"".concat(o,"-leave"),leaveToClass:"".concat(o,"-leave-to"),leaveActiveClass:"".concat(o,"-leave-active")}}),jf=B&&!X,gs="transition",$u="animation",El="transition",wl="transitionend",Hu="animation",Gf="animationend";jf&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(El="WebkitTransition",wl="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(Hu="WebkitAnimation",Gf="webkitAnimationEnd"));var zf=B?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(o){return o()};function Wf(o){zf(function(){zf(o)})}function _s(o,l){var c=o._transitionClasses||(o._transitionClasses=[]);c.indexOf(l)<0&&(c.push(l),Uf(o,l))}function uo(o,l){o._transitionClasses&&vt(o._transitionClasses,l),Bu(o,l)}function Pl(o,l,c){var d=qf(o,l),v=d.type,_=d.timeout,R=d.propCount;if(!v)return c();var q=v===gs?wl:Gf,ge=0,st=function(){o.removeEventListener(q,kt),c()},kt=function(zt){zt.target===o&&++ge>=R&&st()};setTimeout(function(){ge<R&&st()},_+1),o.addEventListener(q,kt)}var Vf=/\b(transform|all)(,|$)/;function qf(o,l){var c=window.getComputedStyle(o),d=(c[El+"Delay"]||"").split(", "),v=(c[El+"Duration"]||"").split(", "),_=Kf(d,v),R=(c[Hu+"Delay"]||"").split(", "),q=(c[Hu+"Duration"]||"").split(", "),ge=Kf(R,q),st,kt=0,zt=0;l===gs?_>0&&(st=gs,kt=_,zt=v.length):l===$u?ge>0&&(st=$u,kt=ge,zt=q.length):(kt=Math.max(_,ge),st=kt>0?_>ge?gs:$u:null,zt=st?st===gs?v.length:q.length:0);var Nn=st===gs&&Vf.test(c[El+"Property"]);return{type:st,timeout:kt,propCount:zt,hasTransform:Nn}}function Kf(o,l){for(;o.length<l.length;)o=o.concat(o);return Math.max.apply(null,l.map(function(c,d){return Ws(c)+Ws(o[d])}))}function Ws(o){return Number(o.slice(0,-1).replace(",","."))*1e3}function Uu(o,l){var c=o.elm;M(c._leaveCb)&&(c._leaveCb.cancelled=!0,c._leaveCb());var d=Fu(o.data.transition);if(!F(d)&&!(M(c._enterCb)||c.nodeType!==1)){for(var v=d.css,_=d.type,R=d.enterClass,q=d.enterToClass,ge=d.enterActiveClass,st=d.appearClass,kt=d.appearToClass,zt=d.appearActiveClass,Nn=d.beforeEnter,tr=d.enter,Or=d.afterEnter,Tt=d.enterCancelled,ar=d.beforeAppear,Ir=d.appear,dr=d.afterAppear,Pr=d.appearCancelled,Qr=d.duration,sr=jr,ti=jr.$vnode;ti&&ti.parent;)sr=ti.context,ti=ti.parent;var Yr=!sr._isMounted||!o.isRootInsert;if(!(Yr&&!Ir&&Ir!=="")){var No=Yr&&st?st:R,bs=Yr&&zt?zt:ge,So=Yr&&kt?kt:q,To=Yr&&ar||Nn,Aa=Yr&&z(Ir)?Ir:tr,As=Yr&&dr||Or,Lo=Yr&&Pr||Tt,Ca=on(Se(Qr)?Qr.enter:Qr),Zs=v!==!1&&!X,Et=Tl(Aa),dt=c._enterCb=re(function(){Zs&&(uo(c,So),uo(c,bs)),dt.cancelled?(Zs&&uo(c,No),Lo&&Lo(c)):As&&As(c),c._enterCb=null});o.data.show||ot(o,"insert",function(){var tn=c.parentNode,rr=tn&&tn._pending&&tn._pending[o.key];rr&&rr.tag===o.tag&&rr.elm._leaveCb&&rr.elm._leaveCb(),Aa&&Aa(c,dt)}),To&&To(c),Zs&&(_s(c,No),_s(c,bs),Wf(function(){uo(c,No),dt.cancelled||(_s(c,So),Et||(ju(Ca)?setTimeout(dt,Ca):Pl(c,_,dt)))})),o.data.show&&(l&&l(),Aa&&Aa(c,dt)),!Zs&&!Et&&dt()}}}function Sl(o,l){var c=o.elm;M(c._enterCb)&&(c._enterCb.cancelled=!0,c._enterCb());var d=Fu(o.data.transition);if(F(d)||c.nodeType!==1)return l();if(M(c._leaveCb))return;var v=d.css,_=d.type,R=d.leaveClass,q=d.leaveToClass,ge=d.leaveActiveClass,st=d.beforeLeave,kt=d.leave,zt=d.afterLeave,Nn=d.leaveCancelled,tr=d.delayLeave,Or=d.duration,Tt=v!==!1&&!X,ar=Tl(kt),Ir=on(Se(Or)?Or.leave:Or),dr=c._leaveCb=re(function(){c.parentNode&&c.parentNode._pending&&(c.parentNode._pending[o.key]=null),Tt&&(uo(c,q),uo(c,ge)),dr.cancelled?(Tt&&uo(c,R),Nn&&Nn(c)):(l(),zt&&zt(c)),c._leaveCb=null});tr?tr(Pr):Pr();function Pr(){dr.cancelled||(!o.data.show&&c.parentNode&&((c.parentNode._pending||(c.parentNode._pending={}))[o.key]=o),st&&st(c),Tt&&(_s(c,R),_s(c,ge),Wf(function(){uo(c,R),dr.cancelled||(_s(c,q),ar||(ju(Ir)?setTimeout(dr,Ir):Pl(c,_,dr)))})),kt&&kt(c,dr),!Tt&&!ar&&dr())}}function Sv(o,l,c){typeof o!="number"?Bi("<transition> explicit ".concat(l," duration is not a valid number - ")+"got ".concat(JSON.stringify(o),"."),c.context):isNaN(o)&&Bi("<transition> explicit ".concat(l," duration is NaN - ")+"the duration expression might be incorrect.",c.context)}function ju(o){return typeof o=="number"&&!isNaN(o)}function Tl(o){if(F(o))return!1;var l=o.fns;return M(l)?Tl(Array.isArray(l)?l[0]:l):(o._length||o.length)>1}function Zf(o,l){l.data.show!==!0&&Uu(l)}var zp=B?{create:Zf,activate:Zf,remove:function(o,l){o.data.show!==!0?Sl(o,l):l()}}:{},Wp=[Sp,wv,Fp,Hp,$f,zp],Vp=Wp.concat(Pp),qp=bp({nodeOps:Ho,modules:Vp});X&&document.addEventListener("selectionchange",function(){var o=document.activeElement;o&&o.vmodel&&Gu(o,"input")});var Xf={inserted:function(o,l,c,d){c.tag==="select"?(d.elm&&!d.elm._vOptions?ot(c,"postpatch",function(){Xf.componentUpdated(o,l,c)}):Qf(o,l,c.context),o._vOptions=[].map.call(o.options,Ml)):(c.tag==="textarea"||Tu(o.type))&&(o._vModifiers=l.modifiers,l.modifiers.lazy||(o.addEventListener("compositionstart",Kp),o.addEventListener("compositionend",ed),o.addEventListener("change",ed),X&&(o.vmodel=!0)))},componentUpdated:function(o,l,c){if(c.tag==="select"){Qf(o,l,c.context);var d=o._vOptions,v=o._vOptions=[].map.call(o.options,Ml);if(v.some(function(R,q){return!Ue(R,d[q])})){var _=o.multiple?l.value.some(function(R){return Jf(R,v)}):l.value!==l.oldValue&&Jf(l.value,v);_&&Gu(o,"change")}}}};function Qf(o,l,c){Yf(o,l,c),(H||He)&&setTimeout(function(){Yf(o,l,c)},0)}function Yf(o,l,c){var d=l.value,v=o.multiple;if(!(v&&!Array.isArray(d))){for(var _,R,q=0,ge=o.options.length;q<ge;q++)if(R=o.options[q],v)_=nt(d,Ml(R))>-1,R.selected!==_&&(R.selected=_);else if(Ue(Ml(R),d)){o.selectedIndex!==q&&(o.selectedIndex=q);return}v||(o.selectedIndex=-1)}}function Jf(o,l){return l.every(function(c){return!Ue(c,o)})}function Ml(o){return"_value"in o?o._value:o.value}function Kp(o){o.target.composing=!0}function ed(o){!o.target.composing||(o.target.composing=!1,Gu(o.target,"input"))}function Gu(o,l){var c=document.createEvent("HTMLEvents");c.initEvent(l,!0,!0),o.dispatchEvent(c)}function aa(o){return o.componentInstance&&(!o.data||!o.data.transition)?aa(o.componentInstance._vnode):o}var td={bind:function(o,l,c){var d=l.value;c=aa(c);var v=c.data&&c.data.transition,_=o.__vOriginalDisplay=o.style.display==="none"?"":o.style.display;d&&v?(c.data.show=!0,Uu(c,function(){o.style.display=_})):o.style.display=d?_:"none"},update:function(o,l,c){var d=l.value,v=l.oldValue;if(!d!=!v){c=aa(c);var _=c.data&&c.data.transition;_?(c.data.show=!0,d?Uu(c,function(){o.style.display=o.__vOriginalDisplay}):Sl(c,function(){o.style.display="none"})):o.style.display=d?o.__vOriginalDisplay:"none"}},unbind:function(o,l,c,d,v){v||(o.style.display=o.__vOriginalDisplay)}},Zp={model:Xf,show:td},nd={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function zu(o){var l=o&&o.componentOptions;return l&&l.Ctor.options.abstract?zu(Br(l.children)):o}function rd(o){var l={},c=o.$options;for(var d in c.propsData)l[d]=o[d];var v=c._parentListeners;for(var d in v)l[Vt(d)]=v[d];return l}function id(o,l){if(/\d-keep-alive$/.test(l.tag))return o("keep-alive",{props:l.componentOptions.propsData})}function Xp(o){for(;o=o.parent;)if(o.data.transition)return!0}function Qp(o,l){return l.key===o.key&&l.tag===o.tag}var Yp=function(o){return o.tag||Oa(o)},Tv=function(o){return o.name==="show"},od={name:"transition",props:nd,abstract:!0,render:function(o){var l=this,c=this.$slots.default;if(!!c&&(c=c.filter(Yp),!!c.length)){var d=this.mode,v=c[0];if(Xp(this.$vnode))return v;var _=zu(v);if(!_)return v;if(this._leaving)return id(o,v);var R="__transition-".concat(this._uid,"-");_.key=_.key==null?_.isComment?R+"comment":R+_.tag:ee(_.key)?String(_.key).indexOf(R)===0?_.key:R+_.key:_.key;var q=(_.data||(_.data={})).transition=rd(this),ge=this._vnode,st=zu(ge);if(_.data.directives&&_.data.directives.some(Tv)&&(_.data.show=!0),st&&st.data&&!Qp(_,st)&&!Oa(st)&&!(st.componentInstance&&st.componentInstance._vnode.isComment)){var kt=st.data.transition=Ft({},q);if(d==="out-in")return this._leaving=!0,ot(kt,"afterLeave",function(){l._leaving=!1,l.$forceUpdate()}),id(o,v);if(d==="in-out"){if(Oa(_))return ge;var zt,Nn=function(){zt()};ot(q,"afterEnter",Nn),ot(q,"enterCancelled",Nn),ot(kt,"delayLeave",function(tr){zt=tr})}}return v}}},Wu=Ft({tag:String,moveClass:String},nd);delete Wu.mode;var ad={props:Wu,beforeMount:function(){var o=this,l=this._update;this._update=function(c,d){var v=Mi(o);o.__patch__(o._vnode,o.kept,!1,!0),o._vnode=o.kept,v(),l.call(o,c,d)}},render:function(o){for(var l=this.tag||this.$vnode.data.tag||"span",c=Object.create(null),d=this.prevChildren=this.children,v=this.$slots.default||[],_=this.children=[],R=rd(this),q=0;q<v.length;q++){var ge=v[q];if(ge.tag){if(ge.key!=null&&String(ge.key).indexOf("__vlist")!==0)_.push(ge),c[ge.key]=ge,(ge.data||(ge.data={})).transition=R;else if(!1)var st,kt}}if(d){for(var zt=[],Nn=[],q=0;q<d.length;q++){var ge=d[q];ge.data.transition=R,ge.data.pos=ge.elm.getBoundingClientRect(),c[ge.key]?zt.push(ge):Nn.push(ge)}this.kept=o(l,null,zt),this.removed=Nn}return o(l,null,_)},updated:function(){var o=this.prevChildren,l=this.moveClass||(this.name||"v")+"-move";!o.length||!this.hasMove(o[0].elm,l)||(o.forEach(sd),o.forEach(Jp),o.forEach(eh),this._reflow=document.body.offsetHeight,o.forEach(function(c){if(c.data.moved){var d=c.elm,v=d.style;_s(d,l),v.transform=v.WebkitTransform=v.transitionDuration="",d.addEventListener(wl,d._moveCb=function _(R){R&&R.target!==d||(!R||/transform$/.test(R.propertyName))&&(d.removeEventListener(wl,_),d._moveCb=null,uo(d,l))})}}))},methods:{hasMove:function(o,l){if(!jf)return!1;if(this._hasMove)return this._hasMove;var c=o.cloneNode();o._transitionClasses&&o._transitionClasses.forEach(function(v){Bu(c,v)}),Uf(c,l),c.style.display="none",this.$el.appendChild(c);var d=qf(c);return this.$el.removeChild(c),this._hasMove=d.hasTransform}}};function sd(o){o.elm._moveCb&&o.elm._moveCb(),o.elm._enterCb&&o.elm._enterCb()}function Jp(o){o.data.newPos=o.elm.getBoundingClientRect()}function eh(o){var l=o.data.pos,c=o.data.newPos,d=l.left-c.left,v=l.top-c.top;if(d||v){o.data.moved=!0;var _=o.elm.style;_.transform=_.WebkitTransform="translate(".concat(d,"px,").concat(v,"px)"),_.transitionDuration="0s"}}var th={Transition:od,TransitionGroup:ad};_i.config.mustUseProp=Au,_i.config.isReservedTag=Fi,_i.config.isReservedAttr=$a,_i.config.getTagNamespace=mf,_i.config.isUnknownElement=op,Ft(_i.options.directives,Zp),Ft(_i.options.components,th),_i.prototype.__patch__=B?qp:m,_i.prototype.$mount=function(o,l){return o=o&&B?Mu(o):void 0,da(this,o,l)},B&&setTimeout(function(){je.devtools&&Pt&&Pt.emit("init",_i)},0);var nh=/\{\{((?:.|\r?\n)+?)\}\}/g,ld=/[-.*+?^${}()|[\]\/\\]/g,rh=pn(function(o){var l=o[0].replace(ld,"\\$&"),c=o[1].replace(ld,"\\$&");return new RegExp(l+"((?:.|\\n)+?)"+c,"g")});function ih(o,l){var c=l?rh(l):nh;if(!!c.test(o)){for(var d=[],v=[],_=c.lastIndex=0,R,q,ge;R=c.exec(o);){q=R.index,q>_&&(v.push(ge=o.slice(_,q)),d.push(JSON.stringify(ge)));var st=Uo(R[1].trim());d.push("_s(".concat(st,")")),v.push({"@binding":st}),_=q+R[0].length}return _<o.length&&(v.push(ge=o.slice(_)),d.push(JSON.stringify(ge))),{expression:d.join("+"),tokens:v}}}function oh(o,l){var c=l.warn||fi,d=ki(o,"class");if(!1)var v;d&&(o.staticClass=JSON.stringify(d.replace(/\s+/g," ").trim()));var _=wo(o,"class",!1);_&&(o.classBinding=_)}function ah(o){var l="";return o.staticClass&&(l+="staticClass:".concat(o.staticClass,",")),o.classBinding&&(l+="class:".concat(o.classBinding,",")),l}var sh={staticKeys:["staticClass"],transformNode:oh,genData:ah};function lh(o,l){var c=l.warn||fi,d=ki(o,"style");if(d){if(!1)var v;o.staticStyle=JSON.stringify(Al(d))}var _=wo(o,"style",!1);_&&(o.styleBinding=_)}function uh(o){var l="";return o.staticStyle&&(l+="staticStyle:".concat(o.staticStyle,",")),o.styleBinding&&(l+="style:(".concat(o.styleBinding,"),")),l}var ch={staticKeys:["staticStyle"],transformNode:lh,genData:uh},xl,fh={decode:function(o){return xl=xl||document.createElement("div"),xl.innerHTML=o,xl.textContent}},dh=ut("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),ph=ut("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),hh=ut("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),ud=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,vh=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,cd="[a-zA-Z_][\\-\\.0-9_a-zA-Z".concat(ve.source,"]*"),fd="((?:".concat(cd,"\\:)?").concat(cd,")"),Vu=new RegExp("^<".concat(fd)),qu=/^\s*(\/?)>/,dd=new RegExp("^<\\/".concat(fd,"[^>]*>")),pd=/^<!DOCTYPE [^>]+>/i,hd=/^<!\--/,vd=/^<!\[/,Ga=ut("script,style,textarea",!0),md={},mh={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":`
`,"&#9;":"	","&#39;":"'"},gd=/&(?:lt|gt|quot|amp|#39);/g,gh=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,_d=ut("pre,textarea",!0),yd=function(o,l){return o&&_d(o)&&l[0]===`
`};function bd(o,l){var c=l?gh:gd;return o.replace(c,function(d){return mh[d]})}function _h(o,l){for(var c=[],d=l.expectHTML,v=l.isUnaryTag||I,_=l.canBeLeftOpenTag||I,R=0,q,ge,st=function(){if(q=o,!ge||!Ga(ge)){var Tt=o.indexOf("<");if(Tt===0){if(hd.test(o)){var ar=o.indexOf("-->");if(ar>=0)return l.shouldKeepComment&&l.comment&&l.comment(o.substring(4,ar),R,R+ar+3),zt(ar+3),"continue"}if(vd.test(o)){var Ir=o.indexOf("]>");if(Ir>=0)return zt(Ir+2),"continue"}var dr=o.match(pd);if(dr)return zt(dr[0].length),"continue";var Pr=o.match(dd);if(Pr){var Qr=R;return zt(Pr[0].length),Or(Pr[1],Qr,R),"continue"}var sr=Nn();if(sr)return tr(sr),yd(sr.tagName,o)&&zt(1),"continue"}var ti=void 0,Yr=void 0,No=void 0;if(Tt>=0){for(Yr=o.slice(Tt);!dd.test(Yr)&&!Vu.test(Yr)&&!hd.test(Yr)&&!vd.test(Yr)&&(No=Yr.indexOf("<",1),!(No<0));)Tt+=No,Yr=o.slice(Tt);ti=o.substring(0,Tt)}Tt<0&&(ti=o),ti&&zt(ti.length),l.chars&&ti&&l.chars(ti,R-ti.length,R)}else{var bs=0,So=ge.toLowerCase(),To=md[So]||(md[So]=new RegExp("([\\s\\S]*?)(</"+So+"[^>]*>)","i")),Yr=o.replace(To,function(As,Lo,Ca){return bs=Ca.length,!Ga(So)&&So!=="noscript"&&(Lo=Lo.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),yd(So,Lo)&&(Lo=Lo.slice(1)),l.chars&&l.chars(Lo),""});R+=o.length-Yr.length,o=Yr,Or(So,R-bs,R)}if(o===q)return l.chars&&l.chars(o),"break"};o;){var kt=st();if(kt==="break")break}Or();function zt(Tt){R+=Tt,o=o.substring(Tt)}function Nn(){var Tt=o.match(Vu);if(Tt){var ar={tagName:Tt[1],attrs:[],start:R};zt(Tt[0].length);for(var Ir=void 0,dr=void 0;!(Ir=o.match(qu))&&(dr=o.match(vh)||o.match(ud));)dr.start=R,zt(dr[0].length),dr.end=R,ar.attrs.push(dr);if(Ir)return ar.unarySlash=Ir[1],zt(Ir[0].length),ar.end=R,ar}}function tr(Tt){var ar=Tt.tagName,Ir=Tt.unarySlash;d&&(ge==="p"&&hh(ar)&&Or(ge),_(ar)&&ge===ar&&Or(ar));for(var dr=v(ar)||!!Ir,Pr=Tt.attrs.length,Qr=new Array(Pr),sr=0;sr<Pr;sr++){var ti=Tt.attrs[sr],Yr=ti[3]||ti[4]||ti[5]||"",No=ar==="a"&&ti[1]==="href"?l.shouldDecodeNewlinesForHref:l.shouldDecodeNewlines;Qr[sr]={name:ti[1],value:bd(Yr,No)}}dr||(c.push({tag:ar,lowerCasedTag:ar.toLowerCase(),attrs:Qr,start:Tt.start,end:Tt.end}),ge=ar),l.start&&l.start(ar,Qr,dr,Tt.start,Tt.end)}function Or(Tt,ar,Ir){var dr,Pr;if(ar==null&&(ar=R),Ir==null&&(Ir=R),Tt)for(Pr=Tt.toLowerCase(),dr=c.length-1;dr>=0&&c[dr].lowerCasedTag!==Pr;dr--);else dr=0;if(dr>=0){for(var Qr=c.length-1;Qr>=dr;Qr--)l.end&&l.end(c[Qr].tag,ar,Ir);c.length=dr,ge=dr&&c[dr-1].tag}else Pr==="br"?l.start&&l.start(Tt,[],!0,ar,Ir):Pr==="p"&&(l.start&&l.start(Tt,[],!1,ar,Ir),l.end&&l.end(Tt,ar,Ir))}}var Ku=/^@|^v-on:/,kl=/^v-|^@|^:|^#/,Ad=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,yh=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,bh=/^\(|\)$/g,Il=/^\[.*\]$/,Ah=/:(.*)$/,Zu=/^:|^\.|^v-bind:/,Cd=/\.[^.\]]+(?=[^\]]*$)/g,Xu=/^v-slot(:|$)|^#/,Ch=/[\r\n]/,Ol=/[ \f\t\r\n]+/g,Mv=/[\s"'<>\/=]/,Ed=pn(fh.decode),Nl="_empty_",ba,wd,Qu,Yu,Ju,ec,tc,Pd,Eh;function nc(o,l,c){return{type:1,tag:o,attrsList:l,attrsMap:Fh(l),rawAttrsMap:{},parent:c,children:[]}}function za(o,l){ba=l.warn||fi,ec=l.isPreTag||I,tc=l.mustUseProp||I,Pd=l.getTagNamespace||I;var c=l.isReservedTag||I;Eh=function(Tt){return!!(Tt.component||Tt.attrsMap[":is"]||Tt.attrsMap["v-bind:is"]||!(Tt.attrsMap.is?c(Tt.attrsMap.is):c(Tt.tag)))},Qu=di(l.modules,"transformNode"),Yu=di(l.modules,"preTransformNode"),Ju=di(l.modules,"postTransformNode"),wd=l.delimiters;var d=[],v=l.preserveWhitespace!==!1,_=l.whitespace,R,q,ge=!1,st=!1,kt=!1;function zt(Tt,ar){kt||(kt=!0,ba(Tt,ar))}function Nn(Tt){if(tr(Tt),!ge&&!Tt.processed&&(Tt=Ll(Tt,l)),!d.length&&Tt!==R&&R.if&&(Tt.elseif||Tt.else)&&ys(R,{exp:Tt.elseif,block:Tt}),q&&!Tt.forbidden)if(Tt.elseif||Tt.else)Td(Tt,q);else{if(Tt.slotScope){var ar=Tt.slotTarget||'"default"';(q.scopedSlots||(q.scopedSlots={}))[ar]=Tt}q.children.push(Tt),Tt.parent=q}Tt.children=Tt.children.filter(function(dr){return!dr.slotScope}),tr(Tt),Tt.pre&&(ge=!1),ec(Tt.tag)&&(st=!1);for(var Ir=0;Ir<Ju.length;Ir++)Ju[Ir](Tt,l)}function tr(Tt){if(!st)for(var ar=void 0;(ar=Tt.children[Tt.children.length-1])&&ar.type===3&&ar.text===" ";)Tt.children.pop()}function Or(Tt){(Tt.tag==="slot"||Tt.tag==="template")&&zt("Cannot use <".concat(Tt.tag,"> as component root element because it may ")+"contain multiple nodes.",{start:Tt.start}),Tt.attrsMap.hasOwnProperty("v-for")&&zt("Cannot use v-for on stateful component root element because it renders multiple elements.",Tt.rawAttrsMap["v-for"])}return _h(o,{warn:ba,expectHTML:l.expectHTML,isUnaryTag:l.isUnaryTag,canBeLeftOpenTag:l.canBeLeftOpenTag,shouldDecodeNewlines:l.shouldDecodeNewlines,shouldDecodeNewlinesForHref:l.shouldDecodeNewlinesForHref,shouldKeepComment:l.comments,outputSourceRange:l.outputSourceRange,start:function(Tt,ar,Ir,dr,Pr){var Qr=q&&q.ns||Pd(Tt);H&&Qr==="svg"&&(ar=Nd(ar));var sr=nc(Tt,ar,q);Qr&&(sr.ns=Qr),kd(sr)&&!qn()&&(sr.forbidden=!0);for(var ti=0;ti<Yu.length;ti++)sr=Yu[ti](sr,l)||sr;ge||(wh(sr),sr.pre&&(ge=!0)),ec(sr.tag)&&(st=!0),ge?Ph(sr):sr.processed||(Sd(sr),xh(sr),Ih(sr)),R||(R=sr),Ir?Nn(sr):(q=sr,d.push(sr))},end:function(Tt,ar,Ir){var dr=d[d.length-1];d.length-=1,q=d[d.length-1],Nn(dr)},chars:function(Tt,ar,Ir){if(!!q&&!(H&&q.tag==="textarea"&&q.attrsMap.placeholder===Tt)){var dr=q.children;if(st||Tt.trim()?Tt=xd(q)?Tt:Ed(Tt):dr.length?_?_==="condense"?Tt=Ch.test(Tt)?"":" ":Tt=" ":Tt=v?" ":"":Tt="",Tt){!st&&_==="condense"&&(Tt=Tt.replace(Ol," "));var Pr=void 0,Qr=void 0;!ge&&Tt!==" "&&(Pr=ih(Tt,wd))?Qr={type:2,expression:Pr.expression,tokens:Pr.tokens,text:Tt}:(Tt!==" "||!dr.length||dr[dr.length-1].text!==" ")&&(Qr={type:3,text:Tt}),Qr&&dr.push(Qr)}}},comment:function(Tt,ar,Ir){if(q){var dr={type:3,text:Tt,isComment:!0};q.children.push(dr)}}}),R}function wh(o){ki(o,"v-pre")!=null&&(o.pre=!0)}function Ph(o){var l=o.attrsList,c=l.length;if(c)for(var d=o.attrs=new Array(c),v=0;v<c;v++)d[v]={name:l[v].name,value:JSON.stringify(l[v].value)},l[v].start!=null&&(d[v].start=l[v].start,d[v].end=l[v].end);else o.pre||(o.plain=!0)}function Ll(o,l){Sh(o),o.plain=!o.key&&!o.scopedSlots&&!o.attrsList.length,Th(o),Oh(o),Nh(o),Lh(o);for(var c=0;c<Qu.length;c++)o=Qu[c](o,l)||o;return Rh(o),o}function Sh(o){var l=wo(o,"key");if(l){if(!1)var c,d;o.key=l}}function Th(o){var l=wo(o,"ref");l&&(o.ref=l,o.refInFor=Dh(o))}function Sd(o){var l;if(l=ki(o,"v-for")){var c=Mh(l);c&&Ft(o,c)}}function Mh(o){var l=o.match(Ad);if(!!l){var c={};c.for=l[2].trim();var d=l[1].trim().replace(bh,""),v=d.match(yh);return v?(c.alias=d.replace(yh,"").trim(),c.iterator1=v[1].trim(),v[2]&&(c.iterator2=v[2].trim())):c.alias=d,c}}function xh(o){var l=ki(o,"v-if");if(l)o.if=l,ys(o,{exp:l,block:o});else{ki(o,"v-else")!=null&&(o.else=!0);var c=ki(o,"v-else-if");c&&(o.elseif=c)}}function Td(o,l){var c=kh(l.children);c&&c.if&&ys(c,{exp:o.elseif,block:o})}function kh(o){for(var l=o.length;l--;){if(o[l].type===1)return o[l];o.pop()}}function ys(o,l){o.ifConditions||(o.ifConditions=[]),o.ifConditions.push(l)}function Ih(o){var l=ki(o,"v-once");l!=null&&(o.once=!0)}function Oh(o){var l;o.tag==="template"?(l=ki(o,"scope"),o.slotScope=l||ki(o,"slot-scope")):(l=ki(o,"slot-scope"))&&(o.slotScope=l);var c=wo(o,"slot");if(c&&(o.slotTarget=c==='""'?'"default"':c,o.slotTargetDynamic=!!(o.attrsMap[":slot"]||o.attrsMap["v-bind:slot"]),o.tag!=="template"&&!o.slotScope&&ku(o,"slot",c,Mp(o,"slot"))),o.tag==="template"){var d=wf(o,Xu);if(d){var v=Md(d),_=v.name,R=v.dynamic;o.slotTarget=_,o.slotTargetDynamic=R,o.slotScope=d.value||Nl}}else{var d=wf(o,Xu);if(d){var q=o.scopedSlots||(o.scopedSlots={}),ge=Md(d),st=ge.name,R=ge.dynamic,kt=q[st]=nc("template",[],o);kt.slotTarget=st,kt.slotTargetDynamic=R,kt.children=o.children.filter(function(tr){if(!tr.slotScope)return tr.parent=kt,!0}),kt.slotScope=d.value||Nl,o.children=[],o.plain=!1}}}function Md(o){var l=o.name.replace(Xu,"");return l||o.name[0]!=="#"&&(l="default"),Il.test(l)?{name:l.slice(1,-1),dynamic:!0}:{name:'"'.concat(l,'"'),dynamic:!1}}function Nh(o){o.tag==="slot"&&(o.slotName=wo(o,"name"))}function Lh(o){var l;(l=wo(o,"is"))&&(o.component=l),ki(o,"inline-template")!=null&&(o.inlineTemplate=!0)}function Rh(o){var l=o.attrsList,c,d,v,_,R,q,ge,st;for(c=0,d=l.length;c<d;c++)if(v=_=l[c].name,R=l[c].value,kl.test(v))if(o.hasBindings=!0,q=Bh(v.replace(kl,"")),q&&(v=v.replace(Cd,"")),Zu.test(v))v=v.replace(Zu,""),R=Uo(R),st=Il.test(v),st&&(v=v.slice(1,-1)),q&&(q.prop&&!st&&(v=Vt(v),v==="innerHtml"&&(v="innerHTML")),q.camel&&!st&&(v=Vt(v)),q.sync&&(ge=ya(R,"$event"),st?ia(o,'"update:"+('.concat(v,")"),ge,null,!1,ba,l[c],!0):(ia(o,"update:".concat(Vt(v)),ge,null,!1,ba,l[c]),V(v)!==Vt(v)&&ia(o,"update:".concat(V(v)),ge,null,!1,ba,l[c])))),q&&q.prop||!o.component&&tc(o.tag,o.attrsMap.type,v)?ri(o,v,R,l[c],st):ku(o,v,R,l[c],st);else if(Ku.test(v))v=v.replace(Ku,""),st=Il.test(v),st&&(v=v.slice(1,-1)),ia(o,v,R,q,!1,ba,l[c],st);else{v=v.replace(kl,"");var kt=v.match(Ah),zt=kt&&kt[1];st=!1,zt&&(v=v.slice(0,-(zt.length+1)),Il.test(zt)&&(zt=zt.slice(1,-1),st=!0)),Tp(o,v,_,R,zt,st,q,l[c])}else{if(!1)var Nn;ku(o,v,JSON.stringify(R),l[c]),!o.component&&v==="muted"&&tc(o.tag,o.attrsMap.type,v)&&ri(o,v,"true",l[c])}}function Dh(o){for(var l=o;l;){if(l.for!==void 0)return!0;l=l.parent}return!1}function Bh(o){var l=o.match(Cd);if(l){var c={};return l.forEach(function(d){c[d.slice(1)]=!0}),c}}function Fh(o){for(var l={},c=0,d=o.length;c<d;c++)l[o[c].name]=o[c].value;return l}function xd(o){return o.tag==="script"||o.tag==="style"}function kd(o){return o.tag==="style"||o.tag==="script"&&(!o.attrsMap.type||o.attrsMap.type==="text/javascript")}var Id=/^xmlns:NS\d+/,Od=/^NS\d+:/;function Nd(o){for(var l=[],c=0;c<o.length;c++){var d=o[c];Id.test(d.name)||(d.name=d.name.replace(Od,""),l.push(d))}return l}function $h(o,l){for(var c=o;c;)c.for&&c.alias===l&&ba("<".concat(o.tag,' v-model="').concat(l,'">: ')+"You are binding v-model directly to a v-for iteration alias. This will not be able to modify the v-for source array because writing to the alias is like modifying a function local variable. Consider using an array of objects and use v-model on an object property instead.",o.rawAttrsMap["v-model"]),c=c.parent}function Hh(o,l){if(o.tag==="input"){var c=o.attrsMap;if(!c["v-model"])return;var d=void 0;if((c[":type"]||c["v-bind:type"])&&(d=wo(o,"type")),!c.type&&!d&&c["v-bind"]&&(d="(".concat(c["v-bind"],").type")),d){var v=ki(o,"v-if",!0),_=v?"&&(".concat(v,")"):"",R=ki(o,"v-else",!0)!=null,q=ki(o,"v-else-if",!0),ge=rc(o);Sd(ge),Iu(ge,"type","checkbox"),Ll(ge,l),ge.processed=!0,ge.if="(".concat(d,")==='checkbox'")+_,ys(ge,{exp:ge.if,block:ge});var st=rc(o);ki(st,"v-for",!0),Iu(st,"type","radio"),Ll(st,l),ys(ge,{exp:"(".concat(d,")==='radio'")+_,block:st});var kt=rc(o);return ki(kt,"v-for",!0),Iu(kt,":type",d),Ll(kt,l),ys(ge,{exp:v,block:kt}),R?ge.else=!0:q&&(ge.elseif=q),ge}}}function rc(o){return nc(o.tag,o.attrsList.slice(),o.parent)}var Uh={preTransformNode:Hh},Ld=[sh,ch,Uh];function jh(o,l){l.value&&ri(o,"textContent","_s(".concat(l.value,")"),l)}function Gh(o,l){l.value&&ri(o,"innerHTML","_s(".concat(l.value,")"),l)}var zh={model:xf,text:jh,html:Gh},Wh={expectHTML:!0,modules:Ld,directives:zh,isPreTag:Fr,isUnaryTag:dh,mustUseProp:Au,canBeLeftOpenTag:ph,isReservedTag:Fi,getTagNamespace:mf,staticKeys:ue(Ld)},Rd,ic,Vh=pn(Kh);function qh(o,l){!o||(Rd=Vh(l.staticKeys||""),ic=l.isReservedTag||I,oc(o),ac(o,!1))}function Kh(o){return ut("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(o?","+o:""))}function oc(o){if(o.static=Rl(o),o.type===1){if(!ic(o.tag)&&o.tag!=="slot"&&o.attrsMap["inline-template"]==null)return;for(var l=0,c=o.children.length;l<c;l++){var d=o.children[l];oc(d),d.static||(o.static=!1)}if(o.ifConditions)for(var l=1,c=o.ifConditions.length;l<c;l++){var v=o.ifConditions[l].block;oc(v),v.static||(o.static=!1)}}}function ac(o,l){if(o.type===1){if((o.static||o.once)&&(o.staticInFor=l),o.static&&o.children.length&&!(o.children.length===1&&o.children[0].type===3)){o.staticRoot=!0;return}else o.staticRoot=!1;if(o.children)for(var c=0,d=o.children.length;c<d;c++)ac(o.children[c],l||!!o.for);if(o.ifConditions)for(var c=1,d=o.ifConditions.length;c<d;c++)ac(o.ifConditions[c].block,l)}}function Rl(o){return o.type===2?!1:o.type===3?!0:!!(o.pre||!o.hasBindings&&!o.if&&!o.for&&!nn(o.tag)&&ic(o.tag)&&!Go(o)&&Object.keys(o).every(Rd))}function Go(o){for(;o.parent;){if(o=o.parent,o.tag!=="template")return!1;if(o.for)return!0}return!1}var sc=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Dd=/\([^)]*?\);*$/,lc=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Dl={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},uc={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},ro=function(o){return"if(".concat(o,")return null;")},Vs={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:ro("$event.target !== $event.currentTarget"),ctrl:ro("!$event.ctrlKey"),shift:ro("!$event.shiftKey"),alt:ro("!$event.altKey"),meta:ro("!$event.metaKey"),left:ro("'button' in $event && $event.button !== 0"),middle:ro("'button' in $event && $event.button !== 1"),right:ro("'button' in $event && $event.button !== 2")};function Bl(o,l){var c=l?"nativeOn:":"on:",d="",v="";for(var _ in o){var R=cc(o[_]);o[_]&&o[_].dynamic?v+="".concat(_,",").concat(R,","):d+='"'.concat(_,'":').concat(R,",")}return d="{".concat(d.slice(0,-1),"}"),v?c+"_d(".concat(d,",[").concat(v.slice(0,-1),"])"):c+d}function cc(o){if(!o)return"function(){}";if(Array.isArray(o))return"[".concat(o.map(function(kt){return cc(kt)}).join(","),"]");var l=lc.test(o.value),c=sc.test(o.value),d=lc.test(o.value.replace(Dd,""));if(o.modifiers){var v="",_="",R=[],q=function(kt){if(Vs[kt])_+=Vs[kt],Dl[kt]&&R.push(kt);else if(kt==="exact"){var zt=o.modifiers;_+=ro(["ctrl","shift","alt","meta"].filter(function(Nn){return!zt[Nn]}).map(function(Nn){return"$event.".concat(Nn,"Key")}).join("||"))}else R.push(kt)};for(var ge in o.modifiers)q(ge);R.length&&(v+=Zh(R)),_&&(v+=_);var st=l?"return ".concat(o.value,".apply(null, arguments)"):c?"return (".concat(o.value,").apply(null, arguments)"):d?"return ".concat(o.value):o.value;return"function($event){".concat(v).concat(st,"}")}else return l||c?o.value:"function($event){".concat(d?"return ".concat(o.value):o.value,"}")}function Zh(o){return"if(!$event.type.indexOf('key')&&"+"".concat(o.map(Po).join("&&"),")return null;")}function Po(o){var l=parseInt(o,10);if(l)return"$event.keyCode!==".concat(l);var c=Dl[o],d=uc[o];return"_k($event.keyCode,"+"".concat(JSON.stringify(o),",")+"".concat(JSON.stringify(c),",")+"$event.key,"+"".concat(JSON.stringify(d))+")"}function Fl(o,l){o.wrapListeners=function(c){return"_g(".concat(c,",").concat(l.value,")")}}function Xh(o,l){o.wrapData=function(c){return"_b(".concat(c,",'").concat(o.tag,"',").concat(l.value,",").concat(l.modifiers&&l.modifiers.prop?"true":"false").concat(l.modifiers&&l.modifiers.sync?",true":"",")")}}var Qh={on:Fl,bind:Xh,cloak:m},Bd=function(){function o(l){this.options=l,this.warn=l.warn||fi,this.transforms=di(l.modules,"transformCode"),this.dataGenFns=di(l.modules,"genData"),this.directives=Ft(Ft({},Qh),l.directives);var c=l.isReservedTag||I;this.maybeComponent=function(d){return!!d.component||!c(d.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1}return o}();function Fd(o,l){var c=new Bd(l),d=o?o.tag==="script"?"null":zo(o,c):'_c("div")';return{render:"with(this){return ".concat(d,"}"),staticRenderFns:c.staticRenderFns}}function zo(o,l){if(o.parent&&(o.pre=o.pre||o.parent.pre),o.staticRoot&&!o.staticProcessed)return $d(o,l);if(o.once&&!o.onceProcessed)return dc(o,l);if(o.for&&!o.forProcessed)return Ud(o,l);if(o.if&&!o.ifProcessed)return pc(o,l);if(o.tag==="template"&&!o.slotTarget&&!l.pre)return Wa(o,l)||"void 0";if(o.tag==="slot")return r1(o,l);var c=void 0;if(o.component)c=i1(o.component,o,l);else{var d=void 0,v=l.maybeComponent(o);(!o.plain||o.pre&&v)&&(d=jd(o,l));var _=void 0,R=l.options.bindings;v&&R&&R.__isScriptSetup!==!1&&(_=fc(R,o.tag)),_||(_="'".concat(o.tag,"'"));var q=o.inlineTemplate?null:Wa(o,l,!0);c="_c(".concat(_).concat(d?",".concat(d):"").concat(q?",".concat(q):"",")")}for(var ge=0;ge<l.transforms.length;ge++)c=l.transforms[ge](o,c);return c}function fc(o,l){var c=Vt(l),d=O(c),v=function(q){if(o[l]===q)return l;if(o[c]===q)return c;if(o[d]===q)return d},_=v("setup-const")||v("setup-reactive-const");if(_)return _;var R=v("setup-let")||v("setup-ref")||v("setup-maybe-ref");if(R)return R}function $d(o,l){o.staticProcessed=!0;var c=l.pre;return o.pre&&(l.pre=o.pre),l.staticRenderFns.push("with(this){return ".concat(zo(o,l),"}")),l.pre=c,"_m(".concat(l.staticRenderFns.length-1).concat(o.staticInFor?",true":"",")")}function dc(o,l){if(o.onceProcessed=!0,o.if&&!o.ifProcessed)return pc(o,l);if(o.staticInFor){for(var c="",d=o.parent;d;){if(d.for){c=d.key;break}d=d.parent}return c?"_o(".concat(zo(o,l),",").concat(l.onceId++,",").concat(c,")"):zo(o,l)}else return $d(o,l)}function pc(o,l,c,d){return o.ifProcessed=!0,Hd(o.ifConditions.slice(),l,c,d)}function Hd(o,l,c,d){if(!o.length)return d||"_e()";var v=o.shift();if(v.exp)return"(".concat(v.exp,")?").concat(_(v.block),":").concat(Hd(o,l,c,d));return"".concat(_(v.block));function _(R){return c?c(R,l):R.once?dc(R,l):zo(R,l)}}function Ud(o,l,c,d){var v=o.for,_=o.alias,R=o.iterator1?",".concat(o.iterator1):"",q=o.iterator2?",".concat(o.iterator2):"";return o.forProcessed=!0,"".concat(d||"_l","((").concat(v,"),")+"function(".concat(_).concat(R).concat(q,"){")+"return ".concat((c||zo)(o,l))+"})"}function jd(o,l){var c="{",d=zi(o,l);d&&(c+=d+","),o.key&&(c+="key:".concat(o.key,",")),o.ref&&(c+="ref:".concat(o.ref,",")),o.refInFor&&(c+="refInFor:true,"),o.pre&&(c+="pre:true,"),o.component&&(c+='tag:"'.concat(o.tag,'",'));for(var v=0;v<l.dataGenFns.length;v++)c+=l.dataGenFns[v](o);if(o.attrs&&(c+="attrs:".concat(qs(o.attrs),",")),o.props&&(c+="domProps:".concat(qs(o.props),",")),o.events&&(c+="".concat(Bl(o.events,!1),",")),o.nativeEvents&&(c+="".concat(Bl(o.nativeEvents,!0),",")),o.slotTarget&&!o.slotScope&&(c+="slot:".concat(o.slotTarget,",")),o.scopedSlots&&(c+="".concat(Yh(o,o.scopedSlots,l),",")),o.model&&(c+="model:{value:".concat(o.model.value,",callback:").concat(o.model.callback,",expression:").concat(o.model.expression,"},")),o.inlineTemplate){var _=$l(o,l);_&&(c+="".concat(_,","))}return c=c.replace(/,$/,"")+"}",o.dynamicAttrs&&(c="_b(".concat(c,',"').concat(o.tag,'",').concat(qs(o.dynamicAttrs),")")),o.wrapData&&(c=o.wrapData(c)),o.wrapListeners&&(c=o.wrapListeners(c)),c}function zi(o,l){var c=o.directives;if(!!c){var d="directives:[",v=!1,_,R,q,ge;for(_=0,R=c.length;_<R;_++){q=c[_],ge=!0;var st=l.directives[q.name];st&&(ge=!!st(o,q,l.warn)),ge&&(v=!0,d+='{name:"'.concat(q.name,'",rawName:"').concat(q.rawName,'"').concat(q.value?",value:(".concat(q.value,"),expression:").concat(JSON.stringify(q.value)):"").concat(q.arg?",arg:".concat(q.isDynamicArg?q.arg:'"'.concat(q.arg,'"')):"").concat(q.modifiers?",modifiers:".concat(JSON.stringify(q.modifiers)):"","},"))}if(v)return d.slice(0,-1)+"]"}}function $l(o,l){var c=o.children[0];if(c&&c.type===1){var d=Fd(c,l.options);return"inlineTemplate:{render:function(){".concat(d.render,"},staticRenderFns:[").concat(d.staticRenderFns.map(function(v){return"function(){".concat(v,"}")}).join(","),"]}")}}function Yh(o,l,c){var d=o.for||Object.keys(l).some(function(q){var ge=l[q];return ge.slotTargetDynamic||ge.if||ge.for||Gd(ge)}),v=!!o.if;if(!d)for(var _=o.parent;_;){if(_.slotScope&&_.slotScope!==Nl||_.for){d=!0;break}_.if&&(v=!0),_=_.parent}var R=Object.keys(l).map(function(q){return Hl(l[q],c)}).join(",");return"scopedSlots:_u([".concat(R,"]").concat(d?",null,true":"").concat(!d&&v?",null,false,".concat(Ei(R)):"",")")}function Ei(o){for(var l=5381,c=o.length;c;)l=l*33^o.charCodeAt(--c);return l>>>0}function Gd(o){return o.type===1?o.tag==="slot"?!0:o.children.some(Gd):!1}function Hl(o,l){var c=o.attrsMap["slot-scope"];if(o.if&&!o.ifProcessed&&!c)return pc(o,l,Hl,"null");if(o.for&&!o.forProcessed)return Ud(o,l,Hl);var d=o.slotScope===Nl?"":String(o.slotScope),v="function(".concat(d,"){")+"return ".concat(o.tag==="template"?o.if&&c?"(".concat(o.if,")?").concat(Wa(o,l)||"undefined",":undefined"):Wa(o,l)||"undefined":zo(o,l),"}"),_=d?"":",proxy:true";return"{key:".concat(o.slotTarget||'"default"',",fn:").concat(v).concat(_,"}")}function Wa(o,l,c,d,v){var _=o.children;if(_.length){var R=_[0];if(_.length===1&&R.for&&R.tag!=="template"&&R.tag!=="slot"){var q=c?l.maybeComponent(R)?",1":",0":"";return"".concat((d||zo)(R,l)).concat(q)}var ge=c?Jh(_,l.maybeComponent):0,st=v||e1;return"[".concat(_.map(function(kt){return st(kt,l)}).join(","),"]").concat(ge?",".concat(ge):"")}}function Jh(o,l){for(var c=0,d=0;d<o.length;d++){var v=o[d];if(v.type===1){if(zd(v)||v.ifConditions&&v.ifConditions.some(function(_){return zd(_.block)})){c=2;break}(l(v)||v.ifConditions&&v.ifConditions.some(function(_){return l(_.block)}))&&(c=1)}}return c}function zd(o){return o.for!==void 0||o.tag==="template"||o.tag==="slot"}function e1(o,l){return o.type===1?zo(o,l):o.type===3&&o.isComment?n1(o):t1(o)}function t1(o){return"_v(".concat(o.type===2?o.expression:Ks(JSON.stringify(o.text)),")")}function n1(o){return"_e(".concat(JSON.stringify(o.text),")")}function r1(o,l){var c=o.slotName||'"default"',d=Wa(o,l),v="_t(".concat(c).concat(d?",function(){return ".concat(d,"}"):""),_=o.attrs||o.dynamicAttrs?qs((o.attrs||[]).concat(o.dynamicAttrs||[]).map(function(q){return{name:Vt(q.name),value:q.value,dynamic:q.dynamic}})):null,R=o.attrsMap["v-bind"];return(_||R)&&!d&&(v+=",null"),_&&(v+=",".concat(_)),R&&(v+="".concat(_?"":",null",",").concat(R)),v+")"}function i1(o,l,c){var d=l.inlineTemplate?null:Wa(l,c,!0);return"_c(".concat(o,",").concat(jd(l,c)).concat(d?",".concat(d):"",")")}function qs(o){for(var l="",c="",d=0;d<o.length;d++){var v=o[d],_=Ks(v.value);v.dynamic?c+="".concat(v.name,",").concat(_,","):l+='"'.concat(v.name,'":').concat(_,",")}return l="{".concat(l.slice(0,-1),"}"),c?"_d(".concat(l,",[").concat(c.slice(0,-1),"])"):l}function Ks(o){return o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}var Wd=new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),o1=new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),a1=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g;function s1(o,l){o&&Vd(o,l)}function Vd(o,l){if(o.type===1){for(var c in o.attrsMap)if(kl.test(c)){var d=o.attrsMap[c];if(d){var v=o.rawAttrsMap[c];c==="v-for"?hc(o,'v-for="'.concat(d,'"'),l,v):c==="v-slot"||c[0]==="#"?u1(d,"".concat(c,'="').concat(d,'"'),l,v):Ku.test(c)?l1(d,"".concat(c,'="').concat(d,'"'),l,v):Ul(d,"".concat(c,'="').concat(d,'"'),l,v)}}if(o.children)for(var _=0;_<o.children.length;_++)Vd(o.children[_],l)}else o.type===2&&Ul(o.expression,o.text,l,o)}function l1(o,l,c,d){var v=o.replace(a1,""),_=v.match(o1);_&&v.charAt(_.index-1)!=="$"&&c("avoid using JavaScript unary operator as property name: "+'"'.concat(_[0],'" in expression ').concat(l.trim()),d),Ul(o,l,c,d)}function hc(o,l,c,d){Ul(o.for||"",l,c,d),vc(o.alias,"v-for alias",l,c,d),vc(o.iterator1,"v-for iterator",l,c,d),vc(o.iterator2,"v-for iterator",l,c,d)}function vc(o,l,c,d,v){if(typeof o=="string")try{new Function("var ".concat(o,"=_"))}catch{d("invalid ".concat(l,' "').concat(o,'" in expression: ').concat(c.trim()),v)}}function Ul(o,l,c,d){try{new Function("return ".concat(o))}catch(_){var v=o.replace(a1,"").match(Wd);c(v?"avoid using JavaScript keyword as property name: "+'"'.concat(v[0],`"
  Raw expression: `).concat(l.trim()):"invalid expression: ".concat(_.message,` in

`)+"    ".concat(o,`

`)+"  Raw expression: ".concat(l.trim(),`
`),d)}}function u1(o,l,c,d){try{new Function(o,"")}catch(v){c("invalid function parameter expression: ".concat(v.message,` in

`)+"    ".concat(o,`

`)+"  Raw expression: ".concat(l.trim(),`
`),d)}}var qd=2;function xv(o,l,c){l===void 0&&(l=0),c===void 0&&(c=o.length);for(var d=o.split(/\r?\n/),v=0,_=[],R=0;R<d.length;R++)if(v+=d[R].length+1,v>=l){for(var q=R-qd;q<=R+qd||c>v;q++)if(!(q<0||q>=d.length)){_.push("".concat(q+1).concat(jl(" ",3-String(q+1).length),"|  ").concat(d[q]));var ge=d[q].length;if(q===R){var st=l-(v-ge)+1,kt=c>v?ge-st:c-l;_.push("   |  "+jl(" ",st)+jl("^",kt))}else if(q>R){if(c>v){var zt=Math.min(c-v,ge);_.push("   |  "+jl("^",zt))}v+=ge+1}}break}return _.join(`
`)}function jl(o,l){var c="";if(l>0)for(;l&1&&(c+=o),l>>>=1,!(l<=0);)o+=o;return c}function sa(o,l){try{return new Function(o)}catch(c){return l.push({err:c,code:o}),m}}function Kd(o){var l=Object.create(null);return function(d,v,_){v=Ft({},v);var R=v.warn||Bi;delete v.warn;var q=v.delimiters?String(v.delimiters)+d:d;if(l[q])return l[q];var ge=o(d,v),st={},kt=[];return st.render=sa(ge.render,kt),st.staticRenderFns=ge.staticRenderFns.map(function(zt){return sa(zt,kt)}),l[q]=st}}function Zd(o){return function(c){function d(v,_){var R=Object.create(c),q=[],ge=[],st=function(tr,Or,Tt){(Tt?ge:q).push(tr)};if(_){if(!1)var kt;_.modules&&(R.modules=(c.modules||[]).concat(_.modules)),_.directives&&(R.directives=Ft(Object.create(c.directives||null),_.directives));for(var zt in _)zt!=="modules"&&zt!=="directives"&&(R[zt]=_[zt])}R.warn=st;var Nn=o(v.trim(),R);return Nn.errors=q,Nn.tips=ge,Nn}return{compile:d,compileToFunctions:Kd(d)}}}var c1=Zd(function(l,c){var d=za(l.trim(),c);c.optimize!==!1&&qh(d,c);var v=Fd(d,c);return{ast:d,render:v.render,staticRenderFns:v.staticRenderFns}}),f1=c1(Wh),Gl=f1.compileToFunctions,zl;function co(o){return zl=zl||document.createElement("div"),zl.innerHTML=o?`<a href="
"/>`:`<div a="
"/>`,zl.innerHTML.indexOf("&#10;")>0}var d1=B?co(!1):!1,p1=B?co(!0):!1,Xd=pn(function(o){var l=Mu(o);return l&&l.innerHTML}),Wl=_i.prototype.$mount;_i.prototype.$mount=function(o,l){if(o=o&&Mu(o),o===document.body||o===document.documentElement)return this;var c=this.$options;if(!c.render){var d=c.template;if(d)if(typeof d=="string")d.charAt(0)==="#"&&(d=Xd(d));else if(d.nodeType)d=d.innerHTML;else return this;else o&&(d=h1(o));if(d){var v=Gl(d,{outputSourceRange:!1,shouldDecodeNewlines:d1,shouldDecodeNewlinesForHref:p1,delimiters:c.delimiters,comments:c.comments},this),_=v.render,R=v.staticRenderFns;c.render=_,c.staticRenderFns=R}}return Wl.call(this,o,l)};function h1(o){if(o.outerHTML)return o.outerHTML;var l=document.createElement("div");return l.appendChild(o.cloneNode(!0)),l.innerHTML}_i.compile=Gl},629:function(Cn,Ke,j){"use strict";j.d(Ke,{OI:function(){return W},rn:function(){return I}});/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */function A(N){var B=Number(N.version.split(".")[0]);if(B>=2)N.mixin({beforeCreate:H});else{var P=N.prototype._init;N.prototype._init=function(X){X===void 0&&(X={}),X.init=X.init?[H].concat(X.init):H,P.call(this,X)}}function H(){var X=this.$options;X.store?this.$store=typeof X.store=="function"?X.store():X.store:X.parent&&X.parent.$store&&(this.$store=X.parent.$store)}}var x=typeof window<"u"?window:typeof j.g<"u"?j.g:{},F=x.__VUE_DEVTOOLS_GLOBAL_HOOK__;function M(N){!F||(N._devtoolHook=F,F.emit("vuex:init",N),F.on("vuex:travel-to-state",function(B){N.replaceState(B)}),N.subscribe(function(B,P){F.emit("vuex:mutation",B,P)},{prepend:!0}),N.subscribeAction(function(B,P){F.emit("vuex:action",B,P)},{prepend:!0}))}function T(N,B){return N.filter(B)[0]}function Ie(N,B){if(B===void 0&&(B=[]),N===null||typeof N!="object")return N;var P=T(B,function(X){return X.original===N});if(P)return P.copy;var H=Array.isArray(N)?[]:{};return B.push({original:N,copy:H}),Object.keys(N).forEach(function(X){H[X]=Ie(N[X],B)}),H}function ee(N,B){Object.keys(N).forEach(function(P){return B(N[P],P)})}function z(N){return N!==null&&typeof N=="object"}function Se(N){return N&&typeof N.then=="function"}function he(N,B){if(!N)throw new Error("[vuex] "+B)}function Ge(N,B){return function(){return N(B)}}var de=function(B,P){this.runtime=P,this._children=Object.create(null),this._rawModule=B;var H=B.state;this.state=(typeof H=="function"?H():H)||{}},k={namespaced:{configurable:!0}};k.namespaced.get=function(){return!!this._rawModule.namespaced},de.prototype.addChild=function(B,P){this._children[B]=P},de.prototype.removeChild=function(B){delete this._children[B]},de.prototype.getChild=function(B){return this._children[B]},de.prototype.hasChild=function(B){return B in this._children},de.prototype.update=function(B){this._rawModule.namespaced=B.namespaced,B.actions&&(this._rawModule.actions=B.actions),B.mutations&&(this._rawModule.mutations=B.mutations),B.getters&&(this._rawModule.getters=B.getters)},de.prototype.forEachChild=function(B){ee(this._children,B)},de.prototype.forEachGetter=function(B){this._rawModule.getters&&ee(this._rawModule.getters,B)},de.prototype.forEachAction=function(B){this._rawModule.actions&&ee(this._rawModule.actions,B)},de.prototype.forEachMutation=function(B){this._rawModule.mutations&&ee(this._rawModule.mutations,B)},Object.defineProperties(de.prototype,k);var at=function(B){this.register([],B,!1)};at.prototype.get=function(B){return B.reduce(function(P,H){return P.getChild(H)},this.root)},at.prototype.getNamespace=function(B){var P=this.root;return B.reduce(function(H,X){return P=P.getChild(X),H+(P.namespaced?X+"/":"")},"")},at.prototype.update=function(B){Xt([],this.root,B)},at.prototype.register=function(B,P,H){var X=this;H===void 0&&(H=!0);var He=new de(P,H);if(B.length===0)this.root=He;else{var Je=this.get(B.slice(0,-1));Je.addChild(B[B.length-1],He)}P.modules&&ee(P.modules,function(rt,Fe){X.register(B.concat(Fe),rt,H)})},at.prototype.unregister=function(B){var P=this.get(B.slice(0,-1)),H=B[B.length-1],X=P.getChild(H);!X||!X.runtime||P.removeChild(H)},at.prototype.isRegistered=function(B){var P=this.get(B.slice(0,-1)),H=B[B.length-1];return P?P.hasChild(H):!1};function Xt(N,B,P){if(B.update(P),P.modules)for(var H in P.modules){if(!B.getChild(H))return;Xt(N.concat(H),B.getChild(H),P.modules[H])}}var Rt={assert:function(N){return typeof N=="function"},expected:"function"},on={assert:function(N){return typeof N=="function"||typeof N=="object"&&typeof N.handler=="function"},expected:'function or object with "handler" function'},ut={getters:Rt,mutations:Rt,actions:on};function nn(N,B){Object.keys(ut).forEach(function(P){if(!!B[P]){var H=ut[P];ee(B[P],function(X,He){he(H.assert(X),Ct(N,P,He,X,H.expected))})}})}function Ct(N,B,P,H,X){var He=B+" should be "+X+' but "'+B+"."+P+'"';return N.length>0&&(He+=' in module "'+N.join(".")+'"'),He+=" is "+JSON.stringify(H)+".",He}var vt,Zt=function(B){var P=this;B===void 0&&(B={}),!vt&&typeof window<"u"&&window.Vue&&m(window.Vue);var H=B.plugins;H===void 0&&(H=[]);var X=B.strict;X===void 0&&(X=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new at(B),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new vt,this._makeLocalGettersCache=Object.create(null);var He=this,Je=this,rt=Je.dispatch,Fe=Je.commit;this.dispatch=function(qn,Pt){return rt.call(He,qn,Pt)},this.commit=function(qn,Pt,Nt){return Fe.call(He,qn,Pt,Nt)},this.strict=X;var vn=this._modules.root.state;O(this,vn,[],this._modules.root),Vt(this,vn),H.forEach(function(Mn){return Mn(P)});var It=B.devtools!==void 0?B.devtools:vt.config.devtools;It&&M(this)},jt={state:{configurable:!0}};jt.state.get=function(){return this._vm._data.$$state},jt.state.set=function(N){},Zt.prototype.commit=function(B,P,H){var X=this,He=en(B,P,H),Je=He.type,rt=He.payload,Fe=He.options,vn={type:Je,payload:rt},It=this._mutations[Je];!It||(this._withCommit(function(){It.forEach(function(qn){qn(rt)})}),this._subscribers.slice().forEach(function(Mn){return Mn(vn,X.state)}))},Zt.prototype.dispatch=function(B,P){var H=this,X=en(B,P),He=X.type,Je=X.payload,rt={type:He,payload:Je},Fe=this._actions[He];if(!!Fe){try{this._actionSubscribers.slice().filter(function(It){return It.before}).forEach(function(It){return It.before(rt,H.state)})}catch{}var vn=Fe.length>1?Promise.all(Fe.map(function(It){return It(Je)})):Fe[0](Je);return new Promise(function(It,Mn){vn.then(function(qn){try{H._actionSubscribers.filter(function(Pt){return Pt.after}).forEach(function(Pt){return Pt.after(rt,H.state)})}catch{}It(qn)},function(qn){try{H._actionSubscribers.filter(function(Pt){return Pt.error}).forEach(function(Pt){return Pt.error(rt,H.state,qn)})}catch{}Mn(qn)})})}},Zt.prototype.subscribe=function(B,P){return pn(B,this._subscribers,P)},Zt.prototype.subscribeAction=function(B,P){var H=typeof B=="function"?{before:B}:B;return pn(H,this._actionSubscribers,P)},Zt.prototype.watch=function(B,P,H){var X=this;return this._watcherVM.$watch(function(){return B(X.state,X.getters)},P,H)},Zt.prototype.replaceState=function(B){var P=this;this._withCommit(function(){P._vm._data.$$state=B})},Zt.prototype.registerModule=function(B,P,H){H===void 0&&(H={}),typeof B=="string"&&(B=[B]),this._modules.register(B,P),O(this,this.state,B,this._modules.get(B),H.preserveState),Vt(this,this.state)},Zt.prototype.unregisterModule=function(B){var P=this;typeof B=="string"&&(B=[B]),this._modules.unregister(B),this._withCommit(function(){var H=Ft(P.state,B.slice(0,-1));vt.delete(H,B[B.length-1])}),qe(this)},Zt.prototype.hasModule=function(B){return typeof B=="string"&&(B=[B]),this._modules.isRegistered(B)},Zt.prototype.hotUpdate=function(B){this._modules.update(B),qe(this,!0)},Zt.prototype._withCommit=function(B){var P=this._committing;this._committing=!0,B(),this._committing=P},Object.defineProperties(Zt.prototype,jt);function pn(N,B,P){return B.indexOf(N)<0&&(P&&P.prepend?B.unshift(N):B.push(N)),function(){var H=B.indexOf(N);H>-1&&B.splice(H,1)}}function qe(N,B){N._actions=Object.create(null),N._mutations=Object.create(null),N._wrappedGetters=Object.create(null),N._modulesNamespaceMap=Object.create(null);var P=N.state;O(N,P,[],N._modules.root,!0),Vt(N,P,B)}function Vt(N,B,P){var H=N._vm;N.getters={},N._makeLocalGettersCache=Object.create(null);var X=N._wrappedGetters,He={};ee(X,function(rt,Fe){He[Fe]=Ge(rt,N),Object.defineProperty(N.getters,Fe,{get:function(){return N._vm[Fe]},enumerable:!0})});var Je=vt.config.silent;vt.config.silent=!0,N._vm=new vt({data:{$$state:B},computed:He}),vt.config.silent=Je,N.strict&&qt(N),H&&(P&&N._withCommit(function(){H._data.$$state=null}),vt.nextTick(function(){return H.$destroy()}))}function O(N,B,P,H,X){var He=!P.length,Je=N._modules.getNamespace(P);if(H.namespaced&&(N._modulesNamespaceMap[Je],N._modulesNamespaceMap[Je]=H),!He&&!X){var rt=Ft(B,P.slice(0,-1)),Fe=P[P.length-1];N._withCommit(function(){vt.set(rt,Fe,H.state)})}var vn=H.context=le(N,Je,P);H.forEachMutation(function(It,Mn){var qn=Je+Mn;lt(N,qn,It,vn)}),H.forEachAction(function(It,Mn){var qn=It.root?Mn:Je+Mn,Pt=It.handler||It;wt(N,qn,Pt,vn)}),H.forEachGetter(function(It,Mn){var qn=Je+Mn;In(N,qn,It,vn)}),H.forEachChild(function(It,Mn){O(N,B,P.concat(Mn),It,X)})}function le(N,B,P){var H=B==="",X={dispatch:H?N.dispatch:function(He,Je,rt){var Fe=en(He,Je,rt),vn=Fe.payload,It=Fe.options,Mn=Fe.type;return(!It||!It.root)&&(Mn=B+Mn),N.dispatch(Mn,vn)},commit:H?N.commit:function(He,Je,rt){var Fe=en(He,Je,rt),vn=Fe.payload,It=Fe.options,Mn=Fe.type;(!It||!It.root)&&(Mn=B+Mn),N.commit(Mn,vn,It)}};return Object.defineProperties(X,{getters:{get:H?function(){return N.getters}:function(){return V(N,B)}},state:{get:function(){return Ft(N.state,P)}}}),X}function V(N,B){if(!N._makeLocalGettersCache[B]){var P={},H=B.length;Object.keys(N.getters).forEach(function(X){if(X.slice(0,H)===B){var He=X.slice(H);Object.defineProperty(P,He,{get:function(){return N.getters[X]},enumerable:!0})}}),N._makeLocalGettersCache[B]=P}return N._makeLocalGettersCache[B]}function lt(N,B,P,H){var X=N._mutations[B]||(N._mutations[B]=[]);X.push(function(Je){P.call(N,H.state,Je)})}function wt(N,B,P,H){var X=N._actions[B]||(N._actions[B]=[]);X.push(function(Je){var rt=P.call(N,{dispatch:H.dispatch,commit:H.commit,getters:H.getters,state:H.state,rootGetters:N.getters,rootState:N.state},Je);return Se(rt)||(rt=Promise.resolve(rt)),N._devtoolHook?rt.catch(function(Fe){throw N._devtoolHook.emit("vuex:error",Fe),Fe}):rt})}function In(N,B,P,H){N._wrappedGetters[B]||(N._wrappedGetters[B]=function(He){return P(H.state,H.getters,He.state,He.getters)})}function qt(N){N._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function Ft(N,B){return B.reduce(function(P,H){return P[H]},N)}function en(N,B,P){return z(N)&&N.type&&(P=B,B=N,N=N.type),{type:N,payload:B,options:P}}function m(N){vt&&N===vt||(vt=N,A(vt))}var I=E(function(N,B){var P={};return re(B).forEach(function(H){var X=H.key,He=H.val;P[X]=function(){var rt=this.$store.state,Fe=this.$store.getters;if(N){var vn=K(this.$store,"mapState",N);if(!vn)return;rt=vn.context.state,Fe=vn.context.getters}return typeof He=="function"?He.call(this,rt,Fe):rt[He]},P[X].vuex=!0}),P}),W=E(function(N,B){var P={};return re(B).forEach(function(H){var X=H.key,He=H.val;P[X]=function(){for(var rt=[],Fe=arguments.length;Fe--;)rt[Fe]=arguments[Fe];var vn=this.$store.commit;if(N){var It=K(this.$store,"mapMutations",N);if(!It)return;vn=It.context.commit}return typeof He=="function"?He.apply(this,[vn].concat(rt)):vn.apply(this.$store,[He].concat(rt))}}),P}),ue=E(function(N,B){var P={};return re(B).forEach(function(H){var X=H.key,He=H.val;He=N+He,P[X]=function(){if(!(N&&!K(this.$store,"mapGetters",N)))return this.$store.getters[He]},P[X].vuex=!0}),P}),Ue=E(function(N,B){var P={};return re(B).forEach(function(H){var X=H.key,He=H.val;P[X]=function(){for(var rt=[],Fe=arguments.length;Fe--;)rt[Fe]=arguments[Fe];var vn=this.$store.dispatch;if(N){var It=K(this.$store,"mapActions",N);if(!It)return;vn=It.context.dispatch}return typeof He=="function"?He.apply(this,[vn].concat(rt)):vn.apply(this.$store,[He].concat(rt))}}),P}),nt=function(N){return{mapState:I.bind(null,N),mapGetters:ue.bind(null,N),mapMutations:W.bind(null,N),mapActions:Ue.bind(null,N)}};function re(N){return _e(N)?Array.isArray(N)?N.map(function(B){return{key:B,val:B}}):Object.keys(N).map(function(B){return{key:B,val:N[B]}}):[]}function _e(N){return Array.isArray(N)||z(N)}function E(N){return function(B,P){return typeof B!="string"?(P=B,B=""):B.charAt(B.length-1)!=="/"&&(B+="/"),N(B,P)}}function K(N,B,P){var H=N._modulesNamespaceMap[P];return H}function me(N){N===void 0&&(N={});var B=N.collapsed;B===void 0&&(B=!0);var P=N.filter;P===void 0&&(P=function(It,Mn,qn){return!0});var H=N.transformer;H===void 0&&(H=function(It){return It});var X=N.mutationTransformer;X===void 0&&(X=function(It){return It});var He=N.actionFilter;He===void 0&&(He=function(It,Mn){return!0});var Je=N.actionTransformer;Je===void 0&&(Je=function(It){return It});var rt=N.logMutations;rt===void 0&&(rt=!0);var Fe=N.logActions;Fe===void 0&&(Fe=!0);var vn=N.logger;return vn===void 0&&(vn=console),function(It){var Mn=Ie(It.state);typeof vn>"u"||(rt&&It.subscribe(function(qn,Pt){var Nt=Ie(Pt);if(P(qn,Mn,Nt)){var mr=ct(),ur=X(qn),En="mutation "+qn.type+mr;je(vn,En,B),vn.log("%c prev state","color: #9E9E9E; font-weight: bold",H(Mn)),vn.log("%c mutation","color: #03A9F4; font-weight: bold",ur),vn.log("%c next state","color: #4CAF50; font-weight: bold",H(Nt)),ve(vn)}Mn=Nt}),Fe&&It.subscribeAction(function(qn,Pt){if(He(qn,Pt)){var Nt=ct(),mr=Je(qn),ur="action "+qn.type+Nt;je(vn,ur,B),vn.log("%c action","color: #03A9F4; font-weight: bold",mr),ve(vn)}}))}}function je(N,B,P){var H=P?N.groupCollapsed:N.group;try{H.call(N,B)}catch{N.log(B)}}function ve(N){try{N.groupEnd()}catch{N.log("\u2014\u2014 log end \u2014\u2014")}}function ct(){var N=new Date;return" @ "+te(N.getHours(),2)+":"+te(N.getMinutes(),2)+":"+te(N.getSeconds(),2)+"."+te(N.getMilliseconds(),3)}function Dt(N,B){return new Array(B+1).join(N)}function te(N,B){return Dt("0",B-N.toString().length)+N}var xe={Store:Zt,install:m,version:"3.6.2",mapState:I,mapMutations:W,mapGetters:ue,mapActions:Ue,createNamespacedHelpers:nt,createLogger:me};Ke.ZP=xe},2780:function(Cn,Ke,j){"use strict";j.d(Ke,{Z:function(){return ut}});var A=j(6092),x=A.Z.Symbol,F=x,M=Object.prototype,T=M.hasOwnProperty,Ie=M.toString,ee=F?F.toStringTag:void 0;function z(nn){var Ct=T.call(nn,ee),vt=nn[ee];try{nn[ee]=void 0;var Zt=!0}catch{}var jt=Ie.call(nn);return Zt&&(Ct?nn[ee]=vt:delete nn[ee]),jt}var Se=z,he=Object.prototype,Ge=he.toString;function de(nn){return Ge.call(nn)}var k=de,at="[object Null]",Xt="[object Undefined]",Rt=F?F.toStringTag:void 0;function on(nn){return nn==null?nn===void 0?Xt:at:Rt&&Rt in Object(nn)?Se(nn):k(nn)}var ut=on},3413:function(Cn,Ke){"use strict";var j=typeof global=="object"&&global&&global.Object===Object&&global;Ke.Z=j},6092:function(Cn,Ke,j){"use strict";var A=j(3413),x=typeof self=="object"&&self&&self.Object===Object&&self,F=A.Z||x||Function("return this")();Ke.Z=F},2599:function(Cn,Ke,j){"use strict";j.d(Ke,{Z:function(){return Zt}});var A=j(7226),x=j(6092),F=function(){return x.Z.Date.now()},M=F,T=j(2780),Ie=j(8533),ee="[object Symbol]";function z(jt){return typeof jt=="symbol"||(0,Ie.Z)(jt)&&(0,T.Z)(jt)==ee}var Se=z,he=0/0,Ge=/^\s+|\s+$/g,de=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,at=/^0o[0-7]+$/i,Xt=parseInt;function Rt(jt){if(typeof jt=="number")return jt;if(Se(jt))return he;if((0,A.Z)(jt)){var pn=typeof jt.valueOf=="function"?jt.valueOf():jt;jt=(0,A.Z)(pn)?pn+"":pn}if(typeof jt!="string")return jt===0?jt:+jt;jt=jt.replace(Ge,"");var qe=k.test(jt);return qe||at.test(jt)?Xt(jt.slice(2),qe?2:8):de.test(jt)?he:+jt}var on=Rt,ut="Expected a function",nn=Math.max,Ct=Math.min;function vt(jt,pn,qe){var Vt,O,le,V,lt,wt,In=0,qt=!1,Ft=!1,en=!0;if(typeof jt!="function")throw new TypeError(ut);pn=on(pn)||0,(0,A.Z)(qe)&&(qt=!!qe.leading,Ft="maxWait"in qe,le=Ft?nn(on(qe.maxWait)||0,pn):le,en="trailing"in qe?!!qe.trailing:en);function m(K){var me=Vt,je=O;return Vt=O=void 0,In=K,V=jt.apply(je,me),V}function I(K){return In=K,lt=setTimeout(Ue,pn),qt?m(K):V}function W(K){var me=K-wt,je=K-In,ve=pn-me;return Ft?Ct(ve,le-je):ve}function ue(K){var me=K-wt,je=K-In;return wt===void 0||me>=pn||me<0||Ft&&je>=le}function Ue(){var K=M();if(ue(K))return nt(K);lt=setTimeout(Ue,W(K))}function nt(K){return lt=void 0,en&&Vt?m(K):(Vt=O=void 0,V)}function re(){lt!==void 0&&clearTimeout(lt),In=0,Vt=wt=O=lt=void 0}function _e(){return lt===void 0?V:nt(M())}function E(){var K=M(),me=ue(K);if(Vt=arguments,O=this,wt=K,me){if(lt===void 0)return I(wt);if(Ft)return clearTimeout(lt),lt=setTimeout(Ue,pn),m(wt)}return lt===void 0&&(lt=setTimeout(Ue,pn)),V}return E.cancel=re,E.flush=_e,E}var Zt=vt},844:function(Cn,Ke,j){"use strict";j.d(Ke,{Z:function(){return Ee}});function A(Me){return function(Qe,Ce,Lt){for(var Gn=-1,br=Object(Qe),_r=Lt(Qe),dn=_r.length;dn--;){var Qt=_r[Me?dn:++Gn];if(Ce(br[Qt],Qt,br)===!1)break}return Qe}}var x=A,F=x(),M=F;function T(Me,Qe){for(var Ce=-1,Lt=Array(Me);++Ce<Me;)Lt[Ce]=Qe(Ce);return Lt}var Ie=T,ee=j(2780),z=j(8533),Se="[object Arguments]";function he(Me){return(0,z.Z)(Me)&&(0,ee.Z)(Me)==Se}var Ge=he,de=Object.prototype,k=de.hasOwnProperty,at=de.propertyIsEnumerable,Xt=Ge(function(){return arguments}())?Ge:function(Me){return(0,z.Z)(Me)&&k.call(Me,"callee")&&!at.call(Me,"callee")},Rt=Xt,on=Array.isArray,ut=on,nn=j(6092);function Ct(){return!1}var vt=Ct,Zt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jt=Zt&&typeof module=="object"&&module&&!module.nodeType&&module,pn=jt&&jt.exports===Zt,qe=pn?nn.Z.Buffer:void 0,Vt=qe?qe.isBuffer:void 0,O=Vt||vt,le=O,V=9007199254740991,lt=/^(?:0|[1-9]\d*)$/;function wt(Me,Qe){var Ce=typeof Me;return Qe=Qe??V,!!Qe&&(Ce=="number"||Ce!="symbol"&&lt.test(Me))&&Me>-1&&Me%1==0&&Me<Qe}var In=wt,qt=9007199254740991;function Ft(Me){return typeof Me=="number"&&Me>-1&&Me%1==0&&Me<=qt}var en=Ft,m="[object Arguments]",I="[object Array]",W="[object Boolean]",ue="[object Date]",Ue="[object Error]",nt="[object Function]",re="[object Map]",_e="[object Number]",E="[object Object]",K="[object RegExp]",me="[object Set]",je="[object String]",ve="[object WeakMap]",ct="[object ArrayBuffer]",Dt="[object DataView]",te="[object Float32Array]",xe="[object Float64Array]",N="[object Int8Array]",B="[object Int16Array]",P="[object Int32Array]",H="[object Uint8Array]",X="[object Uint8ClampedArray]",He="[object Uint16Array]",Je="[object Uint32Array]",rt={};rt[te]=rt[xe]=rt[N]=rt[B]=rt[P]=rt[H]=rt[X]=rt[He]=rt[Je]=!0,rt[m]=rt[I]=rt[ct]=rt[W]=rt[Dt]=rt[ue]=rt[Ue]=rt[nt]=rt[re]=rt[_e]=rt[E]=rt[K]=rt[me]=rt[je]=rt[ve]=!1;function Fe(Me){return(0,z.Z)(Me)&&en(Me.length)&&!!rt[(0,ee.Z)(Me)]}var vn=Fe;function It(Me){return function(Qe){return Me(Qe)}}var Mn=It,qn=j(3413),Pt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Nt=Pt&&typeof module=="object"&&module&&!module.nodeType&&module,mr=Nt&&Nt.exports===Pt,ur=mr&&qn.Z.process,En=function(){try{var Me=Nt&&Nt.require&&Nt.require("util").types;return Me||ur&&ur.binding&&ur.binding("util")}catch{}}(),Ui=En,Xn=Ui&&Ui.isTypedArray,pr=Xn?Mn(Xn):vn,Ri=pr,to=Object.prototype,vo=to.hasOwnProperty;function mo(Me,Qe){var Ce=ut(Me),Lt=!Ce&&Rt(Me),Gn=!Ce&&!Lt&&le(Me),br=!Ce&&!Lt&&!Gn&&Ri(Me),_r=Ce||Lt||Gn||br,dn=_r?Ie(Me.length,String):[],Qt=dn.length;for(var ht in Me)(Qe||vo.call(Me,ht))&&!(_r&&(ht=="length"||Gn&&(ht=="offset"||ht=="parent")||br&&(ht=="buffer"||ht=="byteLength"||ht=="byteOffset")||In(ht,Qt)))&&dn.push(ht);return dn}var go=mo,Jo=Object.prototype;function Ja(Me){var Qe=Me&&Me.constructor,Ce=typeof Qe=="function"&&Qe.prototype||Jo;return Me===Ce}var qi=Ja;function ka(Me,Qe){return function(Ce){return Me(Qe(Ce))}}var ca=ka,Ia=ca(Object.keys,Object),ea=Ia,es=Object.prototype,Ii=es.hasOwnProperty;function ji(Me){if(!qi(Me))return ea(Me);var Qe=[];for(var Ce in Object(Me))Ii.call(Me,Ce)&&Ce!="constructor"&&Qe.push(Ce);return Qe}var gn=ji,wn=j(7226),Mt="[object AsyncFunction]",$e="[object Function]",ie="[object GeneratorFunction]",Q="[object Proxy]";function Ze(Me){if(!(0,wn.Z)(Me))return!1;var Qe=(0,ee.Z)(Me);return Qe==$e||Qe==ie||Qe==Mt||Qe==Q}var L=Ze;function fe(Me){return Me!=null&&en(Me.length)&&!L(Me)}var se=fe;function Xe(Me){return se(Me)?go(Me):gn(Me)}var Gt=Xe;function bt(Me,Qe){return Me&&M(Me,Qe,Gt)}var Oe=bt;function mt(Me){return Me}var Bt=mt;function g(Me){return typeof Me=="function"?Me:Bt}var C=g;function Y(Me,Qe){return Me&&Oe(Me,C(Qe))}var Ee=Y},7226:function(Cn,Ke){"use strict";function j(A){var x=typeof A;return A!=null&&(x=="object"||x=="function")}Ke.Z=j},8533:function(Cn,Ke){"use strict";function j(A){return A!=null&&typeof A=="object"}Ke.Z=j},111:function(Cn,Ke,j){"use strict";var A=j(2599),x=j(7226),F="Expected a function";function M(T,Ie,ee){var z=!0,Se=!0;if(typeof T!="function")throw new TypeError(F);return(0,x.Z)(ee)&&(z="leading"in ee?!!ee.leading:z,Se="trailing"in ee?!!ee.trailing:Se),(0,A.Z)(T,Ie,{leading:z,maxWait:Ie,trailing:Se})}Ke.Z=M}}]);
