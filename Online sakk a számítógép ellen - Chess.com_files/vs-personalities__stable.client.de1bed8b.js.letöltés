window.chesscom=window.chesscom||{},window.chesscom.routes=window.chesscom.routes||{},Object.assign(window.chesscom.routes,{web_game_live:{tokens:[["variable","/","[^/]++","id"],["text","/game/live"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_game_live:{tokens:[["variable","/","[^/]++","id"],["text","/game/live"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_game_rcn:{tokens:[["variable","/","[^/]++","id"],["text","/game/rcn"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_game_rcn:{tokens:[["variable","/","[^/]++","id"],["text","/game/rcn"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_puzzles_mode_battle_view:{tokens:[["variable","/","[^/]++","shortUuid"],["text","/puzzles/battle"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_puzzles_mode_battle_view:{tokens:[["variable","/","[^/]++","shortUuid"],["text","/puzzles/battle"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_user_callback_lifetime_score:{tokens:[["variable","/","[^/]++","opponent"],["variable","/","[^/]++","user"],["text","/callback/user/lifetime-score"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_member_view:{tokens:[["variable","/","[^/]++","username"],["text","/member"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_member_view:{tokens:[["variable","/","[^/]++","username"],["text","/member"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_archive_index:{tokens:[["variable","/","[^/]++","username"],["text","/games/archive"]],defaults:{username:null,subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_archive_index:{tokens:[["variable","/","[^/]++","username"],["text","/games/archive"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{username:null,subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_play_new:{tokens:[["text","/play/online/new"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_play_new:{tokens:[["text","/play/online/new"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_verification_index:{tokens:[["text","/verified"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_verification_index:{tokens:[["text","/verified"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_member_callback_trophy_list:{tokens:[["variable","/","[^/]++","trophyType"],["variable","/","[^/]++","username"],["text","/callback/member/trophy"]],defaults:{trophyType:null,subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_callback_get_trophies:{tokens:[["text","/callback/trophies"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_user_trophy_showcase_callback:{tokens:[["text","/showcase"],["variable","/","[^/]++","username"],["text","/callback/user/trophy"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_callback_count_user_trophies:{tokens:[["variable","/","[^/]++","username"],["text","/callback/count/user_trophy"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_feature_trophy_callback:{tokens:[["variable","/","0|1","featured"],["variable","/","\\d+","id"],["text","/callback/feature/trophy"]],defaults:{subdomain:"www"},requirements:{id:"\\d+",featured:"0|1",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_award_trophy_callback:{tokens:[["variable","/","\\d+","trophyId"],["variable","/","[^/]++","username"],["text","/callback/award/trophy"]],defaults:{subdomain:"www"},requirements:{trophyId:"\\d+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_security_register:{tokens:[["text","/register"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["GET"],schemes:["https"]},i18n_web_security_register:{tokens:[["text","/register"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["GET"],schemes:["https"]},web_security_login_and_go:{tokens:[["text","/login_and_go"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_security_login_and_go:{tokens:[["text","/login_and_go"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_user_game_settings_email_callback_animation_type:{tokens:[["text","/callback/settings/user/email/animationType"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_game_settings_email_callback_board_color:{tokens:[["text","/callback/settings/user/email/boardColor"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_game_settings_email_callback_coordinates:{tokens:[["text","/callback/settings/user/email/coordinates"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_game_settings_callback_dark_mode_toggle:{tokens:[["text","/callback/settings/user/darkModeToggle"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_game_settings_email_callback_show_legal_moves_toggle:{tokens:[["text","/callback/settings/user/email/showLegalMovesToggle"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_game_settings_email_callback_highlight_last_move_toggle:{tokens:[["text","/callback/settings/user/email/highlightLastMoveToggle"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_game_settings_email_callback_is_white_on_bottom_toggle:{tokens:[["text","/callback/settings/user/email/isWhiteOnBottom"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_game_settings_email_callback_move_list_display_type:{tokens:[["text","/callback/settings/user/email/moveListDisplayType"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_game_settings_email_callback_move_method:{tokens:[["text","/callback/settings/user/email/moveMethod"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_game_settings_email_callback_piece:{tokens:[["text","/callback/settings/user/email/pieceStyle"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_game_settings_email_callback_sound_toggle:{tokens:[["text","/callback/settings/user/email/soundToggle"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_game_settings_email_callback_show_timestamps:{tokens:[["text","/callback/settings/user/email/showTimestamps"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_game_settings_email_callback_sound_theme:{tokens:[["text","/callback/settings/user/email/soundTheme"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_callback_get_board_settings:{tokens:[["text","/callback/board-settings"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_2fa_login:{tokens:[["text","/2fa"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_2fa_login:{tokens:[["text","/2fa"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_article_callback_list_authors:{tokens:[["text","/callback/articles/authors"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_content_callback_load_more:{tokens:[["variable","/","[1-9]+[0-9]*","page"],["variable","/","article|news|blog","contentType"],["text","/callback/content/list"]],defaults:{subdomain:"www"},requirements:{page:"[1-9]+[0-9]*",contentType:"article|news|blog",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_content_callback_load_more:{tokens:[["variable","/","[1-9]+[0-9]*","page"],["variable","/","article|news|blog","contentType"],["text","/callback/content/list"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{page:"[1-9]+[0-9]*",contentType:"article|news|blog",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_article_callback_lock_coments:{tokens:[["variable","/","[^/]++","id"],["text","/callback/articles/lock-comments"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_blog_callback_lock_coments:{tokens:[["variable","/","[^/]++","id"],["text","/callback/blog/lock-comments"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_news_callback_lock_coments:{tokens:[["variable","/","[^/]++","id"],["text","/callback/news/lock-comments"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_video_callback_lock_coments:{tokens:[["variable","/","[^/]++","id"],["text","/callback/video/lock-comments"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_content_callback_feature_article:{tokens:[["variable","/","[^/]++","id"],["text","/callback/content/feature/article"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_content_callback_feature_blog:{tokens:[["variable","/","[^/]++","id"],["text","/callback/content/feature/blog"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_content_callback_feature_lesson_course:{tokens:[["variable","/","[^/]++","id"],["text","/callback/content/feature/lesson_course"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_content_callback_feature_news:{tokens:[["variable","/","[^/]++","id"],["text","/callback/content/feature/news"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_content_callback_feature_chess_video:{tokens:[["variable","/","[^/]++","id"],["text","/callback/content/feature/chess_video"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_callback_set_content_language:{tokens:[["text","/callback/user/content-language/set"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_article_view:{tokens:[["variable","/","[^/]++","url"],["text","/article/view"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_article_view:{tokens:[["variable","/","[^/]++","url"],["text","/article/view"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_survey_callback_vote:{tokens:[["variable","/","\\d+","optionId"],["text","/vote"],["variable","/","\\d+","id"],["text","/callback/survey"]],defaults:{subdomain:"www"},requirements:{id:"\\d+",optionId:"\\d+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_team_match_view:{tokens:[["variable","/","\\d+","match"],["text","/club/matches"]],defaults:{subdomain:"www"},requirements:{match:"\\d+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_team_match_view:{tokens:[["variable","/","\\d+","match"],["text","/club/matches"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{match:"\\d+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_tournament_view:{tokens:[["variable","/","[^/]++","url"],["text","/tournament"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_tournament_view:{tokens:[["variable","/","[^/]++","url"],["text","/tournament"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_user_home:{tokens:[["text","/home"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_user_callback_report_user:{tokens:[["text","/callback/report-user"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_tv_callback_report:{tokens:[["variable","/","[^/]++","video"],["variable","/","[^/]++","reason"],["text","/chess-tv/callback/report"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_callback_popup:{tokens:[["variable","/","[^/]++","username"],["text","/callback/user/popup"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_about:{tokens:[["text","/about"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_membership:{tokens:[["text","/membership"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_membership:{tokens:[["text","/membership"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_user_callback_username_search:{tokens:[["variable","/","[^/]++","username"],["text","/callback/user/search"]],defaults:{username:null,subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_league_division:{tokens:[["variable","/","[\\w]{6,}","division"],["variable","/","\\w+","league"],["text","/leagues"]],defaults:{subdomain:"www"},requirements:{league:"\\w+",division:"[\\w]{6,}",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_league_division:{tokens:[["variable","/","[\\w]{6,}","division"],["variable","/","\\w+","league"],["text","/leagues"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{league:"\\w+",division:"[\\w]{6,}",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_stats:{tokens:[["variable","/","[^/]++","username"],["text","/stats"]],defaults:{username:null,subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_stats:{tokens:[["variable","/","[^/]++","username"],["text","/stats"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{username:null,subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_friend_request_callback:{tokens:[["variable","/","[^/]++","user"],["text","/callback/friend/request"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_friend_accept_request_callback:{tokens:[["variable","/","[^/]++","user"],["text","/callback/friend/accept"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["PUT"],schemes:["https"]},web_member_callback_block_member:{tokens:[["variable","/","[^/]++","username"],["text","/callback/member/block"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_friend_cancel_request_callback:{tokens:[["variable","/","[^/]++","user"],["text","/callback/friend/cancel/request"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_callback_valid_username:{tokens:[["text","/callback/user/valid"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_user_callback_valid_username:{tokens:[["text","/callback/user/valid"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_friend_decline_request_callback:{tokens:[["variable","/","[^/]++","user"],["text","/callback/friend/decline/request"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["DELETE"],schemes:["https"]},web_friend_delete_callback:{tokens:[["variable","/","[^/]++","user"],["text","/callback/friend/delete"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["DELETE"],schemes:["https"]},web_user_callback_dismiss_follow_suggestion:{tokens:[["variable","/","[^/]++","username"],["text","/callback/user/dismiss_follow"]],defaults:{subdomain:"www"},requirements:{id:"\\d+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_callback_report_reasons:{tokens:[["text","/callback/report-user"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},pubapi_player_profile:{tokens:[["variable","/","[^/]++","username"],["text","/pub/player"]],defaults:[],requirements:[],hosttokens:[["text","api.chess-dev.com"]],methods:[],schemes:["https"]},web_user_callback_follow_suggestions:{tokens:[["text","/callback/user/follow_suggestions"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_friend_callback_friends_search:{tokens:[["text","/search"],["variable","/","[^/]++","user"],["text","/callback/friends"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_user_callback_recent_opponents:{tokens:[["text","/callback/recent/opponents"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_security_callback_user_roles:{tokens:[["text","/callback/security/user/roles"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_guest_update_skill_level:{tokens:[["text","/guest/update-skill-level"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_callback_set_archive_view:{tokens:[["text","/callback/user/archive-view"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_callback_set_fair_play_agree:{tokens:[["variable","/","1|0","fairPlayAgree"],["text","/callback/user/set-fair-play-agree"]],defaults:{subdomain:"www"},requirements:{fairPlayAgree:"1|0",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_callback_set_home_recent_content_type:{tokens:[["text","/callback/user/home-recent-content-type"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_member_callback_track_member:{tokens:[["variable","/","[^/]++","username"],["text","/callback/member/track"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_member_callback_unblock_member:{tokens:[["variable","/","[^/]++","username"],["text","/callback/member/unblock"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_member_callback_untrack_member:{tokens:[["variable","/","[^/]++","username"],["text","/callback/member/untrack"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_vs_personality_callback_save_crown:{tokens:[["text","/callback/user-vs-personality/save-crown"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_bot_personality_callback_get_enabled:{tokens:[["text","/callback/bot-personalities"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_computer_callback_load_game:{tokens:[["variable","/","\\d+","id"],["text","/computer/callback/game"]],defaults:{subdomain:"www"},requirements:{id:"\\d+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_themes_data_callback:{tokens:[["text","/callback/themes/data"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["GET"],schemes:["https"]},web_master_player_view:{tokens:[["variable","/",".+","url"],["text","/players"]],defaults:{subdomain:"www"},requirements:{url:".+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["GET"],schemes:["https"]},i18n_web_master_player_view:{tokens:[["variable","/",".+","url"],["text","/players"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{url:".+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["GET"],schemes:["https"]},web_master_player_redirect:{tokens:[["variable","/",".+","name"],["text","/players/redirect"]],defaults:{subdomain:"www"},requirements:{name:".+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_master_player_redirect:{tokens:[["variable","/",".+","name"],["text","/players/redirect"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{name:".+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_computer_save_finished_game:{tokens:[["text","/computer/callback/save-finished-game"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_game_computer:{tokens:[["variable","/","[^/]++","id"],["text","/game/computer"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_game_computer:{tokens:[["variable","/","[^/]++","id"],["text","/game/computer"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},explorer_index:{tokens:[["text","/explorer"]],defaults:[],requirements:[],hosttokens:[["text","www.chess-dev.com"]],methods:[],schemes:["https"]},i18n_explorer_index:{tokens:[["text","/explorer"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{_locale:""},requirements:{_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text","www.chess-dev.com"]],methods:[],schemes:["https"]},explorer_callback_move:{tokens:[["text","/callback/explorer/move"]],defaults:[],requirements:[],hosttokens:[["text","www.chess-dev.com"]],methods:["POST"],schemes:["https"]},explorer_callback_get_suggested_moves:{tokens:[["text","/callback/explorer/get-suggested-moves"]],defaults:[],requirements:[],hosttokens:[["text","www.chess-dev.com"]],methods:["POST"],schemes:["https"]},web_master_games_search:{tokens:[["text","/games/search"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["GET"],schemes:["https"]},i18n_web_master_games_search:{tokens:[["text","/games/search"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["GET"],schemes:["https"]},web_analysis_board_editor:{tokens:[["text","/analysis"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_analysis_board_editor:{tokens:[["text","/analysis"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_practice_custom:{tokens:[["text","/practice/custom"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_play_computer:{tokens:[["text","/play/computer"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_play_computer:{tokens:[["text","/play/computer"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_openings_view:{tokens:[["variable","/","[^/]++","cleanUrl"],["text","/openings"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_openings_view:{tokens:[["variable","/","[^/]++","cleanUrl"],["text","/openings"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_analysis_ceac:{tokens:[["variable","/","[^/]++","gameId"],["variable","/","daily|live|master|pgn|computer","type"],["text","/analysis/game"]],defaults:{subdomain:"www"},requirements:{type:"daily|live|master|pgn|computer",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_analysis_ceac:{tokens:[["variable","/","[^/]++","gameId"],["variable","/","daily|live|master|pgn|computer","type"],["text","/analysis/game"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{type:"daily|live|master|pgn|computer",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_play_computer_chess960:{tokens:[["text","/play/computer/chess960"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_play_computer_chess960:{tokens:[["text","/play/computer/chess960"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_user_settings_themes:{tokens:[["text","/settings/themes"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_user_settings_board:{tokens:[["text","/settings/board"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_blog_view:{tokens:[["variable","/",".+","url"],["text","/blog"]],defaults:{subdomain:"www"},requirements:{url:".+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_blog_view:{tokens:[["variable","/",".+","url"],["text","/blog"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{url:".+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_user_callback_delete_comment:{tokens:[["variable","/","\\d+","id"],["text","/callback/comment"]],defaults:{subdomain:"www"},requirements:{id:"\\d+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["DELETE"],schemes:["https"]},web_user_callback_get_available_flair:{tokens:[["variable","/","[^/]++","username"],["text","/callback/user/get-available-flair"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_user_callback_load_notes:{tokens:[["text","/callback/user/notes"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["GET"],schemes:["https"]},web_member_callback_mute_account:{tokens:[["variable","/","[^/]++","user"],["text","/callback/member/mute-account"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_callback_post_note:{tokens:[["text","/callback/user/note"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_callback_set_flair:{tokens:[["text","/callback/user/set-flair"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_callback_set_status:{tokens:[["text","/callback/user/set-status"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_user_settings_edit:{tokens:[["text","/settings"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_policies_community:{tokens:[["text","/legal/community"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_policies_community:{tokens:[["text","/legal/community"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_member_callback_disable:{tokens:[["variable","/","\\d+","id"],["text","/callback/members/disable"]],defaults:{subdomain:"www"},requirements:{id:"\\d+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["DELETE"],schemes:["https"]},web_member_enable:{tokens:[["variable","/","\\d+","id"],["text","/members/enable"]],defaults:{subdomain:"www"},requirements:{id:"\\d+",subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_member_mute:{tokens:[["variable","/","[^/]++","username"],["text","/member/mute"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_member_callback_remove_avatar:{tokens:[["variable","/","[^/]++","username"],["text","/callback/member/remove_avatar"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["DELETE"],schemes:["https"]},web_user_callback_remove_user_custom_background:{tokens:[["variable","/","[^/]++","user"],["text","/callback/remove/user_custom_background"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_member_reset_flair:{tokens:[["variable","/","[^/]++","username"],["text","/member/reset_flair"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_member_unmute:{tokens:[["variable","/","[^/]++","username"],["text","/member/unmute"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess-dev.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]}}),function(){"use strict";var Do={7719:function(C,_,n){var i=n(3527),r=n.n(i);_.Z=r()},8290:function(C,_,n){n.d(_,{Z:function(){return g}});var i=n(4293);let r=null;class o{constructor(){return r==null&&(r=this,this.observer=new IntersectionObserver(b=>{b.forEach(l=>{l.intersectionRatio>0&&(i.Z.emit("visibility-observer-change",l.target),this.observer.unobserve(l.target))})},{rootMargin:"200px 0px",threshold:.01})),r}observe(b){this.observer.observe(b)}unobserve(b){this.observer.unobserve(b)}}var c=new o,d=n(1212);const p=(k,b)=>{k.dataset.chessSrc=b.value.src,k.dataset.chessSrcset=b.value.srcset},m=k=>{const b=k.dataset.chessSrc,l=k.dataset.chessSrcset!=="false"?`${(0,d.q)(b)} 2x`:void 0;b&&k.setAttribute("src",b),l&&k.setAttribute("srcset",l)};var g={bind:(k,b)=>{!b?.value||(p(k,b),i.Z.on("visibility-observer-change",l=>{l===k&&(m(k),k.dataset.visible=!0,c.unobserve(k))}),c.observe(k))},componentUpdated(k,b){!b?.value||(p(k,b),typeof k.dataset.visible<"u"&&m(k))}}},613:function(C,_,n){n.d(_,{Z:function(){return Fn}});var i=n(5781);function r(){var u,s,v,B,ye,Re;const Xe={contentLanguage:(s=(u=window.context)==null?void 0:u.i18n)==null?void 0:s.contentLanguage,language:(B=(v=window.context)==null?void 0:v.i18n)==null?void 0:B.locale,speaksEnglish:((Re=(ye=window.context)==null?void 0:ye.i18n)==null?void 0:Re.locale)==="en_US"};return{get:kt};function kt(Rt){return Xe[Rt]}}var o=r(),c=n(7291),d=n(6732),p=n(4933),m=n(6912);function g(u){return["grid","list"].includes(u)}function k(u){return["following","my_activity"].includes(u)}const b=u=>u.data&&u.data.message||d.R0.badRequest;function l(u){return{init:({dispatch:s})=>{!u.isLoggedIn()||(s("getFriends"),s("getOpponents"))},getFriends:({commit:s})=>(s("setLoading",!0),u.getFriends({user:u.get("id"),avatarSize:50}).then(v=>{s("setLoading",!1),s("setFriends",v.data.friends)}).catch(()=>{s("setLoading",!1),(0,p.el)({type:d.V5.error,message:d.R0.badRequest})})),getOpponents:({commit:s})=>(s("setLoading",!0),u.getOpponents().then(v=>{s("setLoading",!1),s("setOpponents",v.data)}).catch(()=>{s("setLoading",!1),(0,p.el)({type:d.V5.error,message:d.R0.badRequest})})),getFollowSuggestions:({commit:s})=>u.getFollowSuggestions().then(v=>{if(v.data.users&&v.data.users.length>0){s("setFollowSuggestions",v.data.users);let B=m.Z.trans("Consider following...");v.data.notYetFollowing&&(B=m.Z.trans("You are not currently following anyone. Here are a few suggestions...")),s("setFollowMessage",B)}else s("setFollowMessage",null)}).catch(()=>(0,p.el)({type:d.V5.error,message:d.R0.badRequest})),acceptFollowSuggestion:({commit:s,dispatch:v},B)=>{s("removeFollowSuggestedUser",B),v("trackUser",B)},dismissFollowSuggestion:({commit:s},v)=>(s("removeFollowSuggestedUser",v),u.dismissFollowSuggestion(v).catch(()=>{(0,p.el)({type:d.V5.error,message:d.R0.badRequest})})),getAvatar:({commit:s},v)=>{if(!u.get("avatarUrl"))return u.getAvatar(v).then(B=>{s("setAvatarUrl",B.data.avatar)})},addFriend:({commit:s,dispatch:v},B)=>{const ye=B.userId||B,Re=B.dispatchCallback||"getFriends";return s("setLoading",!0),u.addFriend(ye).then(Xe=>{s("setLoading",!1),(0,p.el)({type:d.V5.success,message:b(Xe)})}).then(()=>{Re.includes("/")?v(Re,null,{root:!0}):v(Re)}).catch(Xe=>{s("setLoading",!1),(0,p.el)({type:d.V5.error,message:Xe.response.data.message})})},deleteFriend:({commit:s,dispatch:v},B)=>{const ye=B.userId||B,Re=B.dispatchCallback||"getFriends";return s("setLoading",!0),u.deleteFriend(ye).then(Xe=>{s("setLoading",!1),(0,p.el)({type:d.V5.success,message:b(Xe)})}).then(()=>{Re.includes("/")?v(Re,null,{root:!0}):v(Re)}).catch(()=>{s("setLoading",!1),(0,p.el)({type:d.V5.error,message:d.R0.badRequest})})},approveFriendRequest:({dispatch:s},v)=>{const B=v.userId||v,ye=v.dispatchCallback||"getFriends";return u.approveFriendRequest(B).then(Re=>{(0,p.el)({type:d.V5.success,message:b(Re)})}).then(()=>{ye.includes("/")?s(ye,null,{root:!0}):s(ye)}).catch(()=>{(0,p.el)({type:d.V5.error,message:d.R0.badRequest})})},blockUser:(s,v)=>u.blockUser(v).then(B=>{(0,p.el)({type:d.V5.success,message:b(B)})}).catch(()=>{(0,p.el)({type:d.V5.error,message:d.R0.badRequest})}),unblockUser:(s,v)=>u.unblockUser(v).then(B=>{(0,p.el)({type:d.V5.success,message:b(B)})}).catch(()=>{(0,p.el)({type:d.V5.error,message:d.R0.badRequest})}),trackUser:(s,v)=>u.trackUser(v).then(B=>{(0,p.el)({type:d.V5.success,message:b(B)})}).catch(()=>{(0,p.el)({type:d.V5.error,message:d.R0.badRequest})}),untrackUser:(s,v)=>u.untrackUser(v).then(B=>{(0,p.el)({type:d.V5.success,message:b(B)})}).catch(()=>{(0,p.el)({type:d.V5.error,message:d.R0.badRequest})}),setArchiveView:({commit:s},v)=>{if(!!g(v)&&u.get("archiveView")!==v)return u.setArchiveView(v).then(()=>{s("setArchiveView",v)})},setFairPlayAgree:({commit:s})=>(s("setFairPlayAgree",!0),u.setFairPlayAgree(!0)),setHomeContentType:({commit:s},v)=>{if(!!k(v))return s("setHomeContentType",v),u.setHomeContentType(v)},setIsThreeD:({commit:s},v)=>{s("setIsThreeD",v)},cancelFriendRequest:(s,v)=>u.cancelFriendRequest(v).then(B=>{(0,p.el)({type:d.V5.success,message:b(B)})}).catch(()=>{(0,p.el)({type:d.V5.error,message:d.R0.badRequest})}),declineFriendRequest(s,v){return u.declineFriendRequest(v).then(B=>{(0,p.el)({type:d.V5.success,message:b(B)})}).catch(()=>{(0,p.el)({type:d.V5.error,message:d.R0.badRequest})})},refreshUserRoles({commit:s}){if(u.isLoggedIn())return u.getRoles().then(v=>{s("setRoles",v.data)})},checkValidUsername:(s,v)=>u.checkValidUsername(v).then(B=>B.data).catch(()=>(0,p.el)({type:d.V5.error,message:d.R0.badRequest}))}}var y={chessTitle:u=>u.chessTitle,isActivated:u=>u.isActivated,id:u=>u.id,isImpersonating:u=>u.isImpersonating,isLoggedIn:u=>u.isLoggedIn,username:u=>u.username,roles:u=>u.roles,isPremium:u=>u.isPremium,hyphenatedLanguage:u=>(u.language||"").replace("_","-")},w={setLoading:(u,s)=>{u.loading=s},setLoadingUser:(u,s)=>{u.loadingUser[s.username]=s.loading},setLoadingFriends:(u,s)=>{u.loading.friends=s},setFriends:(u,s)=>{u.friends=s},setLoadingOpponents:(u,s)=>{u.loading.opponents=s},setOpponents:(u,s)=>{u.opponents=s},setAvatarUrl:(u,s)=>{u.avatarUrl=s},setSettingsAvatarUrl:(u,s)=>{u.settingsAvatarUrl=s},setArchiveView:(u,s)=>{u.archiveView=s},setFairPlayAgree:(u,s)=>{u.fairPlayAgree=s},setHomeContentType:(u,s)=>{u.homeContentType=s},setIsThreeD:(u,s)=>{u.isThreeD=s},setFollowSuggestions:(u,s)=>{u.followSuggestions=s},removeFollowSuggestedUser:(u,s)=>{const v=u.followSuggestions,B=v.findIndex(ye=>ye.username===s);B!==-1&&(v.splice(B,1),u.followSuggestions=v)},setFollowMessage:(u,s)=>{u.followMessage=s},setRoles:(u,s)=>{u.roles=s},setRating:(u,s)=>{u.rating=s},setLoggedIn:(u,s)=>{u.isLoggedIn=s},setUsername:(u,s)=>{u.username=s},setMembershipLevel(u,s){u.membershipLevel=s}};function E(u,s){var v;return{chessTitle:u.get("chessTitle")||"",cohort:u.get("cohort"),flairCode:u.get("flairCode"),friends:u.get("friends"),roles:u.get("roles"),opponents:u.get("opponents"),boardSettings:u.get("boardSettings"),loading:!1,eligibleFirstTrial:u.eligibleFirstTrial(),isActivated:u.checkMembershipStatus("isActivated"),isLoggedIn:u.isLoggedIn(),isEnabled:u.isEnabled("isEnabled"),isImpersonating:u.isImpersonating(),isStaff:u.checkMembershipStatus("isStaff"),isStaffOnly:u.checkMembershipStatus("isStaffOnly"),isModerator:u.checkMembershipStatus("isModerator"),isModeratorOnly:u.checkMembershipStatus("isModeratorOnly"),isDiamond:u.checkMembershipStatus("isDiamond"),isDiamondOnly:u.checkMembershipStatus("isDiamondOnly"),isPlatinum:u.checkMembershipStatus("isPlatinum"),isPlatinumOnly:u.checkMembershipStatus("isPlatinumOnly"),isSilver:u.checkMembershipStatus("isSilver"),isSilverOnly:u.checkMembershipStatus("isSilverOnly"),isGold:u.checkMembershipStatus("isGold"),isGoldOnly:u.checkMembershipStatus("isGoldOnly"),isGuest:u.get("isGuest"),isPremium:u.checkMembershipStatus("isPremium"),isBasic:u.checkMembershipStatus("isBasic"),id:u.get("id"),language:s.get("language"),contentLanguage:s.get("contentLanguage"),username:u.get("username"),avatarUrl:u.get("avatarUrl"),settingsAvatarUrl:u.get("settingsAvatarUrl"),avatarLargeUrl:u.get("avatarLargeUrl"),lastLoginDate:u.get("lastLoginDate"),registerDate:u.get("registerDate"),timezone:u.get("timezone"),diagramSettings:u.get("diagramSettings"),speaksEnglish:s.get("speaksEnglish"),isThreeD:!1,archiveView:u.get("getArchiveView"),homeContentType:u.get("homeContentType"),membershipLevel:u.get("membershipLevel"),isContentHidden:u.get("isContentHidden"),fairPlayAgree:u.get("fairPlayAgree"),features:u.get("features"),followSuggestions:[],followMessage:"",country:u.get("country"),flag:(v=u.get("country"))==null?void 0:v.id,rating:u.get("rating"),membership:u.get("membership"),safeMode:u.get("safeMode"),uuid:u.get("uuid")}}var M={namespaced:!0,mutations:w,actions:l(c.Z),state:E(c.Z,o),getters:y},N=n(4080),O=n(629),x=n(5545),A=n(6375);const U={lastSave:"lastSavedRelease",state:"chessComAppState"},T=["UI"],D=1504891089,Z={board:{},daily:{}},ne={maxWait:500,wait:200};var J={cacheKeys:U,lastValidCache:D,modules:Z,saveDebounce:ne},$=n(4759);const G=(u,s)=>Object.keys(s).reduce((v,B)=>{const ye=(0,$.Q)(x.Z.get(U.state));return u[B]?v[B]=Object.assign({},u[B]):ye&&ye[B]&&(v[B]=Object.assign({},ye[B])),T.concat(s[B].excluded||[]).forEach(Re=>{typeof v[B]=="object"&&delete v[B][Re]}),v},{}),q=u=>{const s=parseInt(x.Z.get(U.lastSave),10);(!s||u>s)&&(x.Z.remove(U.state),x.Z.set(U.lastSave,u))};var pe={filterModules:G,invalidateCacheOlderThan:q};q(D);const le=u=>{if(u.user&&u.user.isImpersonating)return;const s=G(u,Z);x.Z.set(U.state,JSON.stringify(s))},K=(0,A.Z)(le,ne.wait,{maxWait:ne.maxWait}),fe=()=>{K.flush()};var De=u=>{u.registerModule("saveState",u),u.subscribe((s,v)=>{K(v)})};N.ZP.use(O.ZP);const He=typeof strictVuex=="boolean"?strictVuex:!0,L=new O.ZP.Store({plugins:[De],strict:!1});L.registerModule("user",M);var P=L;const z=u=>{Object.keys(u).forEach(s=>{const v=u[s];(!P.state||!P.state[s])&&P.registerModule(s,v)})},se=u=>{u.forEach(s=>{store.state&&store.state[s]&&store.unregisterModule(s)})};var V=n(2239),ge=n(4662),Ae=i.Z.create({withCredentials:!0});async function Ne(u){var s;let v=window.PubSub.options.url[u.service||"base"];const B=u.path instanceof Array?u.path.join("/"):u.path;!v.endsWith("/")&&!B.startsWith("/")&&(v+="/");const ye={};["staging","prod"].includes("dev")||(ye.uid=(s=window.context.user)==null?void 0:s.uuid),u.params&&Object.assign(ye,u.params);const Re={};return u.requestId&&(Re["x-chesscom-request-id-client"]=u.requestId),u.clientId&&(Re["x-chesscom-play-client"]=u.clientId),u.headers&&Object.assign(Re,u.headers),Ae({url:/^http[s]?:/.test(B)?B:`${v}${B}`,data:u.data,method:u.method||"post",params:ye,headers:Re,withCredentials:!0})}var Ke=Object.defineProperty,ve=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,qe=(u,s,v)=>s in u?Ke(u,s,{enumerable:!0,configurable:!0,writable:!0,value:v}):u[s]=v,me=(u,s)=>{for(var v in s||(s={}))st.call(s,v)&&qe(u,v,s[v]);if(ve)for(var v of ve(s))he.call(s,v)&&qe(u,v,s[v]);return u};async function j(u){return Ne(me({method:"get"},u))}async function te(u){return j({service:ge.AM.Presence,path:[ge.fz.Users],params:{ids:u.slice(0,25).join(",")}})}var ce=(u=>(u.None="none",u.Playing="playing",u))(ce||{}),R=(u=>(u.Offline="offline",u.Online="online",u))(R||{});function I(u){var s,v;const{activity:B,activityContext:ye,id:Re,status:Xe,statusAt:kt,statusAtUncertain:Rt}=u,ss={battleLink:void 0,eventLink:void 0,gameLink:void 0,id:Re,isOfflineStatusUncertain:void 0,isOnline:Xe===R.Online,isPlaying:B===ce.Playing,offlineSince:void 0,statusAt:kt};if(Xe===R.Offline&&(ss.offlineSince=kt),(s=ye?.games)!=null&&s.length){const Qt=ye.games[0],Wn=Qt.legacyId?"web_game_live":"web_game_rcn",oo=Qt.legacyId||Qt.id;ss.gameLink=V.Z.generate(Wn,{id:oo})}else if((v=ye?.battles)!=null&&v.length){const Qt=ye.battles[0].id;ss.battleLink=V.Z.generate("web_puzzles_mode_battle_view",{shortUuid:Qt})}return ss.isOfflineStatusUncertain=Rt,ss}async function W(u){const{data:s}=await te(u);return s.users.reduce((v,B)=>(v[B.id]=I(B),v),{})}async function re(u){return(await W([u]))[u]}var oe=Object.defineProperty,ze=Object.defineProperties,_e=Object.getOwnPropertyDescriptors,Me=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,ht=(u,s,v)=>s in u?oe(u,s,{enumerable:!0,configurable:!0,writable:!0,value:v}):u[s]=v,pt=(u,s)=>{for(var v in s||(s={}))Fe.call(s,v)&&ht(u,v,s[v]);if(Me)for(var v of Me(s))Ie.call(s,v)&&ht(u,v,s[v]);return u},gt=(u,s)=>ze(u,_e(s)),ut={async fetchUserPopover({rootState:u,commit:s},v){let B,ye=!1;try{B=(await c.Z.getUser(v)).data,ye=!0}catch{s("setUser",{userNotExist:!0})}if(ye){const Re=await re(B.uuid),{user:Xe}=u;if(Xe?.id&&B&&B.userId!==Xe.id)try{const{data:kt}=await i.Z.post(V.Z.generate("web_user_callback_lifetime_score",{user:B.userId,opponent:Xe.id}));s("setLifetimeScore",kt)}catch{s("setLifetimeScore",null)}s("setUser",gt(pt({},B),{username:v})),s("setPresenceDetails",Re)}}},at=n(7861),Et=n(8964);const Tt=()=>({avatarUrl:"",bestRating:0,bestRatingType:"",chessTitle:"",country:{},joinDate:"",lastLoginDate:"",membership:{},onlineStatus:"",username:""});function mt(u){const s=(0,Et.tq)()&&window.innerWidth<768;let v;return(0,at.t)()?v=`left: auto; right: ${u.right}px; top: ${u.top}px;`:(v=`transform: translate(${u.left}px, ${u.top}px);`,s&&(v=`transform: translateY(${u.top}px);`)),v}var lt={hideUserPopover:u=>{u.isHovered=!1,u.show=!1},hover:u=>{u.isHovered=!0},resetUser:u=>{u.user=Tt(),u.presenceDetails=null,u.lifetimeScore=null},showUserPopover:u=>{u.show=!0},setPosition:(u,s)=>{u.position=s},setUser:(u,s)=>{u.user=s},setPresenceDetails:(u,s)=>{u.presenceDetails=s},setLifetimeScore:(u,s)=>{u.lifetimeScore=s}},et={isHovered:!1,show:!1,user:Tt(),position:{x:"right",y:"bottom",top:0,left:0},presenceDetails:null,lifetimeScore:null},_t={namespaced:!0,mutations:lt,actions:ut,state:et},ft=n(4293),Ot=n(9562),Xt=function(){var s=this,v=s._self._c;return v("div",[s.user.userNotExist?s._e():v("div",{attrs:{id:"user-popover"}},[s.show?v("user-popover",{ref:"userPopover",attrs:{"dynamic-actions":s.dynamicActions,avatar:s.user.avatarUrl,"is-fide-verified":s.user.isFideVerified,"can-add-friend":s.canAddFriend,"can-block-user":s.canBlockUser,"can-create-challenge":s.canCreateChallenge,"can-follow-user":s.canFollowUser,"can-gift-membership":s.canGiftMembership,"can-remove-friend":s.canRemoveFriend,"can-report-user":s.canReportUser,"can-send-message":s.canSendMessage,"can-send-trophy":s.canSendTrophy,"can-unblock-user":s.canUnblockUser,"can-unfollow-user":s.canUnfollowUser,"can-use-global-chat":s.canUseGlobalChat,"can-cancel-friend-request":s.canCancelFriendRequest,"can-accept-friend-request":s.canAcceptFriendRequest,"chess-title":s.user.chessTitle,country:{name:s.user.countryName,code:s.user.countryId},flair:s.user.flair,"full-name":s.fullName,"club-chat-id-for-moderator-actions":s.clubChatIdForModeratorActions,"is-enabled":s.user.isEnabled,"is-guest":s.isGuest,"is-loading":s.isLoading,"joined-date":s.user.joinDate,"last-login-date":s.user.lastLoginDate,"logged-as-another":s.loggedAsAnother,membership:s.membershipNumber,"popover-position":s.position,"presence-details":s.presenceDetails,ratings:s.ratings,username:s.user.username,"username-element-ref":s.elementRef,"user-already-muted-on-chat":s.userAlreadyMutedOnChat,uuid:s.user.uuid,"league-code":s.leagueData.leagueCode,"league-division":s.leagueData.leagueDivision,"league-name":s.leagueData.leagueName,"lifetime-score":s.lifetimeScore,opponent:s.currentUser},on:{"accept-friend-request":s.acceptFriendRequest,"add-friend":s.addFriend,"block-user":s.blockUser,"cancel-friend-request":s.cancelFriendRequest,"create-challenge":s.onChallenge,"follow-user":s.trackUser,"remove-friend":s.deleteFriend,"send-message":s.onMessage,"show-archive":s.showArchive,"show-gift":s.showGiftModal,"show-report":s.showReportModal,"show-trophy":s.onTrophy,"start-direct-chat":s.startDirectChat,"unblock-user":s.unblockUser,"unfollow-user":s.untrackUser,"user-popover-hide":s.hideUserPopup}}):s._e(),s._v(" "),s.isUserReportModalVisible?[s.reportUserModalFF?v("user-report-modal-new",{attrs:{username:s.user.username},on:{"hide-modal":s.hideUserReportModal}}):v("user-report-modal",{attrs:{username:s.user.username},on:{"hide-modal":s.hideUserReportModal}})]:s._e(),s._v(" "),s.showGiftMembershipModal?v("gift-membership-modal",{attrs:{"receiver-username":s.user.username,"receiver-id":s.user.userId,"sender-username":s.username},on:{"hide-modal":s.hideGiftMembershipModal}}):s._e(),s._v(" "),s.isTrophyPopoverVisible?v("trophy-popover",{on:{hide:s.hideTrophyPopover}}):s._e()],2),s._v(" "),s.user.userNotExist&&s.show?v("div",{class:[s.$style["placeholder-popover"],s.$style[s.position.x],s.$style[s.position.y]],style:s.inlineStyles},[v("div",{class:s.$style["placeholder-component"]},[v("div",{class:s.$style["placeholder-profile"]},[v("div",{class:s.$style["placeholder-avatar"]}),s._v(" "),v("div",{class:s.$style["placeholder-info"],domProps:{textContent:s._s(s.$trans("Member name does not exist"))}})])])]):s._e()])},ee=[],X=n(9007),xe=n(1060),Ze=n(2306),Qe=n(2937),es=function(){var s=this,v=s._self._c;return v("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:s.onMouseLeave,expression:"onMouseLeave"}],ref:"userPopover",class:[s.$style.popover,s.$style[s.position.x],s.$style[s.position.y]],style:s.inlineStyles,on:{mouseenter:s.onMouseEnter,mouseleave:s.onMouseLeave}},[v("div",{class:s.$style.component},[v("div",{class:s.$style.profile},[v("div",{class:s.$style.meta},[s.username?v("user-avatar",{attrs:{image:s.avatar,"presence-data":s.presenceDetails,url:s.showProfileUrls?s.memberUrl:null}}):s._e(),s._v(" "),s.username?s._e():v("div",{class:s.$style["avatar-placeholder"]}),s._v(" "),s.username?v("div",{class:s.$style.info},[v("user-tagline",{attrs:{"username-theme":"blue",country:s.country,"flair-code":s.flair?s.flair.code:"",membership:s.membership,"not-clickable":!s.showProfileUrls,"open-profile-on-new-tab":s.openProfileOnNewTab,title:s.chessTitle,url:s.showProfileUrls?s.memberUrl:null,username:s.username}}),s._v(" "),s.fullName?v("div",{class:s.$style["full-name"],domProps:{textContent:s._s(s.fullName)}}):s._e(),s._v(" "),s.isEnabled?v("user-flair-status",{attrs:{status:s.flair?s.flair.status:""}}):s._e(),s._v(" "),v("div",{class:s.$style.ratings},s._l(s.ratingsToShow,function(B){return v("user-rating",{directives:[{name:"tooltip",rawName:"v-tooltip",value:B.label,expression:"rating.label"}],key:B.type,attrs:{icon:B.icon,rating:B.value}})}),1)],1):s._e(),s._v(" "),s.isLeaguePlayer?v("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:s.$trans("%leagueName% Division",{"%leagueName%":s.leagueName}),expression:"$trans('%leagueName% Division', { '%leagueName%': leagueName })"}],class:s.$style.badge,attrs:{href:s.userDivision}},[v("img",{attrs:{src:`/bundles/web/images/leagues/badges/${s.leagueCode}.svg`,width:"38",height:"28"}})]):s._e(),s._v(" "),s.isFideEnabledAndVerified?v("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:s.$trans("Verified"),expression:"$trans('Verified')"}],class:s.$style.badge,attrs:{href:s.fideUrl}},[v("img",{attrs:{alt:s.$trans("Verified"),width:"30",height:"28",src:"/bundles/web/images/color-icons/verified.svg"}})]):s._e(),s._v(" "),s.username?s._e():v("div",{class:s.$style.info},[v("loader-three-bounce",{directives:[{name:"show",rawName:"v-show",value:s.isLoading,expression:"isLoading"}],class:s.$style.loader,attrs:{size:40}})],1)],1),s._v(" "),s.joinedDate&&s.username&&!s.isGuest?v("div",{class:s.$style.secondary},[v("div",{domProps:{textContent:s._s(s.translations.joinedDate(s.formatedJoinedDate))}}),s._v(" "),v("div",{class:s.$style.status},[s.presenceDetails&&s.loggedAsAnother?v("presence-button",{attrs:{location:"user-popover",username:s.username,"user-presence":s.presenceDetails}}):s._e(),s._v(" "),s.presenceLastLoginDate&&s.showOfflineText?v("div",{domProps:{textContent:s._s(s.translations.lastOnline(s.formatedLastLoginDate))}}):s._e()],1)]):s._e(),s._v(" "),s.username?s._e():v("div",{class:s.$style.secondary}),s._v(" "),s.lifetimeScore&&s.opponent&&s.username?v("user-lifetime-score",{attrs:{username:s.username,opponent:s.opponent,"lifetime-score":s.lifetimeScore}}):s._e()],1),s._v(" "),s.adminActionsIsVisible?v("admin-actions",{attrs:{"can-moderate":s.canModerate,"client-name":s.clientName,"can-mute-on-chat":Boolean(s.clubChatIdForModeratorActions),"can-warn-on-chat":s.canWarnOnChat||Boolean(s.clubChatIdForModeratorActions),"can-moderate-on-chat":s.canModerateOnChat,"user-already-muted-on-chat":s.userAlreadyMutedOnChat},on:{"warn-user":s.onClickWarn,"mute-user":s.onClickMute,"kick-user":s.onClickKick,"ban-user":s.onClickBan,"chat-warn-user":s.onClickChatWarn,"chat-mute-user":s.onClickChatMute,"chat-unmute-user":s.onClickChatUnMute,"chat-mute-user-remove-messages":s.onClickChatMuteRemoveMessages,"chat-kick-user":s.onClickChatKick}}):s._e(),s._v(" "),s.isLoggedIn&&!s.isGuest?v("div",{class:s.$style.actions},[s.username?v("user-actions",{attrs:{avatar:s.avatar,"can-add-friend":s.canAddFriend,"can-block-user":s.canBlockUser,"can-create-challenge":s.canCreateChallenge,"can-follow-user":s.canFollowUser,"can-gift-membership":s.canGiftMembership,"can-remove-friend":s.canRemoveFriend,"can-report-user":s.canReportUser,"can-send-message":s.canSendMessage,"can-invite-to-chat":s.canInviteToChat,"can-send-trophy":s.canSendTrophy,"can-unblock-user":s.canUnblockUser,"can-unfollow-user":s.canUnfollowUser,"can-use-global-chat":s.canUseGlobalChat,"can-cancel-friend-request":s.canCancelFriendRequest,"can-decline-friend-request":s.canDeclineFriendRequest,"can-accept-friend-request":s.canAcceptFriendRequest,"dynamic-actions":s.dynamicActions,"logged-as-another":s.loggedAsAnother,username:s.username,"can-observe-game":s.canObserveGame,"is-bughouse-partner":s.isBughousePartner,"challenge-url":s.challengeUrl,"archive-url":s.archiveUrl,"chat-options":s.chatOptions,position:s.position,"can-invite-to-analysis":s.canInviteToAnalysis,"analysis-options":s.analysisOptions,"is-enabled":s.isEnabled,"is-confirm-visible":s.isConfirmVisible,"show-bughouse-partner":s.showBughousePartner,"membership-url":s.membershipUrl},on:{"remove-friend":s.onClickRemoveFriend,"block-user":s.onClickBlockUser,"user-popover-hide":s.hidePopover,"create-challenge":function(B){return s.$emit("create-challenge",B)},"send-message":function(B){return s.$emit("send-message",B)},"add-friend":function(B){return s.$emit("add-friend",B)},"cancel-friend-request":function(B){return s.$emit("cancel-friend-request",B)},"decline-friend-request":function(B){return s.$emit("decline-friend-request",B)},"show-gift":function(B){return s.$emit("show-gift",B)},"show-archive":function(B){return s.$emit("show-archive",B)},"start-direct-chat":function(B){return s.$emit("start-direct-chat")},"mute-user":function(B){return s.$emit("mute-user",B)},"accept-friend-request":function(B){return s.$emit("accept-friend-request",B)},"follow-user":function(B){return s.$emit("follow-user",B)},"unfollow-user":function(B){return s.$emit("unfollow-user",B)},"unblock-user":function(B){return s.$emit("unblock-user",B)},"show-report":function(B){return s.$emit("show-report",B)},"show-trophy":function(B){return s.$emit("show-trophy",B)},"observe-user":function(B){return s.$emit("observe-user",B)},"bughouse-partner":function(B){return s.$emit("bughouse-partner",B)},"bughouse-unpartner":function(B){return s.$emit("bughouse-unpartner",B)},"request-chat":function(B){return s.$emit("request-chat",B)},"invite-analysis":function(B){return s.$emit("invite-analysis",B)},"update-popover-position":s.updatePopoverPosition}}):s._e()],1):s._e()],1),s._v(" "),s.isConfirmVisible?v("div",{class:s.$style.confirm},[v("p",{domProps:{innerHTML:s._s(s.confirmMessage)}}),s._v(" "),s.clubChatIdForModeratorActions&&!s.userAlreadyMutedOnChat?v("p",[s._v(`
      `+s._s(s.$trans("Message to user:"))+`
      `),v("v5-input",{class:s.$style["moderator-message"],attrs:{"force-theme":"light"},model:{value:s.clubChatModeratorMessage,callback:function(B){s.clubChatModeratorMessage=B},expression:"clubChatModeratorMessage"}})],1):s._e(),s._v(" "),v("div",[v("v5-button",{attrs:{size:"x-small",theme:"basic-light"},domProps:{textContent:s._s(s.$trans("No"))},on:{click:s.onConfirmNo}}),s._v(" "),v("v5-button",{attrs:{size:"x-small",theme:"primary"},domProps:{textContent:s._s(s.$trans("Yes"))},on:{click:s.onConfirmYes}})],1)]):s._e()])},Ut=[],H=n(6279),de=n(8099),Q=function(){var s=this,v=s._self._c;return v("div",{class:s.$style.component},[s.canModerate?v("icon-button",{attrs:{"icon-name":"flag","btn-color":"red",label:s.$trans("Warn")},on:{click:function(B){return s.$emit("warn-user")}}}):s._e(),s._v(" "),s.canModerate?v("icon-button",{attrs:{"icon-name":"chat-x","btn-color":"red",label:s.$trans("Mute")},on:{click:function(B){return s.$emit("mute-user")}}}):s._e(),s._v(" "),s.canModerate?v("icon-button",{attrs:{"icon-name":"exit","btn-color":"red",label:s.$trans("Kick")},on:{click:function(B){return s.$emit("kick-user")}}}):s._e(),s._v(" "),s.canModerate?v("icon-button",{attrs:{"icon-name":"user-block","btn-color":"red",label:s.$trans("Ban")},on:{click:function(B){return s.$emit("ban-user")}}}):s._e(),s._v(" "),s.canModerate&&s.clientName?v("icon-button",{attrs:{"icon-name":"circle-info",label:s.clientName}}):s._e(),s._v(" "),s.canModerate&&(s.canWarnOnChat||s.canModerateOnChat)?v("div",{class:s.$style.separator}):s._e(),s._v(" "),s.canWarnOnChat&&!s.userAlreadyMutedOnChat?v("icon-button",{attrs:{"icon-name":"flag","btn-color":"red",label:s.$trans("Chat Warn")},on:{click:function(B){return s.$emit("chat-warn-user")}}}):s._e(),s._v(" "),(s.canModerateOnChat||s.canMuteOnChat)&&!s.userAlreadyMutedOnChat?v("icon-button",{attrs:{"icon-name":"chat-x","btn-color":"red",label:s.$trans("Chat Mute")},on:{click:function(B){return s.$emit("chat-mute-user")}}}):s._e(),s._v(" "),s.canMuteOnChat&&!s.userAlreadyMutedOnChat?v("icon-button",{attrs:{"icon-name":"trash","btn-color":"red",label:s.$trans("Chat Mute and remove messages")},on:{click:function(B){return s.$emit("chat-mute-user-remove-messages")}}}):s._e(),s._v(" "),s.canMuteOnChat&&s.userAlreadyMutedOnChat?v("icon-button",{attrs:{"icon-name":"chat-alt","btn-color":"blue",label:s.$trans("Chat Unmute")},on:{click:function(B){return s.$emit("chat-unmute-user")}}}):s._e(),s._v(" "),s.canModerateOnChat?v("icon-button",{attrs:{"icon-name":"exit","btn-color":"red",label:s.$trans("Chat Kick")},on:{click:function(B){return s.$emit("chat-kick-user")}}}):s._e()],1)},ie=[],Oe=function(){var s=this,v=s._self._c;return v("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:s.label,delay:100},expression:`{
    content: label,
    delay: 100
  }`}],class:[s.$style.link,s.$style[s.btnColor]],attrs:{type:"button","aria-label":s.label},on:{click:s.onClick}},[v("span",{class:[s.$style.icon,s.iconName,"icon-font-chess"]})])},we=[],Ce=n(4084),Ye={name:"IconButton",directives:{Tooltip:Ce.Z},props:{action:Function,btnColor:String,iconName:{type:String,required:!0},label:{type:String,required:!0}},emits:["click"],methods:{onClick(u){if(this.action){this.action(u);return}this.$emit("click",u)}}},yt=Ye,Je={link:"icon-button-link",icon:"icon-button-icon",label:"icon-button-label",blue:"icon-button-blue",grey:"icon-button-grey",red:"icon-button-red",translucent:"icon-button-translucent"},Be=n(1900);function Le(u){this.$style=Je.locals||Je}var bt=(0,Be.Z)(yt,Oe,we,!1,Le,null,null),It=bt.exports,ae={name:"AdminActions",components:{IconButton:It},props:{canModerate:{type:Boolean,default:!1},canMuteOnChat:{type:Boolean,default:!1},clientName:String,canWarnOnChat:Boolean,canModerateOnChat:Boolean,userAlreadyMutedOnChat:Boolean},emits:["chat-kick-user","chat-unmute-user","chat-mute-user-remove-messages","chat-mute-user","chat-warn-user","ban-user","kick-user","mute-user","warn-user"]},$t=ae,Ct={component:"admin-actions-component",separator:"admin-actions-separator"};function vt(u){this.$style=Ct.locals||Ct}var ns=(0,Be.Z)($t,Q,ie,!1,vt,null,null),as=ns.exports,ls=function(){var s=this,v=s._self._c;return v("div",{class:s.$style.component},[s.allActions?s._e():v("div",{class:s.$style["icons-list"]},[s.canCreateChallenge?v(s.getIconComponent(s.challengeUrl),{tag:"component",attrs:{"icon-name":"chess-board-plus",label:s.$trans("Challenge"),url:s.challengeUrl},on:{click:s.onClickChallenge}}):s._e(),s._v(" "),s.showGlobalChatButton?v("icon-button",{attrs:{"icon-name":"chat",label:s.$trans("Chat")},on:{click:s.startDirectChat}}):s._e(),s._v(" "),s.loggedAsAnother?v("icon-button",{attrs:{"icon-name":"mail-plus",label:s.$trans("Message")},on:{click:s.onClickMessage}}):s._e(),s._v(" "),s.canInviteToChat?v("icon-button",{attrs:{"icon-name":"chat",label:s.$trans("Chat")},on:{click:s.onClickChat}}):s._e(),s._v(" "),s.canAddFriend?v("icon-button",{attrs:{"icon-name":"user-plus",label:s.$trans("Add Friend")},on:{click:s.onClickAddFriend}}):s._e(),s._v(" "),s.canAcceptFriendRequest?v("icon-button",{attrs:{"icon-name":"user-plus","data-cy":"user-popover-accept-friend-request",label:s.$trans("Accept Request")},on:{click:s.onClickAcceptFriendRequest}}):s._e(),s._v(" "),s.canDeclineFriendRequest?v("icon-button",{attrs:{"btn-color":"grey","icon-name":"user-x",label:s.$trans("Decline Request")},on:{click:s.onClickDeclineFriendRequest}}):s._e(),s._v(" "),s.canCancelFriendRequest?v("icon-button",{attrs:{"btn-color":"grey","icon-name":"user-x",label:s.$trans("Cancel Request")},on:{click:s.onClickCancelFriendRequest}}):s._e(),s._v(" "),s.canRemoveFriend?v("icon-button",{attrs:{"icon-name":"user-x",label:s.$trans("Remove Friend")},on:{click:s.onClickRemoveFriend}}):s._e(),s._v(" "),s.canGiftMembership?v(s.getIconComponent(s.membershipUrl),{tag:"component",attrs:{"btn-color":"blue","icon-color":"blue","icon-name":"gift",label:s.$trans("Gift Membership"),url:s.membershipUrl},on:{click:s.onClickGift}}):s._e(),s._v(" "),s.canObserveGame?v("icon-button",{attrs:{"icon-name":"binoculars",label:s.$trans("Observe Game")},on:{click:s.onClickObserve}}):s._e(),s._v(" "),s.canReportUser?v("icon-button",{attrs:{"icon-name":"circle-danger",label:s.$trans("Report")},on:{click:s.onClickReport}}):s._e(),s._v(" "),s.loggedAsAnother?s._e():v(s.getIconComponent(s.archiveUrl),{tag:"component",attrs:{"icon-name":"chess-board-folder",label:s.$trans("Archive"),url:s.archiveUrl},on:{click:s.onClickArchive}}),s._v(" "),s.loggedAsAnother&&s.isEnabled?v("button",{class:s.$style.more,attrs:{type:"button"},on:{click:s.showAllActions}},[s._v(`
      `+s._s(s.$trans("More"))+`

      `),v("span",{staticClass:"icon-font-chess caret-down",class:s.$style.caret})]):s._e()],1),s._v(" "),s.allActions&&!s.isConfirmVisible?v("div",{class:s.$style.buttonsList,style:s.buttonsListStyle},[s.canCreateChallenge?v(s.getIconLabeledComponent(s.challengeUrl),{tag:"component",attrs:{"icon-name":"chess-board-plus",label:s.$trans("Challenge"),url:s.challengeUrl},on:{click:s.onClickChallenge}}):s._e(),s._v(" "),s.showGlobalChatButton?v("labeled-icon-button",{attrs:{"icon-name":"chat",label:s.$trans("Chat")},on:{click:s.startDirectChat}}):s._e(),s._v(" "),s.loggedAsAnother?v("labeled-icon-button",{attrs:{"icon-name":"mail-plus",label:s.$trans("Message")},on:{click:s.onClickMessage}}):s._e(),s._v(" "),s.canInviteToChat?v("labeled-icon-button",{attrs:{"icon-name":"chat",label:s.$trans("Chat")},on:{click:s.onClickChat}}):s._e(),s._v(" "),s.canAddFriend?v("labeled-icon-button",{attrs:{"icon-name":"user-plus",label:s.$trans("Add Friend")},on:{click:s.onClickAddFriend}}):s._e(),s._v(" "),s.canAcceptFriendRequest?v("labeled-icon-button",{attrs:{"icon-name":"user-plus",label:s.$trans("Accept Request")},on:{click:s.onClickAcceptFriendRequest}}):s._e(),s._v(" "),s.canDeclineFriendRequest?v("labeled-icon-button",{attrs:{"btn-color":"grey","icon-name":"user-x",label:s.$trans("Decline Request")},on:{click:s.onClickDeclineFriendRequest}}):s._e(),s._v(" "),s.canCancelFriendRequest?v("labeled-icon-button",{attrs:{"btn-color":"grey","icon-name":"user-x",label:s.$trans("Cancel Request")},on:{click:s.onClickCancelFriendRequest}}):s._e(),s._v(" "),s.canRemoveFriend?v("labeled-icon-button",{attrs:{"icon-name":"user-x",label:s.$trans("Remove Friend")},on:{click:s.onClickRemoveFriend}}):s._e(),s._v(" "),s.canObserveGame?v("labeled-icon-button",{attrs:{"icon-name":"binoculars",label:s.$trans("Observe")},on:{click:s.onClickObserve}}):s._e(),s._v(" "),s.canFollowUser?v("labeled-icon-button",{attrs:{"icon-name":"follow",label:s.$trans("Follow")},on:{click:s.onClickFollowUser}}):s._e(),s._v(" "),s.canUnfollowUser?v("labeled-icon-button",{attrs:{"icon-name":"unfollow",label:s.$trans("Unfollow")},on:{click:s.onClickUnfollowUser}}):s._e(),s._v(" "),s.canGiftMembership?v("labeled-icon-button",{attrs:{"btn-color":"blue","icon-name":"gift",label:s.$trans("Gift Membership")},on:{click:s.onClickGift}}):s._e(),s._v(" "),s.canSendTrophy?v("labeled-icon-button",{attrs:{"icon-name":"trophy-plus",label:s.$trans("Give Award")},on:{click:s.onClickTrophy}}):s._e(),s._v(" "),s.showBughousePartner&&!s.isBughousePartner?v("labeled-icon-button",{attrs:{"data-cy":"user-popover-bughouse-partner","icon-name":"bughouse",label:s.$trans("Partner")},on:{click:s.onClickPartner}}):s._e(),s._v(" "),s.showBughousePartner&&s.isBughousePartner?v("labeled-icon-button",{attrs:{"data-cy":"user-popover-bughouse-unpartner","icon-name":"bughouse",label:s.$trans("Unpartner")},on:{click:s.onClickUnpartner}}):s._e(),s._v(" "),s.canInviteToAnalysis?v("labeled-icon-button",{attrs:{"icon-name":"chess-board-search",label:s.$trans("Analysis Board")},on:{click:s.onClickAnalysis}}):s._e(),s._v(" "),v(s.getIconLabeledComponent(s.archiveUrl),{tag:"component",attrs:{"icon-name":"chess-board-folder",label:s.$trans("Archive"),url:s.archiveUrl},on:{click:s.onClickArchive}}),s._v(" "),s.canBlockUser?v("labeled-icon-button",{attrs:{"icon-name":"circle-block",label:s.$trans("Block")},on:{click:s.onClickBlockUser}}):s._e(),s._v(" "),s.canUnblockUser?v("labeled-icon-button",{attrs:{"btn-color":"red","icon-name":"circle-block",label:s.$trans("Unblock")},on:{click:s.onClickUnblockUser}}):s._e(),s._v(" "),s.canReportUser?v("labeled-icon-button",{attrs:{"icon-name":"circle-danger",label:s.$trans("Report")},on:{click:s.onClickReport}}):s._e(),s._v(" "),s.dynamicActions?s._l(s.dynamicActions,function(B,ye){return v("labeled-icon-button",{key:ye,attrs:{"icon-name":B.iconName,label:B.label},on:{click:B.handler}})}):s._e()],2):s._e(),s._v(" "),s.chatDropdownTarget?v("chat-options-dropdown",{attrs:{target:s.chatDropdownTarget,position:s.position,"chat-options":s.chatOptions},on:{"option-selected":s.onClickChatOption,hide:s.hideChatDropdown}}):s._e(),s._v(" "),s.analysisDropdownTarget?v("analysis-options-dropdown",{attrs:{target:s.analysisDropdownTarget,position:s.position,"analysis-options":s.analysisOptions},on:{"option-selected":s.onClickAnalysisOption,hide:s.hideAnalysisDropdown}}):s._e()],1)},Lt=[],Vt=function(){var s=this,v=s._self._c;return v("ul",{class:s.$style.component,style:s.dropdown.analysis,attrs:{"data-dropdown":"analysis"}},[s._l(s.analysisOptions,function(B){return v("li",{directives:[{name:"tooltip",rawName:"v-tooltip",value:B.title,expression:"analysisOption.title"}],key:B.examineId,domProps:{textContent:s._s(B.title)},on:{click:function(ye){return s.onClickOption(ye,B.examineId)}}})}),s._v(" "),s._m(0),s._v(" "),v("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:s.$trans("Close"),expression:"$trans('Close')"}],class:[s.$style.close,"icon-x"],on:{click:function(B){return s.$emit("hide")}}})],2)},ks=[function(){var u=this,s=u._self._c;return s("span",{class:u.$style.title,domProps:{textContent:u._s(u.$trans("Analysis Board"))}})}],Vs={methods:{hasVisibleDropdown(){return Object.values(this.dropdown).some(u=>u.display==="block")},createDropdown(u){const s={dropdown:{}};return u.forEach(v=>{s.dropdown[v]={display:"none",transform:"translate(0, 0)"}}),s},hideDropdown(){Object.keys(this.dropdown).forEach(u=>{this.dropdown[u].display="none"})},showDropdown(u,s,v){const B=document.querySelector(`ul[data-dropdown="${s}"]`);B&&(this.dropdown[s].display==="block"?this.dropdown[s].display="none":(this.hideDropdown(),this.dropdown[s].display="block",this.$nextTick(()=>{const Re=u.target.getBoundingClientRect(),{width:Xe,height:kt}=B.getBoundingClientRect(),Rt=(0,X.MD)(Re,kt,Xe);v&&v(Rt);const{left:ss,top:Qt}=Rt;this.dropdown[s].transform=`translate(${ss}px, ${Qt}px)`})))}}},Ks=Object.defineProperty,qs=Object.getOwnPropertySymbols,ts=Object.prototype.hasOwnProperty,la=Object.prototype.propertyIsEnumerable,Qs=(u,s,v)=>s in u?Ks(u,s,{enumerable:!0,configurable:!0,writable:!0,value:v}):u[s]=v,ca=(u,s)=>{for(var v in s||(s={}))ts.call(s,v)&&Qs(u,v,s[v]);if(qs)for(var v of qs(s))la.call(s,v)&&Qs(u,v,s[v]);return u},Es={name:"AnalysisOptionsDropdown",directives:{Tooltip:Ce.Z},mixins:[Vs],props:{target:{type:HTMLElement,required:!0},position:{type:Object,required:!0},analysisOptions:{type:Array,default:()=>[]}},emits:["option-selected","hide"],data(){return ca({},this.createDropdown(["analysis"]))},mounted(){const u={target:this.target};this.showDropdown(u,"analysis",s=>{s.left-=this.position.left,s.top-=this.position.top})},methods:{onClickOption(u,s){u.examineId=s,this.$emit("option-selected",u)}}},da=Es,Ys={component:"analysis-options-dropdown-component",close:"analysis-options-dropdown-close",title:"analysis-options-dropdown-title"};function Js(u){this.$style=Ys.locals||Ys}var ua=(0,Be.Z)(da,Vt,ks,!1,Js,null,null),Xs=ua.exports,ha=function(){var s=this,v=s._self._c;return v("ul",{class:s.$style.component,style:s.dropdown.chat,attrs:{"data-dropdown":"chat"}},[s._l(s.chatOptions,function(B){return v("li",{directives:[{name:"tooltip",rawName:"v-tooltip",value:B.title,expression:"chatOption.title"}],key:B.roomId,domProps:{textContent:s._s(B.title)},on:{click:function(ye){return s.onClickOption(ye,B.roomId)}}})}),s._v(" "),s._m(0),s._v(" "),s._m(1),s._v(" "),v("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:s.$trans("Close"),expression:"$trans('Close')"}],class:[s.$style.close,"icon-x"],on:{click:function(B){return s.$emit("hide")}}})],2)},pa=[function(){var u=this,s=u._self._c;return s("li",{domProps:{textContent:u._s(u.$trans("Private Chat"))},on:{click:function(v){return u.onClickOption(v)}}})},function(){var u=this,s=u._self._c;return s("span",{class:u.$style.title,domProps:{textContent:u._s(u.$trans("Chat"))}})}],en=Object.defineProperty,tn=Object.getOwnPropertySymbols,ma=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable,sn=(u,s,v)=>s in u?en(u,s,{enumerable:!0,configurable:!0,writable:!0,value:v}):u[s]=v,Os=(u,s)=>{for(var v in s||(s={}))ma.call(s,v)&&sn(u,v,s[v]);if(tn)for(var v of tn(s))ct.call(s,v)&&sn(u,v,s[v]);return u},Cs={name:"ChatOptionsDropdown",directives:{Tooltip:Ce.Z},mixins:[Vs],props:{target:{type:HTMLElement,required:!0},position:{type:Object,required:!0},chatOptions:{type:Array,default:()=>[]}},emits:["option-selected","hide"],data(){return Os({},this.createDropdown(["chat"]))},mounted(){const u={target:this.target};this.showDropdown(u,"chat",s=>{s.left-=this.position.left,s.top-=this.position.top})},methods:{onClickOption(u,s){u.roomId=s,this.$emit("option-selected",u)}}},Kt=Cs,dt={component:"chat-options-dropdown-component",close:"chat-options-dropdown-close",title:"chat-options-dropdown-title"};function Ls(u){this.$style=dt.locals||dt}var _a=(0,Be.Z)(Kt,ha,pa,!1,Ls,null,null),ba=_a.exports,nn=function(){var s=this,v=s._self._c;return v("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:s.label,delay:100},expression:`{
    content: label,
    delay: 100
  }`}],class:[s.$style.link,s.$style[s.iconColor]],attrs:{href:s.url},on:{click:function(B){return s.$emit("click",B)}}},[v("span",{class:[s.$style.icon,s.iconName,"icon-font-chess"]})])},wt=[],js={name:"IconLink",directives:{Tooltip:Ce.Z},props:{url:String,iconColor:String,iconName:{type:String,required:!0},label:{type:String,required:!0}},emits:["click"]},Pt=js,an={link:"icon-link-link",icon:"icon-link-icon",label:"icon-link-label",blue:"icon-link-blue",grey:"icon-link-grey",red:"icon-link-red",translucent:"icon-link-translucent"};function ga(u){this.$style=an.locals||an}var fa=(0,Be.Z)(Pt,nn,wt,!1,ga,null,null),on=fa.exports,rn=function(){var s=this,v=s._self._c;return v("button",{class:[s.$style.link,s.$style[s.btnColor]],attrs:{type:"button"},on:{click:s.onClick}},[v("span",{class:[s.$style.icon,s.iconName,"icon-font-chess"]}),s._v(" "),v("span",{class:s.$style.label,domProps:{textContent:s._s(s.label)}})])},jt=[],Ns={name:"LabeledIconButton",props:{action:Function,btnColor:String,iconName:{type:String,required:!0},label:{type:String,required:!0}},emits:["click"],methods:{onClick(u){if(this.action){this.action(u);return}this.$emit("click",u)}}},Ps=Ns,ln={link:"labeled-icon-button-link",icon:"labeled-icon-button-icon",label:"labeled-icon-button-label",blue:"labeled-icon-button-blue",grey:"labeled-icon-button-grey",red:"labeled-icon-button-red",translucent:"labeled-icon-button-translucent"};function Bs(u){this.$style=ln.locals||ln}var va=(0,Be.Z)(Ps,rn,jt,!1,Bs,null,null),_s=va.exports,wa=function(){var s=this,v=s._self._c;return v("a",{class:[s.$style.link,s.$style[s.iconColor]],attrs:{href:s.url},on:{click:function(B){return s.$emit("click",B)}}},[v("span",{class:[s.$style.icon,s.iconName,"icon-font-chess"]}),s._v(" "),v("span",{class:s.$style.label,domProps:{textContent:s._s(s.label)}})])},cn=[],dn={name:"LabeledIconButton",props:{url:String,iconColor:String,iconName:{type:String,required:!0},label:{type:String,required:!0}},emits:["click"]},un=dn,hn={link:"labeled-icon-link-link",icon:"labeled-icon-link-icon",label:"labeled-icon-link-label",blue:"labeled-icon-link-blue",grey:"labeled-icon-link-grey",red:"labeled-icon-link-red",translucent:"labeled-icon-link-translucent"};function pn(u){this.$style=hn.locals||hn}var ya=(0,Be.Z)(un,wa,cn,!1,pn,null,null),mn=ya.exports,ka={name:"UserActions",components:{IconButton:It,IconLink:on,LabeledIconButton:_s,LabeledIconLink:mn,ChatOptionsDropdown:ba,AnalysisOptionsDropdown:Xs},props:{avatar:String,canAddFriend:Boolean,canBlockUser:Boolean,canReportUser:Boolean,canCreateChallenge:Boolean,canFollowUser:Boolean,canGiftMembership:Boolean,canRemoveFriend:Boolean,canSendMessage:Boolean,canInviteToChat:Boolean,canSendTrophy:Boolean,canUnblockUser:Boolean,canUnfollowUser:Boolean,canUseGlobalChat:Boolean,isEnabled:Boolean,hasInboundFriendRequest:Boolean,hasOutboundFriendRequest:Boolean,loggedAsAnother:Boolean,username:String,canObserveGame:{type:Boolean,default:!1},isBughousePartner:{type:Boolean,default:!1},challengeUrl:String,canCancelFriendRequest:{type:Boolean,default:!1},canDeclineFriendRequest:{type:Boolean,default:!1},canAcceptFriendRequest:{type:Boolean,default:!1},archiveUrl:String,chatOptions:{type:Array,default:()=>[]},position:{type:Object,default:()=>({})},canInviteToAnalysis:{type:Boolean,default:!1},analysisOptions:{type:Array,default:()=>[]},isConfirmVisible:{type:Boolean,default:!1},showBughousePartner:{type:Boolean,default:!1},membershipUrl:String,dynamicActions:Array},emits:["show-archive","show-gift","show-trophy","decline-friend-request","cancel-friend-request","add-friend","invite-analysis","request-chat","send-message","create-challenge","user-popover-hide","remove-friend","accept-friend-request","follow-user","unfollow-user","block-user","unblock-user","show-report","observe-user","bughouse-partner","bughouse-unpartner","start-direct-chat","update-popover-position"],data(){return{allActions:!1,chatDropdownTarget:null,analysisDropdownTarget:null,buttonsListStyle:null}},computed:{showGlobalChatButton(){return this.canUseGlobalChat&&!this.canInviteToChat}},methods:{getIconComponent(u){return u?on:It},getIconLabeledComponent(u){return u?mn:_s},hidePopover(){this.$emit("user-popover-hide")},onClickChallenge(u){this.challengeUrl?this.hidePopover():(u.username=this.username,u.avatar=this.avatar,this.$emit("create-challenge",u))},onClickMessage(u){u.username=this.username,u.avatar=this.avatar,this.$emit("send-message",u)},onClickChat(u){this.chatOptions.length?this.chatDropdownTarget=u.target:this.onClickChatOption(u)},onClickChatOption(u){this.hideChatDropdown(),this.$emit("request-chat",u)},onClickAnalysis(u){this.analysisDropdownTarget=u.target},onClickAnalysisOption(u){this.hideAnalysisDropdown(),this.$emit("invite-analysis",u)},onClickAddFriend(){this.$emit("add-friend")},onClickCancelFriendRequest(){this.$emit("cancel-friend-request")},onClickDeclineFriendRequest(){this.$emit("decline-friend-request")},onClickTrophy(u){u.username=this.username,this.$emit("show-trophy",u)},onClickGift(){this.$emit("show-gift")},onClickArchive(u){this.archiveUrl?this.hidePopover():(u.username=this.username,this.$emit("show-archive",u))},onClickRemoveFriend(){this.$emit("remove-friend")},onClickAcceptFriendRequest(){this.$emit("accept-friend-request")},onClickFollowUser(){this.$emit("follow-user")},onClickUnfollowUser(){this.$emit("unfollow-user")},onClickBlockUser(){this.$emit("block-user")},onClickUnblockUser(){this.$emit("unblock-user")},onClickReport(){this.$emit("show-report")},onClickObserve(){this.$emit("observe-user")},onClickPartner(){this.$emit("bughouse-partner")},onClickUnpartner(){this.$emit("bughouse-unpartner")},showAllActions(){this.allActions=!0,this.$nextTick(()=>{const u=document.getElementsByClassName(this.$style.buttonsList)[0];if(u){const s=[...u.children],v=Math.max(...s.map(B=>B.offsetHeight));this.buttonsListStyle={height:`${v*Math.round(s.length/2)}px`},this.$emit("update-popover-position")}})},startDirectChat(){this.hidePopover(),this.$emit("start-direct-chat")},hideChatDropdown(){this.chatDropdownTarget=null},hideAnalysisDropdown(){this.analysisDropdownTarget=null}}},Ea=ka,_n={component:"user-actions-component","icons-list":"user-actions-icons-list",more:"user-actions-more",caret:"user-actions-caret",buttonsList:"user-actions-buttonsList"};function $o(u){this.$style=_n.locals||_n}var Oa=(0,Be.Z)(Ea,ls,Lt,!1,$o,null,null),Ca=Oa.exports,Rs=n(1199),Ft=function(){var s=this,v=s._self._c;return s.status.length?v("div",{class:s.$style.component,domProps:{textContent:s._s(s.status)}}):s._e()},Pa=[],bn={name:"UserFlairStatus",props:{status:{type:String,required:!0}}},xa=bn,Ds={component:"user-flair-status-component"};function zs(u){this.$style=Ds.locals||Ds}var cs=(0,Be.Z)(xa,Ft,Pa,!1,zs,null,null),Aa=cs.exports,Ma=function(){var s,v=this,B=v._self._c,ye=v._self._setupProxy;return B(v.archiveUrl?"a":"div",{tag:"component",class:v.$style.component,attrs:{href:v.archiveUrl,target:"_blank"}},[B("span",{class:v.$style.win,domProps:{textContent:v._s(v.lifetimeScore.win)}}),v._v(" "),B("span",{class:v.$style.divider,domProps:{textContent:v._s("/")}}),v._v(" "),B("span",{domProps:{textContent:v._s(v.lifetimeScore.draw)}}),v._v(" "),B("span",{class:v.$style.divider,domProps:{textContent:v._s("/")}}),v._v(" "),B("span",{class:v.$style.lose,domProps:{textContent:v._s(v.lifetimeScore.lose)}}),v._v(" "),B("span",{domProps:{textContent:v._s(v.$trans("vs"))}}),v._v(" "),B("user-tagline",{class:v.$style.tagline,attrs:{title:v.opponentTitle,username:(s=v.opponent)==null?void 0:s.username,"username-theme":"darkgray","is-username-clickable":!1}}),v._v(" "),v.archiveUrl?B("span",{class:["icon-font-chess","square-out",v.$style.icon]}):v._e()],1)},bs=[],gn=n(4986),fn=(0,N.aZ)({name:"UserLifetimeScore",components:{UserTagline:gn.Z},props:{opponent:Object,username:String,lifetimeScore:{type:Object,default(){return{win:0,lose:0,draw:0}}}},computed:{opponentUrl(){var u;return(u=this.opponent)!=null&&u.username?V.Z.generate("web_member_view",{username:this.opponent.username}):null},archiveUrl(){var u;return((u=this.opponent)==null?void 0:u.username)&&this.username?V.Z.generate("web_archive_index",{username:this.opponent.username,opponent:this.username}):null},opponentTitle(){var u,s;return(u=this.opponent)!=null&&u.chessTitle?this.opponent.chessTitle:(s=this.opponent)!=null&&s.title?this.opponent.title.toUpperCase():null}}}),Sa=fn,Us={component:"user-lifetime-score-component",tagline:"user-lifetime-score-tagline",win:"user-lifetime-score-win",lose:"user-lifetime-score-lose",icon:"user-lifetime-score-icon"};function Ta(u){this.$style=Us.locals||Us}var Ia=(0,Be.Z)(Sa,Ma,bs,!1,Ta,null,null),vn=Ia.exports,La=function(){var s=this,v=s._self._c;return v("span",{class:s.$style.component},[v("span",{staticClass:"icon-font-chess",class:[s.$style.icon,s.icon]}),s._v(" "),v("span",{class:s.$style.rating,domProps:{textContent:s._s(s.rating)}})])},wn=[],yn={name:"UserRating",props:{icon:{type:String,required:!0},rating:{type:Number,required:!0}}},gs=yn,kn={component:"user-rating-component",icon:"user-rating-icon",rating:"user-rating-rating"};function $s(u){this.$style=kn.locals||kn}var ja=(0,Be.Z)(gs,La,wn,!1,$s,null,null),Na=ja.exports,Fs=n(7652),Ba={name:"click-outside",bind(u,s){let v,B,ye=1,Re="click";if((0,Fs.mf)(s.value)?v=s.value:(0,Fs.Kn)(s.value)&&(v=s.value.handler,ye=s.value.delay,Re=s.value.clickEvent||"click"),!(0,Fs.mf)(v))throw new Error("must pass function to click-outside");const Xe=Rt=>Rt.stopPropagation(),kt=Rt=>u!==Rt.target&&v(u,Rt);u.$unbindClickOutside&&u.$unbindClickOutside(),u.$unbindClickOutside=()=>{clearTimeout(B),u.removeEventListener(Re,Xe),document.removeEventListener(Re,kt),delete u.$unbindClickOutside},B=setTimeout(()=>{u.addEventListener(Re,Xe),document.addEventListener(Re,kt)},ye)},unbind(u){u.$unbindClickOutside&&u.$unbindClickOutside()}},xs=n(9205),Ra=n(3641),Wt=(u=>(u.MUTE="mute",u.UNMUTE="unmute",u.WARN="warn",u))(Wt||{}),Da=function(){var s=this,v=s._self._c;return v("div",{class:[s.$style.component,{[s.$style.narrow]:s.isIconsOnly},{[s.$style.visible]:s.buttonData.show},{[s.$style.hidden]:!s.buttonData.show}]},[s.buttonData.show?v("v5-button",{class:{staffGreen:s.buttonData.theme==="primary",[s.$style.challengeIconOnly]:s.isIconsOnly&&s.userPresence.isOnline&&!s.userPresence.isPlaying,[s.$style.watchIconOnly]:s.isIconsOnly&&s.userPresence.isPlaying},attrs:{href:s.buttonData.href,size:s.isButtonSmall?"x-small":"small",theme:s.buttonData.theme},on:{click:function(B){return s.handleClick(B)}}},[v("span",{domProps:{textContent:s._s(s.buttonData.text)}}),s._v(" "),v("span",{class:["icon-font-chess ui_v5-button-icon",s.buttonData.icon],attrs:{"aria-hidden":"true"}})]):s.isShowLastOnline&&s.buttonData.lastOnline?v("div",{domProps:{textContent:s._s(s.buttonData.lastOnline)}}):v("div",{class:s.$style.placeholder})],1)},On=[],qt=n(5753),fs={name:"PresenceButton",components:{V5Button:H.V5Button},props:{username:{type:String,required:!0},userPresence:{type:Object,required:!0},isButtonSmall:{type:Boolean,default:!1},isIconsOnly:{type:Boolean,default:!1},isShowLastOnline:{type:Boolean,default:!1},isWatchOnly:{type:Boolean,default:!1},location:{type:String,default:"N/A"}},computed:{buttonData(){const{battleLink:u,eventLink:s,gameLink:v,isOnline:B,isPlaying:ye,offlineSince:Re}=this.userPresence;return ye?{theme:this.isIconsOnly?"":"danger",text:this.isIconsOnly?"":this.$trans("Watch"),icon:"binoculars",show:!0,href:s||v||u}:B?{theme:this.isIconsOnly?"":"primary",text:this.isIconsOnly?"":this.$trans("Challenge"),icon:"chess-board-plus",show:!this.isWatchOnly,href:V.Z.generate("web_play_new",{opponent:this.username})}:this.isShowLastOnline?{lastOnline:xs.p6.relative(new Date(Re)),show:!1}:{show:!1}}},methods:{handleClick(){const u=this.userPresence.isPlaying?"watch":"challenge",s=this.location;qt.Z.logEvent("presenceUiClick",{selection:u,location:s})}}},vs=fs,Cn={component:"presence-button-component",placeholder:"presence-button-placeholder",visible:"presence-button-visible",hidden:"presence-button-hidden",narrow:"presence-button-narrow",watchIconOnly:"presence-button-watchIconOnly",challengeIconOnly:"presence-button-challengeIconOnly"};function Pn(u){this.$style=Cn.locals||Cn}var za=(0,Be.Z)(vs,Da,On,!1,Pn,null,null),Ua=za.exports,$a={name:"UserPopover",components:{LoaderThreeBounce:de.Z,UserAvatar:Rs.Z,UserFlairStatus:Aa,UserRating:Na,UserTagline:gn.Z,UserActions:Ca,UserLifetimeScore:vn,AdminActions:as,V5Button:H.V5Button,V5Input:H.V5Input,PresenceButton:Ua},directives:{Tooltip:Ce.Z,ClickOutside:Ba},props:{avatar:{type:String,default:""},ratings:{type:Array,required:!0},chessTitle:{type:String,required:!1},country:{type:Object,required:!1},flair:{type:Object,default(){return{code:"",status:""}}},fullName:String,isEnabled:{type:Boolean},isGuest:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},joinedDate:String,lastLoginDate:String,membership:{type:Number,required:!1},onlineStatus:{type:[Boolean,String],required:!1},usernameElementRef:{type:HTMLElement,required:!0},username:{type:String,required:!1},isFideVerified:{type:Boolean,default:!1},canAddFriend:Boolean,canBlockUser:Boolean,canUseGlobalChat:Boolean,canReportUser:Boolean,canCreateChallenge:Boolean,canFollowUser:Boolean,canGiftMembership:Boolean,canRemoveFriend:Boolean,canSendMessage:Boolean,canInviteToChat:Boolean,canSendTrophy:Boolean,canUnblockUser:Boolean,canUnfollowUser:Boolean,loggedAsAnother:Boolean,canMuteUser:{type:Boolean,default:!1},canObserveGame:{type:Boolean,default:!1},isBughousePartner:{type:Boolean,default:!1},shouldShowModeration:{type:Boolean,default:!1},challengeUrl:String,canCancelFriendRequest:{type:Boolean,default:!1},canDeclineFriendRequest:{type:Boolean,default:!1},canAcceptFriendRequest:{type:Boolean,default:!1},archiveUrl:String,chatOptions:{type:Array,default:()=>[]},canInviteToAnalysis:{type:Boolean,default:!1},analysisOptions:{type:Array,default:()=>[]},canModerate:{type:Boolean,default:!1},clientName:String,canWarnOnChat:Boolean,canModerateOnChat:Boolean,showBughousePartner:{type:Boolean,default:!1},openProfileOnNewTab:{type:Boolean,required:!1},membershipUrl:String,dynamicActions:Array,clubChatIdForModeratorActions:String,popoverPosition:{type:Object,default:null},presenceDetails:{type:Object,default:null},showProfileUrls:{type:Boolean,default:!0},userAlreadyMutedOnChat:Boolean,uuid:String,leagueCode:String,leagueDivision:String,leagueName:String,opponent:Object,lifetimeScore:Object},emits:["chat-kick-user","chat-mute-user","chat-warn-user","ban-user","kick-user","mute-user","warn-user","block-user","remove-friend","user-popover-hide","request-chat","invite-analysis","bughouse-unpartner","bughouse-partner","observe-user","show-trophy","show-report","unblock-user","unfollow-user","follow-user","accept-friend-request","start-direct-chat","show-archive","show-gift","decline-friend-request","cancel-friend-request","add-friend","send-message","create-challenge"],data(){return{clubChatModeratorMessage:"",isLoggedIn:(0,Ze.jl)(),offset:12,translations:xe.Iz,confirmMessage:null,confirmCallback:null,position:{x:0,y:0,top:0,left:0}}},computed:{adminActionsIsVisible(){return this.canModerate||this.canWarnOnChat||this.canModerateOnChat||this.clubChatIdForModeratorActions},formatedJoinedDate(){return(0,Ze.jl)()?this.joinedDate:xs.p6.relative(this.joinedDate)},formatedLastLoginDate(){return(0,Ze.jl)()?this.presenceLastLoginDate:xs.p6.relative(this.presenceLastLoginDate)},memberUrl(){return V.Z.generate("web_member_view",{username:this.username})},fideUrl(){return V.Z.generate("web_verification_index")},ratingsToShow(){return this.ratings.slice(0,3)},isConfirmVisible(){return!!this.confirmMessage&&!!this.confirmCallback},isFideEnabledAndVerified(){return this.isFideVerified},isLeaguePlayer(){return this.leagueCode&&this.leagueDivision&&this.username},showOfflineText(){return this.presenceDetails&&!this.presenceDetails.isOnline},presenceLastLoginDate(){var u;return!((u=this.presenceDetails)!=null&&u.offlineSince)||this.presenceDetails.isOfflineStatusUncertain?this.lastLoginDate||"":xs.p6.relative(new Date(this.presenceDetails.offlineSince))},inlineStyles(){return mt(this.position)},userDivision(){return xe._j.userDivision({league:this.leagueCode,division:this.leagueDivision})}},watch:{isLoading(){setTimeout(()=>{this.updatePopoverPosition()})}},mounted(){this.popoverPosition?this.position=this.popoverPosition:this.updatePopoverPosition()},methods:{onMouseEnter(){clearTimeout(this.hideTimeout)},onMouseLeave(){this.hideTimeout=setTimeout(()=>{this.hidePopover()},500)},hidePopover(){this.$emit("user-popover-hide")},onConfirmYes(){this.confirmCallback&&this.confirmCallback(),this.onConfirmNo()},onConfirmNo(){this.confirmMessage=null,this.confirmCallback=null},onClickRemoveFriend(){this.confirmMessage=this.$trans("Are you sure you want to remove this friend from your list?"),this.confirmCallback=()=>this.$emit("remove-friend")},onClickBlockUser(){this.confirmMessage=this.$trans("Are you sure you want to block this user?"),this.confirmCallback=()=>this.$emit("block-user")},onClickWarn(){this.confirmMessage=this.$trans("Are you sure you want to warn this user?"),this.confirmCallback=()=>this.$emit("warn-user")},onClickMute(){this.confirmMessage=this.$trans("Are you sure you want to mute this user?"),this.confirmCallback=()=>this.$emit("mute-user")},onClickKick(){this.confirmMessage=this.$trans("Are you sure you want to kick this user?"),this.confirmCallback=()=>this.$emit("kick-user")},onClickBan(){this.confirmMessage=this.$trans("Are you sure you want to ban this user?"),this.confirmCallback=()=>this.$emit("ban-user")},onClickChatWarn(){this.confirmMessage=this.$trans("Are you sure you want to warn this user?"),this.clubChatIdForModeratorActions?this.confirmCallback=this.onClubChatAction(Wt.WARN):this.confirmCallback=()=>this.$emit("chat-warn-user")},onClickChatMute(){this.confirmMessage=this.$trans("Are you sure you want to mute this user?"),this.clubChatIdForModeratorActions?this.confirmCallback=this.onClubChatAction(Wt.MUTE):this.confirmCallback=()=>this.$emit("chat-mute-user")},onClickChatMuteRemoveMessages(){this.confirmMessage=this.$trans("Are you sure you want to mute this user?"),this.confirmCallback=this.onClubChatAction(Wt.MUTE,!0)},onClickChatUnMute(){this.confirmMessage=this.$trans("Are you sure you want to unmute this user?"),this.confirmCallback=this.onClubChatAction(Wt.UNMUTE)},onClickChatKick(){this.confirmMessage=this.$trans("Are you sure you want to kick this user?"),this.clubChatIdForModeratorActions||(this.confirmCallback=()=>this.$emit("chat-kick-user"))},onClubChatAction(u,s){const v={chatId:this.clubChatIdForModeratorActions,key:Qe.U3.CLUB_CHAT_MODERATOR_ACTION,type:u,userId:this.uuid};return s&&(v.hideMessages=!0),()=>{v.message=this.clubChatModeratorMessage,(0,Ra.o)(v)}},updatePopoverPosition(){if(!this.usernameElementRef||!this.$refs.userPopover)return;const u=this.usernameElementRef.getBoundingClientRect(),{clientHeight:s,clientWidth:v}=this.$refs.userPopover;this.position=(0,X.MD)(u,s,v)}}},Fa=$a,xn={popover:"user-popover-popover",bottom:"user-popover-bottom",top:"user-popover-top",component:"user-popover-component","avatar-placeholder":"user-popover-avatar-placeholder",profile:"user-popover-profile",meta:"user-popover-meta",info:"user-popover-info",onlive:"user-popover-onlive",online:"user-popover-online",status:"user-popover-status",details:"user-popover-details",secondary:"user-popover-secondary",loader:"user-popover-loader",actions:"user-popover-actions",ratings:"user-popover-ratings",confirm:"user-popover-confirm","moderator-message":"user-popover-moderator-message",badge:"user-popover-badge","full-name":"user-popover-full-name"};function Fo(u){this.$style=xn.locals||xn}var Wa=(0,Be.Z)(Fa,es,Ut,!1,Fo,null,null),Za=Wa.exports,An={newMessage:(u,s)=>{u.message=s}},Ha={message:null},Ga={namespaced:!0,mutations:An,state:Ha},Mn=n(1065);const Sn=u=>{var s,v;return(v=(s=u.data)==null?void 0:s.message)!=null?v:d.R0.badRequest};var Wo={getUserTrophies:({commit:u},s)=>{const v={username:s.username,trophyType:s.trophyType};return i.Z.get(V.Z.generate("web_member_callback_trophy_list",v)).then(B=>{if(B.data)return u("setUserTrophies",B.data),x.Z.set("user_trophies",B.data,60),B.data}).catch(()=>{const B=d.V5.error;(0,p.el)({type:B,message:d.R0.badRequest})})},getAllTrophies:({commit:u,state:s},v)=>{u("setFinishedLoading",!1);const B=Object.assign({},{type:s.trophyType},v);return i.Z.get(V.Z.generate("web_callback_get_trophies",B)).then(ye=>{ye.data&&u("setAllTrophies",ye.data)}).catch(()=>{const ye=d.V5.error;(0,p.el)({type:ye,message:d.R0.badRequest})})},getTrophyShowcase:({commit:u},s)=>i.Z.get(V.Z.generate("web_user_trophy_showcase_callback",{username:s})).then(v=>{v.data&&u("setUserShowcaseTrophies",v.data)}).catch(()=>{const v=d.V5.error;(0,p.el)({type:v,message:d.R0.badRequest})}),getUserTrophyCount:({commit:u},s)=>i.Z.get(V.Z.generate("web_callback_count_user_trophies",{username:s})).then(v=>{v.data&&u("setUserTrophiesCount",v.data.count)}).catch(()=>{const v=d.V5.error;(0,p.el)({type:v,message:d.R0.badRequest})}),featureTrophy:({dispatch:u},{trophyId:s,featured:v,username:B})=>{const ye={id:s,featured:v};return i.Z.post(V.Z.generate("web_feature_trophy_callback",ye)).then(Re=>{const Xe=d.V5.success,kt=Sn(Re);(0,p.el)({type:Xe,message:kt}),u("getTrophyShowcase",B)}).catch(()=>{const Re=d.V5.error,Xe=m.Z.trans("Error featuring trophies. Please try again later.");(0,p.el)({type:Re,message:Xe})})},sendTrophyToUser:({commit:u,state:s})=>{const v={username:s.recipientUsername,trophyId:s.selectedTrophy.id,message:(0,Mn.Ak)(s.message)};return typeof s.gameId=="number"&&(v[s.isLiveGame?"gameLiveId":"gameId"]=s.gameId),u("disableSendButton",!0),i.Z.post(V.Z.generate("web_award_trophy_callback",v)).then(()=>{u("disableSendButton",!1)}).catch(B=>(u("setErrorMessage",B.response.data.message),u("disableSendButton",!1),Promise.reject(B)))}},ds={disableSendButton:(u,s)=>{u.disableSendButton=s},setUserTrophies:(u,s)=>{u.userTrophies=s},setAllTrophies:(u,s)=>{u.trophies=s.data,u.meta=s.meta,u.allTrophiesToGive=s.data,u.finishedLoadingTrophies=!0},setErrorMessage:(u,s)=>{u.errorMessage=s},setFinishedLoading:(u,s)=>{u.finishedLoadingTrophies=s},setGameId:(u,s)=>{u.gameId=s},setIsLiveGame:(u,s)=>{u.isLiveGame=s},setMessage:(u,s)=>{u.message=s},setModalState:(u,s)=>{u.modalState=s},setRecipientIsFriend:(u,s)=>{u.recipientIsFriend=s},setRecipientUsername:(u,s)=>{u.recipientUsername=s},setSelectedTrophy:(u,s)=>{u.selectedTrophy=s},setTrophyType:(u,s)=>{u.trophyType=s},setUserShowcaseTrophies:(u,s)=>{u.hideShowcase=s.length===0,u.userShowcaseTrophies=s},setUserTrophiesCount:(u,s)=>{u.userTrophyCount=s}},Va=n(1100),Zo={allTrophiesToGive:[],disableSendButton:!1,errorMessage:"",finishedLoadingTrophies:!1,gameId:null,hideShowcase:!1,isLiveGame:!1,message:"",meta:{currentPage:1,morePages:!1},recipientIsFriend:!1,modalState:Va.Z.modalStates.select,recipientUsername:null,selectedTrophy:null,trophies:[],trophyType:"social",userShowcaseTrophies:[],userTrophies:[],userTrophyCount:0},Ho={namespaced:!0,actions:Wo,mutations:ds,state:Zo},Tn=Object.create,In=Object.defineProperty,Go=Object.defineProperties,Ka=Object.getOwnPropertyDescriptor,Vo=Object.getOwnPropertyDescriptors,Ko=Object.getOwnPropertyNames,Ln=Object.getOwnPropertySymbols,qa=Object.getPrototypeOf,jn=Object.prototype.hasOwnProperty,Qa=Object.prototype.propertyIsEnumerable,Nn=(u,s,v)=>s in u?In(u,s,{enumerable:!0,configurable:!0,writable:!0,value:v}):u[s]=v,Ws=(u,s)=>{for(var v in s||(s={}))jn.call(s,v)&&Nn(u,v,s[v]);if(Ln)for(var v of Ln(s))Qa.call(s,v)&&Nn(u,v,s[v]);return u},Bn=(u,s)=>Go(u,Vo(s)),Ya=(u,s,v,B)=>{if(s&&typeof s=="object"||typeof s=="function")for(let ye of Ko(s))!jn.call(u,ye)&&ye!==v&&In(u,ye,{get:()=>s[ye],enumerable:!(B=Ka(s,ye))||B.enumerable});return u},Ja=(u,s,v)=>(v=u!=null?Tn(qa(u)):{},Ya(s||!u||!u.__esModule?In(v,"default",{value:u,enumerable:!0}):v,u)),Xa={name:"UserPopoverWidget",components:{giftMembershipModal:()=>({component:n.e(614).then(n.bind(n,1250))}),UserReportModal:()=>({component:n.e(210).then(n.bind(n,4863))}),UserReportModalNew:()=>({component:n.e(210).then(n.bind(n,2710))}),UserPopover:Za,TrophyPopover:()=>({component:n.e(284).then(n.bind(n,9664))})},data(){return{clubChatIdForModeratorActions:!1,clickListener:null,dynamicActions:null,isLoading:!1,showGiftMembershipModal:!1,isUserReportModalVisible:!1,isChallengePopoverVisible:!1,isTrophyPopoverVisible:!1,scrollContainer:null,elementRef:null,userAlreadyMutedOnChat:!1,reportUserModalFF:window.chesscom.features.includes("new_user_report_modal")}},computed:Bn(Ws({},(0,O.rn)({currentUser:u=>u.user,currentUserIsGuest:u=>u.user.isGuest,show:u=>u.userPopover.show,user:u=>u.userPopover.user,username:u=>u.user.username,lifetimeScore:u=>u.userPopover.lifetimeScore,position:u=>u.userPopover.position,presenceDetails:u=>u.userPopover.presenceDetails})),{fullName(){return`${this.user.firstName||""}  ${this.user.lastName||""}`.trim()},leagueData(){var u;const s={leagueCode:"",leagueDivision:"",leagueName:""},{isOptedIn:v,division:B}=(u=this.user.userLeagueData)!=null?u:{};return v&&B&&Object.assign(s,{leagueCode:B.league.code,leagueDivision:B.name.slice(1),leagueName:B.league.name}),s},ratings(){const{bestRating:u,bestRatingType:s,topPuzzleRushScore:v}=this.user,B=[{type:s,icon:s,value:u}];return v&&B.push({type:"puzzle",icon:"fire-puzzle",value:v}),B},canAddFriend(){return this.loggedAsAnother&&!this.user.areFriends&&!this.user.isFriendRequestFromUserExists&&!this.user.isFriendRequestExists&&this.user.isEnabled},canBlockUser(){return this.loggedAsAnother&&!this.user.areFriends&&!this.user.isBlocked&&this.user.isEnabled&&this.user.membership&&this.user.membership.level<xe.p0.moderator},canUseGlobalChat(){return this.loggedAsAnother&&this.user.isEnabled},canCreateChallenge(){return this.loggedAsAnother&&this.user.isEnabled},canFollowUser(){return this.loggedAsAnother&&!this.user.isTracked&&this.user.isEnabled},canGiftMembership(){return this.user.canReceiveGiftMembership&&this.user.isEnabled},canRemoveFriend(){return this.loggedAsAnother&&this.user.areFriends},canReportUser(){return this.loggedAsAnother&&!this.user.isModerator&&!this.user.isStaff},canSendMessage(){return this.loggedAsAnother&&this.user.isMessageable&&this.user.isEnabled},canSendTrophy(){return this.canSendMessage&&this.user.isEnabled},canUnblockUser(){return this.loggedAsAnother&&this.user.isBlocked&&this.user.isEnabled},canUnfollowUser(){return this.loggedAsAnother&&this.user.isTracked&&this.user.isEnabled},hasInboundFriendRequest(){return this.loggedAsAnother&&this.user.isFriendRequestFromUserExists},hasOutboundFriendRequest(){return this.loggedAsAnother&&this.user.isFriendRequestExists},canCancelFriendRequest(){return this.hasOutboundFriendRequest&&!this.hasInboundFriendRequest},canAcceptFriendRequest(){return this.hasInboundFriendRequest},loggedAsAnother(){return this.username&&this.username!==this.user.username},membershipNumber(){return(0,Ze.yO)(this.user.membership?this.user.membership.level:null,this.user.isEnabled)},inlineStyles(){return mt(this.position)},areFriends(){return this.user.areFriends},isGuest(){return this.currentUserIsGuest||this.user.isGuest}}),created(){z({modalMessages:Ga,trophies:Ho})},mounted(){this.scrollContainer=window,ft.Z.on("userPopover/show",({actions:u,clubChatIdForModeratorActions:s,userAlreadyMutedOnChat:v,username:B},ye)=>{if(this.dynamicActions=u,this.clubChatIdForModeratorActions=s,this.userAlreadyMutedOnChat=v,this.$store.dispatch("userPopover/fetchUserPopover",B).then(()=>{this.isLoading=!1}),this.$store.commit("userPopover/resetUser"),B==null)return;this.clickListener=document.addEventListener("click",Xe=>{(this.user.userNotExist||this.$refs.userPopover&&Xe.target!==this.$refs.userPopover.$el&&!this.$refs.userPopover.$el.contains(Xe.target)&&!document.getElementById(xe.xL.USER_POPOVER_CONTAINER).contains(Xe.target))&&this.hideUserPopup()},!0),setTimeout(()=>{!this.user.username&&!this.user.userNotExist&&(this.isLoading=!0)},500),this.scrollContainer.addEventListener("scroll",this.hideUserPopup),this.elementRef=ye;const Re=(0,X.MD)(ye.getBoundingClientRect());this.$store.commit("userPopover/setPosition",Re),this.$store.commit("userPopover/showUserPopover")}),ft.Z.on("userPopover/hide",this.hideUserPopup)},beforeDestroy(){this.removeListeners()},methods:Bn(Ws({},(0,O.OI)({hideUserPopover:"userPopover/hideUserPopover",setRecipientIsFriend:"trophies/setRecipientIsFriend",setRecipientUsername:"trophies/setRecipientUsername"})),{onChallenge({username:u}){window.location=V.Z.generate("web_play_new",{opponent:u})},onMessage(u){this.hideUserPopup(),window.postMessage({event:"SHOW_MESSAGE_MODAL",user:{avatar_url:u.avatar,username:u.username}},window.location.origin)},onTrophy(u){this.hideUserPopup(),this.setRecipientUsername(u.username),this.isTrophyPopoverVisible=!0},acceptFriendRequest(){this.$store.dispatch("user/approveFriendRequest",this.user.userId).then(this.reload)},addFriend(){this.$store.dispatch("user/addFriend",this.user.userId).then(this.reload)},blockUser(){this.$store.dispatch("user/blockUser",this.user.username).then(this.reload)},cancelFriendRequest(){this.$store.dispatch("user/cancelFriendRequest",this.user.userId).then(this.reload)},deleteFriend(){this.$store.dispatch("user/deleteFriend",this.user.userId).then(this.reload)},hideUserPopup(){this.setRecipientIsFriend(this.areFriends),this.hideUserPopover(),this.removeListeners(),this.isLoading=!1},reload(){return this.$store.dispatch("userPopover/fetchUserPopover",this.user.username)},removeListeners(){document.removeEventListener("click",this.clickListener,!0),this.scrollContainer.removeEventListener("scroll",this.hideUserPopup)},trackUser(){this.$store.dispatch("user/trackUser",this.user.username).then(this.reload)},unblockUser(){this.$store.dispatch("user/unblockUser",this.user.username).then(this.reload)},untrackUser(){this.$store.dispatch("user/untrackUser",this.user.username).then(this.reload)},showGiftModal(){this.hideUserPopup(),this.showGiftMembershipModal=!0},hideGiftMembershipModal(){this.showGiftMembershipModal=!1},showReportModal(){this.hideUserPopup(),this.isUserReportModalVisible=!0},hideUserReportModal(){this.isUserReportModalVisible=!1},hideChallengePopover(){this.isChallengePopoverVisible=!1},hideTrophyPopover(){this.isTrophyPopoverVisible=!1},showArchive(u){window.location.href=V.Z.generate("web_archive_index",{username:u.username})},startDirectChat(){const u=Qe.U3.START_DIRECT_CHAT,s={avatarUrl:this.user.avatarUrl,id:this.user.uuid,username:this.user.username};window.postMessage({key:u,payload:s},window.location.origin)}})},eo=Xa,Rn={"placeholder-popover":"user-popover-placeholder-popover",bottom:"user-popover-bottom",top:"user-popover-top","placeholder-component":"user-popover-placeholder-component","placeholder-profile":"user-popover-placeholder-profile","placeholder-avatar":"user-popover-placeholder-avatar","placeholder-info":"user-popover-placeholder-info"};function to(u){this.$style=Rn.locals||Rn}var so=(0,Be.Z)(eo,Xt,ee,!1,to,null,null),no=so.exports;z({user:M,userPopover:_t});const ao=(0,Ot.Z)({userPopover:{component:no,el:"#user-popover",store:P}}),As=window;let us=0,ws;const Dn=u=>{const s=document.getElementById("userPopover");if(!s||u.target!==s&&!s.contains(u.target)){document.removeEventListener("click",Dn,!0);const v=!ws||u.target!==ws&&!ws.contains(u.target),B=ws.getAttribute("href")===null;v?us=0:B&&setTimeout(()=>{us=0},0)}},zn=()=>{As.removeEventListener("scroll",zn),us=0},Un=u=>{ws=u.target,us===0&&(us+=1,ao.createInstance("userPopover"),ft.Z.emit("userPopover/show",u.currentTarget.userPopoverProps,u.target),u.preventDefault(),document.addEventListener("click",Dn,!0),As.addEventListener("scroll",zn))},$n=u=>typeof u=="string"?{username:u}:u;var Fn={bind:(u,s)=>{if(!s.value)return!1;u.userPopoverProps=$n(s.value),u.addEventListener("click",Un)},unbind:u=>{u.removeEventListener("click",Un)},update:(u,s)=>{if(!s.value)return!1;const v=$n(s.value);u.userPopoverProps.username=v.username,v.actions&&u.userPopoverProps.actions.splice(0,v.actions.length,...v.actions)}}},334:function(C,_){var n,i,r;(function(o,c){var d=c();i=[],n=d.Routing,r=typeof n=="function"?n.apply(_,i):n,r!==void 0&&(C.exports=r)})(this,function(){"use strict";var o=Object.assign||function(k){for(var b=1;b<arguments.length;b++){var l=arguments[b];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(k[y]=l[y])}return k},c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},d=function(){function k(b,l){for(var y=0;y<l.length;y++){var w=l[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,l,y){return l&&k(b.prototype,l),y&&k(b,y),b}}();function p(k,b){if(!(k instanceof b))throw new TypeError("Cannot call a class as a function")}var m=function(){function k(b,l){p(this,k),this.context_=b||{base_url:"",prefix:"",host:"",port:"",scheme:"",locale:""},this.setRoutes(l||{})}return d(k,[{key:"setRoutingData",value:function(l){this.setBaseUrl(l.base_url),this.setRoutes(l.routes),"prefix"in l&&this.setPrefix(l.prefix),"port"in l&&this.setPort(l.port),"locale"in l&&this.setLocale(l.locale),this.setHost(l.host),this.setScheme(l.scheme)}},{key:"setRoutes",value:function(l){this.routes_=Object.freeze(l)}},{key:"getRoutes",value:function(){return this.routes_}},{key:"setBaseUrl",value:function(l){this.context_.base_url=l}},{key:"getBaseUrl",value:function(){return this.context_.base_url}},{key:"setPrefix",value:function(l){this.context_.prefix=l}},{key:"setScheme",value:function(l){this.context_.scheme=l}},{key:"getScheme",value:function(){return this.context_.scheme}},{key:"setHost",value:function(l){this.context_.host=l}},{key:"getHost",value:function(){return this.context_.host}},{key:"setPort",value:function(l){this.context_.port=l}},{key:"getPort",value:function(){return this.context_.port}},{key:"setLocale",value:function(l){this.context_.locale=l}},{key:"getLocale",value:function(){return this.context_.locale}},{key:"buildQueryParams",value:function(l,y,w){var E=this,M=void 0,N=new RegExp(/\[\]$/);if(y instanceof Array)y.forEach(function(O,x){N.test(l)?w(l,O):E.buildQueryParams(l+"["+((typeof O>"u"?"undefined":c(O))==="object"?x:"")+"]",O,w)});else if((typeof y>"u"?"undefined":c(y))==="object")for(M in y)this.buildQueryParams(l+"["+M+"]",y[M],w);else w(l,y)}},{key:"getRoute",value:function(l){var y=this.context_.prefix+l,w=l+"."+this.context_.locale,E=this.context_.prefix+l+"."+this.context_.locale,M=[y,w,E,l];for(var N in M)if(M[N]in this.routes_)return this.routes_[M[N]];throw new Error('The route "'+l+'" does not exist.')}},{key:"generate",value:function(l,y){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,E=this.getRoute(l),M=y||{},N=o({},M),O="",x=!0,A="",U=typeof this.getPort()>"u"||this.getPort()===null?"":this.getPort();if(E.tokens.forEach(function($){if($[0]==="text"){O=k.encodePathComponent($[1])+O,x=!1;return}if($[0]==="variable"){var G=E.defaults&&$[3]in E.defaults;if(x===!1||!G||$[3]in M&&M[$[3]]!=E.defaults[$[3]]){var q=void 0;if($[3]in M)q=M[$[3]],delete N[$[3]];else if(G)q=E.defaults[$[3]];else{if(x)return;throw new Error('The route "'+l+'" requires the parameter "'+$[3]+'".')}var pe=q===!0||q===!1||q==="";if(!pe||!x){var le=k.encodePathComponent(q);le==="null"&&q===null&&(le=""),O=$[1]+le+O}x=!1}else G&&$[3]in N&&delete N[$[3]];return}throw new Error('The token type "'+$[0]+'" is not supported.')}),O===""&&(O="/"),E.hosttokens.forEach(function($){var G=void 0;if($[0]==="text"){A=$[1]+A;return}$[0]==="variable"&&($[3]in M?(G=M[$[3]],delete N[$[3]]):E.defaults&&$[3]in E.defaults&&(G=E.defaults[$[3]]),A=$[1]+G+A)}),O=this.context_.base_url+O,E.requirements&&"_scheme"in E.requirements&&this.getScheme()!=E.requirements._scheme){var T=A||this.getHost();O=E.requirements._scheme+"://"+T+(T.indexOf(":"+U)>-1||U===""?"":":"+U)+O}else if(typeof E.schemes<"u"&&typeof E.schemes[0]<"u"&&this.getScheme()!==E.schemes[0]){var D=A||this.getHost();O=E.schemes[0]+"://"+D+(D.indexOf(":"+U)>-1||U===""?"":":"+U)+O}else A&&this.getHost()!==A+(A.indexOf(":"+U)>-1||U===""?"":":"+U)?O=this.getScheme()+"://"+A+(A.indexOf(":"+U)>-1||U===""?"":":"+U)+O:w===!0&&(O=this.getScheme()+"://"+this.getHost()+(this.getHost().indexOf(":"+U)>-1||U===""?"":":"+U)+O);if(Object.keys(N).length>0){var Z=void 0,ne=[],J=function(G,q){q=typeof q=="function"?q():q,q=q===null?"":q,ne.push(k.encodeQueryComponent(G)+"="+k.encodeQueryComponent(q))};for(Z in N)this.buildQueryParams(Z,N[Z],J);O=O+"?"+ne.join("&")}return O}}],[{key:"getInstance",value:function(){return g}},{key:"setData",value:function(l){var y=k.getInstance();y.setRoutingData(l)}},{key:"customEncodeURIComponent",value:function(l){return encodeURIComponent(l).replace(/%2F/g,"/").replace(/%40/g,"@").replace(/%3A/g,":").replace(/%21/g,"!").replace(/%3B/g,";").replace(/%2C/g,",").replace(/%2A/g,"*").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27")}},{key:"encodePathComponent",value:function(l){return k.customEncodeURIComponent(l).replace(/%3D/g,"=").replace(/%2B/g,"+").replace(/%21/g,"!").replace(/%7C/g,"|")}},{key:"encodeQueryComponent",value:function(l){return k.customEncodeURIComponent(l).replace(/%3F/g,"?")}}]),k}();m.Route,m.Context;var g=new m;return{Router:m,Routing:g}})},1700:function(C,_,n){var i=n(5906);const r=["additionalAnnotation","annotation","arrows","color","comment","commentBefore","fen","flags","from","ids","lines","moveNumber","piece","previous","promotion","san","time","to"],o=()=>{let c;const d={lines:[]};return{state:d,updateLines:m=>{d.lines=[...m],(m||[]).forEach((g,k)=>{c=i.x.isContinuation(m,g.id),d.lines[k]=g.map(b=>{const l={};return r.forEach(y=>{typeof b[y]<"u"&&(l[y]=b[y])}),c&&b.ids.move===0&&(l.commentBefore=g.initComment),l}),d.lines[k].atMoveNode=g.atMoveNode,d.lines[k].id=g.id,d.lines[k].parentId=g.parentId})}}};_.Z=o()},9007:function(C,_,n){n.d(_,{MD:function(){return c},bt:function(){return d},_O:function(){return p},fs:function(){return m}});var i=n(7861);const r={top:"top",right:"right",bottom:"bottom",left:"left",bottomLeft:"bottom-left"},o=(g,k,b,l)=>{function y($,G){return $.currentStyle?$.currentStyle[G]:window.getComputedStyle?window.getComputedStyle($)[G]:$.style[G]}function w($){return(y($,"position")||"static")==="static"}function E($){const G=document;let q=$.offsetParent||G;for(;q&&q!==G&&w(q);)q=q.offsetParent;return q||G}function M($){const G=$.getBoundingClientRect();return{width:G.width||$.offsetWidth,height:G.height||$.offsetHeight,top:G.top+(window.pageYOffset||document.documentElement.scrollTop),left:G.left+(window.pageXOffset||document.documentElement.scrollLeft)}}function N($){const G=M($);let q={top:0,left:0};const pe=E($);pe!==document&&(q=M(pe),q.top+=pe.clientTop-pe.scrollTop,q.left+=pe.clientLeft-pe.scrollLeft);const le=$.getBoundingClientRect();return{width:le.width||$.offsetWidth,height:le.height||$.offsetHeight,top:G.top-q.top,left:G.left-q.left}}const O=b.split("-"),x=O[0],A=O[1]||"center";let U;const T=l?M(g):N(g),D=k.offsetWidth,Z=k.offsetHeight,ne={center:()=>T.left+T.width/2-D/2,left:()=>T.left,right:()=>T.left+T.width},J={center:()=>T.top+T.height/2-Z/2,top:()=>T.top,bottom:()=>T.top+T.height};switch(x){case r.right:U={top:J[A](),left:ne[x]()};break;case r.left:U={top:J[A](),left:T.left-D};break;case r.bottom:U={top:J[x](),left:ne[A]()};break;case r.bottomLeft:U={top:J[x](),left:T.left-D};break;default:U={top:T.top-Z,left:ne[A]()};break}return U},c=(g,k=220,b=320)=>{const l={top:null,left:null,right:null,x:null,y:null},y=182,w=310,E=24,M=28,N=E/2,O=g.width/2,x=window;let A=x.innerHeight-w;g.bottom+k>x.innerHeight&&k>w&&(A=x.innerHeight-k);const U=k>y?k:y,T=g.bottom+U<x.innerHeight,D=b-M-N,Z=b-D,ne=g.left+O+D<x.innerWidth;return T?(l.top=g.bottom,l.y=r.bottom):(l.top=A,l.y=r.top),ne?(l.left=g.left+O-Z,l.right=window.innerWidth-g.right,l.x=r.right):(l.left=g.left+O-D,l.right=window.innerWidth-g.right,l.x=r.left),l.top=Math.round(l.top),l.left=Math.round(l.left),l.right=Math.round(l.right),l},d=(g,k,b,l=0)=>{if(!g||!k)return null;const y=g.getBoundingClientRect(),w={},E=window.innerWidth-y.x,M=()=>y.top-(k.clientHeight+l)>0,N=()=>y.bottom+k.clientHeight+l<window.innerHeight,O=()=>y.left-(k.clientWidth+l)>0,x=()=>y.right+k.clientWidth+l<window.innerWidth;return b===r.top&&M()||b===r.bottom&&!N()?(w.left=y.left-(k.clientWidth-y.width)/2,w.rtlLeft=E-k.clientWidth/2-y.width/2,w.top=y.top-k.clientHeight-l,w.placement=r.top):b===r.bottom||b===r.top&&!M()?(w.left=y.left-(k.clientWidth-y.width)/2,w.rtlLeft=E-k.clientWidth/2-y.width/2,w.top=y.bottom+l,w.placement=r.bottom):b===r.left&&O()||b===r.right&&!x()?(w.left=y.left-k.clientWidth-l,w.rtlLeft=y.rtlLeft-k.clientWidth-l,w.top=y.top-(k.clientHeight-y.height)/2,w.placement=r.left):b===r.right||b===r.left&&!O()?(w.left=y.right+l,w.rtlLeft=y.rtlLeft+l,w.top=y.top-(k.clientHeight-y.height)/2,w.placement=r.right):b===r.bottomLeft&&(w.left=y.right-y.width/2-k.clientWidth-l,w.rtlLeft=y.rtlLeft-k.clientWidth-l,w.top=y.bottom+l,w.placement=r.bottomLeft),{left:Math.round(w.left),placement:w.placement,rtlLeft:Math.round(w.rtlLeft),top:Math.round(w.top)}},p=(g,k,b,l=0)=>{if(!g||!k)return null;const y=d(g,k,b,l);return(0,i.t)()?k.style.transform=`translate(-${y.rtlLeft}px, ${y.top}px)`:k.style.transform=`translate(${y.left}px, ${y.top}px)`,k.classList.add(y.placement),k},m=g=>g?(g.style.transform="translate(-100%, -100%)",g.classList.remove(r.left,r.right,r.bottom,r.top),g):null},5906:function(C,_,n){n.d(_,{x:function(){return i}});const i={getLine:(r,o)=>r[o]||null,getNode:(r,o,c)=>{if(typeof o=="number"){if(typeof c<"u"){const p=i.getLine(r,Math.max(0,o));return p?p[c]:null}return null}else if(!o)return null;const d=i.getLine(r,Math.max(0,o.line));return d?d[o.move]:null},getSelectedLine:r=>i.getLine(r.jce._lines(),r.tree.selected.line),getSelectedNode:r=>i.getNode(r.jce._lines(),r.tree.selected),nodeIsSelected:(r,o)=>!o&&!o.line&&!o.move?!1:r.selected.line===o.line&&r.selected.move===o.move,getLinesFromJce:r=>i.formatLinesFromJce(r.jce._lines()),getJceSelectedLine:r=>r._lines()[r._history().id],formatLinesFromJce:r=>i.consolidateComments(r),consolidateComments:r=>r.map(o=>{const c=i.isContinuation(r,o.id)?i.getNode(r,o.id,1):i.getNode(r,o.id,0);return c&&o.initComment&&(c.commentBefore=o.initComment),o}),isContinuation:(r,o)=>{const c=i.getLine(r,o);if(!c)return!1;if(typeof c.parentId<"u"&&typeof c[0]<"u"){const d=i.getNode(r,c.parentId,c.atMoveNode);return!d||!d.move?!1:d.move===c[0].move}return!1},isMainLine:r=>r===0,getNextNodeIds:(r,o)=>!r||r.move+o<0?null:{line:r.line,move:r.move+o},getNextContinuationLineId:(r,o)=>{const c=i.getNode(r,o);if(!c||!c.lines)return null;const d=c.lines.find(p=>i.isContinuation(r,p));return d!==-1?d:null},getParentNode:(r,o)=>{const c={line:r[o.line].parentId,move:r[o.line].atMoveNode};return i.findNode(r,c)},getParentNodeIds:(r,o)=>{const c=i.getLine(r,o.line);return!c||typeof c.parentId>"u"?null:{line:c.parentId,move:c.atMoveNode}},deleteRemainingNodes:(r,o)=>r?(r.length=o+1,r):null,deleteNode:(r,o)=>i.prune(r,{line:o.line,move:o.move-1}),deleteLine:(r,o)=>{const c=i.getLine(r,o);if(typeof c.parentId<"u"){const p=i.getNode(r,{line:c.parentId,move:c.atMoveNode});p.lines=p.lines.filter(m=>m!==o),p.lines.length===0&&delete p.lines}const d=r.filter(p=>i.isMainLine(p.id)||p.id!==o);return i.rebuildIds(d)},rebuildIds:r=>{const o=[];return r.forEach((c,d)=>{c.id!==d&&(o[c.id]=d)}),r.map(c=>(c.id=typeof o[c.id]<"u"?o[c.id]:c.id,typeof o[c.parentId]<"u"&&(c.parentId=o[c.parentId]),c.forEach(d=>{d.ids.line=typeof o[d.ids.line]<"u"?o[d.ids.line]:d.ids.line,d.lines&&d.lines.length>0&&(d.lines=d.lines.map(p=>typeof o[p]<"u"?o[p]:p).filter(p=>typeof r[p]<"u"),d.lines.length===0&&delete d.lines)}),c))},prune:(r,o)=>i.getNode(r,{line:o.line,move:o.move+1})?(r[o.line]=i.deleteRemainingNodes(r[o.line],o.move),!i.isMainLine(o.line)&&i.isFirstVisibleNode(r,o)&&r.splice(r.findIndex(c=>c.id===o.line),1),r.sort((c,d)=>c.id-d.id).reduce((c,d)=>{const p=i.getNode(c,{line:d.parentId,move:d.atMoveNode});return(i.isMainLine(d.id)||p)&&c.push(d),c},[])):r,isFirstNodeInTree:r=>r.line===0&&r.move===-1,isFirstVisibleNode:(r,o)=>i.isContinuation(r,o.line)?o.move===1:o.move===0,isFirstNodeInLine:(r,o)=>o&&r&&r[o.line]&&r[o.line][0]&&r[o.line][0].ids&&r[o.line][0].ids.line===o.line&&r[o.line][0].ids.move===o.move,isHead:(r,o)=>o&&r[o.line].length-1===o.move||!1,getHeadIds:(r,o)=>({line:o,move:r[o].length-1}),nodeMatchesMove:(r,o,c)=>{const d=i.getNode(r,o);return d?d.from===c.from&&d.to===c.to&&(d.promotion||null)===(c.promotion||null):!1},shouldMatchMove:(r,o,c)=>r&&o===1&&c===0,getNextMatchingNode:(r,o={},c)=>{const d=i.getNode(r,o),p=i.getNode(r,o.line,o.move+1);return r.reduce((g,k)=>g.concat(k),[]).filter(g=>d&&g.moveNumber===d.moveNumber+1||p&&g.moveNumber===p.moveNumber).filter(g=>!!(d&&g.ids.line===d.ids.line||p&&g.ids.line===p.ids.line||d&&d.lines&&d.lines.indexOf(g.ids.line)!==-1&&i.isContinuation(r,g.ids.line)||p&&p.lines&&p.lines.indexOf(g.ids.line)!==-1&&!i.isContinuation(r,g.ids.line))).filter(g=>i.nodeMatchesMove(r,g.ids,c)).sort((g,k)=>g.ids.line-k.ids.line)[0]||null},clearNode:(r,o)=>{const c=i.getNode(r,o);return c?(delete c.comment,delete c.annotation,c):null},findNode:(r,o={},c=void 0,d=!0)=>{if(!r||typeof o.line>"u")return null;if(typeof c=="string")switch(o.move){case"begin":o.move=0;break;case"end":o.move=r[0].length-1;break;default:break}else if(typeof o.move>"u")return r[o.line];let p;return c&&Math.abs(c)!==0&&(o=new Array(Math.abs(c)).fill(c/Math.abs(c)).reduce((m,g)=>{if(m===null)return null;const k=i.isContinuation(r,m.line);let b=i.getNextNodeIds(m,g);if(i.getNode(r,b)&&!(g===-1&&k&&b.move===0))return b;switch(g){case 1:return d?m:(p=i.getNextContinuationLineId(r,m),p!==null?{line:p,move:1}:null);case-1:return b=k?i.getParentNodeIds(r,m):i.getNextNodeIds(i.getParentNodeIds(r,m),-1),i.getNode(r,b)?b:m;default:return null}},o)),i.getNode(r,o)||null},clearNodeMarkings:(r,o)=>{const c=i.getNode(r,o);return c?(delete c.squares,delete c.arrows,delete c.effects,c):null},clearNodeAnalysis:(r,o)=>{const c=i.getNode(r,o);return c?(delete c.comment,delete c.annotation,delete c.additionalAnnotation,c):null},clearAllMarkings:r=>r?(r.forEach(o=>{o.length>0&&o.forEach(c=>i.clearNodeMarkings(r,{line:c.ids.line,move:c.ids.move}))}),r):null,clearAnalysis:r=>r?(r.forEach(o=>{o.length>0&&o.forEach(c=>i.clearNodeAnalysis(r,{line:c.ids.line,move:c.ids.move}))}),r):null}},6003:function(C,_,n){n.d(_,{nn:function(){return r}});const i="8/8/8/8/8/8/8/8 w KQkq - 0 1",r="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",o="rnbqkbnr/ppp1pppp/8/3p4/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 1",c="rnbqkbnr/ppp1pppp/8/3p4/4P3/8/PPPP1PPP/RNBQKBNR b KQkq - 0 1",d="r3k2r/pppqbppp/2npbn2/4p3/4P3/2NPBN2/PPPQBPPP/R3K2R w KQkq - 0 1",p="r3k2r/pppqbppp/2npbn2/4p3/4P3/2NPBN2/PPPQBPPP/R3K2R b KQkq - 0 1",m="rnbqkbnr/pppp1ppp/4p3/8/6P1/5P2/PPPPP2P/RNBQKBNR b KQkq g3 0 2",g="7k/4Q3/6K1/8/8/8/8/8 w - - 0 1",k="4k3/8/8/3Pp3/8/8/8/4K3 w - e6 0 1",b="rnb1k2r/1pp2pp1/1Q3n2/2bpp3/3PPB2/5Nq1/1PP2PP1/RN2KB1R w KQkq - 0 1",l="rnbqkb1r/ppppppPp/8/8/8/8/PPPPPP1P/RNBQKBNR w KQkq - 0 1",y="rnbqkbnr/pppppp1p/8/8/8/8/PPPPPPpP/RNBQKBNR b KQkq - 0 1",w="rnbqkbnr/ppppp1pp/5p2/8/8/4P3/PPPP1PPP/RNBQKBNR w KQkq - 0 2",E="rnbqkbnr/ppppp1pp/5p2/7Q/8/4P3/PPPP1PPP/RNB1KBNR b KQkq - 1 2",M="rn1qkbnr/ppp3pp/4b3/8/8/8/PPPP1PPP/RNB1KBNR w KQkq - 0 6",N="rnbqkbnr/pppppppp/8/8/8/4P3/PPPP1PPP/RNBQKBNR b KQkq - 0 1",O="7k/5K2/6Q1/8/8/8/8/8 b - - 0 1",x="7k/4N3/5K2/5BN1/8/8/8/r7 b - - 100 113",A="7k/8/8/8/2N5/8/1K6/8 w - - 0 1",U="rnb2bnr/pppp2pp/7k/6Q1/2BPP3/8/PPP2PPP/RNB1K2R b K -",T="rnbqkbnr/ppp1p1pp/8/3pPp2/8/8/PPPP1PPP/RNBQKBNR w KQkq f6 0 3"},1105:function(C,_,n){n.d(_,{e:function(){return i}});var i;(r=>{r.Name="bots";let o;(p=>{let m;(g=>{g.FetchBots="FetchBots",g.RemoveChat="RemoveChat",g.SaveCrowns="SaveCrowns",g.SetSelectedBot="SetSelectedBot",g.UpdateChat="UpdateChat"})(m=p.Events||(p.Events={}))})(o=r.Service||(r.Service={}));let c;(p=>{p.Adaptive="adaptive",p.Advanced="advanced",p.Beginner="beginner",p.Celebrity="celebrity",p.Coach="coach",p.Engine="engine",p.Intermediate="intermediate",p.Master="master"})(c=r.Classifications||(r.Classifications={}));let d;(p=>{let m;(g=>{g.ComputerCapturesQueen="computer_captures_queen",g.ComputerDraws="computer_draws",g.ComputerGivesCheck="computer_gives_check",g.ComputerHasMateInX="computer_has_mate_in_x",g.ComputerIsLosing="computer_is_losing",g.ComputerIsWinning="computer_is_winning",g.ComputerLoses="computer_loses",g.ComputerPromotes="computer_promotes",g.ComputerWins="computer_wins",g.FirstCapture="first_capture",g.GameReachedMove100="game_reached_move_100",g.GameReachedMove40="game_reached_move_40",g.Greeting="greeting",g.MajorPieceEndgame="major_piece_endgame",g.MinorPieceEndgame="minor_piece_endgame",g.OpeningC4="opening_c4",g.OpeningD4="opening_d4",g.OpeningD4D5="opening_d4_d5",g.OpeningD4NF6="opening_d4_nf6",g.OpeningE4="opening_e4",g.OpeningE4C5="opening_e4_c5",g.OpeningE4C6="opening_e4_c6",g.OpeningE4E5="opening_e4_e5",g.OpeningE4E6="opening_e4_e6",g.OpeningNF3="opening_nf3",g.OpeningOther="opening_other",g.PawnEndgame="pawn_endgame",g.PlayerCapturesQueen="player_captures_queen",g.PlayerGivesCheck="player_gives_check",g.PlayerHasMateInX="player_has_mate_in_x",g.PlayerPromotes="player_promotes",g.RPEndgameReached="r_p_endgame_reached",g.Random="random",g.RematchIfUserHasPlayedBefore="rematch_if_user_has_played_before",g.Threatened="threatened",g.Threatening="threatening",g.UserSpendsMoreTHan15SecondsOnAMove="user_spends_more_than_15_seconds_on_a_move",g.UserSpendsMoreThan1MinuteOnAMove="user_spends_more_than_1_minute_on_a_move",g.UserSpendsMoreThan3MinutesOnMove="user_spends_more_than_3_minutes_on_move"})(m=p.PhraseKeys||(p.PhraseKeys={}))})(d=r.Model||(r.Model={}))})(i||(i={}))},5454:function(C,_,n){n.d(_,{xt:function(){return p},Yv:function(){return m},T4:function(){return k}});var i=n(7104),r=n(8774),o=n(9842),c=n(6912),d=n(5247);const p={[o.x.Classifications.Types.AlmostCorrect]:{className:(0,r.CL)(o.x.Classifications.Types.AlmostCorrect),color:"#8a8886",icon:i.sH[o.x.Classifications.Types.Undo],key:o.x.Classifications.Types.AlmostCorrect},[o.x.Classifications.Types.BestMove]:{className:(0,r.CL)(o.x.Classifications.Types.BestMove),color:"#9eba5a",description:c.Z.trans("is best"),icon:i.sH[o.x.Classifications.Types.BestMove],key:o.x.Classifications.Types.BestMove,label:c.Z.trans("Best Move")},[o.x.Classifications.Types.Blunder]:{className:(0,r.CL)(o.x.Classifications.Types.Blunder),annotation:d.v.$4,color:"#b33430",description:c.Z.trans("is a blunder"),icon:i.sH[o.x.Classifications.Types.Blunder],key:o.x.Classifications.Types.Blunder,label:c.Z.trans("Blunder")},[o.x.Classifications.Types.Book]:{className:(0,r.CL)(o.x.Classifications.Types.Book),color:"#a88865",description:c.Z.trans("is a book move"),icon:i.sH[o.x.Classifications.Types.Book],key:o.x.Classifications.Types.Book,label:c.Z.trans("Book")},[o.x.Classifications.Types.Brilliant]:{className:(0,r.CL)(o.x.Classifications.Types.Brilliant),annotation:d.v.$3,color:"#1baca6",description:c.Z.trans("is brilliant"),icon:i.sH[o.x.Classifications.Types.Brilliant],key:o.x.Classifications.Types.Brilliant,label:c.Z.trans("Brilliant")},[o.x.Classifications.Types.Correct]:{className:(0,r.CL)(o.x.Classifications.Types.Correct),color:"#acce59",icon:i.sH[o.x.Classifications.Types.Correct],key:o.x.Classifications.Types.Correct,label:c.Z.trans("Correct")},[o.x.Classifications.Types.Critical]:{className:(0,r.CL)(o.x.Classifications.Types.Critical),key:o.x.Classifications.Types.Critical,label:c.Z.trans("Critical")},[o.x.Classifications.Types.Excellent]:{className:(0,r.CL)(o.x.Classifications.Types.Excellent),color:"#96bc4b",description:c.Z.trans("is excellent"),icon:i.sH[o.x.Classifications.Types.Excellent],key:o.x.Classifications.Types.Excellent,label:c.Z.trans("Excellent")},[o.x.Classifications.Types.Good]:{className:(0,r.CL)(o.x.Classifications.Types.Good),color:"#96af8b",description:c.Z.trans("is good"),icon:i.sH[o.x.Classifications.Types.Good],key:o.x.Classifications.Types.Good,label:c.Z.trans("Good")},[o.x.Classifications.Types.GreatFind]:{className:(0,r.CL)(o.x.Classifications.Types.GreatFind),annotation:d.v.$1,color:"#5c8bb0",description:c.Z.trans("is a great move"),icon:i.sH[o.x.Classifications.Types.GreatFind],key:o.x.Classifications.Types.GreatFind,label:c.Z.trans("Great Move")},[o.x.Classifications.Types.Forced]:{className:(0,r.CL)(o.x.Classifications.Types.Forced),description:c.Z.trans("is forced"),icon:i.sH[o.x.Classifications.Types.Forced],key:o.x.Classifications.Types.Forced,label:c.Z.trans("Forced")},[o.x.Classifications.Types.Inaccuracy]:{className:(0,r.CL)(o.x.Classifications.Types.Inaccuracy),annotation:d.v.$6,color:"#f0c15c",description:c.Z.trans("is an inaccuracy"),icon:i.sH[o.x.Classifications.Types.Inaccuracy],key:o.x.Classifications.Types.Inaccuracy,label:c.Z.trans("Inaccuracy")},[o.x.Classifications.Types.Incorrect]:{className:(0,r.CL)(o.x.Classifications.Types.Incorrect),color:"#c93430",icon:i.sH[o.x.Classifications.Types.Incorrect],key:o.x.Classifications.Types.Incorrect,label:c.Z.trans("Incorrect")},[o.x.Classifications.Types.MissedWin]:{className:(0,r.CL)(o.x.Classifications.Types.MissedWin),color:"#dbac16",description:c.Z.trans("is a missed win"),icon:i.sH[o.x.Classifications.Types.MissedWin],key:o.x.Classifications.Types.MissedWin,label:c.Z.trans("Missed Win")},[o.x.Classifications.Types.Miss]:{className:(0,r.CL)(o.x.Classifications.Types.Miss),color:"#ee6b55",description:c.Z.trans("is a miss"),annotation:d.v.$9,icon:i.sH[o.x.Classifications.Types.Miss],key:o.x.Classifications.Types.Miss,label:c.Z.trans("Miss")},[o.x.Classifications.Types.Mistake]:{className:(0,r.CL)(o.x.Classifications.Types.Mistake),annotation:d.v.$2,color:"#e6912c",description:c.Z.trans("is a mistake"),icon:i.sH[o.x.Classifications.Types.Mistake],key:o.x.Classifications.Types.Mistake,label:c.Z.trans("Mistake")},[o.x.Classifications.Types.Star]:{className:(0,r.CL)(o.x.Classifications.Types.Star),color:"#e6912c",icon:i.sH[o.x.Classifications.Types.BestMove],key:o.x.Classifications.Types.Star}},m={[-2]:p[o.x.Classifications.Types.GreatFind],[-1]:p[o.x.Classifications.Types.BestMove],0:p[o.x.Classifications.Types.Excellent],1:p[o.x.Classifications.Types.Good],2:p[o.x.Classifications.Types.Inaccuracy],3:p[o.x.Classifications.Types.Mistake],4:p[o.x.Classifications.Types.Blunder],5:p[o.x.Classifications.Types.Forced],6:p[o.x.Classifications.Types.MissedWin]},g={[o.x.Classifications.CeacTypes.Best]:p[o.x.Classifications.Types.BestMove],[o.x.Classifications.CeacTypes.Blunder]:p[o.x.Classifications.Types.Blunder],[o.x.Classifications.CeacTypes.Book]:p[o.x.Classifications.Types.Book],[o.x.Classifications.CeacTypes.Brilliant]:p[o.x.Classifications.Types.Brilliant],[o.x.Classifications.CeacTypes.Excellent]:p[o.x.Classifications.Types.Excellent],[o.x.Classifications.CeacTypes.Forced]:p[o.x.Classifications.Types.Forced],[o.x.Classifications.CeacTypes.Good]:p[o.x.Classifications.Types.Good],[o.x.Classifications.CeacTypes.GreatFind]:p[o.x.Classifications.Types.GreatFind],[o.x.Classifications.CeacTypes.Inaccuracy]:p[o.x.Classifications.Types.Inaccuracy],[o.x.Classifications.CeacTypes.Mistake]:p[o.x.Classifications.Types.Mistake],[o.x.Classifications.CeacTypes.MissedWin]:p[o.x.Classifications.Types.MissedWin],[o.x.Classifications.CeacTypes.Miss]:p[o.x.Classifications.Types.Miss]},k={[o.x.Classifications.DescriptionTypes.Alternative]:c.Z.trans("is an alternative"),[o.x.Classifications.DescriptionTypes.Initial]:c.Z.trans("was played")}},9842:function(C,_,n){n.d(_,{x:function(){return i}});var i;(r=>{r.Name="feedback";let o;(p=>{p.SetAnalysis="SetAnalysis",p.SetThinking="SetThinking"})(o=r.Events||(r.Events={}));let c;(p=>{let m;(g=>{g.Base="feedback-component",g.Content="feedback-content",g.Description="feedback-description",g.Icon="feedback-icon",g.Row="feedback-row",g.San="feedback-san"})(m=p.Classes||(p.Classes={}))})(c=r.Component||(r.Component={}));let d;(p=>{let m;(l=>{l.Alternative="Alternative",l.Initial="Initial"})(m=p.DescriptionTypes||(p.DescriptionTypes={}));let g;(l=>{l.Brilliant="brilliant",l.Best="best",l.Book="book",l.Blunder="blunder",l.Excellent="excellent",l.Good="good",l.GreatFind="greatFind",l.Inaccuracy="inaccuracy",l.Mistake="mistake",l.Miss="miss",l.MissedWin="missedWin",l.Forced="forced"})(g=p.CeacTypes||(p.CeacTypes={}));let k;(l=>{l.Book="book",l.Brilliant="brilliant",l.GreatFind="greatFind",l.MissedMate="missedMate",l.MissedWin="missedWin"})(k=p.Scenarios||(p.Scenarios={}));let b;(l=>{l.AlmostCorrect="AlmostCorrect",l.Critical="Critical",l.Forced="Forced",l.Star="Star"})(b=p.NonEffectTypes||(p.NonEffectTypes={})),p.Types={Alternative:"Alternative",AlmostCorrect:"AlmostCorrect",BestMove:"BestMove",Blunder:"Blunder",Book:"Book",Brilliant:"Brilliant",CheckmateBlack:"CheckmateBlack",CheckmateWhite:"CheckmateWhite",Correct:"Correct",Critical:"Critical",DrawBlack:"DrawBlack",DrawWhite:"DrawWhite",Excellent:"Excellent",FastWin:"FastWin",Forced:"Forced",FreePiece:"FreePiece",Gamechanger:"Gamechanger",Good:"Good",GreatFind:"GreatFind",Inaccuracy:"Inaccuracy",Incorrect:"Incorrect",Mate:"Mate",Miss:"Miss",MissedWin:"MissedWin",Mistake:"Mistake",ResignBlack:"ResignBlack",ResignWhite:"ResignWhite",Sharp:"Sharp",Star:"Star",Takeback:"Takeback",Threat:"Threat",TimeoutBlack:"TimeoutBlack",TimeoutWhite:"TimeoutWhite",Undo:"Undo",Winner:"Winner",WinnerWhite:"WinnerWhite",Interesting:"Interesting",Warning:"Warning"}})(d=r.Classifications||(r.Classifications={}))})(i||(i={}))},149:function(C,_,n){n.d(_,{z:function(){return r}});var i=n(7104);function r({color:o,result:c}){return c===i.lA.Results.White&&o===i.lA.ColorsAsNumbers.White||c===i.lA.Results.Black&&o===i.lA.ColorsAsNumbers.Black}},6014:function(C,_,n){n.d(_,{F:function(){return i},s:function(){return r}});var i=(o=>(o.CHESSCOM="chesscom",o.CONFIG="Config",o))(i||{});function r(o,c="chesscom"){return window[c][o]}},3714:function(C,_,n){n.d(_,{y:function(){return r}});var i=n(6663);function r(o,c){(0,i.o)(document.body,o,c)}},6663:function(C,_,n){n.d(_,{o:function(){return r}});var i=n(7652);function r(o,c,d){const p=o.classList,m=p.contains(c),g=(0,i.jn)(d)?d:!m;g!==m&&(g?p.add(c):p.remove(c))}},1354:function(C,_,n){n.d(_,{a:function(){return o}});var i=n(3714),r=n(8717);function o(c){(0,i.y)(r.I.BodyClass.OutsideCoords,c)}},8791:function(C,_,n){n.d(_,{W:function(){return o}});var i=n(3714),r=n(8717);function o(c){(0,i.y)(r.I.BodyClass.Real3d,c)}},8717:function(C,_,n){n.d(_,{I:function(){return i}});var i;(r=>{let o;(c=>{c.Ad="with-und",c.Analysis="with-analysis",c.AnalysisCollapsed="with-analysis-collapsed",c.Comments="with-comments",c.DoubleBoard="double-board",c.Evaluation="with-evaluation",c.Pseudo3d="pseudo-3d",c.FocusMode="focus-mode",c.HandPieces="with-pieces",c.HideBoardIcons="hide-board-icons",c.MobileBoardHidden="mobile-board-hidden",c.OutsideCoords="outside-coords",c.Players="with-players",c.Real3d="real-3d",c.Tabs="with-tabs",c.TheatreMode="theatre-mode",c.Videos="with-videos"})(o=r.BodyClass||(r.BodyClass={}))})(i||(i={}))},2937:function(C,_,n){n.d(_,{U3:function(){return g}});var i=n(2239);const r={amplitudeProps:"data-amplitude-props",speedChessChampionshipUrl:"data-speed-chess-championship-url",challengeUser:"data-challenge-user",loginAndGoRoute:"data-route-login-and-go",registerRoute:"data-route-register",routes:"data-routes"},o={ONBOARD:"Onboard - StartReg",SEARCH:"Search"},c=100,d=100,p={ALERTS:"alerts",CHALLENGES:"challenges",CHAT_MESSAGES:"chatMessages",GAMES:"games",MESSAGES:"messages"},m={CLOSE:"close",COLLAPSED:"collapsed",HOVER:"hover",NO_REDIRECT:"noredirect",OPEN:"open",WIDE:"wide"},g={CLUB_CHAT_MODERATOR_ACTION:"club-chat-moderator-action",HIDE_FRIEND_REQUEST:"hide-friend-request",MODAL_DID_HIDE:"MODAL_DID_HIDE",SEND_NEW_GAME_SEEK:"SEND_NEW_GAME_SEEK",SEND_NEW_GAME_SEEK_SUCCESS:"SEND_NEW_GAME_SEEK_SUCCESS",SHOW_ONBOARD_MODAL:"SHOW_ONBOARD_MODAL",SHOW_UPGRADE_MODAL:"SHOW_UPGRADE_MODAL",START_DIRECT_CHAT:"START_DIRECT_CHAT"},k={ANY:"any",DEFAULT_AND_USER:"default_and_user"},b={MOBILE_WIDTH:960,TOOLTIP_OFFSET:8},l={COLLAPSED:50,DEFAULT:145,MOBILE:0,WIDE:180},y={registerRoute:U=>i.Z.generate("web_security_register",{redirectUrl:U}),loginAndGoRoute:U=>i.Z.generate("web_security_login_and_go",{redirectUrl:U})},w={AMPLITUDE_NAV_SELECTION:"[data-amplitude-nav-selection]",FRIEND_RESULTS:".svelte-friend-result",LESSONS_CONTAINER:".lessons-container",LOGOUT_FORM:".form.logout",LOGOUT_TRIGGER:"#sb .logout",MAIN_NAV:"#sb",MAIN_NAV_SOCIAL_LINK:"#sb .link.social",MAIN_NAV_HOME_LINK:"#sb .link.home",MAIN_NAV_LINKS:"#sb .menu > .link",MAIN_NAV_LOGIN_LINK:"#sb .login",MAIN_NAV_PLAY_LINK:"#sb .link.play",MAIN_NAV_REGISTER_LINK:".signup.register",MAIN_TOP_NAV:"#sb .menu.top",MAIN_TOP_NAV_LINKS:"#sb .menu.top > .link",SEARCH_INPUT:'input[name="q"]',SIGN_UP:".signup",TOOLTIP:".svelte-tooltip",TOOLTIP_TRIGGER:"[data-tooltip-content]"},E={FACEBOOK:"facebook",TWITTER:"twitter"},M={TOOLTIP_SHOW_DELAY:400},N={COLLAPSED_NAV:"collapsed-nav"},O=2,x=5,A=3},2946:function(C,_,n){n.d(_,{GO:function(){return r}});const i={BADGE_COUNT:"data-badge-count",BADGE_TEXT:"data-badge-text",BADGE_TYPE:"data-badge",SEEK_IS_SEEKER:"data-seek-is-seeker",SHAREABLE_GAME_UUID:"data-seek-short-uuid",SHAREABLE_SHARE_LINK:"data-seek-share-link"},r={PUZZLE_BATTLE_CHALLENGE_TOASTER:"puzzle-battle-challenge-toaster",PUZZLE_BATTLE_CHALLENGE_USER:"puzzle-battle-challenge-user",HOME_NOTIFICATIONS:"home-sb-notifications",LOGIN_REGISTER_MODAL:"login-register-modal",OFFLINE_CHALLENGE_TOASTER:"offline-challenge-toaster",NAV_ROOT:"sb",SHAREABLE_GAME_URL_MODAL:"shareable-game-url-modal",SHAREABLE_GAME_SHORT_UUID:"shareable-game-short-uuid"},o={BADGES:".svelte-badge"}},4662:function(C,_,n){n.d(_,{fz:function(){return g},AM:function(){return r},pS:function(){return b}});const i={CONNECT:"connect",DISCONNECT:"disconnect",FAILURE:"failure",MESSAGE:"message",RECONNECT:"reconnect",SUBSCRIBE:"subscribe",SUBSCRIBE_FAIL:"subscribe_fail",UNSUBSCRIBE:"unsubscribe",ERROR:"error"};var r=(l=>(l.Base="base",l.Chat="chat",l.Classroom="classroom",l.Matcher="matcher",l.Play="play",l.Presence="presence",l.Ratings="ratings",l.Insights="insights",l.TopPlayers="topplayers",l.Users="users",l.Invitations="invitations",l.Settings="settings",l))(r||{}),o=(l=>(l.Classroom="classroom",l.Game="game",l.Disable="disable",l.Messages="messages",l.Mute="mute",l.Unmute="unmute",l.User="user",l))(o||{}),c=(l=>(l.Users="users",l))(c||{}),d=(l=>(l.Accept="accept",l.Cancel="cancel",l.Challenges="challenges",l.Decline="reject",l.Games="games",l.Seeks="seeks",l))(d||{}),p=(l=>(l.Actions="actions",l.Games="games",l.Moves="moves",l))(p||{}),m=(l=>(l.Alias="alias",l.Arrows="arrows",l.AudioSettings="audio-settings",l.AutoSave="auto-save",l.Boards="boards",l.ChatSettings="chat-settings",l.Clock="clock",l.CollectionIds="collection-ids",l.Commands="commands",l.Confirmations="confirmations",l.Current="current",l.Enrollment="enrollment",l.EvaluationSettings="evaluation-settings",l.Flipped="flipped",l.GameId="game-id",l.Images="images",l.Invitees="invitees",l.LargeClassroom="large-classroom",l.Moves="moves",l.Notifications="notifications",l.PinnedVideos="pinned-videos",l.Players="players",l.Position="position",l.Publish="publish",l.SelectedCollectionId="selected-collection-id",l.Sequence="sequence",l.Sessions="sessions",l.Squares="squares",l.Stopwatch="stopwatch",l.Timer="timer",l.Title="title",l.Twilio="twilio",l.Users="users",l.Webrtc="webrtc",l))(m||{}),g=(l=>(l.Users="users",l))(g||{}),k=(l=>(l.Users="users",l))(k||{});const b=window.PubSub},198:function(C,_){let n=100;function i(r,o){setTimeout(()=>{r in window.toaster?(n=0,window.toaster[r](o)):(n*=2,i(r,o))},n)}_.Z=window.toaster||{add(r){i("add",r)},remove(r){i("remove",r)}}},7646:function(C,_,n){n.d(_,{F:function(){return c}});var i=n(2946);const r={},o=document.getElementById(i.GO.NAV_ROOT),c=(d,p)=>{var m,g;if((g=(m=window.chesscom)==null?void 0:m.features)==null?void 0:g.includes(d))return!0;const b=p||o;return r[d]||(r[d]=Boolean(b&&b.getAttribute(d))),r[d]}},4071:function(C,_,n){n.d(_,{H:function(){return d}});var i=n(3158),r=Object.defineProperty,o=(p,m,g)=>m in p?r(p,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):p[m]=g,c=(p,m,g)=>(o(p,typeof m!="symbol"?m+"":m,g),g);class d extends HTMLElement{constructor(){super(),c(this,"board"),c(this,"boardId",null),c(this,"boardInitializedHandler"),c(this,"timeout"),this.boardInitializedHandler=this.boardInitialized.bind(this)}static get observedAttributes(){return[i._.ObservedAttributes.BoardId]}attributeChangedCallback(m){this.createOnNextTick()}boardInitialized({detail:m}){const g=`board-${m}`;this.boardId=g,this.setAttribute(i._.ObservedAttributes.BoardId,g),this.boardReady()}connectedCallback(){this.createOnNextTick()}disconnectedCallback(){this.destroy()}getBoard(){const m=this.boardId&&document.getElementById(this.boardId);m&&(this.board=m)}destroy(){var m,g;clearTimeout(this.timeout),this.componentDestroy(),(g=(m=this.board)==null?void 0:m.removeEventListener)==null||g.call(m,i._.Events.BoardInitialized,this.boardInitializedHandler)}createOnNextTick(){clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{this.create(),this.attributesChanged()})}create(){var m,g,k,b,l;const y=this.getAttribute(i._.ObservedAttributes.BoardId);if(!(y&&this.boardId===y)){if(this.boardId=y,this.destroy(),this.componentReady(),this.getBoard(),!((m=this.board)!=null&&m.game)){(k=(g=this.board)==null?void 0:g.addEventListener)==null||k.call(g,i._.Events.BoardInitialized,this.boardInitializedHandler);return}(l=(b=this.board).removeEventListener)==null||l.call(b,i._.Events.BoardInitialized,this.boardInitializedHandler),this.boardReady()}}addBoardEventListener(m,g){var k,b;(b=(k=this.board)==null?void 0:k.game)==null||b.on(m,g)}removeBoardEventListener(m,g){var k,b;try{(b=(k=this.board)==null?void 0:k.game)==null||b.off({type:m,handler:g})}catch{}}boardReady(){}componentReady(){}componentDestroy(){}attributesChanged(){}}},3576:function(C,_,n){n.d(_,{f:function(){return N}});var i=n(7104),r=n(4491),o=n(3500),c=n(2790),d=n(2344),p=n(6059),m=n(7646),g=n(4071),k=n(3158),b={bar:"evaluation-bar-bar",clickable:"evaluation-bar-clickable",flipped:"evaluation-bar-flipped",scoreAbbreviated:"evaluation-bar-scoreAbbreviated",loader:"evaluation-bar-loader",score:"evaluation-bar-score",fill:"evaluation-bar-fill",color:"evaluation-bar-color",white:"evaluation-bar-white",black:"evaluation-bar-black",draw:"evaluation-bar-draw","loading-message":"evaluation-bar-loading-message",dark:"evaluation-bar-dark",light:"evaluation-bar-light","score-long":"evaluation-bar-score-long"},l=n(8148),y=n(6912),w=Object.defineProperty,E=(O,x,A)=>x in O?w(O,x,{enumerable:!0,configurable:!0,writable:!0,value:A}):O[x]=A,M=(O,x,A)=>(E(O,typeof x!="symbol"?x+"":x,A),A);class N extends g.H{constructor(){super(),M(this,"onUpdateOptionsHandler"),M(this,"onEvaluationUpdateHandler"),M(this,"barPercentage"),M(this,"barElement"),M(this,"blackBarElement"),M(this,"isInTablebaseDraw"),M(this,"engineName",""),M(this,"scoreHoverElement"),M(this,"scoreElement"),this.barPercentage=50,this.onEvaluationUpdateHandler=this.onEvaluationUpdate.bind(this),this.onUpdateOptionsHandler=this.onUpdateOptions.bind(this)}static get observedAttributes(){return[k._.ObservedAttributes.BoardId,k._.ObservedAttributes.EngineName,k._.ObservedAttributes.UpdateManually,k._.ObservedAttributes.GameId]}attributeChangedCallback(x){super.attributeChangedCallback(),x===k._.ObservedAttributes.GameId&&this.onGameIdChange()}boardReady(){this.removeListeners(),this.addListeners(),this.onUpdateOptions(),this.hasAttribute(k._.ObservedAttributes.UpdateManually)||this.onEvaluationUpdate()}componentDestroy(){this.removeListeners()}addListeners(){this.hasAttribute(k._.ObservedAttributes.UpdateManually)?c.H.on("evaluation.override",this.onEvaluationUpdateHandler):c.H.on("evaluation.update",this.onEvaluationUpdateHandler),this.addBoardEventListener(i.QY.OptionsEvents.Update,this.onUpdateOptionsHandler)}removeListeners(){c.H.off({type:"evaluation.update",handler:this.onEvaluationUpdateHandler}),this.removeBoardEventListener(i.QY.OptionsEvents.Update,this.onUpdateOptionsHandler)}componentReady(){this.readEngineName(),this.style.flex="1 1 auto",this.innerHTML=`
      <div class="${b.bar} ${b["thin-bar"]} ${(0,m.F)("wdl_eval_bar_option")?b.clickable:""}">
        <span class="${b.scoreAbbreviated}"></span>
        <span class="${b.score}"></span>
        <div class="${b.fill}">
          <div class="${b.color} ${b.black}"></div>
          <div class="${b.color} ${b.draw}"></div>
          <div class="${b.color} ${b.white}" style="transform: translate3d(0, 50%, 0)"></div>
        </div>
      </div>
    `,this.barElement=this.querySelector(`.${b.color}.${b.white}`),this.blackBarElement=this.querySelector(`.${b.color}.${b.black}`),this.scoreElement=this.querySelector(`.${b.scoreAbbreviated}`),this.scoreHoverElement=this.querySelector(`.${b.score}`),this.updateBar()}attributesChanged(){this.removeListeners(),this.addListeners(),this.readEngineName()}onUpdateOptions(){var x,A;const U=this.querySelector(`.${b.bar}`);(A=(x=this.board)==null?void 0:x.game)!=null&&A.getOptions().flipped?U?.classList.add(b.flipped):U?.classList.remove(b.flipped)}onGameIdChange(){this.updateScore({score:0}),this.barPercentage=0,this.updateBar()}onEvaluationUpdate(x){var A;let U=x??(0,p.y0)().lines[0];if(this.hasAttribute("is-default-fen-automatic")&&(0,l.H)()===((A=this.board)==null?void 0:A.game.getFEN())&&(U={score:0}),!U)return;(0,m.F)("tb_eval_bar_option")?(U.tablebaseOutcome=null,(0,p.y0)().tablebaseOutcome&&(this.blackBarElement&&this.barElement&&(this.blackBarElement.style.transitionDuration="0.5s",this.barElement.style.transitionDuration="0.5s"),U.tablebaseOutcome=(0,p.y0)().tablebaseOutcome)):this.barElement.style.transitionDuration="";const T=(0,r.tu)(U);if((0,m.F)("tb_eval_bar_option")&&U.tablebaseOutcome===i.lA.Results.Draw){this.updateBar(),this.showTablebaseDraw(),this.updateScore(U),this.barPercentage=0;return}T!==this.barPercentage&&(this.barPercentage=T,this.updateBar()),this.isInTablebaseDraw&&this.blackBarElement&&(this.isInTablebaseDraw=!1,this.blackBarElement.style.transform="translate3d(0, 0%, 0)"),this.updateScore(U)}updateBar(){!this.barElement||(this.barElement.style.transform=`translate3d(0, ${100-this.barPercentage}%, 0)`)}showTablebaseDraw(){!this.barElement||!this.blackBarElement||(this.isInTablebaseDraw=!0,this.barElement.style.transform="translate3d(0, 100%, 0)",this.blackBarElement.style.transform="translate3d(0, -100%, 0)")}updateScore(x){if(!this.scoreHoverElement||!x)return;let A=x.stalemate||x.score>=0?b.dark:b.light,U="";(0,m.F)("tb_eval_bar_option")&&x?.tablebaseOutcome==="1/2-1/2"&&(A=b.draw);const T=[(0,r.D4)(x)];this.getAttribute("is-display-engine-details")&&(T.push(this.engineName),x.depth&&T.push(y.Z.trans("Depth=%depth%",{"%depth%":x.depth})),U=b["score-long"]),this.scoreHoverElement.className=`${b.score} ${A} ${U}`,this.scoreHoverElement.innerHTML=T.join("<br>"),this.scoreElement.className=`${b.scoreAbbreviated} ${A}`,this.scoreElement.textContent=(0,r.zl)(x)}readEngineName(){var x;this.engineName=this.getAttribute("engine-name")||((x=(0,o.YE)((0,d.Gw)().engineName))==null?void 0:x.name)||""}}},3158:function(C,_,n){n.d(_,{_:function(){return i}});var i;(r=>{let o;(p=>{p.BoardId="board-id",p.ColorsEnabled="colors-enabled",p.Direction="direction",p.DisableContextMenu="disable-context-menu",p.DisplayType="display-type",p.EngineName="engine-name",p.GameId="game-id",p.IsActive="is-active",p.Lines="lines",p.LinkToExplorer="link-to-explorer",p.MoveListId="move-list-id",p.OpeningIsClickable="opening-is-clickable",p.ExplorerIsClickable="explorer-is-clickable",p.ResultNodeIsSelectable="result-node-is-selectable",p.ScrollContainerId="scroll-container-id",p.TimestampMethod="timestamp-method",p.ToggleTimestamps="toggle-timestamps",p.Color="color",p.UpdateManually="update-manually",p.VerticalLayout="vertical-layout"})(o=r.ObservedAttributes||(r.ObservedAttributes={}));let c;(p=>{p.BoardInitialized="board-initialized",p.BoardAttached="board-attached",p.BoardDetached="board-detached"})(c=r.Events||(r.Events={}));let d;(p=>{p.ChessBoard="chess-board",p.HorizontalMoveList="horizontal-move-list",p.VerticalMoveList="vertical-move-list",p.CapturedPieces="captured-pieces",p.EcoOpening="eco-opening",p.MoveList="move-list"})(d=r.Elements||(r.Elements={}))})(i||(i={}))},9863:function(C,_,n){n.d(_,{Z:function(){return r}});var i=n(2306);const r={cachedGameKey:"vs-personalities-game",getUserCacheKey(o){const c=(0,i.gK)("getUserId");return`${o}-${c}`}}},832:function(C,_,n){n.d(_,{k:function(){return r}});var i=n(8530);const r=(0,i.kr)()},1375:function(C,_,n){n.d(_,{o:function(){return i}});const i={isVisible:!1}},454:function(C,_,n){n.d(_,{$:function(){return c}});var i=n(4474),r=n(8481),o=n(7483);function c(){try{window.chesscom.features.includes("ads_playwire_ramp")?(r.e.destroyUnits("all"),r.e.addUnits(Object.values(i.E)).then(()=>r.e.displayUnits()).catch(()=>r.e.displayUnits())):(o.L.destroyUnits("all"),o.L.addUnits(Object.values(i.E)).then(()=>o.L.displayUnits()).catch(()=>o.L.displayUnits()))}catch{}}},4474:function(C,_,n){n.d(_,{E:function(){return i}});const i={sidebar:{selectorId:"sky-atf",type:"sky_atf"},gameOver:{selectorId:"modal-med-rect",type:"med_rect_atf"}}},6830:function(C,_,n){n.d(_,{Q:function(){return r}});var i=n(8530);const r=(0,i.kr)()},2787:function(C,_,n){n.d(_,{M:function(){return r}});var i=n(6830);function r(){var o,c,d;const p=(d=(c=(o=i.Q).isAdsTemporarilyDisabled)==null?void 0:c.call(o))!=null?d:!1;return Boolean(window.chesscom.showAds&&!window.chesscom.features.includes("hide_ads_in_some_countries")&&!p)}},8481:function(C,_,n){n.d(_,{e:function(){return i}}),window.chesscom.features.includes("ads_playwire_ramp")&&(window.ramp={});const i=window.ramp},7483:function(C,_,n){n.d(_,{L:function(){return i}}),window.tyche={};const i=window.tyche},4346:function(C,_,n){n.d(_,{q:function(){return l}});var i=n(7104),r=n(1354),o=n(3714),c=n(8717);function d(E){(0,o.y)(c.I.BodyClass.Pseudo3d,E)}var p=n(8791);const m=[i.$l.CoordinatesPositions.Off,i.$l.CoordinatesPositions.Inside,i.$l.CoordinatesPositions.Outside];var g=n(5953),k=n(8442);function b(){var E;(E=(0,g.g)())==null||E.game.resize()}function l(){window.removeEventListener("resize",b);const E=(0,g.g)(),M=E?null:document.getElementById("board"),{animationType:N,coordinates:O,pieceStyle:x,boardStyle:A}=w(E,M),U=O==="outside",T=N!=="default"&&N!=="none",D=x==="real3d",Z=x.startsWith("3d");(0,p.W)(D),d(Z),(0,r.a)(U),E?E.game.resize():M&&(y(O,A),M.style.visibility=""),(T||D)&&window.addEventListener("resize",b)}function y(E,M){if(E===i.$l.CoordinatesPositions.Inside){const N=document.getElementById("outside-coords-style");if(N&&i.NE[M]){const[O,x]=i.NE[M];N.innerHTML=`.coordinate-light { fill: ${O}; } .coordinate-dark { fill: ${x}; }`}}}function w(E,M){var N;if(E)return E.game.getOptions();if(M){const O=M.getAttribute("data-board-style"),x=M.getAttribute("data-piece-style"),A=Number((N=M.getAttribute("data-coordinates"))!=null?N:0);return{boardStyle:O,pieceStyle:x,coordinates:m[A],animationType:"default"}}return(0,k.T)()}},9857:function(C,_,n){n.d(_,{f:function(){return i}});const i={animationType:"web_user_game_settings_email_callback_animation_type",boardStyle:"web_user_game_settings_email_callback_board_color",coordinates:"web_user_game_settings_email_callback_coordinates",darkMode:"web_user_game_settings_callback_dark_mode_toggle",highlightLegalMoves:"web_user_game_settings_email_callback_show_legal_moves_toggle",highlightMoves:"web_user_game_settings_email_callback_highlight_last_move_toggle",isWhiteOnBottom:"web_user_game_settings_email_callback_is_white_on_bottom_toggle",moveListDisplayType:"web_user_game_settings_email_callback_move_list_display_type",moveMethod:"web_user_game_settings_email_callback_move_method",pieceStyle:"web_user_game_settings_email_callback_piece",playSounds:"web_user_game_settings_email_callback_sound_toggle",showTimestamps:"web_user_game_settings_email_callback_show_timestamps",soundTheme:"web_user_game_settings_email_callback_sound_theme"}},4700:function(C,_,n){n.d(_,{C:function(){return r}});var i=n(7104);const r=i.C8.create()},5518:function(C,_,n){n.d(_,{X:function(){return r}});var i=n(7104);const r=i.o9.create()},5316:function(C,_,n){n.d(_,{f:function(){return r}});var i=n(8530);const r=(0,i.kr)()},5953:function(C,_,n){n.d(_,{g:function(){return c}});var i=n(5316),r=n(5917);function o(d){return r.q.chessboards[`${d}`]}function c(){const d=i.f.getActiveChessboardId();if(!d)throw new Error("No active chessboard");return o(d)}},8442:function(C,_,n){n.d(_,{T:function(){return r}});var i=n(5917);function r(){return i.q.boardOptions}},5406:function(C,_,n){n.d(_,{X:function(){return r}});var i=n(5917);function r(){return i.q.boardStyles}},1656:function(C,_,n){n.d(_,{x:function(){return r}});var i=n(5917);function r(){return Object.values(i.q.chessboards)}},4657:function(C,_,n){n.d(_,{R:function(){return E}});var i=n(4662);async function r(M){const{data:N}=await i.pS.fetch({method:"get",path:"users/me",service:i.AM.Settings,params:{include:M.join(",")}});return N}var o=n(1345),c=n(2343);const d=["off","inside","outside"];function p(M){const N=Number.parseInt(M,10);return Number.isInteger(N)?d[N]:M}var m=n(2460),g=n(5781),k=n(2239);const b={},l={};async function y(M){var N;const x=await g.Z.get(k.Z.generate(M));return b[M]=x,(N=l[M])==null||N.forEach(A=>A(b[M])),x}function w(M,N){l[M]=l[M]||[],l[M].push(N),b[M]&&N(b[M])}async function E(){const M=(0,m.KZ)();if(window.chesscom.features.includes("settings_service_read")){const le=await r(["board.animation_type","board.board_style","board.coordinates","board.show_legal_moves","board.highlight_moves","board.white_always_on_bottom","board.move_list_style","board.move_method","board.pieces_style","board.play_sounds","board.sound_theme","gameplay.show_timestamps"]);return{animationType:(0,o.E)(le["board.animation_type"]),boardSize:"auto",boardStyle:le["board.board_style"],coordinates:le["board.coordinates"],darkMode:M,highlightLegalMoves:le["board.show_legal_moves"],highlightMoves:le["board.highlight_moves"],isWhiteOnBottom:le["board.white_always_on_bottom"],moveListDisplayType:le["board.move_list_style"],moveMethod:(0,c.z)(le["board.move_method"]),pieceStyle:le["board.pieces_style"]==="modern"?"modern2":le["board.pieces_style"],playSounds:le["board.play_sounds"],soundTheme:le["board.sound_theme"],showTimestamps:le["gameplay.show_timestamps"]}}const{data:N}=await y("web_user_callback_get_board_settings"),{animationType:O,boardCoords:x,boardSize:A,colorScheme:U,highlightLegalMoves:T,highlightMoves:D,isWhiteOnBottom:Z,moveListDisplayType:ne,moveMethod:J,pieceStyle:$,playSounds:G,soundTheme:q,showTimestamps:pe}=N;return{animationType:(0,o.E)(O),boardSize:A,boardStyle:U,coordinates:p(x),darkMode:M,highlightLegalMoves:T==="1",highlightMoves:D==="1",isWhiteOnBottom:Z,moveListDisplayType:ne,moveMethod:J,pieceStyle:$,playSounds:G==="1",soundTheme:q,showTimestamps:Boolean(pe)}}},5917:function(C,_,n){n.d(_,{q:function(){return b}});var i=n(7104);function r(){const{animationType:l,boardStyle:y,coordinates:w,darkMode:E,highlightLegalMoves:M,highlightMoves:N,moveListDisplayType:O,moveMethod:x,pieceStyle:A,playSounds:U,soundTheme:T}=(0,i.jw)();return{animationType:l,boardSize:0,boardStyle:y,coordinates:w,darkMode:E,highlightLegalMoves:M,highlightMoves:N,isWhiteOnBottom:!1,moveListDisplayType:O,moveMethod:x,pieceStyle:A,playSounds:U,showTimestamps:!0,soundTheme:T}}var o=n(5705),c=Object.defineProperty,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,g=(l,y,w)=>y in l?c(l,y,{enumerable:!0,configurable:!0,writable:!0,value:w}):l[y]=w,k=(l,y)=>{for(var w in y||(y={}))p.call(y,w)&&g(l,w,y[w]);if(d)for(var w of d(y))m.call(y,w)&&g(l,w,y[w]);return l};const b={soundPlugin:null,arrowKeysPlugin:null,chessboards:{},boardOptions:k(k({},r()),o.n.getBoardOptions()),boardStyles:null}},5705:function(C,_,n){n.d(_,{n:function(){return l}});var i=n(4759),r=n(5545),o=Object.defineProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(y,w,E)=>w in y?o(y,w,{enumerable:!0,configurable:!0,writable:!0,value:E}):y[w]=E,g=(y,w)=>{for(var E in w||(w={}))d.call(w,E)&&m(y,E,w[E]);if(c)for(var E of c(w))p.call(w,E)&&m(y,E,w[E]);return y};const k="chessComAppState",b=["id","enabled","allowMarkings","captureKeyStrokes","fadeSetup","fetched","flipBoard","flipped","highlightColor","highlightOpacity","moveListContextMenuEnabled","overlayInAnalysisMode"],l={getBoardOptions(){var y;const w=(0,i.Q)(r.Z.get(k)),E=Object.assign({},(y=w?.board)==null?void 0:y.boardOptions);return b.forEach(M=>{delete E[M]}),E.highlightColor=void 0,E},setBoardOptions(y){var w;let E=(0,i.Q)(r.Z.get(k));(w=E?.board)!=null&&w.boardOptions?Object.assign(E.board.boardOptions,g({},y)):E={board:{boardOptions:g({},y)}},b.forEach(M=>{delete E.board.boardOptions[M]}),r.Z.set(k,(0,i.P)(E))}}},1516:function(C,_,n){n.d(_,{a:function(){return r}});var i=n(8530);const r=(0,i.kr)()},6066:function(C,_,n){n.d(_,{q:function(){return He}});var i=n(7104),r=n(5174);function o({from:L,promotion:P,to:z}){return L?`${L}${z}${P||""}`:""}function c(L){const P=["+","#"].includes(L.slice(-1)),z=P?L.slice(0,-1):L;return{isCheck:P,isCheckmate:L.slice(-1)==="#",promotion:z.slice(-2,-1)==="="?z.slice(-1).toLowerCase():void 0}}var d=n(9842),p=n(3527),m=n.n(p),g=n(6003);function k(L){return{from:L.slice(0,2),to:L.length===5?L.slice(-3,-1):L.slice(-2)}}function b(L){const{baseTurn:P,mateIn:z,multipv:se,pv:V,pvSan:ge,score:ue}=L;if(!V||!se||!ge)return null;const Ae=V.map((Ke,ve)=>{const{from:st,to:he}=k(Ke),{isCheck:qe,isCheckmate:me,promotion:j}=c(ge[ve]);return{color:Ne(ve),from:st,isCheck:qe,isCheckmate:me,lan:Ke,promotion:j,san:ge[ve],to:he}});return{mateIn:z,moves:Ae,order:se,score:ue};function Ne(Ke){return Ke%2===0&&P===i.lA.ColorsAsLetters.White||Ke%2!==0&&P===i.lA.ColorsAsLetters.Black?i.lA.ColorsAsNumbers.White:i.lA.ColorsAsNumbers.Black}}var l=n(5454);function y({classification:L,difference:P,scenarios:z={}}){return z[d.x.Classifications.Scenarios.Book]&&l.Yv[L].key!==d.x.Classifications.Types.Blunder?l.xt[d.x.Classifications.Types.Book]:z[d.x.Classifications.Scenarios.Brilliant]?l.xt[d.x.Classifications.Types.Brilliant]:z[d.x.Classifications.Scenarios.GreatFind]?l.xt[d.x.Classifications.Types.GreatFind]:L===0&&P===0?l.xt[d.x.Classifications.Types.BestMove]:z[d.x.Classifications.Scenarios.MissedMate]||z[d.x.Classifications.Scenarios.MissedWin]?l.xt[d.x.Classifications.Types.MissedWin]:l.Yv[L]}var w=Object.defineProperty,E=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,O=(L,P,z)=>P in L?w(L,P,{enumerable:!0,configurable:!0,writable:!0,value:z}):L[P]=z,x=(L,P)=>{for(var z in P||(P={}))M.call(P,z)&&O(L,z,P[z]);if(E)for(var z of E(P))N.call(P,z)&&O(L,z,P[z]);return L};function A({existingAnalysis:L,node:P,position:z}){if(!L)return;const{playedMove:se,suggestedMove:V}=z,ge=y(z),ue=U({moveClassificationKey:ge&&ge.key,playedMoveSan:P.san,suggestedMove:V}),Ae=V.eval.pv.slice(1);return{beforeFen:P.beforeFen,color:L.color,depth:se.depth,fen:P.fen,matchesSuggestion:P.san===ue.moveSan,moveNumber:L.moveNumber,playedMove:{classification:ge,fen:P.fen,line:L.playedMove.line,mateIn:se.mateIn,moveSan:P.san,score:se.score},ply:L.ply,suggestedMove:{classification:ue.classification,fen:m().getFenFromMoves(P.beforeFen||g.nn,V.moveLan),line:b({mateIn:V.mateIn,multipv:1,pv:Ae.map(Ne=>Ne.moveLan),pvSan:Ae.map(Ne=>Ne.moveSan),score:V.score}),mateIn:V.mateIn,moveSan:ue.moveSan,score:V.score}}}function U({moveClassificationKey:L,playedMoveSan:P,suggestedMove:z}){const se=z.eval.pv[0]||{},V=x({},l.xt[d.x.Classifications.Types.BestMove]);return P!==se.moveSan&&L===d.x.Classifications.Types.BestMove&&(V.description=l.T4[d.x.Classifications.DescriptionTypes.Alternative]),{classification:V,moveSan:se.moveSan}}function T(L){return{beforeFen:L.beforeFen,color:(0,i.RS)(L.color),fen:L.fen,moveNumber:L.moveNumber,playedMove:{moveSan:L.san},ply:L.ply,suggestedMove:{}}}function D(L){return`[FEN "${L.beforeFen}"] ${L.moveNumber}${L.color===i.lA.ColorsAsNumbers.White?".":"..."} ${L.san} *`}var Z=Object.defineProperty,ne=Object.defineProperties,J=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,pe=(L,P,z)=>P in L?Z(L,P,{enumerable:!0,configurable:!0,writable:!0,value:z}):L[P]=z,le=(L,P)=>{for(var z in P||(P={}))G.call(P,z)&&pe(L,z,P[z]);if($)for(var z of $(P))q.call(P,z)&&pe(L,z,P[z]);return L},K=(L,P)=>ne(L,J(P));function fe({quickAnalysis:L}){let P={},z,se=!1;const V=(0,r.I)();return K(le({analyze:ge,cancelAnalysis:ue,clearCachedAnalyses:Ne,destroy:Ke,getMoveFeedback:ve},V),{parseEngineLine:he,setThinking:me,stop:j});async function ge(te){qe({analysis:T(te),thinking:!0});const ce=D(te);te.san.endsWith("#")&&await L.runComplete(),L.run({onDone:(R,I)=>{if(R)throw new Error(`${R.message}, with PGN ${ce}`);st(I,te)},onStream:({data:R})=>{st(R,te)},options:{pgn:ce}})}function ue(){L.cancel(),Ae()}function Ae(){qe({analysis:void 0,thinking:se})}function Ne(){P={},Ae()}function Ke(){ue()}function ve(te){if(!te||!(0,i.UG)(te))return;const ce=P[te.fen];if(ce&&ce.playedMove.classification)return qe({analysis:ce,thinking:se});ge(te)}function st(te,ce){!te||!te.positions||!te.positions[0]||qe({analysis:A({existingAnalysis:z,node:ce,position:te.positions[0]}),thinking:!1})}function he(te,ce){if(!z||z.playedMove.line||te.moves.length<8)return;R(),z.playedMove.line=te,qe({analysis:z,thinking:se});function R(){te.moves&&(0,i.UG)(ce)&&te.moves.unshift(Object.assign(ce,c(ce.san),{lan:o({from:ce.from,promotion:ce.promotion,to:ce.to})}))}}function qe({analysis:te,thinking:ce}){z=te,me(ce),te&&te.moveNumber>=0&&(P[te.fen]=te),V.emit(d.x.Events.SetAnalysis,{analysis:z})}function me(te){se=te,V.emit(d.x.Events.SetThinking,{isThinking:se})}function j(){Ae(),L.stop()}}var De=n(6705);const He=fe({quickAnalysis:De.Y})},6705:function(C,_,n){n.d(_,{Y:function(){return k}});var i=n(5619),r=n(3500);const o=15;var c=n(7719),d=function(l){"use strict";var y={};y.createStreamingGameAnalysis=function(){var L={4:"P",8:"N",16:"B",32:"R",64:"Q",128:"K"},P=252,z=48,se=function(){var te=1e3;function ce(I,W){var re=0,oe=100,ze=["blunder","mistake","inaccuracy","good","excellent"],_e={blunder:[0,40],mistake:[40,60],inaccuracy:[60,80],good:[80,95],excellent:[95,100]},Me={numerator:4.9,denominator:.1215},Fe,Ie,ht,pt,gt,ut,at,Et,Tt,mt,lt,et,_t,ft,Ot;if(I<=0)return{letter:ze[4],number:oe,gradeIndex:4};for(I=Math.min(te,I),Fe=R(W),Ie=0;Ie<Fe.length;Ie+=1)if(ht=Fe[Ie],!(I<ht)){pt=Ie;break}return gt=ze[pt],gt===ze[0]?(_t=Fe[pt],et=_e.blunder[1],at=te/(te-_t),mt=at*(I-_t),mt=Math.min(te,mt),ut=et-Me.numerator*mt/(1+Me.denominator*mt)):(ft=_e[gt][0],et=_e[gt][1],Ot=Fe[pt-1],_t=Fe[pt],Tt=_t-Ot,lt=I-Ot,Et=et-ft,ut=ft+lt/Tt*Et),ut=Math.min(oe,ut),ut=Math.max(re,ut),{letter:gt,number:ut,gradeIndex:pt}}function R(I){var W=20,re=[];return I=Math.min(W,Math.abs(I)),re=[.001776052*Math.pow(I,3)+-.018218136*Math.pow(I,2)+.303967449*I+2,.001304692*Math.pow(I,3)+-.011609068*Math.pow(I,2)+.205317058*I+1.1,.0004461266*Math.pow(I,3)+.0041181833*Math.pow(I,2)+.0141864828*I+.5,.0002172109*Math.pow(I,3)+-.0010745878*Math.pow(I,2)+.0295840731*I+.1,0],re}return ce}();function V(j,te,ce){var R=j.color==="black"?-1:1,I=j.suggestedMove.score*R,W=j.playedMove.score*R,re=0,oe,ze,_e=5,Me=0;if(j.playedMove.moveLan===j.suggestedMove.moveLan){j.playedMove.score=j.suggestedMove.score,j.playedMove.mateIn=j.suggestedMove.mateIn,j.difference=0,ce?j.classification=5:j.classification=0;return}typeof j.suggestedMove.mateIn=="number"&&(j.suggestedMove.mateIn===0?I=1e3*(I>0?1:-1):I=(1e3-Math.abs(j.suggestedMove.mateIn)*10)*(j.suggestedMove.mateIn>0?1:-1)*R),typeof j.playedMove.mateIn=="number"&&(j.playedMove.mateIn===0?W=1e3*(W>0?1:-1):W=(1e3-Math.abs(j.playedMove.mateIn)*10)*(j.playedMove.mateIn>0?1:-1)*R),I<W&&(I=W),W>=10?_e=0:W>=7?_e=1:W>=6?_e=2:W>=5?_e=3:W<=-25&&I>=-5?Me=4:W<=-25&&I>=-10?Me=3:W<=-20&&I>=-15&&(Me=2),re=Math.abs(Math.round((I-W)*100)/100),te&&j.suggestedMove.mateIn&&j.playedMove.mateIn&&j.suggestedMove.mateIn!==j.playedMove.mateIn&&(oe=j.suggestedMove.mateIn*R<j.playedMove.mateIn*R),j.difference=re,ze=se(re,W),j.classification=4-ze.gradeIndex,j.classification>_e?j.classification=_e:j.classification<Me&&(j.classification=Me),oe&&(j.classification=1)}function ge(j,te,ce){var R=!1,I=!1;(j.color==="white"&&j.playedMove.score<=-2.5&&j.suggestedMove.score>=2.5||j.color==="black"&&j.playedMove.score>=2.5&&j.suggestedMove.score<=-2.5)&&(j.scenarios.winningToLosing=!0),te&&ce&&((ce.color==="white"&&ce.playedMove.score>1.5||ce.color==="black"&&ce.playedMove.score<-1.5)&&(R=!0),R||((te.color==="white"&&te.playedMove.score<-2.5||te.color==="black"&&te.playedMove.score>2.5)&&(I=!0),I&&(j.color==="white"&&j.suggestedMove.score>2.5&&j.playedMove.score<1||j.color==="black"&&j.suggestedMove.score<-2.5&&j.playedMove.score>-1)&&(j.scenarios.missedWin=!0))),j.suggestedMove.mateIn&&typeof j.playedMove.mateIn!="number"&&(j.scenarios.missedMate=!0),typeof j.suggestedMove.mateIn=="number"&&(j.color==="white"&&j.playedMove.mateIn>0&&j.playedMove.mateIn>j.suggestedMove.mateIn||j.color==="black"&&j.playedMove.mateIn<0&&j.playedMove.mateIn<j.suggestedMove.mateIn)&&(j.scenarios.fasterMate=!0)}function ue(j){var te={white:0,black:0},ce={white:0,black:0},R,I;for(R=j.positions.length-1;R>=0;--R)I=j.positions[R],te[I.color]+=Math.max(I.difference,10),++ce[I.color];ce.white&&(j.avgDifference.white=te.white/ce.white),ce.black&&(j.avgDifference.black=te.black/ce.black)}function Ae(j,te){var ce;return typeof j.mateIn=="number"&&j.mateIn?(ce=te==="white"?1:-1,{cp:j.cp,mateIn:j.mateIn-Math.floor((1+(j.mateIn*ce>0?1:0))/2)*ce,pv:j.pv}):j}function Ne(j,te,ce,R,I,W,re,oe,ze,_e){var Me={color:j,suggestedMove:{score:te.cp/100,mateIn:te.mateIn,moveLan:re,depth:ce},playedMove:{score:R.cp/100,mateIn:R.mateIn,moveLan:W,depth:I},scenarios:{}};return V(Me,!1,_e),ge(Me,oe,ze),Me.classification===0?Me.classificationName="excellent":Me.classification===1?Me.classificationName="good":Me.classification===2?Me.classificationName="inaccuracy":Me.classification===3?Me.classificationName="mistake":Me.classification===4?Me.classificationName="blunder":Me.classificationName="forced",Me}function Ke(j,te){var ce=j._history(),R=ce.length-1;return ce[R].annotation=te,te}function ve(j,te){var ce=j._history(),R=ce.length-1;ce[R].additionalAnnotation?ce[R].additionalAnnotation.push(te):ce[R].additionalAnnotation=[te]}function st(j,te){var ce=j._history(),R=ce.length-1;ce[R].comment?ce[R].comment+=" "+te:ce[R].comment=te}function he(j,te){return typeof te=="number"?te===0?"Checkmate":te<1?"\u265A Mate in "+Math.abs(te):"\u2654 Mate in "+Math.abs(te):(j>0?"+":"")+Number(j/100).toFixed(2)}function qe(j,te,ce,R,I){var W,re,oe,ze;for(I.fasterMate?W="FASTER MATE":I.missedMate?W="MISSED MATE":W=te.toUpperCase(),st(j,W+" ("+he(ce.cp,ce.mateIn)+")"),re="("+he(R.cp,R.mateIn)+") ",typeof R.mateIn=="number"?re+="Checkmate after ":re+="The best move was ",j.createVariation(),j._history().initComment=re,ze=R.pv.length,oe=0;oe<ze;++oe)j.move(R.pv[oe].moveSan);j.selectLine(0)}function me(j,te,ce){var R,I=te.moves.length,W=te.startingFen,re=c.Z.createGame({headers:ce}),oe,ze,_e={startingFen:W,variant:te.variant,firstMoveNumber:re.startingMoveNumber(),playerToMove:re.turn()===1?"white":"black",positions:[],totalPositions:I,playMayContinue:null,E1:{white:0,black:0},positionCounts:{white:0,black:0},avgDifference:{white:0,black:0},tallies:{white:{excellent:0,good:0,inaccuracy:0,mistake:0,blunder:0,forced:0,book:0,missedMate:0,fasterMate:0,winningToLosing:0,missedWin:0},black:{excellent:0,good:0,inaccuracy:0,mistake:0,blunder:0,forced:0,book:0,missedMate:0,fasterMate:0,winningToLosing:0,missedWin:0}},castled:{white:-1,black:-1}},Me=!0,Fe,Ie,ht,pt,gt,ut,at,Et,Tt=te.moves[te.moves.length-1].split(" "),mt={white:{medianDepth:0,all:[],K:[],Q:[],R:[],B:[],N:[],P:[]},black:{medianDepth:0,all:[],K:[],Q:[],R:[],B:[],N:[],P:[]}},lt,et,_t,ft,Ot,Xt,ee,X={white:0,black:0,sudden:0},xe=I-1,Ze=1;function Qe(){var H={tallies:_e.tallies,castled:_e.castled,positionCounts:_e.positionCounts,E1:_e.E1,startingAtPos:Ze,positions:[]};for(Me&&(Me=!1,H.startingFen=_e.startingFen,H.variant=_e.variant,H.firstMoveNumber=_e.firstMoveNumber,H.playerToMove=_e.playerToMove,H.totalPositions=_e.totalPositions,H.gameStartPhase=_e.gameStartPhase),R=Ze;R<I&&(lt=j[R-1],et=j[R],!(!lt||!et));++R){if(at=re.turn()===1?"white":"black",Et=re.moves().length===1,_t=lt.depth,Fe=Ae(lt.eval[0],at),et=j[R],ft=et.depth,Ie=et.eval[0]||{},ht=Tt[R-1],Ot=re.move(c.Z.uciToObj(ht)[0]),Fe.mateIn===0&&Ie.cp===void 0&&Ie.pv&&Ie.pv.length===0&&re.inCheckmate()&&(Ie.mateIn=0,Ie.mate=0,Ie.cp=Fe.cp,Ie.score=Fe.score),!Ot)return{message:"Could not play move: "+ht+" at "+re.fen()};Fe.cp===0&&!Fe.isBook&&Fe.pv.length===1&&re.inDraw()&&(R===xe?(Ie={cp:0,pv:Ie.pv,mateIn:null},et.eval[1]?et={num:et.num,eval:[Ie,{cp:0,pv:et.eval[1].pv,mateIn:null}],depth:et.depth}:et={num:et.num,eval:[Ie],depth:et.depth,mateIn:null}):(Fe.cp=Ie.cp,Fe.mateIn=Ie.mateIn)),Xt=L[Ot.piece&P],Ot.flags&z&&(_e.castled[at]=R-1),Fe.pv[0]?pt=Fe.pv[0].moveLan:pt=void 0,oe=Ne(at,Fe,_t,Ie,ft,ht,pt,ut,gt,Et),oe.suggestedMove.eval=Fe,_e.positions.push(oe),H.positions.push(oe),_e.tallies[at][oe.classificationName]++,oe.classification===4?(oe.symbol=Ke(re,"??"),qe(re,oe.classificationName,Ie,lt.eval[0],oe.scenarios)):oe.classification===3?(oe.symbol=Ke(re,"?"),qe(re,oe.classificationName,Ie,lt.eval[0],oe.scenarios)):oe.classification===2&&qe(re,oe.classificationName,Ie,lt.eval[0],oe.scenarios),Et&&ve(re,"\u25A1"),!Et&&!lt.isBook&&(_e.positionCounts[at]+=1),!Et&&!et.isBook&&oe.difference===0&&(_e.E1[at]+=1),et.isBook&&(_e.tallies[at].book++,oe.scenarios.book=1,ze=R),oe.classification<5&&!et.isBook&&typeof oe.difference=="number"&&(mt[at].all.push(oe.difference),mt[at][Xt].push(oe.difference)),oe.scenarios.missedMate&&_e.tallies[at].missedMate++,oe.scenarios.fasterMate&&(_e.tallies[at].fasterMate++,oe.classification<=1&&qe(re,oe.classificationName,Ie,lt.eval[0],oe.scenarios)),oe.scenarios.winningToLosing&&(_e.tallies[at].winningToLosing++,st(re,"From winning to losing.")),oe.scenarios.missedWin&&_e.tallies[at].missedWin++,Ie.cp>=150?ee!=="white"&&(ee="white",++X[ee],(oe.classification===3||oe.classification===4)&&++X.sudden,ve(re,"\xB1")):Ie.cp<=-150?ee!=="black"&&(ee="black",++X[ee],(oe.classification===3||oe.classification===4)&&++X.sudden,ve(re,"\u2213")):(ee==="white"&&Ie.cp<125&&oe.difference>=.5||ee==="black"&&Ie.cp>-125&&oe.difference>=.5)&&((oe.classification===3||oe.classification===4)&&++X.sudden,ee="",ve(re,"=")),gt=ut,ut=oe}return R===I?Ut(H):(Ze=R,H)}function es(H,de,Q){var ie=-250,Oe=250;if(de==="*")return{white:!1,black:!1};function we(Je,Be){return Je==="1-0"&&Be==="w"?"win":Je==="1-0"&&Be==="b"||Je==="0-1"&&Be==="w"?"loss":Je==="0-1"&&Be==="b"?"win":"draw"}function Ce(Je,Be,Le,bt){if(Je>=Oe&&Be==="w")return"Winning";if(Je>=Oe&&Be==="b")return"Losing";if(Je<=ie&&Be==="w")return"Losing";if(Je<=ie&&Be==="b")return"Winning";if(bt){if(Be==="w"&&Le==="1-0"&&yt(bt))return"Winning";if(Be==="w"&&Le==="0-1"&&yt(bt))return"Losing";if(Be==="b"&&Le==="0-1"&&yt(bt))return"Winning";if(Be==="b"&&Le==="1-0"&&yt(bt))return"Losing"}return"Even"}function Ye(Je){return Je&&(Je.toLowerCase().indexOf(" on time")!==-1||Je.toLowerCase().indexOf(" abandoned")!==-1)?"Flag":""}function yt(Je){return Je&&Je.toLowerCase().indexOf("resignation")!==-1}return{white:we(de,"w")+Ce(H,"w",de,Q)+Ye(Q),black:we(de,"b")+Ce(H,"b",de,Q)+Ye(Q)}}function Ut(H){return Ie&&Ie.pv&&Ie.pv.length&&(_e.playMayContinue=Ie),X.white===0&&X.black===0?_e.arc="balanced":(X.white===0||X.black===0)&&(X.white===1||X.black===1)&&ee?X.sudden?_e.arc="sudden":_e.arc="smooth":(X.white===0||X.black===0)&&ee?_e.arc="rough":(X.white===1||X.black===1)&&X.sudden?_e.arc="throwAway":X.white+X.black>5?_e.arc="wild":_e.arc="sharp",_e.arcPlayerScenarios=es(Ie.cp,re.header().Result,re.header().Termination),ze?_e.bookPly=ze:j[0]&&j[0].isBook&&(_e.bookPly=0),ue(_e),_e.annotatedPgn=re.pgn(),H.done=1,H}return{updateAnalysis:Qe,gameAnalysis:_e}}return me}();var w=[],E,M,N=1,O=4,x=[],A=[],U=l.engineCount||Math.round(window.navigator.hardwareConcurrency/2)||1;function T(L,P){var z=L.hashes,se=z.length,V,ge=[],ue={},Ae;for(Ae=0;Ae<se;++Ae)L.done[Ae]||(V=E[z[Ae]],V&&(V.constructor===Array&&(V=V[0]),ge.push({num:Ae,eval:[{cp:V.s||0,isBook:1,pv:[]}],depth:10,isBook:1,done:1}),L.done[Ae]=N));ge.length&&(ge.length===1?(ue.move=ge[0],ue.done=ue.move.done):ue.moves=ge,P(ue))}function D(){var L;for(L=w.length-1;L>=0;L--)if(!w[L].claimed)return w[L].claimed=!0,w[L]}function Z(L){A.push(L)}function ne(L){var P;A.length&&(P=A.shift(),L.claimed=!0,J(L,P.data,P.gameFingerprints,P.send))}function J(L,P,z,se){var V;if(z.canceled){L.claimed=!1,ne(L);return}V=Date.now(),L.getBestMove(P,function(ue){var Ae={num:P.num,depth:ue.depth,eval:[{cp:ue.cp,pv:ue.pv,mate:ue.mate,mateIn:ue.mateIn,score:ue.score}],done:1};se({move:Ae,evalTime:Date.now()-V,done:1}),L.claimed=!1,ne(L)})}function $(L,P,z){var se=D();se?J(se,L,P,z):Z({data:L,gameFingerprints:P,send:z})}function G(L,P){var z,se=L.moves,V=se.length,ge;for(z=0;z<V;++z)L.done[z]===M&&(ge={fen:L.startingFen,moves:se[z],variant:L.variant,num:z,depth:L.options.depth},L.done[z]=O,$(ge,L,P))}function q(L,P){T(L,P),G(L,P)}function pe(L){var P,z=0,se,V=x.length,ge;for(ge=0;ge<V;++ge)z+=x[ge];return se=z/V,P=se*Math.max(L/U,1),Math.max(P,0)}function le(L,P,z){var se,V,ge=[],ue=0,Ae,Ne,Ke,ve=Date.now();function st(he){var qe,me,j,te,ce;if(!V.canceled){if(he.moves)for(qe=he.moves,j=qe.length,me=0;me<j;++me)++ue,ge[qe[me].num]=qe[me];else he.move&&(++ue,ge[he.move.num]=he.move);te=Ae.updateAnalysis(),te.done?z(null,Ae.gameAnalysis):P&&(he.evalTime&&(x.unshift(he.evalTime),x.length>U*10&&x.pop(),ce=pe(Ne-ue)),P({progress:ue/Ne,eta:ce,data:te}))}}return L.options={rejectNullMoves:!0,skipBadLines:!0},se=c.Z.createGame(L),se?(V=c.Z.gameFingerprints({game:se}),V.variant&&V.variant!=="Chess960"?z({message:"Unsupported variant"}):V.moves.length<2?z({message:"Missing moves"}):(V.done=[],l.depth&&(l.depth=parseInt(l.depth,10)),V.options={depth:l.depth||10},Ne=V.moves.length,Ae=y.createStreamingGameAnalysis(ge,V,se.header()),K(function(){q(V,st)}),function(){V.canceled=!0})):z({message:"Invalid game"})}function K(L){c.Z.loadECO(l.pathToBook,function(z,se,V){if(z)throw z;E=V,L&&L()})}function fe(){var L,P={enginePath:l.enginePath||l.pathToEngine,pathToWasmEngine:l.pathToWasmEngine,pathToNonWasmEngine:l.pathToNonWasmEngine},z;for(L=0;L<U;++L)z=(0,c.Z)(P),z.claimed=!1,z.id=L,w[L]=z}function De(){var L;for(L=w.length-1;L>=0;L--)w[L].stopAll(),w[L].quit();w.length=0}function He(){K(),fe()}return He(),le.stopEngines=De,le},p=d,m=p;function g({initialDepth:b=o,paths:l=r.Ph.paths}={}){var y;let w,E,M=b,N=(0,i.c)();return(y=N.resolve)==null||y.call(N,!0),{cancel:O,run:U,runComplete:()=>N.promise,stop:T};function O(){var D;E&&(E(),E=null,(D=N.resolve)==null||D.call(N,!0))}function x(D){return D&&M!==D&&(M=D),w||A(M),w}function A(D){var Z,ne,J,$,G,q,pe,le,K,fe;w=new m({depth:D,engineCount:1,enginePath:($=(J=l?.enginePath)!=null?J:(ne=(Z=l.engines)==null?void 0:Z.singleThreaded)==null?void 0:ne.loader)!=null?$:l?.pathToEngineWorker,pathToWasmEngine:(pe=l?.pathToWasmEngine)!=null?pe:(q=(G=l.engines)==null?void 0:G.singleThreaded)==null?void 0:q.engine,pathToNonWasmEngine:(K=l?.pathToNonWasmEngine)!=null?K:(le=l.engines)==null?void 0:le.asm,pathToBook:(fe=window.Config.pathToBook)!=null?fe:l.pathToBook})}function U({depth:D,options:Z,onStream:ne,onDone:J}){O(),N=(0,i.c)(),E=x(D)(Z,ne,(...$)=>{var G;(G=N.resolve)==null||G.call(N,!0),J?.(...$)})}function T(){var D;x().stopEngines(),(D=N.resolve)==null||D.call(N,!0),w=null}}const k=g()},2269:function(C,_,n){n.d(_,{z:function(){return i}});var i=(r=>(r.Embed="embed",r.Event="event",r.Gif="gif",r.Image="image",r.Pgn="pgn",r))(i||{})},3920:function(C,_,n){n.d(_,{D:function(){return i}});const i={color:"#ca3431",opacity:.75}},4701:function(C,_,n){n.d(_,{x:function(){return i}});const i="threats"},6262:function(C,_,n){n.d(_,{J:function(){return r}});var i=n(8530);const r=(0,i.kr)()},8530:function(C,_,n){n.d(_,{Hn:function(){return he},eI:function(){return i},kr:function(){return k},ko:function(){return g},YK:function(){return st},QB:function(){return ne},tL:function(){return N},DP:function(){return A},Uc:function(){return ce}});function i(R){return Object.keys(R).forEach(I=>{typeof R[I]=="function"&&(R[I]=R[I].bind(R))}),R}async function r(R,I){try{await R.init(I)}catch(W){console.error(W)}}var o=Object.defineProperty,c=(R,I,W)=>I in R?o(R,I,{enumerable:!0,configurable:!0,writable:!0,value:W}):R[I]=W,d=(R,I,W)=>(c(R,typeof I!="symbol"?I+"":I,W),W);class p extends Array{constructor(I,W){super(),d(this,"options"),d(this,"ModelFactory"),this.options=W,this.ModelFactory=I}add(I){const W=new this.ModelFactory;return updateModel(W,I),this.push(W),this.options.max&&this.length>this.options.max&&this.splice(0,this.length-this.options.max),W}find(I){return this[this.findIndex(I)]}findIndex(I){return typeof I=="function"?Array.prototype.findIndex.call(this,I):typeof I=="object"&&I!==null?Array.prototype.findIndex.call(this,W=>this.getKey(W)===this.getKey(I)):Array.prototype.findIndex.call(this,W=>this.getKey(W)===I)}includes(I){return this.findIndex(I)!==-1}update(I){const W=this.findIndex(I);if(W===-1)return this.add(I);const re=this[W];return updateModel(re,I),re}remove(I){const W=this.findIndex(I);if(W===-1)return null;const re=this[W];return this.splice(W,1),re}reset(I){if(!I||I.length===0){this.splice(0);return}const W=I.map(re=>{let oe;return re instanceof this.ModelFactory?oe=re:(oe=this.find(re),oe||(oe=new this.ModelFactory),updateModel(oe,re)),oe});this.splice(0,this.length,...W)}getKey(I){const W=I[this.options.key];return typeof W=="function"?W.call(I):W}}function m(R,I){const W=new p(R,I);if(["add","find","findIndex","update","remove","includes","reset","getKey"].forEach(oe=>{W[oe]=p.prototype[oe].bind(W)}),I.create)for(let oe=0;oe<I.create;oe++)W.push(new W.ModelFactory);return W}function g(R){return I=>(Object.assign(R.context,I),R)}function k(){return{}}var b=n(4080);function l(R,I={}){const W=(0,b.iH)(!1),re=document.createElement("div");let oe;return{mount:Me=>{if(W.value=!0,!oe){const Fe=typeof Me=="string"?document.querySelector(Me):Me;Fe&&(Fe.innerHTML="",Fe.appendChild(re)),oe=new b.ZP({render:Ie=>W.value&&Ie(R,{props:I})}).$mount(re)}},unmount:()=>{W.value=!1}}}var y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,M=(R,I)=>{var W={};for(var re in R)w.call(R,re)&&I.indexOf(re)<0&&(W[re]=R[re]);if(R!=null&&y)for(var re of y(R))I.indexOf(re)<0&&E.call(R,re)&&(W[re]=R[re]);return W};async function N(R){if(typeof R=="function")return N(R());if(R instanceof Promise)return R.then(I=>{N(I.default)});{const I=R,{el:W}=I,re=M(I,["el"]),oe=document.querySelector(W);if(oe)return new Promise(ze=>{if(window.chesscom.features.includes("play_base_vue_3_mounting")&&window.chesscom.features.includes("client_chessboard_layout_beta")){l({mounted:ze,render:()=>(0,b.h)(re)}).mount(oe);return}new b.ZP({mounted:ze,render:_e=>_e(re)}).$mount(oe)})}}function O(R,I){const W=[];return R[I]instanceof Array?W.push(...R[I]):R[I]&&console.warn(`${I} should be array`),R.extensions&&R.extensions.forEach(re=>{re[I]instanceof Array?W.push(...re[I]):re[I]&&console.warn(`extension ${I} should be array`)}),W}function x(R,I){const W={};return R[I]&&Object.assign(W,R[I]),R.extensions&&R.extensions.forEach(re=>{re[I]&&Object.assign(W,re[I])}),W}function A(R){return Promise.all(R.map(N))}async function U(R){Object.keys(R).forEach(I=>{customElements.define(I,R[I])})}function T(R){const I=new Promise(W=>{setTimeout(()=>{Promise.all(R.map(re=>r(re,I))).then(()=>W())},0)});return I}async function D(R,I,W,re){if(I){W?.(I);try{await R(I)}catch(oe){console.error(oe)}re?.(I)}}async function Z(R){const{elements:I,controllers:W,clients:re,hooks:oe}=R;await Promise.all([D(U,I,oe?.onBeforeInitElements,oe?.onAfterInitElements),D(A,W,oe?.onBeforeInitControllers,oe?.onAfterInitControllers),D(T,re,oe?.onBeforeInitClients,oe?.onAfterInitClients)])}async function ne(R){var I,W;const re=(0,b.iH)(O(R,"state")),oe=x(R,"elements"),ze=O(R,"controllers"),_e=O(R,"clients"),Me=R.hooks;await D(Z,{state:re,elements:oe,controllers:ze,clients:_e,hooks:Me},(I=R.hooks)==null?void 0:I.onBeforeInit,(W=R.hooks)==null?void 0:W.onAfterInit)}var J=Object.defineProperty,$=Object.defineProperties,G=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,K=(R,I,W)=>I in R?J(R,I,{enumerable:!0,configurable:!0,writable:!0,value:W}):R[I]=W,fe=(R,I)=>{for(var W in I||(I={}))pe.call(I,W)&&K(R,W,I[W]);if(q)for(var W of q(I))le.call(I,W)&&K(R,W,I[W]);return R},De=(R,I)=>$(R,G(I));function He(R){var I;const W=(I=R.triggers)!=null?I:[];R.emitter&&R.events&&W.push(createTrigger(R.emitter,R.events));let re;function oe(){var ze,_e;return re||(re=Promise.resolve((_e=(ze=R.shouldLoad)==null?void 0:ze.call(R))==null||_e?R.loader():null)),re}return()=>W.forEach(ze=>ze(oe))}function L(R){return{init:He(De(fe({},R),{loader:()=>R.loader().then(I=>initClients(Object.values(I)))}))}}var P=Object.defineProperty,z=(R,I,W)=>I in R?P(R,I,{enumerable:!0,configurable:!0,writable:!0,value:W}):R[I]=W,se=(R,I,W)=>(z(R,typeof I!="symbol"?I+"":I,W),W);class V extends Map{constructor(I){super(),se(this,"options"),this.options=I}set(I,W){return Map.prototype.set.call(this,this.getKey(I),W),this}delete(I){return Map.prototype.delete.call(this,this.getKey(I))}get(I){return Map.prototype.get.call(this,this.getKey(I))}has(I){return Map.prototype.has.call(this,this.getKey(I))}getKey(I){var W;return typeof((W=this.options)==null?void 0:W.key)=="function"?this.options.key(I):JSON.stringify(I)}}function ge(R){return new V(R)}var ue=n(5174),Ae=n(2591);let Ne;function Ke(){return Ne||(Ne=(0,Ae.j)()),Ne}function ve(R){var I;const W=(0,ue.I)();return W.emitQueue=(I=R?.emitQueue)!=null?I:Ke(),W.emit=async(re,oe)=>{const ze=[];let _e;for(;_e=W.listeners.find(Me=>(Me.type===re||Me.type==="all")&&!ze.includes(Me.handler));)ze.push(_e.handler),await W.emitQueue.add(_e.handler,oe)},W}function st(){const R=(0,Ae.j)(!0);return{createQueuedEmitter(){return ve({emitQueue:R})}}}class he{}function qe(R){return Object.getOwnPropertyNames(R).filter(I=>I!=="__ob__")}function me(R){return Boolean(R instanceof Array&&"options"in R&&"ModelFactory"in R)}function j(R){return R instanceof Array||Array.isArray(R)}function te(R,I){return j(R)&&j(I)&&R.length===I.length?R.length===0?!1:R.some((W,re)=>W!==I[re]):R!==I}function ce(R,I){qe(I).forEach(W=>{W in R&&(R[W]instanceof he&&I[W]?ce(R[W],I[W]):me(R[W])&&j(I[W])?I[W].forEach((re,oe)=>{const ze=R[W][oe];ze instanceof he?ce(ze,re):R[W].add(re)}):te(R[W],I[W])&&(R[W]=I[W]))})}},8577:function(C,_,n){n.d(_,{z:function(){return r}});var i=n(4662);async function r(o){!window.chesscom.features.includes("settings_service_data_sync")||Object.keys(o).length>0&&await i.pS.publish({method:"post",service:i.AM.Settings,path:"users/me",data:o})}},3901:function(C,_,n){n.d(_,{U:function(){return l}});var i=n(43),r=Object.create,o=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,p=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,g=(y,w,E,M)=>{if(w&&typeof w=="object"||typeof w=="function")for(let N of d(w))!m.call(y,N)&&N!==E&&o(y,N,{get:()=>w[N],enumerable:!(M=c(w,N))||M.enumerable});return y},k=(y,w,E)=>(E=y!=null?r(p(y)):{},g(w||!y||!y.__esModule?o(E,"default",{value:y,enumerable:!0}):E,y));let b;function l(){var y;return(y=window.chesscom)!=null&&y.amplitude?window.chesscom.amplitude:(b||(b=n.e(790).then(n.t.bind(n,3790,23)).then(({default:w})=>{var E,M,N,O;const{user:x,amplitudeKey:A}=window.context||{},U=x&&!x.isGuest?x.id:null,T={includeUtm:!0,includeReferrer:!0,includeGclid:!0,saveParamsReferrerOncePerSession:!1};if((M=(E=window.chesscom)==null?void 0:E.features)!=null&&M.includes("amplitude_domain_proxy")&&["www.chess.com","www.chess-4.com"].includes(window.location.hostname)&&(T.apiEndpoint=window.location.hostname.replace("www","amplitude")),(O=(N=window.chesscom)==null?void 0:N.features)!=null&&O.includes("marketing_middleware_serverside_device_id_generation")){const D=(0,i.ej)("me");if(D){const Z=JSON.parse(decodeURIComponent(D));T.deviceId=Z.deviceId}}return w.getInstance().init(A,null,T),w.getInstance().setUserId(U),window.chesscom.amplitude=w,w})),b)}},669:function(C,_,n){n.d(_,{K:function(){return p}});var i=n(3901),r=n(844),o=r.Z;async function c(m){const g=await(0,i.U)();if(m==null)return;const k=new g.Identify;o(m,(b,l)=>{k.add(l,b)}),g.getInstance().identify(k)}async function d(m){const g=await(0,i.U)();m!=null&&g.getInstance().setUserProperties(m)}async function p(m,g,k,b){const l=await(0,i.U)();await d(k),await c(b),l.getInstance().logEvent(m,g||{})}},5753:function(C,_,n){var i=n(3901),r=n(669);_.Z={init:i.U,logEvent:r.K}},8659:function(C,_,n){n.d(_,{A:function(){return r}});var i=n(7652);function r(o,c){const d=(0,i.mf)(c)?o.findIndex(c):o.indexOf(c);d!==-1&&o.splice(d,1)}},323:function(C,_,n){n.d(_,{n:function(){return o}});var i={"bundles/web/images/game-preview-loading.png":"bundles/web/images/game-preview-loading.png","bundles/web/images/image-default.svg":"bundles/web/images/image-default.svg","bundles/web/images/noavatar_l.gif":"bundles/web/images/noavatar_l.gif","bundles/web/images/svg/tic.svg":"bundles/web/images/svg/tic.svg","bundles/web/images/svg/white-tic.svg":"bundles/web/images/svg/white-tic.svg","bundles/web/images/user-image.svg":"bundles/web/images/user-image.svg","bundles/web/images/web/learn-to-play.png":"bundles/web/images/web/learn-to-play.png","bundles/web/images/web/tablet.jpg":"bundles/web/images/web/tablet.jpg","bundles/web/images/webgl_data/2d/arcade/active-field-black-glow.png":"bundles/web/images/webgl_data/2d/arcade/active-field-black-glow.png","bundles/web/images/webgl_data/2d/arcade/active-field-white-glow.png":"bundles/web/images/webgl_data/2d/arcade/active-field-white-glow.png","bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.json":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.json","bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.png":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.png","bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.json":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.json","bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.png":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.png","bundles/web/images/webgl_data/2d/arcade/check-lightning-small.json":"bundles/web/images/webgl_data/2d/arcade/check-lightning-small.json","bundles/web/images/webgl_data/2d/arcade/check-lightning-small.png":"bundles/web/images/webgl_data/2d/arcade/check-lightning-small.png","bundles/web/images/webgl_data/2d/arcade/check-lightning.json":"bundles/web/images/webgl_data/2d/arcade/check-lightning.json","bundles/web/images/webgl_data/2d/arcade/check-lightning.png":"bundles/web/images/webgl_data/2d/arcade/check-lightning.png","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.json":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.json","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.png":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.png","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.json":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.json","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.png":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.png","bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-black.png":"bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-black.png","bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-white.png":"bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-white.png","bundles/web/images/webgl_data/2d/arcade/lightning-horizontal.png":"bundles/web/images/webgl_data/2d/arcade/lightning-horizontal.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.png","bundles/web/images/webgl_data/2d/arcade/select-lightning-black.json":"bundles/web/images/webgl_data/2d/arcade/select-lightning-black.json","bundles/web/images/webgl_data/2d/arcade/select-lightning-black.png":"bundles/web/images/webgl_data/2d/arcade/select-lightning-black.png","bundles/web/images/webgl_data/2d/arcade/select-lightning-white.json":"bundles/web/images/webgl_data/2d/arcade/select-lightning-white.json","bundles/web/images/webgl_data/2d/arcade/select-lightning-white.png":"bundles/web/images/webgl_data/2d/arcade/select-lightning-white.png","bundles/web/images/webgl_data/2d/capture-dust.json":"bundles/web/images/webgl_data/2d/capture-dust.json","bundles/web/images/webgl_data/2d/capture-dust.png":"bundles/web/images/webgl_data/2d/capture-dust.png","bundles/web/images/webgl_data/2d/dust-big.json":"bundles/web/images/webgl_data/2d/dust-big.json","bundles/web/images/webgl_data/2d/dust-big.png":"bundles/web/images/webgl_data/2d/dust-big.png","bundles/web/images/webgl_data/2d/dust-regular.json":"bundles/web/images/webgl_data/2d/dust-regular.json","bundles/web/images/webgl_data/2d/dust-regular.png":"bundles/web/images/webgl_data/2d/dust-regular.png","bundles/web/images/webgl_data/2d/dust-small.json":"bundles/web/images/webgl_data/2d/dust-small.json","bundles/web/images/webgl_data/2d/dust-small.png":"bundles/web/images/webgl_data/2d/dust-small.png","bundles/web/images/webgl_data/2d/field-shadow.png":"bundles/web/images/webgl_data/2d/field-shadow.png","bundles/web/images/webgl_data/2d/hand.json":"bundles/web/images/webgl_data/2d/hand.json","bundles/web/images/webgl_data/2d/hand.png":"bundles/web/images/webgl_data/2d/hand.png","bundles/web/images/webgl_data/3d/board/board.json":"bundles/web/images/webgl_data/3d/board/board.json","bundles/web/images/webgl_data/3d/board/textures/board_8_bit.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_8_bit.jpg","bundles/web/images/webgl_data/3d/board/textures/board_8_bit_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_8_bit_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_bases.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_bases.jpg","bundles/web/images/webgl_data/3d/board/textures/board_bases_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_bases_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_blackwhite.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_blackwhite.jpg","bundles/web/images/webgl_data/3d/board/textures/board_blackwhite_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_blackwhite_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_blue.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_blue.jpg","bundles/web/images/webgl_data/3d/board/textures/board_blue_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_blue_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_brown.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_brown.jpg","bundles/web/images/webgl_data/3d/board/textures/board_brown_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_brown_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_bubblegum.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_bubblegum.jpg","bundles/web/images/webgl_data/3d/board/textures/board_bubblegum_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_bubblegum_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_burled_wood.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_burled_wood.jpg","bundles/web/images/webgl_data/3d/board/textures/board_burled_wood_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_burled_wood_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_dark_wood.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_dark_wood.jpg","bundles/web/images/webgl_data/3d/board/textures/board_dark_wood_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_dark_wood_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_dash.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_dash.jpg","bundles/web/images/webgl_data/3d/board/textures/board_dash_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_dash_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_glass.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_glass.jpg","bundles/web/images/webgl_data/3d/board/textures/board_glass_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_glass_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_graffiti.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_graffiti.jpg","bundles/web/images/webgl_data/3d/board/textures/board_graffiti_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_graffiti_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_green.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_green.jpg","bundles/web/images/webgl_data/3d/board/textures/board_green_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_green_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_grey.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_grey.jpg","bundles/web/images/webgl_data/3d/board/textures/board_grey_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_grey_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_icy_sea.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_icy_sea.jpg","bundles/web/images/webgl_data/3d/board/textures/board_icy_sea_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_icy_sea_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_light.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_light.jpg","bundles/web/images/webgl_data/3d/board/textures/board_light_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_light_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_lolz.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_lolz.jpg","bundles/web/images/webgl_data/3d/board/textures/board_lolz_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_lolz_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_marble.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marble.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marble_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marble_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_marbleblue.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marbleblue.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marbleblue_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marbleblue_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_marblebrown.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marblebrown.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marblebrown_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marblebrown_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_marblegreen.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marblegreen.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marblegreen_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marblegreen_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_metal.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_metal.jpg","bundles/web/images/webgl_data/3d/board/textures/board_metal_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_metal_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_neon.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_neon.jpg","bundles/web/images/webgl_data/3d/board/textures/board_neon_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_neon_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_newspaper.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_newspaper.jpg","bundles/web/images/webgl_data/3d/board/textures/board_newspaper_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_newspaper_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_orange.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_orange.jpg","bundles/web/images/webgl_data/3d/board/textures/board_orange_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_orange_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_overlay.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_overlay.jpg","bundles/web/images/webgl_data/3d/board/textures/board_overlay_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_overlay_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_parchment.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_parchment.jpg","bundles/web/images/webgl_data/3d/board/textures/board_parchment_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_parchment_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_pink.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_pink.jpg","bundles/web/images/webgl_data/3d/board/textures/board_pink_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_pink_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_purple.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_purple.jpg","bundles/web/images/webgl_data/3d/board/textures/board_purple_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_purple_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_red.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_red.jpg","bundles/web/images/webgl_data/3d/board/textures/board_red_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_red_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_sand.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_sand.jpg","bundles/web/images/webgl_data/3d/board/textures/board_sand_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_sand_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_shadow.png":"bundles/web/images/webgl_data/3d/board/textures/board_shadow.png","bundles/web/images/webgl_data/3d/board/textures/board_sky.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_sky.jpg","bundles/web/images/webgl_data/3d/board/textures/board_sky_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_sky_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_stone.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_stone.jpg","bundles/web/images/webgl_data/3d/board/textures/board_stone_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_stone_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_tan.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_tan.jpg","bundles/web/images/webgl_data/3d/board/textures/board_tan_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_tan_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_tournament.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_tournament.jpg","bundles/web/images/webgl_data/3d/board/textures/board_tournament_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_tournament_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_translucent.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_translucent.jpg","bundles/web/images/webgl_data/3d/board/textures/board_translucent_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_translucent_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_walnut.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_walnut.jpg","bundles/web/images/webgl_data/3d/board/textures/board_walnut_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_walnut_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_winboard.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_winboard.jpg","bundles/web/images/webgl_data/3d/board/textures/board_winboard_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_winboard_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_wood.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_wood.jpg","bundles/web/images/webgl_data/3d/board/textures/board_wood_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_wood_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_wooddark.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_wooddark.jpg","bundles/web/images/webgl_data/3d/board/textures/board_wooddark_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_wooddark_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_woodlight.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_woodlight.jpg","bundles/web/images/webgl_data/3d/board/textures/board_woodlight_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_woodlight_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_woodmid.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_woodmid.jpg","bundles/web/images/webgl_data/3d/board/textures/board_woodmid_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_woodmid_notation.png","bundles/web/images/webgl_data/3d/board/textures/board_woodolive.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_woodolive.jpg","bundles/web/images/webgl_data/3d/board/textures/board_woodolive_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_woodolive_notation.png","bundles/web/images/webgl_data/3d/marking_arrow_L.json":"bundles/web/images/webgl_data/3d/marking_arrow_L.json","bundles/web/images/webgl_data/3d/marking_arrow_straight.json":"bundles/web/images/webgl_data/3d/marking_arrow_straight.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_black.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_white.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/king.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/king.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_black.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_white.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/pawn.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/pawn.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_black.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_white.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_black.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_white.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/bishop_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/bishop_shadow.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negx.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negx.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negy.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negy.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negz.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negz.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posx.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posx.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posy.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posy.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posz.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posz.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/king_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/king_shadow.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/knight_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/knight_shadow.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/pawn_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/pawn_shadow.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_black.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_black.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_white.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_black.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_white.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_black.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_white.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_white.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_black.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_white.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/queen_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/queen_shadow.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/rook_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/rook_shadow.png","bundles/web/images/webgl_data/README.md":"bundles/web/images/webgl_data/README.md","bundles/web/images/webgl_data/three-d/board/board.glb":"bundles/web/images/webgl_data/three-d/board/board.glb","bundles/web/images/webgl_data/three-d/board/board.json":"bundles/web/images/webgl_data/three-d/board/board.json","bundles/web/images/webgl_data/three-d/board/textures/board_8_bit.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_8_bit.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_8_bit_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_8_bit_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_bases.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_bases.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_bases_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_bases_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_blackwhite.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_blackwhite.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_blackwhite_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_blackwhite_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_blue.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_blue.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_blue_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_blue_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_brown.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_brown.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_brown_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_brown_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_bubblegum.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_bubblegum.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_bubblegum_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_bubblegum_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_burled_wood.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_burled_wood.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_burled_wood_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_burled_wood_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_checkers.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_checkers.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_checkers_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_checkers_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_dark_wood.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_dark_wood.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_dark_wood_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_dark_wood_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_dash.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_dash.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_dash_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_dash_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_glass.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_glass.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_glass_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_glass_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_graffiti.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_graffiti.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_graffiti_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_graffiti_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_green.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_green.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_green_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_green_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_grey.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_grey.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_grey_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_grey_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_icy_sea.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_icy_sea.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_icy_sea_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_icy_sea_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_light.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_light.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_light_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_light_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_lolz.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_lolz.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_lolz_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_lolz_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_marble.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_marble.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_marble_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_marble_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_marbleblue.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_marbleblue.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_marbleblue_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_marbleblue_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_marblebrown.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_marblebrown.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_marblebrown_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_marblebrown_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_marblegreen.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_marblegreen.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_marblegreen_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_marblegreen_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_metal.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_metal.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_metal_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_metal_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_neon.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_neon.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_neon_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_neon_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_newspaper.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_newspaper.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_newspaper_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_newspaper_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_orange.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_orange.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_orange_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_orange_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_overlay.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_overlay.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_overlay_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_overlay_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_parchment.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_parchment.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_parchment_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_parchment_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_pink.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_pink.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_pink_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_pink_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_purple.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_purple.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_purple_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_purple_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_red.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_red.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_red_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_red_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_sand.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_sand.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_sand_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_sand_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_shadow.png":"bundles/web/images/webgl_data/three-d/board/textures/board_shadow.png","bundles/web/images/webgl_data/three-d/board/textures/board_sky.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_sky.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_sky_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_sky_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_stone.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_stone.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_stone_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_stone_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_tan.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_tan.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_tan_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_tan_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_tournament.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_tournament.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_tournament_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_tournament_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_translucent.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_translucent.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_translucent_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_translucent_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_walnut.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_walnut.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_walnut_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_walnut_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_winboard.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_winboard.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_winboard_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_winboard_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_wood.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_wood.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_wood_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_wood_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_wooddark.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_wooddark.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_wooddark_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_wooddark_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_woodlight.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_woodlight.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_woodlight_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_woodlight_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_woodmid.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_woodmid.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_woodmid_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_woodmid_notation.png","bundles/web/images/webgl_data/three-d/board/textures/board_woodolive.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_woodolive.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_woodolive_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_woodolive_notation.png","bundles/web/images/webgl_data/three-d/marking_arrow_L.json":"bundles/web/images/webgl_data/three-d/marking_arrow_L.json","bundles/web/images/webgl_data/three-d/marking_arrow_straight.json":"bundles/web/images/webgl_data/three-d/marking_arrow_straight.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop.glb":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop.glb","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop_promotion_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop_promotion_black.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop_promotion_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop_promotion_white.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/king.glb":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/king.glb","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/king.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/king.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight.glb":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight.glb","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight_promotion_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight_promotion_black.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight_promotion_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight_promotion_white.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/pawn.glb":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/pawn.glb","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/pawn.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/pawn.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen.glb":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen.glb","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen_promotion_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen_promotion_black.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen_promotion_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen_promotion_white.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook.glb":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook.glb","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook_promotion_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook_promotion_black.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook_promotion_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook_promotion_white.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/bishop_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/bishop_shadow.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negx.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negx.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negy.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negy.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negz.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negz.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posx.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posx.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posy.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posy.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posz.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posz.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/king_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/king_shadow.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/knight_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/knight_shadow.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/pawn_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/pawn_shadow.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_black.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_marble_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_marble_black.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_marble_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_marble_white.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_metal_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_metal_black.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_metal_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_metal_white.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_plastic_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_plastic_black.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_plastic_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_plastic_white.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_white.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_wood_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_wood_black.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_wood_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_wood_white.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/queen_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/queen_shadow.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/rook_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/rook_shadow.png","bundles/web/images/webgl_data/two-d/arcade/capture-hint-hide.svg":"bundles/web/images/webgl_data/two-d/arcade/capture-hint-hide.svg","bundles/web/images/webgl_data/two-d/arcade/capture-hint-out.svg":"bundles/web/images/webgl_data/two-d/arcade/capture-hint-out.svg","bundles/web/images/webgl_data/two-d/arcade/capture-hint-over.svg":"bundles/web/images/webgl_data/two-d/arcade/capture-hint-over.svg","bundles/web/images/webgl_data/two-d/arcade/capture-hint-show.svg":"bundles/web/images/webgl_data/two-d/arcade/capture-hint-show.svg","bundles/web/images/webgl_data/two-d/arcade/king-check.svg":"bundles/web/images/webgl_data/two-d/arcade/king-check.svg","bundles/web/images/webgl_data/two-d/arcade/move-hint-hide.svg":"bundles/web/images/webgl_data/two-d/arcade/move-hint-hide.svg","bundles/web/images/webgl_data/two-d/arcade/move-hint-out.svg":"bundles/web/images/webgl_data/two-d/arcade/move-hint-out.svg","bundles/web/images/webgl_data/two-d/arcade/move-hint-over.svg":"bundles/web/images/webgl_data/two-d/arcade/move-hint-over.svg","bundles/web/images/webgl_data/two-d/arcade/move-hint-show.svg":"bundles/web/images/webgl_data/two-d/arcade/move-hint-show.svg","bundles/web/images/webgl_data/two-d/arcade/piece-capture.svg":"bundles/web/images/webgl_data/two-d/arcade/piece-capture.svg","bundles/web/images/webgl_data/two-d/arcade/piece-grab.svg":"bundles/web/images/webgl_data/two-d/arcade/piece-grab.svg","bundles/web/images/webgl_data/two-d/arcade/piece-release.svg":"bundles/web/images/webgl_data/two-d/arcade/piece-release.svg","bundles/web/images/webgl_data/two-d/arcade/piece-trail.svg":"bundles/web/images/webgl_data/two-d/arcade/piece-trail.svg","bundles/web/images/webgl_data/two-d/arcade/square-fill.svg":"bundles/web/images/webgl_data/two-d/arcade/square-fill.svg","bundles/web/images/webgl_data/two-d/hover-square.png":"bundles/web/images/webgl_data/two-d/hover-square.png","bundles/web/images/webgl_data/two-d/natural/piece-trail-long.png":"bundles/web/images/webgl_data/two-d/natural/piece-trail-long.png","bundles/web/images/webgl_data/two-d/natural/piece-trail.png":"bundles/web/images/webgl_data/two-d/natural/piece-trail.png"};let r;window.Config["domain.static"]&&!window.Config.cypress?r="https":r="http";const o=(c,d=!0,p=r)=>{const m=d?`${p}:${window.Config["domain.static"]}`:"",g=i[c]!=null?i[c]:c;return`${m}/${g}`}},8964:function(C,_,n){n.d(_,{sJ:function(){return m},bM:function(){return o},j7:function(){return r},tq:function(){return i},kY:function(){return b},Cz:function(){return l},e0:function(){return p},k_:function(){return c},qD:function(){return d}});const i=(T=window.navigator.userAgent)=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(T),r=()=>encodeURIComponent(window.document.title),o=()=>encodeURIComponent(window.location.href),c=window.location.pathname,d=r(),p=o(),m=()=>{if(window.sidebar&&window.sidebar.addPanel)window.sidebar.addPanel(d,p,"");else if(window.external&&"AddFavorite"in window.external)window.external.AddFavorite(p,d);else{const T=window.navigator.userAgent.toLowerCase().indexOf("mac")!==-1?"Cmd":"Ctrl";alert(`Press ${T}+D to bookmark this page.`)}},g={chrome:"Chrome",edge:"edge",firefox:"Firefox",ie:"IE",safari:"Safari"},k={chrome:79,edge:79,firefox:75,ie:Number.POSITIVE_INFINITY,safari:13.1},b=()=>{window.print()},l=(T,D)=>{window.location.href=`mailto:?${T}&${D}`},y=(T,D)=>D.appVersion.indexOf(T)>-1,w=(T=window.navigator.userAgent)=>T.match(/Edg/)!==null,E=(T=window.navigator.userAgent)=>T.match(/Android/)!==null,M=(T=window.navigator.userAgent)=>Boolean(["macintosh","iphone","ipad"].find(D=>T.toLowerCase().indexOf(D)>=0)),N=(T=window.navigator.userAgent)=>Boolean(["iphone","ipad"].find(D=>T.toLowerCase().indexOf(D)>=0)),O=(T=window.navigator.userAgent)=>{let D,Z=T.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(w(T)){const ne=T.indexOf("Edg");let J=4;T.match("Edge/")&&(J=5);const $=ne+J;return{name:"Edge",version:parseInt(T.substring($,T.indexOf(".",$)),10)}}return/trident/i.test(Z[1])?(D=/\brv[ :]+(\d+)/g.exec(T)||[],{name:"IE",version:parseInt(D[1]||"-1",10)}):Z[1]===g.chrome&&(D=T.match(/\bOPR\/(\d+)/),D!=null)?{name:"Opera",version:parseInt(D[1],10)}:(Z=Z[2]?[Z[1],Z[2]]:[window.navigator.appName,window.navigator.appVersion,"-?"],Z[0]===g.safari&&(D=T.match(/version\/(\d+)/i),D!=null&&Z.splice(1,1,D[1])),Z[0]==="MSIE"?{name:g.ie,version:parseInt(Z[1],10)}:{name:Z[0],version:parseInt(Z[1],10)})},x=(T=window.navigator)=>y("NT",T)?y("Windows NT 5.1",T)||y("Windows NT 6.0",T)?6:y("Windows NT 6.1",T)?7:y("Windows NT 6.2",T)||y("Windows NT 6.3",T)?8:10:-1,A=(T=window.navigator.userAgent)=>{const D=O(T);return D.name==null||D.name.length===0?!1:Object.keys(g).some(Z=>D.name.toLowerCase()===g[Z].toLowerCase()&&D.version<k[Z])},U=T=>{var D;const Z=[g.chrome.toLowerCase(),g.edge.toLowerCase(),g.firefox.toLowerCase(),g.safari.toLowerCase()],ne=O(T);return ne.name==null||ne.name.length===0||((D=Z.indexOf)==null?void 0:D.call(Z,ne.name.toLowerCase()))===-1?!1:!A(T)}},5545:function(C,_,n){n.d(_,{Z:function(){return l}});var i=Object.defineProperty,r=(y,w,E)=>w in y?i(y,w,{enumerable:!0,configurable:!0,writable:!0,value:E}):y[w]=E,o=(y,w,E)=>(r(y,typeof w!="symbol"?w+"":w,E),E);function c(){const y="test";try{return localStorage.setItem(y,y),localStorage.removeItem(y),!0}catch{return!1}}class d{constructor(){o(this,"enabled"),this.enabled=c()}get(w){return JSON.parse(localStorage.getItem(w))}set(w,E){localStorage.setItem(w,JSON.stringify(E))}}var p=Object.defineProperty,m=(y,w,E)=>w in y?p(y,w,{enumerable:!0,configurable:!0,writable:!0,value:E}):y[w]=E,g=(y,w,E)=>(m(y,typeof w!="symbol"?w+"":w,E),E);class k{constructor(w,E={}){g(this,"cache"),g(this,"cacheKey"),g(this,"memory"),this.cache=new d,this.cacheKey=w,this.memory=E}get ready(){return this.cache.enabled!==!1}get(w,E=null){return this.memory[w]?this.memory[w]:this.ready?(this.pull(),typeof this.memory[w]<"u"?this.memory[w]:E):E}pull(){return this.memory=this.cache.get(this.cacheKey)||{},this}push(){return this.cache.set(this.cacheKey,this.memory),this}remove(w){return this.ready?(this.pull(),typeof this.memory[w]>"u"?this:(delete this.memory[w],this.push())):this}set(w,E){return this.ready?(this.pull(),this.memory[w]=E,this.push()):this}}const b="json_settings";var l=new k(b)},6375:function(C,_,n){var i=n(2599);_.Z=i.Z},4208:function(C,_,n){var i=n(111);_.Z=i.Z},43:function(C,_,n){n.d(_,{ej:function(){return c}});const i=90;function r(p,m,g){let k="";if(g){const b=new Date;b.setTime(b.getTime()+Math.min(i,g)*24*60*60*1e3),k=`; expires=${b.toUTCString()}`}document.cookie=`${p}=${m||""}${k}; path=/; samesite=none; secure`}function o(p){r(p,"",-3650)}function c(p){const m={};return document.cookie.split("; ").forEach(g=>{const[k,b]=g.split("=");k&&b&&(m[k]=b)}),m[p]||null}var d={getCookie:c,deleteCookie:o,setCookie:r}},2460:function(C,_,n){n.d(_,{KZ:function(){return c}});var i=n(6441),r=n(43);const o="dark-mode",c=()=>document.body.classList.contains(o),d=c(),p=b=>b?document.body.classList.add(o):document.body.classList.remove(o),m=b=>b?setCookie(constants.USER_COLOR_SCHEME,o,30):setCookie(constants.USER_COLOR_SCHEME,"",30),g=b=>{const y=window.tinymce;y?.editors.forEach(({id:w})=>{b?(y.get(w).settings.body_class=o,y.get(w).getBody().classList.add(o)):(y.get(w).settings.body_class="",y.get(w).getBody().classList.remove(o))})},k=b=>{const l=document.querySelectorAll("[data-tweet-id]"),y=b?"theme=light":"theme=dark",w=b?"theme=dark":"theme=light";l.forEach(E=>{const M=E.getAttribute(attributes.SRC);E.setAttribute(attributes.SRC,M?M.replace(y,w):"")})}},4084:function(C,_,n){n.d(_,{Z:function(){return U}});var i=function(){var D=this,Z=D._self._c;return Z("div",{staticClass:"tooltip tip vue-tooltip"},[Z("div",{staticClass:"arrow"}),D._v(" "),Z("div",{ref:"content",staticClass:"inner",attrs:{"data-cy":"tooltip-content"}})])},r=[],o=n(6441),c=n(9007),d=n(8659),p=n(7652);const m=T=>(0,p.HD)(T.value)?{content:T.value}:T.value,g=()=>{};var k={name:"Tooltip",created(){this.active=null,this.hideOnDocumentVisibilityChangeHandler=g,this.hideOnScrollHandler=g,this.instances=[]},beforeDestroy(){this.instances=null,this.clearTooltip()},methods:{bind(T,D){this.instances.push({element:T,options:m(D||{value:T.getAttribute("title")})}),T.removeAttribute("title"),T.addEventListener("mouseenter",this.showTooltip),T.addEventListener("focus",this.showTooltip)},update(T,D){const Z=this.instances.find(ne=>ne.element===T);!Z||(Z.options=m(D))},unbind(T){const D=this.instances.find(Z=>Z.element===T);!D||(this.active===D&&this.hideTooltip({target:D.element}),(0,d.A)(this.instances,D),T.removeEventListener("mouseenter",this.showTooltip),T.removeEventListener("focus",this.showTooltip),T.removeEventListener("mouseleave",this.hideTooltip),T.removeEventListener("blur",this.hideTooltip))},showTooltip({target:T}){const D=this.instances.find($=>$.element===T);if(!D||!D.options||!D.options.content)return;const Z=D.options.delay||400,ne=D.options.position||"top",J=D.options.padding||0;this.clearTooltip(),D.element.classList.contains(o.xL.CONFIRM_OPEN)||(this.active=D,D.element.addEventListener("mouseleave",this.hideTooltip),D.element.addEventListener("blur",this.hideTooltip),this.showTimeout=setTimeout(()=>{this.showFrame=window.requestAnimationFrame(()=>{this.$refs&&this.$refs.content&&D.options&&(this.$refs.content.textContent=D.options.content),this.$el.classList.add(ne),(0,c._O)(D.element,this.$el,ne,J)})},Z)),D.options.closeOnScroll!==!1&&this.hideOnScroll(T),this.hideOnDocumentVisibilityChange(T)},hideOnDocumentVisibilityChange(T){this.hideOnDocumentVisibilityChangeHandler=()=>{this.hideTooltip({target:T})},document.addEventListener("visibilitychange",this.hideOnDocumentVisibilityChangeHandler)},hideOnScroll(T){this.hideOnScrollHandler=()=>{this.hideTooltip({target:T})},window.addEventListener("scroll",this.hideOnScrollHandler)},hideTooltip({target:T}){!this.instances.find(Z=>Z.element===T)||(this.clearTooltip(),this.hideFrame=window.requestAnimationFrame(()=>{this.$refs&&this.$refs.content&&(this.$refs.content.textContent=null),(0,c.fs)(this.$el)}))},clearTooltip(){this.active&&(this.active.element.removeEventListener("mouseleave",this.hideTooltip),this.active.element.removeEventListener("blur",this.hideTooltip),this.active=null),clearTimeout(this.showTimeout),window.cancelAnimationFrame(this.hideFrame),window.cancelAnimationFrame(this.showFrame),window.removeEventListener("scroll",this.hideOnScrollHandler),document.removeEventListener("visibilitychange",this.hideOnDocumentVisibilityChangeHandler)}}},b=k,l=n(1900),y=(0,l.Z)(b,i,r,!1,null,null,null),w=y.exports,E=n(4080);const M=E.ZP.extend(w);let N,O=!1;const x=()=>{if(N||(N=new M),!O){const T=document.createElement("div");document.body.appendChild(T),N?.$mount(T),O=!0}return N};function A(){N.$destroy(),O=!1,N=null}var U={bind:(T,D)=>x().bind(T,D),componentUpdated:(T,D)=>x().update(T,D),unbind:(T,D)=>x().unbind(T,D)}},4293:function(C,_,n){var i=n(4279),r=n.n(i);const o=new(r());_.Z=o},8246:function(C,_,n){n.d(_,{FR:function(){return r}});const i={},r=d=>{var p,m;return((m=(p=window.chesscom)==null?void 0:p.features)==null?void 0:m.includes(d))?!0:Boolean(i[d])},o=({feature:d,hasAccess:p})=>{i[d]=p},c=d=>{const p=d.dataset,m=Object.keys(p),g="feature";m.forEach(k=>{k.indexOf(g)===0&&o({feature:k.substring(g.length).split(/(?=[A-Z])/).join("_").toLowerCase(),hasAccess:Boolean(p[k])})})}},9901:function(C,_,n){n.d(_,{kN:function(){return r},_$:function(){return o},Ux:function(){return c},sY:function(){return d},nj:function(){return p}});var i=n(4080);const r=(0,i.qj)({isCommentsCheckboxVisible:!1,isHighlightsCheckboxVisible:!1,isAnalyzedPgnCheckboxVisible:!1}),o=(0,i.qj)({isAnalyzedPgnEnabled:!1,isCommentsEnabled:!0,isHighlightsEnabled:!1,isTimestampsEnabled:!1});function c(m){Object.keys(m).forEach(g=>{o[g]=m[g]})}function d(m){Object.keys(m).forEach(g=>{r[g]=m[g]})}const p=({isCommentsEnabled:m,isHighlightsEnabled:g,isTimestampsEnabled:k})=>{const b=!m,l=[];return k&&l.push("clk","timestamp"),g&&l.push("c_effect","c_arrow","c_highlight"),{hideComments:b,restrictCommands:l}}},9079:function(C,_,n){n.d(_,{X:function(){return i}});function i(){return Math.floor(Math.random()*2+1)}},7600:function(C,_,n){n.d(_,{K:function(){return i}});function i(){return`${self.location.origin}${window.Config.pathToEcoJson}`}},1065:function(C,_,n){n.d(_,{Ak:function(){return m}});var i=n(8246);const r=b=>b.replace(/(<(?!img|\/?iframe)([^>]+)>)/gi,""),o=b=>b.replace(/&nbsp;/g,""),c=(b,l,y)=>b.split(l).join(y),d=b=>{const l=r(b);return o(l).trim()},p=b=>new DOMParser().parseFromString(`<!doctype html><body>${b}`,"text/html").body.textContent,m=b=>{if(!b)return b;const l=[60,62];let y=b.length;const w=[];for(;y--;){const E=b[y].charCodeAt();l.indexOf(E)>-1?w[y]=`&#${E};`:w[y]=b[y]}return w.join("")},g=b=>{const l=hasFeatureAccess("disable_link_and_username_separation")?/(^|[^a-zA-Z0-9_!#$%&*@/])([@]([a-zA-Z0-9_-]{3,25}))/g:/(^|[^a-zA-Z0-9_!#$%&*@])([@]([a-zA-Z0-9_-]{3,25}))/g;return String(b).replace(l,(y,w,E,M)=>`${w}<span class="v-user-popover" v-user-popover="'${M}'" data-username="'${M}'"> ${E}</span>`)};function k(b){const l=["onerror="];let y=b;return l.forEach(w=>{y=y.replace(w,"")}),l.some(w=>y.includes(w))?k(y):y}},5781:function(C,_,n){n.d(_,{Z:function(){return le}});var i=n(9669),r=n.n(i),o=r();function c(K){return d(K)||p(K)||m(K)}function d(K){return K.startsWith("/service/")||K.includes(".com/service/")}function p(K){return K.includes("chessbomb.com")}function m(K){return/https:\/\/(?!www)([\S]+)chess.com/.test(K)}const g=["delete","patch","post","put"];function k(K){return!K||c(K.url)||!g.includes(K.method)||(K.data instanceof FormData||K.data instanceof URLSearchParams?K.data.append("_token",window.context.csrf.token):K.data=Object.assign({_token:window.context.csrf.token},K.data||{})),K}var b=n(2946);const l=()=>Math.random().toString(36).substring(2,15),y=K=>{let fe=l();for(;fe.length<K;)fe+=l();return fe.substring(0,K)},w=()=>{const K=document.getElementById(b.GO.NAV_ROOT);return K?Boolean(K.dataset.featureClientRequestId):!1};function E(K){return w()&&(K.headers.common["X-Chesscom-Request-Id"]=y(32)),K}const M=K=>(Object.keys(K).forEach(fe=>{const De=K[fe];typeof De=="boolean"&&(K[fe]=Number(De)),typeof De=="object"&&De!==null&&(K[fe]=M(De))}),K);function N(K){return!K||c(K.url)||typeof K.data=="object"&&(K.data=M(K.data)),K}var O=[k,E,N];function x(K){const fe=K.config,De=K.response;if(K.toString()==="Cancel")return Promise.reject(K);try{fe.data=JSON.parse(fe.data)}catch{return Promise.reject(K)}if(De&&De.status===403&&De.headers["x-chesscom-csrf-token"]&&fe&&!fe.data.retry){const He=De.headers["x-chesscom-csrf-token"];return fe.data._token=He,fe.data.retry=!0,window.context.csrf.token=He,o(fe)}return Promise.reject(K)}var A=n(9139),U=n(9110);async function T(K){if(!await(0,U.U)())return;(await(0,A.m)()).configureScope(De=>{Object.keys(K).forEach(He=>{De.setExtra(He,K[He])})})}const D=({key:K,value:fe})=>{window.chesscom||(window.chesscom={}),window.chesscom[K]||(window.chesscom[K]=fe)},Z=()=>{D({key:"logData",value:{}})},ne=({key:K,value:fe})=>{Z(),window.chesscom.logData[K]=fe,T({[K]:fe})},J=({key:K,value:fe})=>{Z();const De=window.chesscom.logData[K]||[];Array.isArray(De)?window.chesscom.logData[K]=[...De,fe]:window.chesscom.logData[K]=[De,fe]},$=()=>{Z(),window.chesscom.logData={}};function G(K){return K.headers&&K.headers["x-chesscom-request-id-cdn"]&&(ne({key:"x-chesscom-request-id-cdn",value:K.headers["x-chesscom-request-id-cdn"]}),ne({key:"x-chesscom-request-id-lb",value:K.headers["x-chesscom-request-id-lb"]})),K}function q(K,fe){var De;if(!fe.name)throw new Error("interceptor must be a named function");return(De=K.handlers)==null?void 0:De.find(He=>{var L;return((L=He.fulfilled)==null?void 0:L.name)===fe.name})}function pe(K){O.forEach(fe=>{q(K.interceptors.request,fe)||K.interceptors.request.use(fe)}),q(K.interceptors.response,G)||K.interceptors.response.use(G,x)}pe(o);var le=o},9205:function(C,_,n){n.d(_,{p6:function(){return w},uf:function(){return E}});var i=n(6441),r=n(6912),o=Object.defineProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(O,x,A)=>x in O?o(O,x,{enumerable:!0,configurable:!0,writable:!0,value:A}):O[x]=A,g=(O,x)=>{for(var A in x||(x={}))d.call(x,A)&&m(O,A,x[A]);if(c)for(var A of c(x))p.call(x,A)&&m(O,A,x[A]);return O};function k(O="",x="-"){return(O||(Object.prototype.hasOwnProperty.call(window,"context")?window.context.i18n.locale:"en-US")).replace("_",x)}const b=()=>{switch(new Date().getMonth()){case 3:case 5:case 8:case 10:return 864e5*30;case 1:return new Date().getFullYear()%4===0?864e5*29:864e5*28;default:return 864e5*31}};function l(O,x,A){return O==="year"?x?r.Z.transChoice("{1} 1 year ago|]1,Inf] %1$s% years ago",A,{"%1$s%":A}):r.Z.transChoice("{1} 1 year|]1,Inf] %1$s% years",A,{"%1$s%":A}):O==="month"?x?r.Z.transChoice("{1} 1 month ago|]1,Inf] %1$s% months ago",A,{"%1$s%":A}):r.Z.transChoice("{1} 1 month|]1,Inf] %1$s% months",A,{"%1$s%":A}):O==="day"?x?r.Z.transChoice("{1} 1 day ago|]1,Inf] %1$s% days ago",A,{"%1$s%":A}):r.Z.transChoice("{1} 1 day|]1,Inf] %1$s% days",A,{"%1$s%":A}):O==="hour"?x?r.Z.transChoice("{1} 1 hour ago|]1,Inf] %1$s% hours ago",A,{"%1$s%":A}):r.Z.transChoice("{1} 1 hour|]1,Inf] %1$s% hours",A,{"%1$s%":A}):O==="minute"?x?r.Z.transChoice("{1} 1 minute ago|]1,Inf] %1$s% minutes ago",A,{"%1$s%":A}):r.Z.transChoice("{1} 1 minute|]1,Inf] %1$s% minutes",A,{"%1$s%":A}):""}const y={year:31536e6,month:b(),day:864e5,hour:36e5,minute:6e4},w={mergeOptions(O){return g({abbreviateHours:!1,abbreviateMinutes:!0,includeDays:!1},O)},getUnitsInInt(O,x={}){const A=w.mergeOptions(x),U=86400,T=3600,D=60;let Z=0,ne=0,J=0,$=O;return A.includeDays===!0&&(Z=Math.floor($/U),$-=Z*U),ne=Math.floor($/T),$-=ne*T,J=Math.floor($/D),{minutes:J,hours:ne,days:Z}},getDaysHoursMinutesAsString(O,x={}){const A=w.getDaysHoursMinutesAsObject(O,x),{minutes:U,hours:T,days:D}=w.getUnitsInInt(O,x),Z=[];return D>0&&Z.push(A.days),T>0&&Z.push(A.hours),(U>0||Z.length===0)&&Z.push(A.minutes),Z.join(" ")},getDaysHoursMinutesAsObject(O,x={}){const A=w.mergeOptions(x),{minutes:U,hours:T,days:D}=w.getUnitsInInt(O,x),Z=r.Z.transChoice("{0} 0 days|{1} 1 day|]1,Inf] %1$s% days",D,{"%1$s%":D});let ne=r.Z.transChoice("{0} 0 hours|{1} 1 hour|]1,Inf] %1$s% hours",Math.floor(T),{"%1$s%":T}),J=r.Z.transChoice("{0} 0 min|{1} 1 min|]1,Inf] %1$s% min",U,{"%1$s%":U});return A.abbreviateHours&&(ne=r.Z.transChoice("{0} 0 hrs|{1} 1 hr|]1,Inf] %1$s% hrs",Math.floor(T),{"%1$s%":T})),A.abbreviateMinutes||(J=r.Z.transChoice("{1} 1 minute|]1,Inf] %1$s% minutes",U,{"%1$s%":U})),{days:Z,hours:ne,minutes:J}},long:(O=new Date,x={})=>{const A=O instanceof Date?O:new Date(O),U={year:"numeric",month:"short",day:"numeric"};return new Intl.DateTimeFormat(k(),g(g({},U),x)).format(A)},full:(O=new Date,x={})=>{const A=O instanceof Date?O:new Date(O),U={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"};return new Intl.DateTimeFormat(k(),g(g({},U),x)).format(A)},numeric:(O=new Date,x={})=>{const A=O instanceof Date?O:new Date(O);if(window.Intl){const D=k();return new Intl.DateTimeFormat(D,Object.assign({day:"2-digit",month:"2-digit",year:"numeric"},x)).format(A)}const U=`0${A.getMonth()+1}`.slice(-2),T=`0${A.getDate()}`.slice(-2);return`${U}/${T}/${A.getFullYear()}`},relative:(O,x=!0,A=!0,U=!1,T=Date.now())=>{let D,Z;const J=(O instanceof Date?O:new Date(O)).getTime(),$=U?J-T:T-J;if(Math.abs($)>y.month&&x){const q={year:"numeric",month:"short",day:"numeric"};return new Intl.DateTimeFormat(k(),q).format(J)}if($>=y.year)Z="year",D=Math.abs(Math.floor($/y.year));else if($>=y.month)Z="month",D=Math.abs(Math.floor($/y.month));else if($>=y.day)Z="day",D=Math.abs(Math.floor($/y.day));else if($>=y.hour)Z="hour",D=Math.abs(Math.floor($/y.hour));else if($>=y.minute)Z="minute",D=Math.abs(Math.floor($/y.minute));else return U?r.Z.trans("Right now"):r.Z.trans("Just now");const G=Math.abs($)===$;return l(Z,G&&A,D)},customNumericDate:(O=new Date,x="/",A="m/d/y")=>{const U=O instanceof Date?O:new Date(O),T={d:`0${U.getDate()}`.slice(-2),m:`0${U.getMonth()+1}`.slice(-2),y:`${U.getFullYear()}`};return["m","d","y"].every(ne=>A.split("/").includes(ne))?A.split("/").reduce((ne,J)=>(ne.push(T[J]),ne),[]).join(x):`${T.m}${x}${T.d}${x}${T.y}`},userDate:O=>{const x=window.context.user?new Date(O*1e3).toLocaleString("en-US",{timeZone:window.context.user.timezone}):new Date(O*1e3),A=new Date(x).setMilliseconds(0),U=new Date(A),T=i.Iz.daysOfWeek[U.getDay()],D=U.getDate(),Z=i.Iz.months[U.getMonth()],ne=U.toLocaleTimeString(k()),J=ne.split(" ").length>1?ne.split(" ")[1]:"",$=ne.split(" ")[0].split(":");$.pop();const G=$.join(":");return`${T}, ${Z} ${D}, ${G}${J}`}};function E(O,x="",A={}){return new Intl.NumberFormat([k(x),"en-US"],A).format(O)}function M(O,x=0){if(O<0||O==null)return"";const U=(O%1e3/1e3).toFixed(x+1).slice(2,x+2),T=Math.floor(O/1e3),D=Math.floor(T/60),Z=Math.floor(D/60),ne=D%60,J=ne<10&&Z?`0${ne}`:ne,$=T%60,G=$<10?`0${$}`:$;let q=`${J}:${G}`;return Z&&(q=`${Z}:${q}`),x&&(q=`${q}.${U}`),q}var N={formatDate:w,getLocale:k,formatNumber:E,formatTime:M}},1212:function(C,_,n){n.d(_,{q:function(){return i},b:function(){return r}});const i=(o,c)=>{if(!o)return;let d="@2x";return/\.svg$/.test(o)?o:([1.5,3,4].indexOf(c)>-1&&(d=`@${c}x`),o.replace(/(\.\w+)$/,p=>d+p))},r=o=>{if(!o)return;const c=o.substring(o.lastIndexOf("/")+1),d=o.replace(c,"");return`${o}, ${d}${i(c)} 2x`}},9323:function(C,_,n){var i=n(2239);_.Z=()=>window.location.href.indexOf(i.Z.generate("web_2fa_login"))!==-1},8148:function(C,_,n){n.d(_,{H:function(){return i}});function i(){return"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"}},4759:function(C,_,n){n.d(_,{Q:function(){return i},P:function(){return r}});const i=(o,...c)=>JSON.parse(o,...c),r=(o,...c)=>JSON.stringify(o,...c)},9562:function(C,_,n){var i=n(217),r=n(4080),o=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,k=(w,E,M)=>E in w?o(w,E,{enumerable:!0,configurable:!0,writable:!0,value:M}):w[E]=M,b=(w,E)=>{for(var M in E||(E={}))m.call(E,M)&&k(w,M,E[M]);if(p)for(var M of p(E))g.call(E,M)&&k(w,M,E[M]);return w},l=(w,E)=>c(w,d(E));r.ZP.mixin(i.Z);const y=w=>new r.ZP(l(b({},w),{el:w.el,render:E=>E(w.component,{props:w.propsData}),store:w.store}));_.Z=(w={})=>{const E={},M=(O,x={})=>!w[O]||!Object.keys(w[O]).length?null:(E[O]=E[O]||y(b(b({},w[O]),x)),E[O]);return{createInstance:M,createInstances:O=>{O.forEach(x=>M(x))},instances:E}}},2239:function(C,_,n){n.d(_,{Z:function(){return m}});var i=n(334),r=n.n(i);function o(){return r()}function c(g){var k,b,l;const y=o();if(!y.routes_[g]){try{Object.assign(y.context_,{base_url:"",prefix:"",host:"www.chess-dev.com",port:"",scheme:"https",locale:""})}catch{}if(Object.isFrozen(y.routes_)&&(y.routes_=Object.assign({},y.routes_)),(b=(k=window.chesscom)==null?void 0:k.routes)!=null&&b[g]){const w=window.chesscom.routes[g],E=".chess-dev.com",M=window.location.host.replace(/^[^.]+/,"");M&&((l=w.hosttokens)==null||l.forEach(N=>{N.forEach((O,x)=>{O.includes(E)&&(N[x]=O.replace(E,M))})})),y.routes_[g]=w}}}var d=n(780);class p{generate(k,b,l){const y=b||{};typeof y.username=="string"&&(y.username=y.username.toLowerCase()),c(k);try{return o().generate(k,y,l)}catch{const E=new Error(`Couldn't find missing route '${k}'.`);return console.error(E),"/"}}i18nable(k){return`i18n_${k}`in window.chesscom.routes}i18n(k,b,l){var y,w;let E=k;const M=b||{};if(((w=(y=window.context)==null?void 0:y.route)==null?void 0:w.startsWith("i18n"))&&this.i18nable(k)){const O="_locale";M[O]=window.context.locale.slice(0,2),E=`i18n_${k}`}const N=this.generate(E,M,l);return l?N:N.replace(/^.*\/\/[^/]+/,"")}}var m=new p},780:function(C,_,n){n.d(_,{T:function(){return c}});var i=n(9139),r=n(9110);async function o(d=0){var p;if(!await(0,r.U)())return;window.chesscom.sudoEnableSentry=!0;const m=await(0,i.m)();for(;(p=window.chesscom.queuedSentryReports)!=null&&p.length;)m.captureException(window.chesscom.queuedSentryReports.shift());if(d>0){const g=Date.now()+d*24*60*60*1e3;window.localStorage.setItem("enableSentryUntil",g.toString())}}async function c(d,p){if(!await(0,r.U)())return;o();const m=await(0,i.m)(),g=d instanceof Error?d:new Error(d);p?m.withScope(k=>{Object.keys(p).forEach(b=>k.setExtra(b,p[b])),m.captureException(g)}):m.captureException(g)}},9139:function(C,_,n){n.d(_,{m:function(){return k}});var i=Object.create,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,d=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,m=(b,l,y,w)=>{if(l&&typeof l=="object"||typeof l=="function")for(let E of c(l))!p.call(b,E)&&E!==y&&r(b,E,{get:()=>l[E],enumerable:!(w=o(l,E))||w.enumerable});return b},g=(b,l,y)=>(y=b!=null?i(d(b)):{},m(l||!b||!b.__esModule?r(y,"default",{value:b,enumerable:!0}):y,b));async function k(){return n.e(631).then(n.bind(n,6048))}},9110:function(C,_,n){n.d(_,{U:function(){return r}});var i=n(9139);async function r(){try{const o=await(0,i.m)();return Boolean(o.getCurrentHub().getClient())}catch{return!1}}},8311:function(C,_,n){n.d(_,{M:function(){return i}});const i=(c,d)=>[c,r(c,d)],r=(c,d)=>{switch(c){case"coordinates":return o(d);default:return d}},o=c=>["off","inside","outside"].includes(c)?["off","inside","outside"].indexOf(c):c},895:function(C,_,n){n.d(_,{R:function(){return o}});var i=n(1345),r=n(2343);const o=m=>Object.entries(m).reduce((g,[k,b])=>{const[l,y]=c(k,b);return g[l]=y,g},{}),c=(m,g)=>{const k=d(m);return[k,p(k,g)]},d=m=>{switch(m){case"animationType":return"board.animation_type";case"boardStyle":return"board.board_style";case"coordinates":return"board.coordinates";case"highlightLegalMoves":return"board.show_legal_moves";case"highlightMoves":return"board.highlight_moves";case"isWhiteOnBottom":return"board.white_always_on_bottom";case"moveListDisplayType":return"board.move_list_style";case"moveMethod":return"board.move_method";case"pieceStyle":return"board.pieces_style";case"playSounds":return"board.play_sounds";case"soundTheme":return"board.sound_theme";case"showTimestamps":return"gameplay.show_timestamps";default:return m}},p=(m,g)=>{switch(m){case"board.pieces_style":return g==="modern2"?"modern":g;case"board.animation_type":return(0,i.C)(g);case"board.move_method":return(0,r.N)(g);case"board.coordinates":return["off","inside","outside"].includes(g)?g:["off","inside","outside"][g];default:return g}}},1345:function(C,_,n){n.d(_,{C:function(){return i},E:function(){return r}});function i(o){return!o||o==="default"?"medium":o}function r(o){return!o||o==="medium"||o==="battle"?"default":o}},2343:function(C,_,n){n.d(_,{z:function(){return i},N:function(){return r}});function i(o){switch(o){case"drag_only":return"drag-only";case"click":return"click";case"drag":default:return"drag"}}function r(o){switch(o){case"click":return"click";case"drag-only":return"drag_only";case"drag":default:return"drag"}}},2530:function(C,_,n){n.d(_,{U:function(){return k}});const i=3,r={SOUND_SUSPENDED:"sound-suspended",SOUND_ENABLED:"sound-enabled"},o=["webm","ogg","mp3","wav"],c="default",d="//images.chesscomfiles.com/chess-themes/sounds",p=["move-check","premove","capture","castle","game-end","game-start","promote","move-opponent","move-self"],m=p.concat(["click","correct","drawoffer","illegal","incorrect","notify","tenseconds"]);function g(b,l,y=c){return`${d}/_${l.toUpperCase()}_/${y}/${b}.${l}`}function k(b,l){return p.includes(b)?o.map(y=>g(b,y,l)):m.includes(b)?o.map(y=>g(b,y)):[`/bundles/web/sounds/${b}.mp3`]}},217:function(C,_,n){var i=n(8848);_.Z={methods:{$trans:i.dW,$transChoice:i.jn}}},8848:function(C,_,n){n.d(_,{dW:function(){return k},jn:function(){return b},$H:function(){return E}});var i=n(2475),r=n.n(i),o,c;const d=((c=(o=window.context)==null?void 0:o.i18n)==null?void 0:c.locale)==="fr_FR";r().placeHolderPrefix="",r().placeHolderSuffix="";const p=M=>M.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),m=M=>{const N={};return M!==null&&typeof M<"u"&&Object.keys(M).forEach(O=>{const x=p(O);x!=null&&x.length>0&&(N[x]=M[O])}),N},g=(M,N="messages",O)=>{if(window.chesscom_translations&&window.chesscom_translations[N]&&window.chesscom_translations[N][M])return window.chesscom_translations[N][M];if(window.chesscom_live_translations&&window.chesscom_live_translations[N]&&window.chesscom_live_translations[N][M])return window.chesscom_live_translations[N][M];if(N==="live"&&window.i18n_phrases&&window.i18n_phrases[M])return window.i18n_phrases;if(N==="countries"&&window.Country&&window.Country[M])return window.Country;if(!O)return N!=="javascript"?g(M,"javascript"):M},k=(M,N,O)=>r().trans(g(M,O),m(N),O),b=(M,N,O,x)=>{if(typeof N>"u")return"";const A=g(M,x),U=m(O);return d?l(A,N,U,x):r().transChoice(A,N,U)};function l(M,N,O,x){const[A,U,T]=M.split("|").map(D=>D.trim());return N===0||N===1?r().trans(A,O,x):N%1e6===0?r().trans(U,O,x):r().trans(T,O,x)}const y=(M,N)=>!!g(M,N,!0),w=()=>{if(window.chesscom_translations&&window.chesscom_translations.countries)return window.chesscom_translations.countries;if(window.chesscom_live_translations&&window.chesscom_live_translations.countries)return window.chesscom_live_translations.countries;if(window.Country)return window.Country},E={trans:k,transChoice:b}},6912:function(C,_,n){var i=n(8848);_.Z=i.$H},7652:function(C,_,n){n.d(_,{Kn:function(){return d},HD:function(){return p},mf:function(){return m},hj:function(){return g},jn:function(){return w}});function i(E){return E!==void 0}function r(E){return y(E)&&Object.keys(E).length===0}function o(E){return E===null}function c(E){return E===void 0}function d(E){return!o(E)&&typeof E=="object"}function p(E){return typeof E=="string"}function m(E){return typeof E=="function"}function g(E){return typeof E=="number"&&!isNaN(E)}function k(E){return o(E)||c(E)}function b(E){return Array.isArray(E)}function l(E){if(!d(E))return!1;const M=Object.prototype.toString.call(E);return M==="[object Error]"||M==="[object DOMException]"}function y(E){return d(E)?E.constructor&&E.constructor.name==="Object":!1}function w(E){return typeof E=="boolean"}},9701:function(C,_,n){n.d(_,{vV:function(){return i},Ip:function(){return r},rh:function(){return d}});const i=m=>/^([A-Za-z0-9_\-.+])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/.test(m),r=m=>/^[0-9]{5}(?:-[0-9]{4})?$/.test(m),o=m=>/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-/]))?/.test(m),c=m=>/^([0-9]{2}:)?[0-5][0-9]:[0-5][0-9]$/.test(m),d=m=>typeof m=="string"&&m.length>=3&&m.length<=20&&/^[A-Z0-9]+([_-][A-Z0-9]+)*$/ui.test(m),p=m=>m.toString().match(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/)},3765:function(C,_,n){n.d(_,{D:function(){return i}});const i=(r=0)=>new Promise(o=>{setTimeout(o,r)})},3641:function(C,_,n){n.d(_,{o:function(){return i}});function i(r){window.postMessage(r,window.location.origin)}},4080:function(C,_,n){n.d(_,{Fl:function(){return r.Fl},ZP:function(){return J},RC:function(){return r.RC},aZ:function(){return r.aZ},h:function(){return r.h},qj:function(){return r.qj},iH:function(){return r.iH},YP:function(){return r.YP}});var i=n(217),r=n(538),o=JSON.parse('{"sidebar":{"upgradeLink":"ads-sidebar-upgrade-link"}}'),c=JSON.parse('{"chatMessage":{"avatar":"chat-message-avatar","messageText":"chat-message-text"}}'),d=JSON.parse('{"postDeleteIcon":"comment-post-delete-icon"}'),p=JSON.parse('{"buttons":{"cancelButton":"confirm-popover-cancel-button","yesButton":"confirm-popover-yes-button"}}'),m=JSON.parse('{"blogs":{"title":"wat_blogs-title"}}'),g=JSON.parse('{"moveFeedback":{"topLine":"move-feedback-top-line"}}'),k=JSON.parse('{"mainControls":{"analysis":"explorer-main-controls-analysis","moveBack":"explorer-main-controls-move-back","moveForward":"explorer-main-controls-move-forward","practice":"explorer-main-controls-practice","reset":"explorer-main-controls-reset"},"gameFilters":{"chooseGame":"explorer-game-filters-choose-game","gameType":"explorer-game-filters-game-type","mastersSearch":"explorer-game-filters-masters-search"},"moveListSection":{"searchUrl":"explorer-move-list-section-search-url","suggestedMoves":{"items":"explorer-suggested-moves-items","moveType":"explorer-suggested-moves-move-type","suggestedBlack":"explorer-suggested-moves-suggested-black","suggestedDraw":"explorer-suggested-moves-suggested-draw","suggestedWhite":"explorer-suggested-moves-suggested-white","totalGames":"explorer-suggested-moves-total-games"}},"shareButtons":{"download":"explorer-share-buttons-download","share":"explorer-share-buttons-share","shareFromFilters":"explorer-share-buttons-share-from-filters"}}'),b=JSON.parse('{"userWhite":"modal-game-over-user-white","userBlack":"modal-game-over-user-black","score":"modal-game-over-score","avatar":"modal-game-over-avatar","headerTitle":"modal-game-over-header-title","headerSubtitle":"modal-game-over-header-subtitle","headerIcon":"modal-game-over-header-icon"}'),l=JSON.parse('{"listItem":"messages-message-list-item","newMessageButton":"messages-new-message-button","archiveAllConversationsBtn":"messages-archive-all-conversations-button","deleteAllConversationsBtn":"messages-delete-all-conversations-button","listItemUsernameText":"messages-message-list-item-username-text","listItemFlag":"messages-message-list-item-flag","listItemMessage":"messages-message-list-item-message","conversationItem":"messages-message-conversation-item","conversationItemAvatar":"messages-message-conversation-item-avatar","inboxTabButton":"messages-inbox-tab-button","unreadTabButton":"messages-unread-tab-button","archiveTabButton":"messages-archive-tab-button","archiveConversationButton":"messages-archive-conversation-button","deleteConversationButton":"messages-delete-conversation-button","restoreConversationButton":"messages-restore-conversation-button","modalCancelButton":"messages-modal-cancel-button","modalConfirmButton":"messages-modal-confirm-button","unreadMessagesCount":"messages-unread-messages-count"}'),y=JSON.parse('{"firstTimeButton":"modal-first-time-button"}'),w=JSON.parse('{"gameItem":"practice-game-item"}'),E=JSON.parse('{"dailyPuzzlePage":{"date":"daily-puzzle-date","hideCalendar":"daily-puzzle-hideCalendar","hint":"daily-puzzle-hint","month":"daily-puzzle-month","nextMonth":"daily-puzzle-nextMonth","nextPuzzle":"daily-puzzle-nextPuzzle","previousMonth":"daily-puzzle-previousMonth","previousPuzzle":"daily-puzzle-previousPuzzle","share":"daily-puzzle-share","showCalendar":"daily-puzzle-showCalendar","solution":"daily-puzzle-solution","successModal":"daily-puzzle-successModal","title":"daily-puzzle-title","tryAgain":"daily-puzzle-tryAgain"},"modals":{"closeButton":"puzzles-rated-settings-closeBtn","firstTimeButton":"modal-first-time-button","score":"puzzles-modal-score","select":"puzzles-modal-select","settingsModal":"puzzles-modal-settingsModal","showTimerInput":"puzzles-modal-showTimerInput","statValue":"puzzles-modal-stat-value"},"buttons":{"settings":"puzzles-settings-button","comments":"puzzles-comments-button","download":"puzzles-download-button","share":"puzzles-share-button","playVsComputer":"puzzles-playVsComputer-button"},"ratedPage":{"animatedNumber":"puzzles-rated-animatedNumber","ratingDelta":"puzzles-rated-ratingDelta","recentAttemptsChart":"recent-attempts-chart","speedBonus":"puzzles-rated-speedBonus","streakInfo":"puzzles-rated-streakInfo","themeControlsComponent":"puzzles-rated-themeControlsComponent","themeControlsSuggestions":"puzzles-rated-themeControlsSuggestions","timer":"rated-timer","timerClockIcon":"puzzles-rated-timerClockIcon","toMoveSectionHeading":"to-move-section-heading","usersRating":"users-rating","userAvatar":"user-avatar","buttons":{"analysis":"analysis-btn","back":"arrow-back-button","hintMove":"hint-move-button","nextMove":"next-move-arrow","nextPuzzle":"next-puzzle-btn","previousMove":"previous-move-arrow","restartPuzzle":"restart-puzzle-btn","showSolution":"show-solution-button"},"endPuzzleStats":{"attempts":"puzzles-rated-endPuzzleStats-attempts","passRate":"puzzles-rated-endPuzzleStats-passRate","rating":"puzzles-rated-endPuzzleStats-rating","speedBonus":"puzzles-rated-endPuzzleStats-speedBonus","targetTime":"puzzles-rated-endPuzzleStats-targetTime"}}}'),M=JSON.parse('{"gameReviewButton":"quick-analysis-game-review-button","analysisButton":"quick-analysis-analysis-button"}'),N=JSON.parse('{"shareLinkInput":"share-menu-share-link-input"}'),O=JSON.parse('{"saveToArchiveButton":"vs-personalities-save-to-archive-button","saveToArchiveLabel":"vs-personalities-save-to-archive-label"}'),x={ads:o,chat:c,comments:d,confirmPopover:p,connect:m,engine:g,explorer:k,gameOverModal:b,messages:l,modals:y,practice:w,puzzles:E,quickAnalysis:M,shareMenu:N,vsPersonalities:O},A=Object.defineProperty,U=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,Z=($,G,q)=>G in $?A($,G,{enumerable:!0,configurable:!0,writable:!0,value:q}):$[G]=q,ne=($,G)=>{for(var q in G||(G={}))T.call(G,q)&&Z($,q,G[q]);if(U)for(var q of U(G))D.call(G,q)&&Z($,q,G[q]);return $};r.ZP.config.productionTip=!1,r.ZP.mixin(i.Z),["prod","staging"].includes("dev")||(r.ZP.prototype.$cy=ne({},x));var J=r.ZP},234:function(C,_,n){n.d(_,{m:function(){return i}});function i(){return"//cdn.intergient.com/pageos/pageos.js"}},3096:function(C,_,n){n.d(_,{g:function(){return i}});function i(){return"//cdn.intergient.com/1024308/72720/ramp.js"}},6732:function(C,_,n){n.d(_,{jC:function(){return r},R0:function(){return o},xL:function(){return d},V5:function(){return p}});var i=n(6912);const r=7e3,o={badRequest:i.Z.trans("Oops. Looks like there was an error. Sorry! Please refresh.")},c={avatarUploaded:i.Z.trans("Avatar uploaded"),commentCreated:i.Z.trans("Thank you for your comment."),commentDeleted:i.Z.trans("Comment deleted."),commentEmptyContent:i.Z.trans("You cannot send an empty comment"),commentUpdated:i.Z.trans("Comment updated."),commentLinkCopied:i.Z.trans("Comment link is copied to clipboard"),copied:i.Z.trans("Copied to clipboard"),forumsMarkedAsRead:i.Z.trans("All forum topics have been marked as read"),featureContent:i.Z.trans("Feature Set! It might take a minute or two to appear."),inviteEmpty:i.Z.trans("Please select the players for whom to send the invitation"),inviteSent:i.Z.trans("Your invitations were sent successfully"),pgnCopied:i.Z.trans("PGN copied to buffer")},d={ALERT_FLASH_CONTAINER:"widget-alert-flash",DISMISSING:"alert-banner-dismissing"},p={error:"error",info:"info",success:"success"},m={type:p.error,message:o.badRequest}},4933:function(C,_,n){n.d(_,{el:function(){return E},OD:function(){return o},x2:function(){return N}});var i=n(6732);function r(O){const x=document.querySelector(`link[data-href*="/${O}.client"]`);x&&(x.setAttribute("href",x.getAttribute("data-href")),x.removeAttribute("data-href"))}function o(O){const x=document.getElementById(`alert-${O}`);x&&g(x)}function c(O=2){var x;const A=m();Array.from((x=A?.querySelectorAll(`.alerts-alert:not(:nth-last-child(-n + ${O}))`))!=null?x:[]).forEach(g)}function d(){const O=m();O&&(O.innerHTML="")}function p(O){var x;O.type!==i.V5.success&&c(2),r("alerts");const A=document.createElement("div");A.classList.add("alerts-alert"),A.classList.add("alerts-enter"),A.classList.add(`alerts-${O.type}`),A.setAttribute("id",`alert-${O.id}`);const U=document.createElement("span");U.classList.add("alerts-message"),U.innerHTML=O.message;const T=document.createElement("button");T.classList.add("alerts-close"),T.setAttribute("type","button"),T.innerHTML='<span class="icon-font-chess x"></span>',A.appendChild(U),A.appendChild(T),(x=m())==null||x.appendChild(A),T.addEventListener("click",b),O.type===i.V5.success&&setTimeout(g,i.jC,A)}function m(){return document.getElementById(i.xL.ALERT_FLASH_CONTAINER)}function g(O){O.classList.add("alerts-leave"),setTimeout(k,200,O)}function k(O){var x;try{(x=m())==null||x.removeChild(O)}catch{d()}}function b(O){var x,A;const U=(A=(x=O.target)==null?void 0:x.closest)==null?void 0:A.call(x,".alerts-alert");U&&g(U)}var l=n(4752),y=n.n(l);const w=(O,x)=>{const A=document.getElementById(`alert-${O}`);A&&A.classList.add(refs.DISMISSING),setTimeout(()=>{x()},200)};function E({message:O,type:x,id:A}){p({id:A??y()(),type:x,message:O})}function M(O){E({type:types.success,message:O})}function N(O=i.R0.badRequest){E({type:i.V5.error,message:O})}},4491:function(C,_,n){n.d(_,{zl:function(){return x},D4:function(){return O},tu:function(){return N}});const i={BAR_MARGIN:10,BAR_WIDTH:20,DEFAULT_BAR_PERCENTAGE:50,DEFAULT_LOADING_COLOR:"#769656",SCORE_CALC_COEFFICIENT:45,SCORE_CAP:5},r=(A=0)=>{if(A!==null){if(A>i.SCORE_CAP)return i.SCORE_CAP;if(A<-i.SCORE_CAP)return-i.SCORE_CAP}return A},o=(A=0)=>3-String(Math.floor(Math.abs(A))).length,c=(A=0)=>`${A>0?"+":""}${A.toFixed(o(Math.min(100,Math.abs(A))))}`;function d(A){const U=Math.abs(A);if(!A)return"0.0";const T=U.toString(),D=T.indexOf(".");return D===-1&&U<10?U.toFixed(1):D===-1||D>=2?Math.floor(U).toString():T.substring(0,4-D)}const p=A=>A!==null&&A>0?100:0,m=A=>i.DEFAULT_BAR_PERCENTAGE-Math.abs(A??0)*i.SCORE_CALC_COEFFICIENT/i.SCORE_CAP,g=A=>(A??0)*i.SCORE_CALC_COEFFICIENT/i.SCORE_CAP+i.DEFAULT_BAR_PERCENTAGE,k=(A={})=>A.mateIn===0,b=(A={})=>A.tablebaseOutcome,l=(A={})=>A.tablebaseOutcome==="1-0"?100:A.tablebaseOutcome==="0-1"?0:50,y=(A={})=>A.stalemate,w=(A={})=>typeof A.mateIn=="number",E=(A=0)=>A!==null&&A<0,M=(A=0)=>A!==null&&A>0,N=(A={})=>{var U;const T=r((U=A?.score)!=null?U:null);return w(A)?p(T):b(A)?l(A):M(T)?g(T):E(T)?m(T):i.DEFAULT_BAR_PERCENTAGE},O=(A={})=>{var U;return k(A)?M(A.score)?"1-0":"0-1":y(A)?"\xBD-\xBD":w(A)?`${M(A.score)?"+":"-"}M${Math.abs((U=A.mateIn)!=null?U:0)}`:c(Math.min(100,A.score))};function x(A={}){var U;return k(A)?M(A.score)?"1-0":"0-1":y(A)?"\xBD":w(A)?`M${Math.abs((U=A.mateIn)!=null?U:0)}`:b(A)?"TB":d(A.score)}},6441:function(C,_,n){n.d(_,{Y4:function(){return p},_G:function(){return g},U3:function(){return y},$y:function(){return k},xL:function(){return l},Iz:function(){return b}});const i={BOARD_POPOVER:"v-board-popover",CONFIRM_POPOVER:"v-new-confirm-popover",TOOLTIP:"v-tooltip",USER_POPOVER:"v-user-popover"};var r=n(2239),o=n(6912),c,d;const p={ARIA_CONTROLS:"aria-controls",ARIA_LABEL:"aria-label",ARIA_SELECTED:"aria-selected",AVATAR:"data-avatar",ALIGN_DROPDOWN:"data-align-dropdown",BORDER_TOP:"data-border-top",BORDER_TOP_WIDE:"data-border-top-wide",BUTTON_TEXT:"data-button-text",CATEGORIES:"data-categories",CONTROL_LABEL_TEXT:"data-control-label-text",CUSTOM_BTN_CLASS:"data-custom-btn-class",CUSTOM_COLLAPSE_CLASS:"data-custom-collapse-class",DARK_MODE:"data-dark-mode",HIDDEN:"hidden",ICON_BUTTON:"data-icon-button",NEXT_LESSON_HINT:"data-next-lesson-hint",OPTIONS:"data-options",SHOW_ICON:"data-show-icon",SELECTED_LANGUAGES:"data-selected-languages",SELECTED_PAGE:"data-selected-page",SELECTED_VALUE:"data-selected-value",SLOTS:"data-stats-slots",SRC:"src",STATS:"data-stats",SURVEY_DATA:"data-survey",SURVEY_VOTED:"data-voted-survey",TAB_URL_PARAM:"data-tab-url-param",TYPE:"data-type",USERNAME:"data-username",USER_LANGUAGE:"data-user-language",VALUE:"data-value",VS_STATS:"data-vs-stats"},m={getArticleAuthors:"web_article_callback_list_authors",getContent:"web_content_callback_load_more",lockUnlockComments:{article:"web_article_callback_lock_coments",blog:"web_blog_callback_lock_coments",news:"web_news_callback_lock_coments",video:"web_video_callback_lock_coments"},setArticleFeature:"web_content_callback_feature_article",setBlogFeature:"web_content_callback_feature_blog",setLessonsFeature:"web_content_callback_feature_lesson_course",setNewsFeature:"web_content_callback_feature_news",setVideoFeature:"web_content_callback_feature_chess_video"},g={BLOG:"blog",CSRF_TOKEN:(d=(c=window.context)==null?void 0:c.csrf)==null?void 0:d.token,DARK_MODE:"dark-mode",DEFAULT_LOCALE:"en_US",LESSONS:"lessons",NEWS:"news",VIDEO:"video",GRID_VIEW:"grid",LIST_VIEW:"list",LOCALE:window.context&&window.context.locale||"en_US",LOGGED_IN:window.context&&window.context.user,PUZZLES_COUNT:500,TIME:{hour:36e5},USERNAME:window.context&&window.context.user?window.context.user.username:null,USER_COLOR_SCHEME:"COLOR_SCHEME"},k={CHESS_960:"chess960"},b={category:M=>o.Z.trans(M,{},"dynamic"),commentsSynced:o.Z.trans("Comment count will be recalculated in few moments"),daysOfWeek:[o.Z.trans("Sunday"),o.Z.trans("Monday"),o.Z.trans("Tuesday"),o.Z.trans("Wednesday"),o.Z.trans("Thursday"),o.Z.trans("Friday"),o.Z.trans("Saturday")],loading:o.Z.trans("Loading..."),months:[o.Z.trans("January"),o.Z.trans("February"),o.Z.trans("March"),o.Z.trans("April"),o.Z.trans("May"),o.Z.trans("June"),o.Z.trans("July"),o.Z.trans("August"),o.Z.trans("September"),o.Z.trans("October"),o.Z.trans("November"),o.Z.trans("December")],monthsAbbreviated:[o.Z.trans("Jan"),o.Z.trans("Feb"),o.Z.trans("Mar"),o.Z.trans("Apr"),o.Z.trans("May"),o.Z.trans("Jun"),o.Z.trans("Jul"),o.Z.trans("Aug"),o.Z.trans("Sep"),o.Z.trans("Oct"),o.Z.trans("Nov"),o.Z.trans("Dec")],noResult:o.Z.trans("No results found."),pleaseEnter:M=>o.Z.trans("Please enter %number% or more characters",{"%number%":M}),showMore:o.Z.trans("More"),showLess:o.Z.trans("Less"),lessonsHintMessage:o.Z.trans("Let me help you learn everything you need to know with this guide."),nextLessonHintMessage:o.Z.trans("Your next lesson is ready. Study daily if you really want to improve!"),openingsHintMessage:o.Z.trans("Let me help you improve your openings!")},l={AMPLITUDE_LOGGER:"amplitude-logger",AMPLITUDE_LOG_SELECTION:"[data-log-selection-to-amplitude]",BOARD_POPOVER:i.BOARD_POPOVER,CAPTCHA:"captcha",COLLAPSE:"v-toggle-collapse",COLLAPSED:"toggle-collapsed",CONTENT_AD:"content-ad",CONTENT_CATEGORY_SELECT:"content-category-select",CONTENT_LANGUAGE_SELECT:"content-language-select",CONFIRM_OPEN:"confirm-open",CONFIRM_POPOVER:"v-confirm-popover",CONFIRM_POPOVER_INLINE:"confirm-popover-inline",DELETE_CONTENT:"post-category-link-delete",DELETE_SPAM_CONTENT:"post-category-link-delete-spam",DONATE_MODAL:"donate-modal",FEATURE_SIDEBAR_LINK:"post-category-link-feature",FILTERS:"page-filters",FOLLOW_UNFOLLOW_AUTHOR:"follow-unfollow-author",FORM_DATEPICKER:"v-datepicker",FORM_DROPDOWN:"form-dropdown",GAME_PREVIEW:"game-preview",GIFT_MEMBERSHIP_BUTTON:"give-gift-membership",GIFT_MEMBERSHIP_MODAL:"gift-membership-modal",HEADLINE_SIDEBAR_LINK:"post-category-link-headline",HIDDEN:"toggle-hidden",HINT_WRAPPER:"hint-wrapper",LANGUAGE_DROPDOWN:"post-view-languages",LOCK_UNLOCK_CONTENT:"lock-unlock-content",MESSAGE_PARENT:"vue-message",NAVIGATION_FOOTER:"navigation-footer",NEW_GAME:"new-game",PAGINATION_BOTTOM:"pagination-bottom",PAGINATION_BUTTON:"ui_pagination-item-component",PAGINATION_TOP:"pagination-top",PAGINATION_SCROLL_TOP:".pagination-scroll-to-top",POST_AUTHOR_FOLLOW:"post-author-follow",POST_CAN_EDIT_URL:"post-can-edit-url",POST_EDIT_URL:"post-edit-url",POST_EDIT_URL_FIELD:"post-edit-url-field",POST_IMAGE_BUTTON:"image-upload-button",POST_IMAGE_THUMBNAIL:"image-upload-thumbnail",PUBLISH_CONTENT:"post-category-link-publish",SCROLL_TOP_ANCHOR:"scroll-top-anchor",SHORT_SIDEBAR_AD_BOTTOM:"short-sidebar-ad-bottom",SHORT_SIDEBAR_AD_TOP:"short-sidebar-ad-top",SIDEBAR_STATS:"sidebar-stats",SIDEBAR_SURVEY:"sidebar-survey",SIDEBAR_TOGGLE_BUTTON_TEXT:"toggle-content-button-text",SIDEBAR_TOGGLE_ICON:"toggle-content-icon",SIDEBAR_USER_ITEMS:"sidebar-users-grid-toggle-item",SIDEBAR_USERS_TOGGLE_BUTTON:"toggle-content-button",STAT_CHART:"stat-chart",TABS_BUTTON:"v5-tabs-button",TABS_PANEL:"v5-tabs-panel",TABS_WRAPPER:"v5-tabs-wrapper",TIMEZONES:"page-timezones",TOOLTIP:i.TOOLTIP,TOOLTIP_CLASS:"tooltip",TOOLTIP_TOP:"top",UPGRADE_ACCORDION:"upgrade-accordion",USER_LEAGUE:"user-league",USER_TAGLINE:"post-view-meta-user",VERSION_DROPDOWN:"version-dropdown"},y={CONFIRM_POPOVER_YES:"confirm-popover-yes",SHOW_MODAL:"show-confirm-popover",VOTE_COUNTED:"vote-counted",VIEW_CHANGE:"view-change",VIEW_GRID:"view-grid",VIEW_LIST:"view-list"},w={changeContentLanguage:()=>r.Z.generate("web_user_callback_set_content_language"),enPassant:()=>r.Z.generate("web_article_view",{url:"how-to-capture-en-passant"}),inviteLink:(M,N,O)=>r.Z.generate(M,{url:N,secret:O}),lockUnlockComments:(M,N)=>r.Z.generate(m.lockUnlockComments[M],{id:N}),loginPage:r.Z.generate("web_security_login_and_go"),redirectToLoginPage:M=>r.Z.generate("web_security_login_and_go",{redirectUrl:M}),surveyVote:(M,N)=>r.Z.generate("web_survey_callback_vote",{id:M,optionId:N}),teamMatch:M=>r.Z.generate("web_team_match_view",{match:M}),tournament:M=>r.Z.generate("web_tournament_view",{url:M}),userProfile:M=>r.Z.generate("web_member_view",{username:M})},E={LESSONS_HINT_STATE:"lessons_hint_state",OPENINGS_HINT_STATE:"openings_hint_state"}},7897:function(C,_,n){n.d(_,{b:function(){return r}});var i=n(2239);const r=(o,c,d)=>{let p=o;const m=c;if(d){const g=document.querySelector("[data-url-locale]"),k=g?.getAttribute("data-url-locale"),b=k?.split("_")[0]!=="en"&&k?.split("_")[0];b&&m&&(p=d,m._locale=b)}return i.Z.generate(p,m)}},3500:function(C,_,n){n.d(_,{XP:function(){return w},Ph:function(){return E},nv:function(){return x},YE:function(){return A}});var i=n(3527),r=n.n(i),o=n(8848),c=Object.defineProperty,d=Object.defineProperties,p=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,b=(D,Z,ne)=>Z in D?c(D,Z,{enumerable:!0,configurable:!0,writable:!0,value:ne}):D[Z]=ne,l=(D,Z)=>{for(var ne in Z||(Z={}))g.call(Z,ne)&&b(D,ne,Z[ne]);if(m)for(var ne of m(Z))k.call(Z,ne)&&b(D,ne,Z[ne]);return D},y=(D,Z)=>d(D,p(Z));const w={KOMODO:"KOMODO",STOCKFISH:"STOCKFISH",STOCKFISH_NNUE:"STOCKFISH (NNUE)",OFF:"OFF"},E={name:r().supportsMultithreading()?window.chesscom.features.includes("stockfish_15_1")?"Stockfish 15.1":"Stockfish 15":"Stockfish 11",description:r().supportsMultithreading()?(0,o.dW)("faster"):"",paths:{engines:{multiThreaded:{loader:window.Config.threadedEnginePaths.stockfish.multiThreaded.loader,engine:window.Config.threadedEnginePaths.stockfish.multiThreaded.engine},singleThreaded:{loader:window.Config.threadedEnginePaths.stockfish.singleThreaded.loader,engine:window.Config.threadedEnginePaths.stockfish.singleThreaded.engine},asm:window.Config.threadedEnginePaths.stockfish.asm},pathToBook:window.Config.pathToBookSmall}},M={[w.STOCKFISH]:l({},E),[w.STOCKFISH_NNUE]:y(l({},E),{name:window.chesscom.features.includes("stockfish_15_1")?"Stockfish 15.1 NNUE":"Stockfish 15 NNUE",description:(0,o.dW)("stronger, %filesize%",{"%filesize%":"45MB"}),paths:y(l({},E.paths),{settings:{EvalFile:window.Config.threadedEnginePaths.stockfish.multiThreaded.nnue,Threads:(navigator.hardwareConcurrency/2).toString(),"Use NNUE":"true"}}),multithreadingRequired:!0}),[w.KOMODO]:{name:"Komodo",paths:{pathToEngineWorker:window.Config.pathToExplanationEngineWorker,pathToWasmEngine:window.Config.pathToWasmExplanationEngine,pathToNonWasmEngine:window.Config.pathToNonWasmKomodo}},[w.OFF]:{label:(0,o.dW)("Engine Off"),name:"Engine Off"}},N={name:"Komodo Threats",paths:{pathToEngineWorker:window.Config.pathToExplanationEngineWorker,pathToWasmEngine:window.Config.pathToWasmExplanationEngine}},O={LATEST:{value:"latest",label:"Stockfish 10"},SF12:{value:"stockfish12",label:"Stockfish 12 (NNUE)"}},x="STOCKFISH";function A(D){var Z;return(Z=M[D])!=null?Z:M[x]}function U(){const D=l({},M);return Object.entries(D).filter(T).map(([Z,ne])=>{var J;return{value:Z,label:(J=ne.label)!=null?J:ne.description?`${ne.name} (${ne.description})`:ne.name}})}function T([D,Z]){return Boolean(!Z.multithreadingRequired||loadEngine.supportsMultithreading())}},2790:function(C,_,n){n.d(_,{H:function(){return r}});var i=n(5174);const r=(0,i.I)()},2344:function(C,_,n){n.d(_,{Gw:function(){return b},OL:function(){return l},mC:function(){return y},YQ:function(){return w},VP:function(){return k}});var i=n(3500);const r={komodo:14,stockfish:14},o="analysis_engine_settings";var c=n(2790),d,p;const m={depth:20,timeLimit:10,linesCount:3,engineName:i.nv,isWdlBarSupported:!1,hasChosenWdlBar:!1};Object.assign(m,g(),{isWdlBarSupported:(p=(d=window.chesscom)==null?void 0:d.features)==null?void 0:p.includes("wdl_eval_bar_option")});function g(){try{return JSON.parse(window.localStorage.getItem(o)||"")}catch{return{}}}function k(E){Object.keys(E).some(N=>E[N]!==m[N])&&(Object.assign(m,E),window.localStorage.setItem(o,JSON.stringify(m)),c.H.emit("evaluation.settings-update"))}function b(){return m}function l(){return m.engineName===i.XP.KOMODO?50:200}function y(){return m.engineName===i.XP.KOMODO?r.komodo:r.stockfish}const w=()=>m.isWdlBarSupported},6059:function(C,_,n){n.d(_,{y0:function(){return m},oA:function(){return c},VD:function(){return p},SZ:function(){return o},xq:function(){return d}});function i(){return{fen:"",isRunning:!1,isLocked:!1,isNewPosition:!1,lines:[],selectedPly:-1,tablebaseOutcome:null,wdlBar:null}}const r=i();function o(g){r.selectedPly=g}function c(){d(i())}function d(g){Object.assign(r,g)}function p(g){if(!g){r.lines=[];return}if(!g.multipv){r.lines=g.mateIn===0?[g]:[];return}const k=g.multipv-1;r.lines[k]?r.lines.splice(k,1,g):r.lines.push(g)}function m(){return r}},2586:function(C,_,n){n.d(_,{r:function(){return M},m:function(){return N}});var i=n(3527),r=n.n(i),o=n(9406),c=n(2306),d=Object.defineProperty,p=Object.defineProperties,m=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,l=(O,x,A)=>x in O?d(O,x,{enumerable:!0,configurable:!0,writable:!0,value:A}):O[x]=A,y=(O,x)=>{for(var A in x||(x={}))k.call(x,A)&&l(O,A,x[A]);if(g)for(var A of g(x))b.call(x,A)&&l(O,A,x[A]);return O},w=(O,x)=>p(O,m(x));let E;function M(O="balanced",x){const A={ceeMode:!0,enginePath:window.Config.pathToExplanationEngineWorker,pathToBook:window.Config.pathToPersonalityBooks[O],pathToWasmEngine:window.Config.pathToWasmExplanationEngine,settings:w(y({},x),{Language:(0,c.gK)("language")})};E=r()(A),(0,o.z)({label:"\u{1F4D6} Engine created with book",message:E.pathToBook}),r().log=window.location.search.includes("logUCIMessages")}function N(){return E}},9406:function(C,_,n){n.d(_,{z:function(){return i}});function i({label:r,message:o}){window.location.search.includes("logCEEGameEvents")&&console.log("%c CEE ","background-color:forestgreen;color:white",`${r}:`,o)}},8725:function(C,_,n){n.d(_,{U3:function(){return m},Fm:function(){return x},s7:function(){return O}});var i=n(6441),r=n(2239),o=n(8848);const c={AUTHENTICATION_MODAL:"authentication-modal",FACEBOOK_MODAL:"facebook-modal",FIRST_TIME_MODAL:"first-time-modal",GUEST_MODAL:"guest-modal",GUEST_MODAL_TRIGGER:"guest-modal-trigger",NEW_ACCOUNT:"new-account-modal",UPGRADE_MODAL:"upgrade-modal"};var d,p,m=(T=>(T.HIDE_MODAL="hide-modal",T.HIDE_MODAL_BACKGROUND_CLICK="hide-background",T.HIDE_MODAL_SOCIAL_SHARE="hide-modal-social-share",T.LOGIN_OR_REGISTER_MODAL="LOGIN_OR_REGISTER_MODAL",T.MODAL_DID_HIDE="modal-did-hide",T.SHOW_GUEST_MODAL="show-guest-modal",T.SHOW_MODAL_SOCIAL_SHARE="show-modal-social-share",T.SHOW_UPGRADE_MODAL="show-upgrade-modal",T))(m||{});const g={GUEST_MODAL_TITLE:{analysis:(0,o.dW)("Sign up to analyze your games!"),lessons:(0,o.dW)("Sign up to unlock Lessons!"),pawn:(0,o.dW)("Sign up to use this feature."),"puzzles-learning":(0,o.dW)("Sign up to keep solving puzzles!"),stats:(0,o.dW)("Sign up to track your progress!")},GUEST_MODAL_FOOTER_TEXT:(0,o.dW)("Already have an account? Log in")},k={GUEST_MODAL_SLIDES:{analysis:"analysis",lessons:"lessons",pawn:"pawn",puzzles:"puzzles-learning",stats:"stats"}},b=null,l=[{title:(0,o.dW)("Play, Learn and Connect"),subtitle:(0,o.dW)("Join millions of chess players."),icon:"pawn"},{title:(p=(d=window.chesscom)==null?void 0:d.features)!=null&&p.includes("update_puzzle_modal_puzzle_count")?(0,o.jn)("]1,Inf[ %number%K+ puzzles",i._G.PUZZLES_COUNT,{"%number%":i._G.PUZZLES_COUNT}):(0,o.dW)("%number%k+ Puzzles",{"%number%":i._G.PUZZLES_COUNT}),subtitle:(0,o.dW)("Play every day to improve"),icon:"puzzles-learning"},{title:(0,o.dW)("1500+ Lessons"),subtitle:(0,o.dW)("Learn from chess masters!"),icon:"lessons"},{title:(0,o.dW)("Full Game Analysis"),subtitle:(0,o.dW)("Learn from every game!"),icon:"analysis"},{title:(0,o.dW)("Get a Rating"),subtitle:(0,o.dW)("Save your games!"),icon:"stats"},{title:(0,o.dW)("Explore Full Openings"),subtitle:(0,o.dW)("See moves played by masters!"),icon:"explorer"}],y="dismissedOnboardModalId",w=[{title:(0,o.dW)("Full Analysis"),subtitle:(0,o.dW)("Full Report, Accuracy, Key Moments"),icon:"analysis",generic:!0},{title:(0,o.dW)("Unlimited Puzzles"),subtitle:(0,o.dW)("Solve 8+ Puzzles/day to improve fast"),icon:"puzzles-learning",generic:!0},{title:(0,o.dW)("Unlimited Lessons"),subtitle:(0,o.dW)("Your step-by-step path to mastery"),icon:"lessons",generic:!0},{title:(0,o.dW)("Remove Ads"),subtitle:(0,o.dW)("Get the best Chess.com experience"),icon:"no-ads",generic:!0},{title:(0,o.dW)("Unlimited Puzzle Rush"),subtitle:(0,o.dW)("3 strikes and you're out!"),icon:"puzzles-rush"},{title:(0,o.dW)("Unlimited Puzzle Battles"),subtitle:(0,o.dW)("Rush another player to win!"),icon:"puzzles-battle"},{title:(0,o.dW)("Get Your Own Flair"),subtitle:(0,o.dW)("Share your unique personality"),icon:"flair"},{title:(0,o.dW)("Explore Full Openings"),subtitle:(0,o.dW)("See moves played by masters!"),icon:"explorer"},{title:(0,o.dW)("Master Every Position"),subtitle:(0,o.dW)("Practice means everything!"),icon:"workout"},{title:(0,o.dW)("Unlock All Bots"),subtitle:(0,o.dW)("Play vs various skills and styles."),icon:"computer"},{title:(0,o.dW)("Unlimited Collections"),subtitle:(0,o.dW)("Build and organize your library"),icon:"library",id:12},{title:(0,o.dW)("Unlimited Daily Puzzles"),subtitle:(0,o.dW)("Unlock all daily puzzles."),icon:"daily-puzzle"}],E=[{title:(0,o.dW)("Unlimited Game Review with Coach"),icon:"game-review"},{title:(0,o.dW)("Unlimited Puzzles"),icon:"puzzles"},{title:(0,o.dW)("Unlimited Lessons"),icon:"lessons"},{title:(0,o.dW)("No Ads"),icon:"no-ads"}],M=T=>{const D=l.find(ne=>ne.icon===T)||l[0],Z=l.filter(ne=>ne!==D);return Z.unshift(D),Z},N=T=>{const D=w.find(ne=>ne.icon===T)||w[0],Z=w.filter(ne=>ne.generic&&ne!==D);return Z.unshift(D),Z},O={CLUBS:"clubs",COMPUTER:"computer",EXPLORER:"explorer",LEAGUES:"leagues",LESSONS:"lessons",LIBRARY:"library",OPENINGS:"openings",SOLO_CHESS:"solo",TOURNAMENTS:"tournaments",VISION:"vision"},x={[O.COMPUTER]:{bullets:[{icon:"select",text:(0,o.dW)("Play bots with various strengths and styles")},{icon:"chip",text:(0,o.dW)("Use optional coaching features for insights")},{icon:"user",text:(0,o.dW)("Practice at any time - with no pressure")}],buttonText:(0,o.dW)("Start"),icon:"computer",storageKey:"vs_computer_intro_modal_dismissed",subtitle:(0,o.dW)("Challenge the computer to an online chess game."),title:(0,o.dW)("Chess Computer")},[O.EXPLORER]:{bullets:[{icon:"magnifying-glass",text:(0,o.dW)("Search millions of master games")},{icon:"user",text:(0,o.dW)("Choose specific players to explore")},{icon:"chess-move-alt",text:(0,o.dW)("Find winning moves from your games")}],icon:"explorer",storageKey:"explorer_intro_modal_dismissed",subtitleBottom:(0,o.dW)("See moves chess masters have made and the outcome of the game from any position."),title:(0,o.dW)("Chess Explorer")},[O.OPENINGS]:{bullets:[{icon:"magnifying-glass",text:(0,o.dW)("Search more than 3,000 opening lines")},{icon:"book-open",text:(0,o.dW)("Find the perfect chess opening for you")},{icon:"circle-compass",text:(0,o.dW)("Explore variations and master chess games")}],icon:"openings",storageKey:"openings_intro_modal_dismissed",subtitleBottom:(0,o.dW)("Learn and explore chess openings to try in your chess games."),title:(0,o.dW)("Chess Openings")},[O.SOLO_CHESS]:{bullets:[{icon:"incorrect",text:(0,o.dW)("Capture a piece with every move until just one remains")},{icon:"circle-stop",text:(0,o.dW)("No piece may capture more than 2 times per puzzle")},{icon:"king-fill",text:(0,o.dW)("If there is a King on the board, it must be the final piece")},{icon:"circle-checkmark",text:(0,o.dW)("Try for a perfect run in Challenge Mode!")}],buttonText:(0,o.dW)("Start"),icon:"solo",modalWidth:"lg",storageKey:"solo_intro_modal_dismissed",subtitleTop:(0,o.dW)("How to Play"),title:(0,o.dW)("Solo Chess")},[O.VISION]:{bullets:[{icon:"chess-board-vision",text:(0,o.dW)("Improve vision with coordinate training")},{icon:"chess-board-arrow-down",text:(0,o.dW)("Identify squares or make moves")},{icon:"live",text:(0,o.dW)("Answer as many as you can in 30 seconds")}],buttonText:(0,o.dW)("Start"),icon:"vision",showConfirmButton:!0,storageKey:"vision_intro_modal_dismissed",subtitleBottom:(0,o.dW)("Learn to quickly follow and record chess coordinates and annotation."),title:(0,o.dW)("Vision Trainer")},[O.LESSONS]:{bullets:[{icon:"play",text:(0,o.dW)("Watch videos to learn concepts")},{icon:"circle-checkmark",text:(0,o.dW)("Test knowledge with Challenges")},{icon:"king-fill",text:(0,o.dW)("Level up to achieve Mastery")}],icon:"lessons",storageKey:"lessons_intro_modal_dismissed",subtitleBottom:(0,o.dW)("Learn from interactive lessons created by chess masters."),title:(0,o.dW)("Chess Lessons")},[O.CLUBS]:{bullets:[{icon:"teammatch",text:(0,o.dW)("Represent your club in matches")},{icon:"chat",text:(0,o.dW)("Chat in private forums")},{icon:"square-four",text:(0,o.dW)("Organize your team")}],icon:"clubs",storageKey:"clubs_intro_modal_dismissed",subtitleBottom:(0,o.dW)("Join an Online Chess Club and connect and compete with your friends in matches."),title:(0,o.dW)("Chess Clubs")},[O.TOURNAMENTS]:{bullets:[{icon:"circle-timer",text:(0,o.dW)("Join tournaments starting every few minutes")},{icon:"calendar",text:(0,o.dW)("Compete in Daily, multi-game tournaments")},{icon:"cup",text:(0,o.dW)("Win trophies to display on your Profile")}],icon:"tournaments",storageKey:"tournaments_intro_modal_dismissed",subtitleBottom:(0,o.dW)("Compete in online chess tournaments or join an online Arena, where anyone can win."),title:(0,o.dW)("Chess Tournaments")},[O.LIBRARY]:{bullets:[{icon:"chess-board",text:(0,o.dW)("Create collections from games played online, offline, or uploaded.")},{icon:"magnifying-glass",text:(0,o.dW)("Open, analyze, edit, and re-save your games to your collection.")},{icon:"users",text:(0,o.dW)("Organize, tag, and share your collections with others.")}],icon:"library",storageKey:"library_intro_modal_dismissed",subtitleBottom:(0,o.dW)("Compile your very own Collection of personal, master, and all other games."),title:(0,o.dW)("Library")},[O.LEAGUES]:{bullets:[{icon:"circle-timer",text:(0,o.dW)("Play and win games to earn points")},{icon:"calendar",text:(0,o.dW)("All major formats supported - bullet, blitz, rapid & arena")},{icon:"cup",text:(0,o.dW)("The longer the time control, the more points you earn")}],icon:"cup",storageKey:"leagues_intro_modal_dismissed",subtitleBottom:(0,o.dW)("Earn trophies and advance to the Next League by playing games."),title:(0,o.dW)("Players Leagues")}},A=T=>x[T],U={HOME:r.Z.generate("web_user_home")}},5247:function(C,_,n){n.d(_,{f9:function(){return ne},v:function(){return Z}});var i=Object.defineProperty,r=Object.defineProperties,o=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(G,q,pe)=>q in G?i(G,q,{enumerable:!0,configurable:!0,writable:!0,value:pe}):G[q]=pe,g=(G,q)=>{for(var pe in q||(q={}))d.call(q,pe)&&m(G,pe,q[pe]);if(c)for(var pe of c(q))p.call(q,pe)&&m(G,pe,q[pe]);return G},k=(G,q)=>r(G,o(q));const b=G=>G&&!Object.keys(G).length;function l(G,q){return q.every(pe=>G[pe])}function y(G,q){return q.some(pe=>G[pe])}const w=(G={},q)=>Object.prototype.hasOwnProperty.call(G,q),E=(G,q=[])=>Object.keys(G).filter(pe=>!q.includes(pe)).reduce((pe,le)=>k(g({},pe),{[le]:G[le]}),{}),M=G=>Object.keys(G).reduce((q,pe)=>k(g({},q),{[G[pe]]:pe}),{}),N=(G,q)=>Object.prototype.hasOwnProperty.call(G,q),O=G=>Object.keys(G).reduce((q,pe)=>{let le=G[pe];return typeof le=="boolean"&&(le=le?"1":"0"),q[pe]=le,q},{}),x=G=>{const q={};for(const pe in G)if(w(G,pe)){const le=typeof G[pe]=="object"?x(G[pe]):G[pe];q[camelCase(pe)]=le}return q};function A(G={},q={}){if(Object.keys(G).length!==Object.keys(q).length)return!0;for(const pe in G)if(G[pe]!==q[pe])return!0;return!1}function U(G,q){return Object.entries(G).reduce((pe,[le,K])=>(q.includes(le)&&(pe[le]=K),pe),{})}const T=()=>({begin:{},focus:{},end:{}}),D={BLACK:2,WHITE:1},Z={$1:"!",$2:"?",$3:"!!",$4:"??",$5:"!?",$6:"?!",$9:"\u2612",$10:"=",$11:"=",$12:"=",$13:"\u221E",$14:"\u2A72",$15:"\u2A71",$16:"\xB1",$17:"\u2213",$18:"+-",$19:"-+",$22:"\u2A00",$23:"\u2A00",$32:"\u27F3",$33:"\u27F3",$36:"\u2192",$37:"\u2192",$40:"\u2191",$41:"\u2191",$44:"\u221E/=",$45:"=/\u221E",$132:"\u21C6",$133:"\u21C6",$146:"N"},ne=M(Z),J={DIAGRAM_EDITOR:"diagram-editor-container"},$={defaultCharLength:7,defaultCharWidth:6}},7861:function(C,_,n){n.d(_,{t:function(){return i}});const i=()=>document.querySelector("html").getAttribute("dir")==="rtl"},1100:function(C,_){_.Z={modalStates:{select:"select",send:"send",sent:"sent"},types:{game:"game",social:"social"}}},1060:function(C,_,n){n.d(_,{yc:function(){return N},Wp:function(){return E},Eq:function(){return O},iq:function(){return x},ZC:function(){return l},rP:function(){return J},p0:function(){return i},Cz:function(){return ne},xL:function(){return A},Zj:function(){return pe},_j:function(){return U},Iz:function(){return T}});const i={guest:0,cheater:5,abuser:6,voluntarilyClosed:7,unspecifiedClosed:8,basic:10,silver:20,gold:30,platinum:40,diamond:50,moderator:80,staff:90};var r=n(2239),o=n(6912),c=Object.defineProperty,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,g=(le,K,fe)=>K in le?c(le,K,{enumerable:!0,configurable:!0,writable:!0,value:fe}):le[K]=fe,k=(le,K)=>{for(var fe in K||(K={}))p.call(K,fe)&&g(le,fe,K[fe]);if(d)for(var fe of d(K))m.call(K,fe)&&g(le,fe,K[fe]);return le};const b={CAN_EDIT_FLAIR:"data-can-edit-flair",IS_ENABLED:"data-is-enabled",MEMBERSHIP_LEVEL:"data-membership-level",USERNAME:"data-username",USER_ID:"data-user-id"},l={REPORT_USER:"web_user_callback_report_user",REPORT_TV_USER:"web_tv_callback_report",USER_POPUP:"web_user_callback_popup"},y="membership_icons",w=[{key:"membership_icons",title:o.Z.trans("Membership Icons")},{key:"emoji",title:o.Z.trans("Emoji")},{key:"chess",title:o.Z.trans("Chess")},{key:"holiday",title:o.Z.trans("Holiday")},{key:"hosts",title:o.Z.trans("Hosts")},{key:"computer_chess",title:o.Z.trans("Computer Chess")},{key:"pro_chess_league",title:o.Z.trans("PRO Chess League")}],E={category:"membership_icons",code:"nothing",description:o.Z.trans("Nothing"),id:206,imageCode:"nothing",membershipLevelCode:"staff",name:o.Z.trans("Nothing"),status:""},M="diamond_traditional",N=["blocked","clear","clear_light"],O=500,x=200,A={USER_FLAIR:"user-flair",USER_SEARCH:"user-search",USER_POPOVER_CONTAINER:"user-popover"},U={about:()=>r.Z.generate("web_about"),membership:(le="icon")=>r.Z.generate("web_membership",{c:le}),usernameSearch:le=>r.Z.generate("web_user_callback_username_search",k({activeDays:4e3},le)),userDivision:({league:le,division:K})=>r.Z.generate("web_league_division",{league:le,division:K}),userProfile:le=>r.Z.generate("web_member_view",{username:le})},T={acceptFriendRequest:o.Z.trans("Accept Friend Request"),addFriend:o.Z.trans("Add Friend"),block:o.Z.trans("Block"),blockConfirm:o.Z.trans("Are you sure you want to block this user?"),blockUser:le=>o.Z.trans("Block %username%?",{"%username%":le}),cancel:o.Z.trans("Cancel"),cancelFriendRequest:o.Z.trans("Cancel Friend Request"),challenge:o.Z.trans("Challenge"),follow:o.Z.trans("Follow"),gameArchive:o.Z.trans("Game Archive"),giftMembership:o.Z.trans("Gift Membership"),giveTrophy:o.Z.trans("Give Award"),joinedDate:le=>o.Z.trans("Joined %1$s%",{"%1$s%":le}),lastOnline:le=>o.Z.trans("Online %1$s%",{"%1$s%":le}),moderator:o.Z.trans("Moderator"),onlineNow:o.Z.trans("Online Now"),inLiveNow:o.Z.trans("In Live"),removeFriend:o.Z.trans("Remove Friend"),removeFriendConfirm:o.Z.trans("Are you sure you want to remove this friend from your list?"),report:o.Z.trans("Report"),reportUser:le=>o.Z.trans("Report %username%",{"%username%":le}),sendMessage:o.Z.trans("Send Message"),showYourFlair:o.Z.trans("Show your flair!"),staff:o.Z.trans("Staff"),unblock:o.Z.trans("Unblock"),unfollow:o.Z.trans("Unfollow"),userReportError:o.Z.trans("Tell us more...")},D=225,Z={[i.diamond]:"diamond",[i.abuser]:"abuser",[i.cheater]:"cheater",[i.voluntarilyClosed]:"inactive",[i.unspecifiedClosed]:"cheater",[i.gold]:"gold",[i.moderator]:"pawn-blue",[i.platinum]:"platinum",[i.staff]:"pawn-green"},ne={[i.basic]:o.Z.trans("Basic Membership"),[i.diamond]:o.Z.trans("Diamond Membership"),[i.cheater]:o.Z.trans("Closed: Fair Play"),[i.abuser]:o.Z.trans("Closed: Abuse"),[i.voluntarilyClosed]:o.Z.trans("Closed: Inactive"),[i.unspecifiedClosed]:o.Z.trans("Account Closed"),[i.gold]:o.Z.trans("Gold Membership"),[i.moderator]:o.Z.trans("Moderator Account"),[i.platinum]:o.Z.trans("Platinum Membership"),[i.silver]:o.Z.trans("Silver Membership"),[i.staff]:o.Z.trans("Staff Account")},J={GM:o.Z.trans("Grandmaster"),WGM:o.Z.trans("Woman Grandmaster"),IM:o.Z.trans("International Master"),WIM:o.Z.trans("Woman International Master"),FM:o.Z.trans("FIDE Master"),WFM:o.Z.trans("Woman FIDE Master"),NM:o.Z.trans("National Master"),CM:o.Z.trans("FIDE Candidate Master"),WCM:o.Z.trans("FIDE Woman Candidate Master"),WNM:o.Z.trans("Woman National Master")},$=le=>le===!0||le==="online",G=le=>le==="onlive",q={AUTOCOMPLETE_CLEAR_SELECTED:"form-autocomplete-clear-selected"},pe={FETCH_ROLES:"fetchRoles"}},2306:function(C,_,n){n.d(_,{S_:function(){return E},k8:function(){return y},gK:function(){return M},yO:function(){return D},nJ:function(){return p},jl:function(){return r},I5:function(){return b}});var i=n(9323);function r(){var J;return Boolean(((J=window.context)==null?void 0:J.user)&&!(0,i.Z)())}var o=n(2460),c=n(2239),d=n(1060);function p(){var J,$;return Boolean(($=(J=window.context)==null?void 0:J.user)==null?void 0:$.isGuest)}const m=window.context,g=()=>{var J;return!!(isLoggedIn()&&((J=m.user)==null?void 0:J.isEnabled))},k=()=>{var J;return!!(isLoggedIn()&&((J=m.user)==null?void 0:J.isImpersonating))},b=()=>{var J;return(J=m.user)==null?void 0:J.isPremium},l=()=>isLoggedIn()&&!isGuest(),y=()=>{var J;return!!(r()&&((J=m.user)==null?void 0:J.eligibleFirstTrial))},w=J=>Boolean(J.chess_title),E=J=>{if(!r())return!1;let $=!1;switch(J){case"isActivated":$=m.user.isActivated;break;case"isStaff":$=m.user.membershipLevel>=d.p0.staff;break;case"isStaffOnly":$=m.user.membershipLevel===d.p0.staff;break;case"isModerator":$=m.user.membershipLevel>=d.p0.moderator;break;case"isModeratorOnly":$=m.user.membershipLevel===d.p0.moderator;break;case"isDiamond":$=m.user.membershipLevel>=d.p0.diamond;break;case"isDiamondOnly":$=m.user.membershipLevel===d.p0.diamond;break;case"isPlatinum":$=m.user.membershipLevel>=d.p0.platinum;break;case"isPlatinumOnly":$=m.user.membershipLevel===d.p0.platinum;break;case"isSilver":$=m.user.membershipLevel>=d.p0.silver;break;case"isSilverOnly":$=m.user.membershipLevel===d.p0.silver;break;case"isGold":$=m.user.membershipLevel>=d.p0.gold;break;case"isGoldOnly":$=m.user.membershipLevel===d.p0.gold;break;case"isPremium":$=m.user.membershipLevel>=d.p0.silver;break;case"isBasic":$=m.user.membershipLevel===d.p0.basic;break;case"isNewlyRegistered":$=m.user.isNewlyRegistered;break;case"isGuest":$=m.user.isGuest;break;case"chessTitle":$=m.user.chessTitle;break;default:$=!1;break}return $},M=J=>{var $,G,q,pe,le,K,fe,De,He,L,P,z,se,V,ge,ue,Ae,Ne,Ke;let ve=!1;if(!r()){switch(J){case"diagramSettings":ve={};break;case"isDarkMode":ve=(0,o.KZ)();break;default:ve=null;break}return ve}switch(J){case"cohort":ve=($=m.user)==null?void 0:$.cohort;break;case"country":ve=(G=m.user)==null?void 0:G.country;break;case"flairCode":ve=(q=m.user)==null?void 0:q.flairCode;break;case"getUserId":ve=(pe=m.user)==null?void 0:pe.id;break;case"getUsername":ve=(le=m.user)==null?void 0:le.username;break;case"getAvatarUrl":ve=(K=m.user)==null?void 0:K.avatarUrl;break;case"getAvatarLargeUrl":ve=(fe=m.user)==null?void 0:fe.avatarLargeUrl;break;case"getSettingsAvatarUrl":ve=(De=m.user)==null?void 0:De.settingsAvatarUrl;break;case"getLastLoginDate":ve=(He=m.user)==null?void 0:He.lastLoginDate;break;case"registerDate":ve=(L=m.user)==null?void 0:L.registerDate;break;case"getBrowserTimezone":ve=window.jstz.determine().name();break;case"getTimezone":ve=(P=m.user)==null?void 0:P.timezone;break;case"getDiagramSettings":ve=m.diagramSettings;break;case"language":ve=m.i18n.locale;break;case"contentLanguage":ve=m.i18n.contentLanguage;break;case"speaksEnglish":ve=m.i18n.locale==="en_US";break;case"eligibleFirstTrial":ve=(z=m.user)==null?void 0:z.eligibleFirstTrial;break;case"fairPlayAgree":ve=(se=m.user)==null?void 0:se.fairPlayAgree;break;case"getArchiveView":ve=(V=m.user)!=null&&V.archiveView?m.user.archiveView:"grid";break;case"homeContentType":ve="following";break;case"getMembershipLevel":ve=(ge=m.user)==null?void 0:ge.membershipLevel;break;case"isContentHidden":ve=(ue=m.user)==null?void 0:ue.isContentHidden;break;case"isDarkMode":ve=(0,o.KZ)();break;case"rating":ve=(Ae=m.user)==null?void 0:Ae.rating;break;case"safeMode":ve=(Ne=m.user)==null?void 0:Ne.safeMode;break;case"uuid":ve=(Ke=m.user)==null?void 0:Ke.uuid;break;default:ve=!1;break}return ve},N=()=>isLoggedIn()?window.location.href===Router.generate("web_member_view",{username:(void 0).getUsername()}):!1,O=J=>J==="grid"||J==="list",x=J=>J==="following"||J==="my_activity",A=()=>{var J;return isLoggedIn()?(J=m.user)==null?void 0:J.features:{}},U=J=>J?`<a href="${Router.generate("web_member_view",{username:J})}" target="_self">${J}</a>`:"",T=(J,$)=>{if(!J||!$)return"";switch($){case"profile":return Router.generate("web_member_view",{username:J});case"trophies":return Router.generate("web_member_view",{username:J,view:"trophies"});case"stats":return Router.generate("web_stats",{username:J});default:return Router.generate("web_member_view",{username:J})}},D=(J,$)=>!$&&J>=d.p0.basic?d.p0.unspecifiedClosed:J,Z=J=>Object.keys(membership).filter($=>membership[$]===J||$===J)[0],ne={excludeByMembershipType:(J,{user:$})=>$.membership_level!==J,excludeUsersWithComparisonArray:(J,{user:$})=>{if(J.findIndex(G=>G.id===$.id)===-1)return $}}},8037:function(C,_,n){n.d(_,{l:function(){return o}});var i=n(2937),r=n(3641);const o=(c={})=>{(0,r.o)({key:i.U3.SHOW_UPGRADE_MODAL,payload:c})}},7291:function(C,_,n){n.d(_,{Z:function(){return Ut}});var i=n(1060),r=n(5705);const o=r.n;function c(){var H;return(H=window.context)==null?void 0:H.user}var d=n(5781),p=n(2239),m=n(5174),g=n(3167),k=n(2591);function b(){return{animationType:"default",boardSize:"auto",boardStyle:"green",coordinates:"inside",darkMode:!0,highlightLegalMoves:!0,highlightMoves:!0,isWhiteOnBottom:!1,moveListDisplayType:"text",moveMethod:"drag",pieceStyle:"neo",playSounds:!0,soundTheme:"default"}}function l(){var H;return{avatarUrl:(H=window?.Config)==null?void 0:H.noAvatar,archiveView:"grid",boardOptions:b(),country:null,features:{},flag:null,friends:[],homeContentType:"following",isLoggedIn:!1,loading:{friends:!1,opponents:!1},membership:null,opponents:[],rating:null,roles:[],username:""}}function y(H){return function(Q,ie=!1){const{actionQueue:Oe,http:we,Router:Ce}=H,Ye={user:Q};return ie&&(Ye.recommendation=1),Oe.add(we.post,Ce.generate("web_friend_request_callback",Ye))}}function w(H){return function(Q){const{actionQueue:ie,http:Oe,Router:we}=H;return ie.add(Oe.put,we.generate("web_friend_accept_request_callback",{user:Q}))}}function E(H){return function(Q){const{actionQueue:ie,CSRFToken:Oe,http:we,Router:Ce}=H;return ie.add(we.post,Ce.generate("web_member_callback_block_member",{username:Q}),{_token:Oe})}}function M(H){return function(Q){const{actionQueue:ie,http:Oe,Router:we}=H;return ie.add(Oe.post,we.generate("web_friend_cancel_request_callback",{user:Q}))}}function N(H){return function(Q){const{membership:ie,service:Oe,user:we}=H;if(!Oe.isLoggedIn())return!1;let Ce=!1;switch(Q){case"isActivated":Ce=we.isActivated;break;case"isStaff":Ce=we.membershipLevel>=ie.staff;break;case"isStaffOnly":Ce=we.membershipLevel===ie.staff;break;case"isModerator":Ce=we.membershipLevel>=ie.moderator;break;case"isModeratorOnly":Ce=we.membershipLevel===ie.moderator;break;case"isDiamond":Ce=we.membershipLevel>=ie.diamond;break;case"isDiamondOnly":Ce=we.membershipLevel===ie.diamond;break;case"isPlatinum":Ce=we.membershipLevel>=ie.platinum;break;case"isPlatinumOnly":Ce=we.membershipLevel===ie.platinum;break;case"isSilver":Ce=we.membershipLevel>=ie.silver;break;case"isSilverOnly":Ce=we.membershipLevel===ie.silver;break;case"isGold":Ce=we.membershipLevel>=ie.gold;break;case"isGoldOnly":Ce=we.membershipLevel===ie.gold;break;case"isPremium":Ce=we.membershipLevel>=ie.silver;break;case"isBasic":Ce=we.membershipLevel===ie.basic;break;default:Ce=!1;break}return Ce}}function O(H){return function(Q){const{http:ie,Router:Oe}=H;return ie.get(Oe.generate("web_user_callback_valid_username",{username:Q}))}}function x(H){return function(Q){const{actionQueue:ie,http:Oe,Router:we}=H;return ie.add(Oe.post,we.generate("web_friend_decline_request_callback",{user:Q}))}}function A(H){return function(Q){const{actionQueue:ie,http:Oe,Router:we}=H;return ie.add(Oe.delete,we.generate("web_friend_delete_callback",{user:Q}))}}function U(H){return function(Q){const{actionQueue:ie,http:Oe,Router:we}=H;return ie.add(Oe.post,we.generate("web_user_callback_dismiss_follow_suggestion",{username:Q}))}}function T(H){return function(){const{service:Q,user:ie}=H;return Q.isLoggedIn()&&ie.eligibleFirstTrial}}var D=n(4657),Z=n(9323);function ne(){return function(){return(0,Z.Z)()?Promise.resolve():(0,D.R)().catch(b)}}function J(){return["animationType","boardSize","boardStyle","coordinates","darkMode","highlightLegalMoves","highlightMoves","isWhiteOnBottom","moveListDisplayType","moveMethod","pieceStyle","playSounds","soundTheme"]}function $(H){return function(){const{http:Q,Router:ie}=H;return Q.get(ie.generate("web_user_callback_report_reasons"))}}function G(H){return function(Q){const{Router:ie}=H;return Q?`<a href="${ie.generate("web_member_view",{username:Q})}" target="_self">${Q}</a>`:""}}function q(H){return function(Q){const{user:ie}=H;return ie?Q?ie[Q]:ie:null}}function pe(H){return function(Q){const{http:ie,Router:Oe}=H;return ie.get(Oe.generate("pubapi_player_profile",{username:Q}))}}function le(H){return function(){const{http:Q,Router:ie}=H;return Q.get(ie.generate("web_user_callback_follow_suggestions"))}}function K(H){return function(Q){const{http:ie,Router:Oe}=H;return ie.get(Oe.generate("web_friend_callback_friends_search",Q))}}function fe(H){return function(){const{http:Q,Router:ie}=H;return Q.get(ie.generate("web_user_callback_recent_opponents"))}}var De=n(2306);function He(){return window.chesscom.promises||(window.chesscom.promises={}),window.chesscom.promises}function L({id:H,promise:de}){const Q=He();return Q[H]||(Q[H]=new Promise((ie,Oe)=>{de().then(ie).catch(Oe)})),Q[H]}function P(H){delete He()[H]}function z(H){return function(){const{http:Q,Router:ie}=H;return(0,De.jl)()?L({id:i.Zj.FETCH_ROLES,promise:()=>Q.get(ie.generate("web_security_callback_user_roles"))}):[]}}function se(H){return function(Q){const{http:ie,Router:Oe}=H;return ie.get(Oe.generate("web_user_callback_popup",{username:Q}))}}function V(H){return function(Q){const{http:ie,Router:Oe}=H;return ie.post(Oe.generate("web_guest_update_skill_level"),{skill_level:Number(Q)})}}function ge(H){return function(){const{service:Q,user:ie}=H;return Q.isLoggedIn()&&ie.isEnabled}}function ue(H){return function(){const{service:Q,user:ie}=H;return Q.isLoggedIn()&&ie.isImpersonating}}function Ae(H){return function(){const{is2FARoute:Q,user:ie}=H;return ie&&ie.id&&!Q()}}function Ne(H){return function(Q){const{callbacks:ie,http:Oe,Router:we}=H;return Oe.post(we.generate(ie.REPORT_USER),Q)}}var Ke=n(1354),ve=n(9857),st=n(8577),he=n(8311),qe=n(895),me=Object.defineProperty,j=Object.defineProperties,te=Object.getOwnPropertyDescriptors,ce=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,W=(H,de,Q)=>de in H?me(H,de,{enumerable:!0,configurable:!0,writable:!0,value:Q}):H[de]=Q,re=(H,de)=>{for(var Q in de||(de={}))R.call(de,Q)&&W(H,Q,de[Q]);if(ce)for(var Q of ce(de))I.call(de,Q)&&W(H,Q,de[Q]);return H},oe=(H,de)=>j(H,te(de));function ze(H){return async function(Ce,Ye){const yt=ie(Ce,Ye);return Oe(Ce,Ye),Promise.all([de(Ce,Ye),Q(Ce,Ye)]).then(H.emitUser).catch(()=>{yt(),H.emitUser()})};function de(we,Ce){const{actionQueue:Ye,http:yt,Router:Je}=H,[Be,Le]=(0,he.M)(we,Ce);return Ye.add(yt.post,Je.generate(ve.f[Be]),{action:Le})}function Q(we,Ce){if(!window.chesscom.features.includes("settings_service_data_sync"))return Promise.resolve();const Ye=(0,qe.R)({[we]:Ce});return(0,st.z)(Ye)}function ie(we,Ce){const{service:Ye,update:yt}=H,{boardOptions:Je}=Ye.get();return yt("boardOptions",oe(re({},Je),{[we]:Ce}))}function Oe(we,Ce){we==="coordinates"&&(0,Ke.a)(Ce==="outside")}}var _e=Object.defineProperty,Me=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,ht=(H,de,Q)=>de in H?_e(H,de,{enumerable:!0,configurable:!0,writable:!0,value:Q}):H[de]=Q,pt=(H,de)=>{for(var Q in de||(de={}))Fe.call(de,Q)&&ht(H,Q,de[Q]);if(Me)for(var Q of Me(de))Ie.call(de,Q)&&ht(H,Q,de[Q]);return H};function gt(H){return function(Q,ie={}){const{http:Oe,routes:we}=H;return Oe.get(we.usernameSearch(pt({query:Q},ie)))}}function ut(H){return function(Q,ie){const{user:Oe}=H;return Oe?(Oe[Q]=ie,Oe):null}}function at(H){return function(Q){const{emitUser:ie,http:Oe,Router:we,update:Ce}=H,Ye=Ce("archiveView",Q);return Oe.post(we.generate("web_user_callback_set_archive_view"),{archiveView:Q}).then(ie).catch(()=>{Ye(),ie()})}}function Et(H){return function(Q){const{emitUser:ie,http:Oe,Router:we,update:Ce}=H,Ye=Ce("fairPlayAgree",Q);return Oe.post(we.generate("web_user_callback_set_fair_play_agree",{fairPlayAgree:Q?1:0})).then(ie).catch(()=>{Ye(),ie()})}}function Tt(H){return function(Q){const{emitUser:ie,http:Oe,Router:we,update:Ce}=H,Ye=Ce("homeContentType",Q);return Oe.post(we.generate("web_user_callback_set_home_recent_content_type"),{recentContentType:Q}).then(ie).catch(()=>{Ye(),ie()})}}function mt(H){return function(Q){const{actionQueue:ie,CSRFToken:Oe,http:we,Router:Ce}=H;return ie.add(we.post,Ce.generate("web_member_callback_track_member",{username:Q}),{_token:Oe})}}function lt(H){return function(Q){const{actionQueue:ie,CSRFToken:Oe,http:we,Router:Ce}=H;return ie.add(we.post,Ce.generate("web_member_callback_unblock_member",{username:Q}),{_token:Oe})}}function et(H){return function(Q){const{actionQueue:ie,CSRFToken:Oe,http:we,Router:Ce}=H;return ie.add(we.post,Ce.generate("web_member_callback_untrack_member",{username:Q}),{_token:Oe})}}var _t=Object.defineProperty,ft=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,Xt=Object.prototype.propertyIsEnumerable,ee=(H,de,Q)=>de in H?_t(H,de,{enumerable:!0,configurable:!0,writable:!0,value:Q}):H[de]=Q,X=(H,de)=>{for(var Q in de||(de={}))Ot.call(de,Q)&&ee(H,Q,de[Q]);if(ft)for(var Q of ft(de))Xt.call(de,Q)&&ee(H,Q,de[Q]);return H};function xe({cache:H,callbacks:de,CSRF:Q,getCurrentUser:ie,http:Oe,includeBoardOptions:we=!1,Router:Ce,routes:Ye}){const yt=(0,k.j)(!0),Je=(0,m.I)(),Be=$t(),Le={actionQueue:yt,callbacks:de,CSRFToken:Q.getToken(),emitUser:It,http:Oe,is2FARoute:Z.Z,membership:i.p0,Router:Ce,routes:Ye,update:Ct,user:Be},bt=X({addFriend:y(Le),approveFriendRequest:w(Le),blockUser:E(Le),cancelFriendRequest:M(Le),checkMembershipStatus:N(Le),checkValidUsername:O(Le),declineFriendRequest:x(Le),deleteFriend:A(Le),dismissFollowSuggestion:U(Le),eligibleFirstTrial:T(Le),fetchBoardOptions:we?ne(Le):void 0,fetchReportReasonsData:$(Le),generateProfileLine:G(Le),get:q(Le),getAvatar:pe(Le),getFollowSuggestions:le(Le),getFriends:K(Le),getOpponents:fe(Le),getRoles:z(Le),getUser:se(Le),guestUpdateSkillLevel:V(Le),isEnabled:ge(Le),isImpersonating:ue(Le),isLoggedIn:Ae(Le),reportUser:Ne(Le),saveBoardSetting:ze(Le),searchUsername:gt(Le),set:ut(Le),setArchiveView:at(Le),setFairPlayAgree:Et(Le),setHomeContentType:Tt(Le),trackUser:mt(Le),unblockUser:lt(Le),untrackUser:et(Le)},Je);return ae(),bt.acceptFollowSuggestion=bt.trackUser,Le.service=bt,bt;function It(vt){Je.emit(vt,Be)}async function ae(){if(bt.fetchBoardOptions)try{const vt=await bt.fetchBoardOptions();bt.set("boardOptions",vt),H.setBoardOptions(vt),It()}catch{}}function $t(){const vt=ie(),ns=l();if(!vt)return ns;const as=Object.assign({},ns,vt);if(!vt.isImpersonating){const ls=H.getBoardOptions();Object.keys(ls).length&&Object.assign(as.boardOptions,(0,g.ei)(ls,J()))}return as}function Ct(vt,ns){const as=Be[vt];return Be[vt]=ns,H.setBoardOptions(ns),function(){Be[vt]=as,H.setBoardOptions(as)}}}const Ze={getToken:Qe};function Qe(){return window.context&&window.context.csrf&&window.context.csrf.token}var Ut=xe({callbacks:i.ZC,cache:o,CSRF:Ze,getCurrentUser:c,http:d.Z,Router:p.Z,routes:i._j})},9807:function(C,_,n){n.d(_,{x:function(){return r}});var i=n(8530);const r=(0,i.YK)()},2461:function(C,_,n){var i={},r={};function o(){const{default:t}=n(6940);return t}var c=n(8530),d=n(7104);function p(t){return Object.assign(window,t),t}function m(t,e){e.forEach(a=>{t.game.plugins.has(a.name)||t.game.plugins.add(a)})}function g(t){const e=[(0,d.qU)(),(0,d.YP)()];m(t,e)}var k=n(5316),b=n(5917),l=n(3158),y=n(6375),w=n(4080);function E(t,e){const a={};return Object.keys(e).forEach(h=>{const f=e[h],S=()=>{const Y=f.getValue(t);Y!==a[h]&&(a[h]=Y)};S();const F=f.debounce===!1?S:(0,y.Z)(S,f.debounce);t.parentNode&&t.game.onMany(f.events,F),t.addEventListener(l._.Events.BoardAttached,()=>{S(),t.game.onMany(f.events,F)}),t.addEventListener(l._.Events.BoardDetached,()=>{t.game.offMany(f.events.map(Y=>({type:Y,handler:F})))})}),(0,w.iH)(a),a}var M=Object.defineProperty,N=Object.defineProperties,O=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,T=(t,e,a)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,D=(t,e)=>{for(var a in e||(e={}))A.call(e,a)&&T(t,a,e[a]);if(x)for(var a of x(e))U.call(e,a)&&T(t,a,e[a]);return t},Z=(t,e)=>N(t,O(e));function ne(t){var e,a,h;const{id:f,options:S,mode:F,plugins:Y,state:be,excludedPlugins:We}=t;if(f in b.q.chessboards)throw new Error("Chessboard already created");const nt=(0,d.n8)((0,d.NQ)({exclude:We??[]}),(h=(a=(e=k.f).getDefaultChessboardPlugins)==null?void 0:a.call(e))!=null?h:[]),zt=nt.find(Gt=>Gt.name===d.th.Sounds.Plugin.Name),ot=nt.find(Gt=>Gt.name===d.th.ArrowKeys.Plugin.Name);!b.q.arrowKeysPlugin&&ot&&(b.q.arrowKeysPlugin=ot),!b.q.soundPlugin&&zt&&(b.q.soundPlugin=zt);const Bt=(0,d.n8)(nt,Y||[]).filter(Gt=>Gt.name!==d.th.Sounds.Plugin.Name).concat(b.q.soundPlugin),St=document.createElement("chess-board");return St.className="board",St.createGame({el:St,options:Z(D(D({},b.q.boardOptions),S),{id:f,test:Boolean(window.Config.cypress)}),mode:F,plugins:Bt}),We?.includes(d.th.BoardImages.Plugin.Name)||g(St),be&&(St.state=E(St,be)),b.q.chessboards[f]=St,new Promise(Gt=>{St.game.once("RendererSet",()=>{setTimeout(Gt,0)})})}function J(t){t.game.plugins.remove(d.th.Sounds.Plugin.Name),t.game.plugins.remove(d.th.ArrowKeys.Plugin.Name)}var $=n(4346),G=n(5953),q=n(1656);function pe(){var t;(0,q.x)().forEach(J);const e=(0,G.g)();b.q.soundPlugin&&e.game.plugins.add(b.q.soundPlugin),b.q.arrowKeysPlugin&&e.game.plugins.add(b.q.arrowKeysPlugin),(t=document.querySelector(".board-layout-chessboard .board"))==null||t.replaceWith(e),(0,$.q)()}var le=n(4700);const K={debounce:0,events:[d.QY.APIEvents.UpdatePGNHeaders],getValue:t=>t.game.isGameOver()},fe={debounce:0,events:[d.QY.InstanceEvents.ModeChanged],getValue:t=>t.game.getMode().name},De={debounce:0,events:[d.QY.APIEvents.SetPlayingAs],getValue:t=>t.game.getPlayingAs()},He={debounce:0,events:[d.QY.APIEvents.UpdatePGNHeaders],getValue:t=>t.game.getResult()},L={debounce:0,events:[d.QY.APIEvents.Load],getValue:t=>t.game.getFingerprints().startingFen},P={archivedGameId:null};function z(t){P.archivedGameId=t}function se(){var t;return`bot-personalities-data-${(t=window.context.user)==null?void 0:t.id}`}var V=n(340);function ge(){sessionStorage.setItem(se(),JSON.stringify(V.w.botData))}var ue=n(2308),Ae=n(2600),Ne=n(6296),Ke=n(584);function ve(){var t,e;Object.assign(ue.e,{pgn:"",takebackCount:0,hintedMessageFENs:[],hintedMoveFENs:[]});const a=(e=(t=(0,Ne.U)(Ae.u.CachedGame.Key))==null?void 0:t.history)==null?void 0:e.botChat;(0,Ke.t)(Ae.u.CachedGame.Key,{history:{botChat:a}})}const st="vs-personalities";var he=n(8314);function qe(){return[(0,d._H)(),(0,d.Xe)(),(0,d.zG)()]}var me=n(6128),j=n(2306),te=n(2634),ce=n(3439),R=n(5781),I=n(2239);function W(t){return R.Z.post(I.Z.generate("web_user_vs_personality_callback_save_crown"),t)}var re=n(2194),oe=n(8698);function ze(){const{hintedMessageFENs:t,hintedMoveFENs:e}=ue.e;return ue.e.takebackCount>ce.T.MAX_ALLOWED_TAKEBACKS||[...t,...e].length>ce.T.MAX_ALLOWED_HINTS?1:oe.d.crownCount}async function _e(){const t=V.w.selectedBot;if(!(0,j.jl)()||!(0,te.h)()||!t)return;const e=ze();(0,re.H)(e);const a=await W({id:t.id,crown:e});Object.assign(t,{crown_earned:a.data[t.id]})}var Me=n(3765),Fe=Object.create,Ie=Object.defineProperty,ht=Object.getOwnPropertyDescriptor,pt=Object.getOwnPropertyNames,gt=Object.getPrototypeOf,ut=Object.prototype.hasOwnProperty,at=(t,e,a,h)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of pt(e))!ut.call(t,f)&&f!==a&&Ie(t,f,{get:()=>e[f],enumerable:!(h=ht(e,f))||h.enumerable});return t},Et=(t,e,a)=>(a=t!=null?Fe(gt(t)):{},at(e||!t||!t.__esModule?Ie(a,"default",{value:t,enumerable:!0}):a,t));async function Tt(){await Promise.all([(0,c.tL)(Promise.all([n.e(240),n.e(826)]).then(n.bind(n,8113))),(0,Me.D)(500)])}function mt(){const{game:t}=(0,he.g)();(0,c.Uc)(t,{fen:t.getFEN(),pgn:t.getPGN(),selectedNode:t.getSelectedNode()})}function lt({component:t,on:e,props:a,router:h,plugins:f,target:S}){const F=(0,w.iH)(!1);let Y=null;return f?.forEach(nt=>w.ZP.use(nt)),{hide:()=>F.value=!1,show:()=>{F.value=!0,Y||(Y=new w.ZP({render:nt=>F.value&&nt(t,{props:a,on:e}),router:h}).$mount(S))}}}var et=Object.create,_t=Object.defineProperty,ft=Object.defineProperties,Ot=Object.getOwnPropertyDescriptor,Xt=Object.getOwnPropertyDescriptors,ee=Object.getOwnPropertyNames,X=Object.getOwnPropertySymbols,xe=Object.getPrototypeOf,Ze=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable,es=(t,e,a)=>e in t?_t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Ut=(t,e)=>{for(var a in e||(e={}))Ze.call(e,a)&&es(t,a,e[a]);if(X)for(var a of X(e))Qe.call(e,a)&&es(t,a,e[a]);return t},H=(t,e)=>ft(t,Xt(e)),de=(t,e,a,h)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of ee(e))!Ze.call(t,f)&&f!==a&&_t(t,f,{get:()=>e[f],enumerable:!(h=Ot(e,f))||h.enumerable});return t},Q=(t,e,a)=>(a=t!=null?et(xe(t)):{},de(e||!t||!t.__esModule?_t(a,"default",{value:t,enumerable:!0}):a,t));const ie="pause-modal";function Oe(){const t=document.createElement("div");t.setAttribute("id",ie),document.body.appendChild(t)}function we(t){return new Promise(e=>{Promise.resolve().then(n.bind(n,1149)).then(a=>{const h=lt({component:a.default,props:H(Ut({},t),{showOnMount:!0,onConfirm(){e(!0),h.hide(),Oe()},onCancel(){e(!1),h.hide(),Oe()},onBackgroundClick(){e(!1),h.hide(),Oe()}}),target:`#${ie}`});h.show()})})}var Ce=n(3746),Ye=n(7987);function yt(){ue.e.takebackCount+=1,(0,Ye.e)({takebackCount:ue.e.takebackCount})}var Je=n(9038),Be=n(2586);function Le(t){var e;return`${t.from}${t.to}${(e=t.promotion)!=null?e:""}`}function bt(){return new Promise(t=>{const{game:e}=(0,he.g)(),a=e.getLine(0).map(Le).join(" ");(0,Be.m)().send(`position fen ${e.getFingerprints().startingFen} moves ${a}`,()=>{t()})})}var It=n(2046),ae=n(6912),$t;(t=>{t.ConfirmHintLabels={CANCEL:ae.Z.trans("Cancel"),CONFIRM:ae.Z.trans("Get Hint"),MESSAGE:ae.Z.trans("If you view a 4th hint, you can earn only one crown.")},t.ConfirmTakebackLabels={CANCEL:ae.Z.trans("Cancel"),CONFIRM:ae.Z.trans("Take Back"),MESSAGE:ae.Z.trans("If you take back a 4th move, you can earn only one crown.")}})($t||($t={}));var Ct=n(3043);async function vt(){const{game:t}=(0,he.g)();if(t.getMode().name!==d.nl.Types.Playing)return;const{takebackCount:e,pgn:a}=ue.e;if(!(e===ce.T.MAX_ALLOWED_TAKEBACKS)){await ls();return}Ct.P.isModalActive=!0,Ct.P.modal=we({messageLabel:$t.ConfirmTakebackLabels.MESSAGE,yesBtnLabel:$t.ConfirmTakebackLabels.CONFIRM,cancelBtnLabel:$t.ConfirmTakebackLabels.CANCEL}),await Ct.P.modal?await ns():await as(a)}async function ns(){await ls()}async function as(t){Ct.P.isModalActive=!1,(0,he.g)().game.load({pgn:t}),await(0,Ce.v)(),Ct.P.modal=Promise.resolve(!0),await bt()}async function ls(){Ct.P.isModalActive=!1,yt(),await bt(),await(0,Me.D)(It.I.computerMoveCourtesyDelay),(0,Je._)()}var Lt=n(5251);const Vt={markings:[],currentBestMove:null,isHintRequestInProgress:!1};function ks(){Vt.markings.forEach(Vs),Vt.markings.length=0}const Vs=t=>{(0,he.g)().game.unmark({square:t})};function Ks(t){Vt.currentBestMove=t}var qs=n(7672),ts=n(5221);function la(){ts.y.capturedMaterial=(0,he.g)().game.getMaterial()}var Qs=n(6110),ca=n(2530),Es=n(3391),da=n(1027);function Ys(){const t=(0,he.g)().game.getOptions().soundTheme,e=[Es.V.GameStart,Es.V.GameEnd];da.B.loaded=e.reduce((a,h)=>(a[h]=(0,Qs.IZ)((0,ca.U)(h,t)),a),{})}var Js=n(2486),ua=Object.defineProperty,Xs=Object.getOwnPropertySymbols,ha=Object.prototype.hasOwnProperty,pa=Object.prototype.propertyIsEnumerable,en=(t,e,a)=>e in t?ua(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,tn=(t,e)=>{for(var a in e||(e={}))ha.call(e,a)&&en(t,a,e[a]);if(Xs)for(var a of Xs(e))pa.call(e,a)&&en(t,a,e[a]);return t};const ma=(0,c.eI)({init(){ne({id:st,mode:le.C,plugins:qe(),state:{mode:fe,startingFen:L,isGameOver:K,result:He,playingAs:De},options:tn({overlayInAnalysisMode:!0},window.location.pathname.includes("3d-chess")&&{pieceStyle:"real3d"})}),pe(),me.q.loaded=!0,mt();const{game:t}=(0,he.g)();p({game:t}),t.onMany(d.jd,this.handlePositionChangeEvents),t.on(d.QY.OptionsEvents.Update,this.handleOptionsUpdate),t.on(d.QY.APIEvents.DeletePosition,vt),t.on(d.QY.APIEvents.UpdatePGNHeaders,this.handleResult)},handlePositionChangeEvents(){mt(),la(),(0,Lt.T)().showHint&&(Ks(null),ks())},handleOptionsUpdate({data:{soundTheme:t}}){t&&Ys()},handleResult({data:{Result:t}}){const{game:e}=(0,he.g)();t!==d.lA.Results.None&&(Tt(),(0,Js.G)(Es.V.GameEnd),e.setMode(le.C),_e().then(()=>{ge(),ve(),(0,qs.X)()}),z(null))}});var ct=n(2790),sn=n(3527),Os=n.n(sn),Cs=n(3500),Kt=n(2344);let dt=null,Ls=null;function _a(){const t=(0,Kt.Gw)();return dt&&Ls!==t.engineName&&(dt.quit(),dt=null),!dt&&t.engineName!==Cs.XP.OFF&&(Ls=t.engineName,dt=Os()((0,Cs.YE)(t.engineName).paths)),dt}function ba(){return new Promise((t,e)=>{const a=_a();if(!a){e();return}a.stopFast(h=>{dt!==h&&(dt?.quit(),dt=null),dt=h,dt?t(dt):e()},(0,Kt.OL)())})}function nn(){!dt||(dt.stopAll(),dt.quit(),dt=null,Ls=null)}var wt=n(6059);let js=0;const Pt=(0,wt.y0)();function an(){Pt.isLocked||(Pt.isRunning=!1,ct.H.emit("evaluation.engine-stop"),ct.H.emit("evaluation.update"))}function ga(t,e){t===js&&(Pt.isLocked||e.mtype==="info"&&(e.pv&&e.multipv&&!e.upperbound&&!e.lowerbound&&e.depth>=(0,Kt.mC)()||e.mateIn===0)&&(Pt.isNewPosition&&(Pt.isNewPosition=!1,(0,wt.VD)()),(0,wt.VD)(e),ct.H.emit("evaluation.update")))}function fa(t){const{fen:e,moves:a,gameType:h}=t;if(Pt.fen=e,Pt.isLocked)return;js+=1;const f=js;Pt.isLocked=!0,Pt.isNewPosition=!0,ct.H.emit("evaluation.engine-start"),ba().then(S=>{Pt.isLocked=!1;const F=Os().getPositionInfo(Pt.fen,a,{variant:h==="chess960"});if(F===!1){(0,wt.VD)();return}if(typeof F=="object"&&F.stalemate){(0,wt.VD)();return}const Y=(0,Kt.Gw)(),be={fen:Pt.fen,moves:a,multiPv:Y.linesCount,difficulty:20,is960:h==="chess960",normalize:!0};Y.depth?be.depth=Y.depth:Y.timeLimit>0?be.movetime=Y.timeLimit*1e3:be.infinite=!0,Pt.isRunning=!0,S.getBestMove(be,an,We=>ga(f,We))}).catch(()=>{})}async function on({wdlData:t,isBookMove:e}){if(!t){(0,wt.xq)({wdlBar:void 0});return}if(!e){(0,wt.xq)({wdlBar:void 0});return}(0,wt.xq)({wdlBar:{win:t.w/100,loss:t.b/100,draw:t.d/100}}),ct.H.emit("evaluation.update-wdl")}var rn=n(7600);let jt=null,Ns=null,Ps=!0;function ln(){const t={fen:jt.game.getFEN(),moves:"",gameType:jt.game.getVariant()};return Ns&&Object.assign(t,Ns()),t}async function Bs(t){var e;const a=t??jt,h=a?.game;h.eco||(h.plugins.add((0,d.Kh)({ecoPath:(0,rn.K)(),http:R.Z})),await h.eco.update());const f=(e=a?.game.eco)==null?void 0:e.get(),S=Boolean(f&&f?.f!==d.iB.shortenFen(h.getFEN(),3));on({wdlData:f?.wl,isBookMove:!S})}const va=(0,y.Z)(()=>{var t;!jt||!Ps||((0,wt.SZ)(((t=jt.game.getSelectedNode())==null?void 0:t.moveNumber)+1||-1),fa(ln()))},0),_s=(0,y.Z)(()=>{Ps&&va()},0);function wa({chessboard:t,callback:e,useClientEngine:a=!0}){(t!==jt||Ps!==a)&&(dn(),jt=t,Ns=e||null,Ps=a,t.game.onMany(d.jd,_s),ct.H.on("evaluation.settings-update",cn),nn(),(0,wt.VD)(),_s(),(0,Kt.YQ)()&&Bs())}function cn(){_s(),(0,Kt.YQ)()&&Bs()}function dn(){var t,e;(t=jt?.game)==null||t.offMany(d.jd.map(a=>({type:a,handler:_s}))),(e=jt?.game)==null||e.off({type:d.th.ECO.Events.Update,handler:Bs}),jt=null,ct.H.off({type:"evaluation.settings-update",handler:cn}),nn(),(0,wt.oA)()}var un=n(1516),hn=Object.create,pn=Object.defineProperty,ya=Object.getOwnPropertyDescriptor,mn=Object.getOwnPropertyNames,ka=Object.getPrototypeOf,Ea=Object.prototype.hasOwnProperty,_n=(t,e,a,h)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of mn(e))!Ea.call(t,f)&&f!==a&&pn(t,f,{get:()=>e[f],enumerable:!(h=ya(e,f))||h.enumerable});return t},$o=(t,e,a)=>(a=t!=null?hn(ka(t)):{},_n(e||!t||!t.__esModule?pn(a,"default",{value:t,enumerable:!0}):a,t));async function Oa(){await(0,c.tL)(()=>n.e(187).then(n.bind(n,7087))),wa({chessboard:un.a.getActiveChessboard()})}function Ca(){dn()}const Rs={isActive:!1};var Ft=n(4922),Pa=n(1926);function bn(t){Ft.L.customSettingsForCrownCount=t,(0,Pa.c)({customSettings:t})}var xa=n(7199),Ds=n(2401),zs=n(2786),cs=n(7807);const Aa=zs.N.Modes.Types,Ma=(0,c.eI)({init(){cs.S.on(cs.p.UpdateSettings,this.onSettingsUpdated),this.onSettingsUpdated()},onSettingsUpdated(){const t=(0,Lt.T)();bn(Ds.M[Aa.Custom]),p({gameplayModeSettings:t}),Rs.isActive=t.suggestions,t.lines||t.suggestions||t.evaluationBar?Oa():(Ca(),ct.H.emit("evaluation.update")),xa.S.Custom.options.canModifyExistingMovesOnMainLine=t.takebacks}});var bs=n(5535),gn=n(3920),fn=n(4701),Sa=Object.defineProperty,Us=Object.getOwnPropertySymbols,Ta=Object.prototype.hasOwnProperty,Ia=Object.prototype.propertyIsEnumerable,vn=(t,e,a)=>e in t?Sa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,La=(t,e)=>{for(var a in e||(e={}))Ta.call(e,a)&&vn(t,a,e[a]);if(Us)for(var a of Us(e))Ia.call(e,a)&&vn(t,a,e[a]);return t};function wn(){var t,e;if(!(0,Lt.T)().threats)return;const{game:a}=(0,he.g)();a.markings.removeAllWhere({tags:[fn.x]});const h=a.getFEN(),f=(e=(t=(0,Ne.U)(Ae.u.CachedGame.Key))==null?void 0:t.history)==null?void 0:e.threats;if(!f)return;const S=f[h];if(!S?.length)return;const F=S.reduce((Y,be)=>(Y.push({data:La({from:be.slice(0,2),to:be.slice(2,4)},gn.D),tags:[fn.x],type:"arrow"}),Y),[]);a.markings.addMany(F)}function yn(){return(0,he.g)().state.mode===d.nl.Types.Analysis}var gs=n(7969),kn=n(6566),$s=n(9265);function ja({pathToBook:t,settings:e}){(0,G.g)().game.markings.removeAll(),(0,Be.r)(t,e);const a=(0,Be.m)();a.send("ucinewgame"),a.send(`position fen ${(0,G.g)().game.getFingerprints().startingFen}`)}function Na(){var t;const a=Ft.L.playingAs===d.lA.ColorsAsNumbers.Black,h=(0,j.gK)("rating"),f=(t=V.w.selectedBot)==null?void 0:t.rating;ja({pathToBook:V.w.selectedBot.book,settings:{HandleContinuations:!0,HandleContinuationsDepth:window.Cypress?9:15,HumanPlaysBlack:a,WhiteElo:a?f:h,BlackElo:a?h:f,ServeCommandV2:!0,SpeechV2:!0,UCI_Chess960:Ft.L.gameType===d.lA.Variants.Chess960,UseDeclarativePositionCommand:!0}})}var Fs=n(4257),En=n(1913);function Ba(){(0,Fs.q)(),(0,En.o)(),(0,Js.G)(Es.V.GameStart)}var xs=Object.defineProperty,Ra=(t,e,a)=>e in t?xs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Wt=(t,e,a)=>(Ra(t,typeof e!="symbol"?e+"":e,a),a);class Da extends c.Hn{constructor(){super(...arguments),Wt(this,"fen",""),Wt(this,"mode",d.nl.Types.PassiveObserving),Wt(this,"selectedNode",null),Wt(this,"isGameOver",!1),Wt(this,"gameStartTime",Date.now()),Wt(this,"pgn","")}}const On=new Da,qt={analysisPgn:"",isPlayingFromCachedGame:!1,rematchData:void 0};var fs=n(4609),vs=n(4623),Cn=Object.create,Pn=Object.defineProperty,za=Object.getOwnPropertyDescriptor,Ua=Object.getOwnPropertyNames,$a=Object.getPrototypeOf,Fa=Object.prototype.hasOwnProperty,xn=(t,e,a,h)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of Ua(e))!Fa.call(t,f)&&f!==a&&Pn(t,f,{get:()=>e[f],enumerable:!(h=za(e,f))||h.enumerable});return t},Fo=(t,e,a)=>(a=t!=null?Cn($a(t)):{},xn(e||!t||!t.__esModule?Pn(a,"default",{value:t,enumerable:!0}):a,t));const Wa=(0,c.eI)({async init(){const{game:t}=(0,he.g)();if(t.on(d.QY.APIEvents.Load,this.onLoadGame),t.on(d.QY.APIEvents.Move,this.onMove),t.onMany([d.QY.APIEvents.MoveBackward,d.QY.APIEvents.MoveForward,d.QY.APIEvents.SelectNode],(0,y.Z)(this.onNodeChange,400)),window.chesscom.features.includes("vs_personalities_speech_synthesis")){const{botSpeechSynthesis:e}=await n.e(583).then(n.bind(n,3583));e.init()}},async onLoadGame(){var t;!qt.isPlayingFromCachedGame&&((t=(0,he.g)().game.getCurrentFullLine())==null?void 0:t.length)||((0,$s.k)(),Na())},async onMove(t){vs.B.screen!==fs.Y.Screens.Play&&(vs.B.showBotAvatarAnimation=!0,Ba()),(0,Lt.T)().takebacks&&(0,he.g)().game.getMode().setOption("canModifyExistingMovesOnMainLine",!(0,gs.y)()),!yn()&&(Ct.P.isModalActive||await(0,bs.i)().handleMove(t))},async onNodeChange(t){var e,a;if(yn())return;const{game:h}=(0,he.g)(),f=h.getCurrentFullLine(),S=h.isAtEndOfLine()&&t.type===d.QY.APIEvents.MoveForward&&t.data.plyDiff===0;if(!f.length||S)return;(0,$s.k)(),wn();const F=(a=(e=(0,Ne.U)(Ae.u.CachedGame.Key))==null?void 0:e.history)==null?void 0:a.botChat,Y=f.length-1;await(0,Me.D)(It.I.botChat.nodeChangeDelay),F?.[Y]&&(0,kn.k)(F[Y]),h.isAtEndOfLine()&&(0,gs.y)()&&await(0,Je._)()}});var Za=Object.defineProperty,An=Object.getOwnPropertySymbols,Ha=Object.prototype.hasOwnProperty,Ga=Object.prototype.propertyIsEnumerable,Mn=(t,e,a)=>e in t?Za(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Sn=(t,e)=>{for(var a in e||(e={}))Ha.call(e,a)&&Mn(t,a,e[a]);if(An)for(var a of An(e))Ga.call(e,a)&&Mn(t,a,e[a]);return t};function Wo(t,e){const a=window.location.pathname,h=new URLSearchParams(window.location.search);h.has(t)?e?h.set(t,e):h.delete(t):e&&!h.has(t)&&h.append(t,e),t==="page"&&Number(e)===1&&h.delete(t);let f=`${a}`;h.toString()&&(f=`${f}?${h}`),window.history.pushState("","",f)}function ds(){return Object.fromEntries(new URLSearchParams(window.location.search))}function Va(t){const e=new URLSearchParams;return Object.keys(t).filter(a=>t[a]!==void 0).forEach(a=>e.append(a,t[a])),e.toString()}function Zo(t){const e=Va(Sn(Sn({},ds()),t));window.location.href=`${window.location.pathname}?${e}`}const Ho=t=>Object.keys(t).map(e=>`${e}=${t[e]}`).join("&");var Tn=n(6014);const In=t=>t==="true",Go=t=>{const e=/<!--([\s\S]*?)-->/gm;return t.replace(e,"")},Ka=t=>typeof t=="string"?t.toLowerCase().replace(/(?:^|\s|-)\S/g,e=>e.toUpperCase()):t,Vo=t=>(t||"").replace("_","-");function Ko(t){return t.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,(e,a)=>a.toUpperCase())}function Ln(t){return Object.entries(t).reduce((e,[a,h])=>{var f,S;const F=(S=(f=a.match(/^opening.+\d/))==null?void 0:f[0])!=null?S:a;return e[F]=h,e},{})}function qa(){return R.Z.get(I.Z.generate("web_bot_personality_callback_get_enabled"))}var jn=Object.defineProperty,Qa=Object.defineProperties,Nn=Object.getOwnPropertyDescriptors,Ws=Object.getOwnPropertySymbols,Bn=Object.prototype.hasOwnProperty,Ya=Object.prototype.propertyIsEnumerable,Ja=(t,e,a)=>e in t?jn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Xa=(t,e)=>{for(var a in e||(e={}))Bn.call(e,a)&&Ja(t,a,e[a]);if(Ws)for(var a of Ws(e))Ya.call(e,a)&&Ja(t,a,e[a]);return t},eo=(t,e)=>Qa(t,Nn(e));async function Rn(){if(!V.w.botData.length){const t=sessionStorage.getItem(se()),e=t?JSON.parse(t):[];let a;e.length&&!window.chesscom.features.includes("vs_personalities_play_vs_coach")?a=e:a=(await qa()).data,window.chesscom.features.includes("vs_personalities_play_vs_coach")||(a=a.filter(h=>h.classification!=="coach")),V.w.botData=a.map(h=>eo(Xa({},h),{country_name:h.country_code&&ae.Z.trans(h.country_code.toUpperCase(),null,"countries"),image_url:h.image_url_override||h.image_url||(0,Tn.s)("noAvatar",Tn.F.CONFIG),personality:Ka(h.personality),phrases:Ln(h.phrase_list)})),ge()}}var to=n(7589);function so(){V.w.defaultEngineBot=(0,to.l)()}var no=n(7677);function ao(){V.w.longestDescription=(0,no.u)()}var As=n(7296),us=n(344);function ws(t){return V.w.botData.find(e=>Object.entries(t).every(([a,h])=>e[a]===h))}var Dn=n(4363);function zn(){var t,e;const{bot:a}=ds(),h=a||((t=qt.rematchData)==null?void 0:t.botName)||((e=(0,Dn.T)())==null?void 0:e.selectedBot);return h&&ws({username:h})||V.w.botData[0]}var Un=n(5411);async function $n(){V.w.botData.length||(await Rn(),ao(),so(),(0,As.A)(zn()),(0,us.Z)(),(0,Un.P)())}var Fn=n(2758),u=n(7555);async function s(){if(!!ds().rematch)try{const t=await R.Z.get(I.Z.generate("web_computer_callback_load_game",{id:ds().rematch})),e=Object.values(t.data.players),a=e.find(Y=>Y.username===(0,j.gK)("getUsername")),h=e.find(Y=>Y.username!==(0,j.gK)("getUsername"));if(!a||!h)throw new Error("Invalid rematch data");const f=a.color===d.lA.ColorsAsWords.White?d.lA.ColorsAsNumbers.Black:d.lA.ColorsAsNumbers.White,S=h.username,F=t.data.game.type;qt.rematchData={color:f,botName:S,gameType:F},Ft.L.playingAs=f,Ft.L.gameType=F,ue.e.color=f,ue.e.variant=F}catch(t){console.warn(t)}}function v(t){try{const e=t.getPlayingAs()===t.getTurn()?-1:0,a=t.getRelativeNode(e);return(0,d.UG)(a)?a:void 0}catch{return}}const B=(0,c.kr)();var ye=n(6066);function Re(t){return new Promise(e=>{(0,Be.m)().send(`serve ${JSON.stringify(t)}`),e()})}async function Xe(){const{ceeState:t}=ue.e;Object.keys(t).length&&await Re(t)}function kt(){var t;qt.isPlayingFromCachedGame=!0;const e=(t=(0,Ne.U)(Ae.u.CachedGame.Key))==null?void 0:t.pgn;if(!!e){if((0,he.g)().game.load({pgn:e}),(0,En.o)(),(0,Lt.T)().feedback){const a=v(B.getActiveChessboard().game);ye.q.getMoveFeedback(a)}qt.isPlayingFromCachedGame=!1,wn(),(0,Be.m)().isready(async()=>{await Xe(),await(0,Me.D)(It.I.computerMoveCourtesyDelay),(0,Je._)()})}}function Rt(){(0,he.g)().game.load({pgn:"*"}),(0,En.o)()}var ss=n(7275),Qt=n(855),Wn=n(9357);const oo=zs.N.Modes.Types,Al=(0,c.eI)({init(t){return t.then(this.onAppInitialized),s()},async onAppInitialized(){cs.S.on(cs.p.UpdateMode,this.onModeUpdated),await $n(),(0,ss.D)(Ft.L.gameType),(0,Qt.K)(Ft.L.playingAs),ue.e.pgn||(0,Fn.t)(),ds().bot?ve():qt.rematchData?Rt():ds().fresh?ve():ue.e.pgn&&kt(),this.onModeUpdated()},onModeUpdated(){cs.S.emit(cs.p.UpdateSettings),(0,re.H)((0,u.y)()),(0,Wn.A)()===zs.N.Modes.Types.Custom&&bn(Ds.M[oo.Custom])}});var Ml=n(6663),qo=n(8717);function Sl(t){const e=document.getElementById("board-layout-controls");e&&(0,Ml.o)(e,qo.I.BodyClass.HideBoardIcons,t)}const Tl=(0,c.eI)({init(){var t;Sl(!0),(t=document.getElementById("board-controls-flip"))==null||t.addEventListener("click",()=>{const e=(0,he.g)().game;ts.y.flipped=!ts.y.flipped,e.setOptions({flipped:!e.getOptions().flipped})}),window.addEventListener("keypress",e=>{e.code==="KeyX"&&(ts.y.flipped=!ts.y.flipped)})}}),Il=10;var ro=n(6705);const Dt={analysis:void 0,progress:0,playingAs:d.lA.ColorsAsWords.White,isThinking:!1,selectedPly:void 0,tallies:{white:{blunder:0,missedWin:0,mistake:0},black:{blunder:0,missedWin:0,mistake:0}}};async function Ll(t){const{game:e}=B.getActiveChessboard();!e.getLastMove()||(Dt.playingAs=(0,d.RS)(e.getPlayingAs()),await ro.Y.runComplete(),ro.Y.run({depth:Il,onDone:(a,h)=>{Qo({data:h,progress:1}),ro.Y.stop()},onStream:a=>Qo(a),options:{pgn:t}}))}function Qo({data:{tallies:t},progress:e}){Dt.progress=e,t&&(Dt.tallies=t)}var Zt=n(140);const jl=(0,c.eI)({init(){Zt.r.on(Zt.f.FinalMoveFeedbackCompleted,this.onResult)},onResult(){Ll((0,he.g)().game.getPGN())}});async function Nl(){const{data:t}=await R.Z.get(I.Z.generate("web_themes_data_callback"));return t}async function Yo(){b.q.boardStyles||(b.q.boardStyles=await Nl(),b.q.boardStyles.animationTypes=(b.q.boardStyles.animationTypes||[]).filter(t=>t.code!=="battle"))}var Bl=Object.create,Jo=Object.defineProperty,Rl=Object.getOwnPropertyDescriptor,Dl=Object.getOwnPropertyNames,zl=Object.getPrototypeOf,Ul=Object.prototype.hasOwnProperty,$l=(t,e,a,h)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of Dl(e))!Ul.call(t,f)&&f!==a&&Jo(t,f,{get:()=>e[f],enumerable:!(h=Rl(e,f))||h.enumerable});return t},ff=(t,e,a)=>(a=t!=null?Bl(zl(t)):{},$l(e||!t||!t.__esModule?Jo(a,"default",{value:t,enumerable:!0}):a,t));async function Fl(){(0,c.tL)(Promise.all([n.e(240),n.e(225)]).then(n.bind(n,7765)))}var Xo=n(4870);async function er(){await Yo(),await Fl(),Xo.D.isModalVisible=!0}const Wl=(0,c.eI)({init(){var t;(t=document.getElementById("board-controls-settings"))==null||t.addEventListener("click",this.onClickSettings)},onClickSettings(){er()}});var Zl=[ma,Ma,Wa,Al,Tl,jl,Wl],Zn=n(6677),Hl=function(){var e=this,a=e._self._c,h=e._self._setupProxy;return a("player-row",e._b({class:e.$style.component,attrs:{color:e.color,"clock-theme":e.clockTheme,"clock-icon-ticks":"","is-chesscom-user":"","is-constrained":!1,"is-minimal-avatar":"","is-new-board":"","is-player-turn":"","is-top":e.isTop,"is-username-clickable":!1,material:e.capturedPieces,"minimal-avatar":"",player:e.player,rating:e.player.rating,"move-time":e.calculatedMoveTime,"show-timer-icon":"",username:e.player.username}},"player-row",e.$attrs,!1))},Gl=[];function tr(t){return`0${t}`.substr(-2)}const sr=36e5,nr=6e4,ar=1e3,Vl=100;function Kl(t,e){const a=Math.max(t,0),h=Math.floor(a/sr),f=Math.floor(a%sr/nr),S=Math.floor(a%nr/ar),F=e?Math.floor(a%ar/Vl):void 0;let Y="";const be=h?tr(f):f,We=tr(S);return h&&(Y=`${h}:`),Y=`${Y}${be}:${We}`,typeof F<"u"&&(Y=`${Y}.${F}`),Y}var ql=function(){var e=this,a=e._self._c;return a("div",{class:[e.$style.component,{[e.$style.constrained]:e.isConstrained},{[e.$style.top]:e.isTop}]},[a("div",{class:e.$style.container},[a("div",{class:e.$style.wrapper},[a(e.avatarComponent,{directives:[{name:"user-popover",rawName:"v-user-popover",value:e.popoverUsername,expression:"popoverUsername"}],tag:"component",class:[e.$style.avatar,{[e.$style.winner]:e.isPlayerWinner}],style:e.avatarStyles,attrs:{image:e.avatarUrl,"is-online":e.player.isOnline,src:e.avatarUrl,url:e.userUrl}}),e._v(" "),a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isConstrained,expression:"!isConstrained"}],attrs:{"data-cy":"player-row-username"}},[a("user-tagline",{directives:[{name:"user-popover",rawName:"v-user-popover",value:e.popoverUsername,expression:"popoverUsername"}],class:e.$style.username,attrs:{country:e.countryInformation,"flair-code":e.player.flairCode,"is-username-clickable":e.isUsernameClickable,membership:e.player.membershipLevel,rating:e.rating,title:e.chessTitle,url:e.userUrl,username:e.username,"username-theme":"white"}})],1),e._v(" "),e.showCapturedPieces?[e.isNewBoard?a("new-captured-pieces",e._b({class:e.$style.pieces,attrs:{color:e.capturedPiecesColor,"vertical-layout":e.isConstrained}},"new-captured-pieces",e.$attrs,!1)):a("old-captured-pieces",e._b({class:e.$style.pieces,attrs:{color:e.capturedPiecesColor,"vertical-layout":e.isConstrained}},"old-captured-pieces",e.$attrs,!1))]:e._e()],2)],1)]),e._v(" "),e.moveTime?a("move-time",e._b({directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.moveTimeTooltip,position:"bottom"},expression:"{ content: moveTimeTooltip, position: 'bottom' }"}],class:e.$style["move-time"],attrs:{"clock-icon-ticks":e.clockIconTicks,"is-vacation":e.isVacation,"show-timer-icon":e.showTimerIcon,theme:e.clockTheme,"time-left":e.moveTime}},"move-time",e.$attrs,!1)):e._e()],1)},Ql=[];const Yl={getMemberView:t=>I.Z.generate("web_member_view",{username:t})},Jl={LIGHT:"light",DARK:"dark"};var Pe=n(8848);const wf={FIGURINE:"figurine",TEXT:"text"},io={BLACK:2,WHITE:1},Zs={BLACK:"black",WHITE:"white"},yf={black:"BLACK",white:"WHITE"},Xl={B:"bishop",K:"king",N:"knight",R:"rook",Q:"queen"};let lo;const or=()=>(lo||(lo={B:Pe.$H.trans("move_list.algebraic.B",null,"moves")||"B",K:Pe.$H.trans("move_list.algebraic.K",null,"moves")||"K",N:Pe.$H.trans("move_list.algebraic.N",null,"moves")||"N",R:Pe.$H.trans("move_list.algebraic.R",null,"moves")||"R",Q:Pe.$H.trans("move_list.algebraic.Q",null,"moves")||"Q"}),lo);var ec=function(){var e=this,a=e._self._c;return a("div",{class:["captured-pieces",{[e.$style.vertical]:e.verticalLayout}]},[e._l(e.pieces,function(h,f){return a("span",{key:f,class:e.getClasses(h)})}),e._v(" "),e.score?a("span",{class:[e.$style.cpiece,e.$style.score],domProps:{textContent:e._s(e.score)}}):e._e()],2)},tc=[];const co={p:"pawn",n:"knight",b:"bishop",r:"rook",q:"queen"},rr={p:1,b:2,n:3,r:4,q:5},sc=t=>`cpiece ${t}-`,nc=t=>co[t],ac=(t,e)=>`${t}-${co[e]}s`,uo=(t,e,a)=>sc(e)+(a===1?nc(t):ac(a,t)),oc=(t,e)=>[...Array.from(Array(Math.floor(e/2)),()=>uo(d.lA.Piece.Types.Pawn,t,2)),...Array.from(Array(e%2),()=>uo(d.lA.Piece.Types.Pawn,t,1))],rc=(t,e,a,h)=>h&&t==="p"?oc(e,a):uo(t,e,a),ir=(t,e,a=!1)=>Object.keys(t).filter(h=>t[h]>0&&co[h]).sort((h,f)=>rr[h]-rr[f]).map(h=>rc(h,e,t[h],a)).reduce((h,f)=>h.concat(f),[]);var ic={props:{color:{type:String,required:!0},game:{type:Object,required:!0},verticalLayout:{type:Boolean,default:!1}},computed:{pieceColorIndex(){return this.color==="w"?1:0},scoreColorIndex(){return this.color==="w"?0:1},pieceColor(){return this.color==="w"?"b":"w"},pieces(){return ir(this.game.setup.capturedPieces[this.pieceColorIndex],this.pieceColor,this.verticalLayout)},score(){const t=this.game.setup.capturedScores,e=t[this.scoreColorIndex]-t[1-this.scoreColorIndex];return e>0?`+${e}`:null}},methods:{getClasses(t){return t.split(" ").map(e=>this.$style[e])}}},lc=ic,lr={"captured-pieces":"captured-pieces-captured-pieces",vertical:"captured-pieces-vertical",hidden:"captured-pieces-hidden",cpiece:"captured-pieces-cpiece",score:"captured-pieces-score","b-pawn":"captured-pieces-b-pawn","w-pawn":"captured-pieces-w-pawn","b-2-pawns":"captured-pieces-b-2-pawns","w-2-pawns":"captured-pieces-w-2-pawns","b-3-pawns":"captured-pieces-b-3-pawns","w-3-pawns":"captured-pieces-w-3-pawns","b-4-pawns":"captured-pieces-b-4-pawns","w-4-pawns":"captured-pieces-w-4-pawns","b-5-pawns":"captured-pieces-b-5-pawns","w-5-pawns":"captured-pieces-w-5-pawns","b-6-pawns":"captured-pieces-b-6-pawns","w-6-pawns":"captured-pieces-w-6-pawns","b-7-pawns":"captured-pieces-b-7-pawns","w-7-pawns":"captured-pieces-w-7-pawns","b-8-pawns":"captured-pieces-b-8-pawns","w-8-pawns":"captured-pieces-w-8-pawns","b-bishop":"captured-pieces-b-bishop","w-bishop":"captured-pieces-w-bishop","b-2-bishops":"captured-pieces-b-2-bishops","w-2-bishops":"captured-pieces-w-2-bishops","b-knight":"captured-pieces-b-knight","w-knight":"captured-pieces-w-knight","b-2-knights":"captured-pieces-b-2-knights","w-2-knights":"captured-pieces-w-2-knights","b-rook":"captured-pieces-b-rook","w-rook":"captured-pieces-w-rook","b-2-rooks":"captured-pieces-b-2-rooks","w-2-rooks":"captured-pieces-w-2-rooks","b-queen":"captured-pieces-b-queen","w-queen":"captured-pieces-w-queen"},Ge=n(1900);function cc(t){this.$style=lr.locals||lr}var dc=(0,Ge.Z)(lc,ec,tc,!1,cc,null,null),uc=dc.exports,hc=function(){var e=this,a=e._self._c;return a("div",{class:e.componentClasses},[e.showTimerIcon?[e.clockIconTicks?a("ticker-icon",{ref:"tickerIcon",class:e.$style.ticker}):a("div",{staticClass:"icon-font-chess",class:[e.$style.icon,e.isVacation?"pause":"circle-clock"]})]:e._e(),e._v(" "),a("div",{class:e.$style.content,domProps:{textContent:e._s(e.formattedTimeLeft)}})],2)},pc=[],mc=function(){var e=this,a=e._self._c;return a("timer",{class:e.$style.component,style:e.style})},_c=[],bc=function(){var e=this,a=e._self._c;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"}},[a("path",{attrs:{d:"M5.48,9a.93.93,0,0,0-.3.71v.58a.94.94,0,0,0,.3.71,1,1,0,0,0,.71.3h4.58a1,1,0,0,0,.71-.3.94.94,0,0,0,.29-.71V9.7A.92.92,0,0,0,11.48,9a1,1,0,0,0-.71-.27H6.19A1,1,0,0,0,5.48,9Z"}}),a("path",{attrs:{d:"M19.22,6.1a9.9,9.9,0,0,0-2.14-3.18A10.23,10.23,0,0,0,13.9.78,9.76,9.76,0,0,0,10,0,9.86,9.86,0,0,0,6.1.78,10,10,0,0,0,.78,6.1,9.81,9.81,0,0,0,0,10a9.81,9.81,0,0,0,.78,3.9A10,10,0,0,0,6.1,19.22,9.86,9.86,0,0,0,10,20a9.76,9.76,0,0,0,3.89-.78,10.23,10.23,0,0,0,3.18-2.14,9.9,9.9,0,0,0,2.14-3.18A9.81,9.81,0,0,0,20,10,9.81,9.81,0,0,0,19.22,6.1ZM17.07,13a7.65,7.65,0,0,1-1.65,2.42A7.81,7.81,0,0,1,13,17.06a7.46,7.46,0,0,1-3,.6,7.51,7.51,0,0,1-3-.6,7.74,7.74,0,0,1-2.43-1.65A8,8,0,0,1,2.94,13a7.46,7.46,0,0,1-.6-3,7.46,7.46,0,0,1,.6-3A8,8,0,0,1,4.58,4.59,7.74,7.74,0,0,1,7,2.94a7.51,7.51,0,0,1,3-.6,7.45,7.45,0,0,1,3,.6,7.74,7.74,0,0,1,2.43,1.65A7.65,7.65,0,0,1,17.07,7a7.46,7.46,0,0,1,.6,3A7.46,7.46,0,0,1,17.07,13Z"}})])},gc=[],fc={},vc=(0,Ge.Z)(fc,bc,gc,!1,null,null,null),wc=vc.exports,yc={name:"TickerIcon",components:{Timer:wc},data(){return{rotate:0}},computed:{style(){return{transform:`rotate(${this.rotate}deg)`}}},methods:{tick(){this.rotate+=90}}},kc=yc,cr={component:"ticker-icon-component"};function Ec(t){this.$style=cr.locals||cr}var Oc=(0,Ge.Z)(kc,mc,_c,!1,Ec,null,null),Cc=Oc.exports;function Pc(t){let e=t;if(e<=0)return"0:00";let a=0,h=0,f=0;const S=e<=200;return e>=10&&(f=Math.floor(e/10),e-=f*10),f>=60&&(h=Math.floor(f/60),f-=h*60),f<10&&(f=`0${f}`),h>=60&&(a=Math.floor(h/60),h-=a*60),a?(h<10&&(h=`0${h}`),`${a}:${h}:${f}`):S?`${h}:${f}.${Math.floor(e)}`:`${h}:${f}`}var xc={name:"MoveTime",components:{TickerIcon:Cc},props:{clockIconTicks:{type:Boolean,default:!1},formatTime:{type:Boolean,default:!1},isVacation:{type:Boolean,default:!1},showTimerIcon:{type:Boolean,default:!1},theme:{type:String,default:Jl.LIGHT},timeLeft:{type:String,default:"0:00:00"}},computed:{formattedTimeLeft(){if(!this.formatTime)return this.timeLeft;const[t,e,a]=this.timeLeft.split(":"),[h,f]=a.split("."),S=(Number(t)||0)*60*60*10+(Number(e)||0)*60*10+(Number(h)||0)*10+(Number(f)||0);return Pc(S)},componentClasses(){return[this.$style.time,this.$style[this.theme],{[this.$style.iconless]:!this.showTimerIcon,[this.$style.inactive]:!this.showTimerIcon}]}},watch:{timeLeft(){var t;this.clockIconTicks&&((t=this.$refs.tickerIcon)==null||t.tick())}}},Ac=xc,dr={time:"move-time-time",dark:"move-time-dark",inactive:"move-time-inactive",indicator:"move-time-indicator",icon:"move-time-icon",ticker:"move-time-ticker",content:"move-time-content",iconless:"move-time-iconless"};function Mc(t){this.$style=dr.locals||dr}var Sc=(0,Ge.Z)(Ac,hc,pc,!1,Mc,null,null),Tc=Sc.exports,Ic=function(){var e=this,a=e._self._c;return a("div",{class:["captured-pieces",{[e.$style.vertical]:e.verticalLayout}]},[e._l(e.pieces,function(h,f){return a("span",{key:f,class:e.getClasses(h)})}),e._v(" "),e.score?a("span",{class:[e.$style.cpiece,e.$style.score],domProps:{textContent:e._s(e.score)}}):e._e()],2)},Lc=[],jc={name:"NewCapturedPieces",props:{color:{type:String,required:!0},material:{type:Object,required:!0},verticalLayout:{type:Boolean,default:!1}},computed:{pieceColorIndex(){return this.color==="w"?1:0},pieceColor(){return this.color==="w"?"b":"w"},pieces(){var t;return ir((t=this.material[this.color==="w"?"white":"black"])!=null?t:{},this.pieceColor,this.verticalLayout)},score(){if(!!this.material.imbalance&&!(this.color==="w"&&this.material.imbalance<=0||this.color==="b"&&this.material.imbalance>=0))return`+${Math.abs(this.material.imbalance)}`}},methods:{getClasses(t){return t.split(" ").map(e=>this.$style[e])}}},Nc=jc,ur={"captured-pieces":"new-captured-pieces-captured-pieces",vertical:"new-captured-pieces-vertical",hidden:"new-captured-pieces-hidden",cpiece:"new-captured-pieces-cpiece",score:"new-captured-pieces-score","b-pawn":"new-captured-pieces-b-pawn","w-pawn":"new-captured-pieces-w-pawn","b-2-pawns":"new-captured-pieces-b-2-pawns","w-2-pawns":"new-captured-pieces-w-2-pawns","b-3-pawns":"new-captured-pieces-b-3-pawns","w-3-pawns":"new-captured-pieces-w-3-pawns","b-4-pawns":"new-captured-pieces-b-4-pawns","w-4-pawns":"new-captured-pieces-w-4-pawns","b-5-pawns":"new-captured-pieces-b-5-pawns","w-5-pawns":"new-captured-pieces-w-5-pawns","b-6-pawns":"new-captured-pieces-b-6-pawns","w-6-pawns":"new-captured-pieces-w-6-pawns","b-7-pawns":"new-captured-pieces-b-7-pawns","w-7-pawns":"new-captured-pieces-w-7-pawns","b-8-pawns":"new-captured-pieces-b-8-pawns","w-8-pawns":"new-captured-pieces-w-8-pawns","b-bishop":"new-captured-pieces-b-bishop","w-bishop":"new-captured-pieces-w-bishop","b-2-bishops":"new-captured-pieces-b-2-bishops","w-2-bishops":"new-captured-pieces-w-2-bishops","b-knight":"new-captured-pieces-b-knight","w-knight":"new-captured-pieces-w-knight","b-2-knights":"new-captured-pieces-b-2-knights","w-2-knights":"new-captured-pieces-w-2-knights","b-rook":"new-captured-pieces-b-rook","w-rook":"new-captured-pieces-w-rook","b-2-rooks":"new-captured-pieces-b-2-rooks","w-2-rooks":"new-captured-pieces-w-2-rooks","b-queen":"new-captured-pieces-b-queen","w-queen":"new-captured-pieces-w-queen"};function Bc(t){this.$style=ur.locals||ur}var Rc=(0,Ge.Z)(Nc,Ic,Lc,!1,Bc,null,null),Dc=Rc.exports,hr=n(496),pr=n(1199),zc=n(4986),Uc=n(323),hs=n(4084),$c=n(613),mr=n(9701),Fc={name:"PlayerRow",components:{MinimalAvatar:hr.Z,NewCapturedPieces:Dc,OldCapturedPieces:uc,MoveTime:Tc,UserTagline:zc.Z,UserAvatar:pr.Z},directives:{Tooltip:hs.Z,UserPopover:$c.Z},props:{avatarSize:{type:Number,default:40},color:{type:String,required:!0},coordinateOffset:{type:Number,default:0},clockIconTicks:{type:Boolean,default:!1},clockTheme:{type:String},evalBarPresent:{type:Boolean,default:!1},isChesscomUser:{type:Boolean,default:!0},isConstrained:{type:Boolean,default:!1},isMasterGame:{type:Boolean,default:!1},isNewBoard:{type:Boolean,default:!1},isPlayerTurn:{type:Boolean,default:!1},isPlayerWinner:{type:Boolean,default:!1},isTop:{type:Boolean,default:!1},isUsernameClickable:{type:Boolean,default:!0},isVacation:{type:Boolean,default:!1},minimalAvatar:{type:Boolean,default:!1},moveTimeTooltip:{type:String,default:""},player:{type:Object,default:()=>({})},rating:{type:Number},moveTime:{type:String},showCapturedPieces:{type:Boolean,default:!0},showTimerIcon:{type:Boolean,default:!1},username:{type:String,default:""}},computed:{avatarComponent(){return this.minimalAvatar||!this.isChesscomUser?hr.Z:pr.Z},avatarUrl(){return this.player.avatarUrl||(0,Uc.n)("bundles/web/images/user-image.svg")},avatarStyles(){return{height:`${this.avatarSize}px`,width:`${this.avatarSize}px`}},capturedPiecesColor(){return this.color===Zs.WHITE?"w":"b"},chessTitle(){return this.player.chessTitle||""},countryInformation(){const{countryId:t,countryName:e}=this.player;return t&&e?{code:t,name:e}:null},popoverUsername(){return this.isUsernameClickable&&this.isChesscomUser&&(0,mr.rh)(this.username)?this.username:null},userUrl(){if(this.isMasterGame&&this.player.url)return I.Z.generate("web_master_player_view",{url:this.player.url});if(!(!this.isUsernameClickable||!(0,mr.rh)(this.username)))return this.isChesscomUser?Yl.getMemberView(this.username):I.Z.generate("web_master_player_redirect",{name:this.username})}}},Wc=Fc,_r={avatar:"player-row-avatar",winner:"player-row-winner",container:"player-row-container",component:"player-row-component",constrained:"player-row-constrained",pieces:"player-row-pieces",top:"player-row-top",wrapper:"player-row-wrapper","move-time":"player-row-move-time"};function Zc(t){this.$style=_r.locals||_r}var Hc=(0,Ge.Z)(Wc,ql,Ql,!1,Zc,null,null),Gc=Hc.exports,Vc=(0,w.aZ)({name:"PlayerController",components:{PlayerRow:Gc},props:{position:{type:String,required:!0}},computed:{player(){return this.position===Zn.yV.Bottom?ts.y.playerBottom:ts.y.playerTop},color(){return(0,d.RS)(this.player.color)},isTop(){return this.position===Zn.yV.Top},capturedPieces(){return ts.y.capturedMaterial},calculatedMoveTime(){return this.player.timer?Kl(this.player.timer,this.player.timer<1e4):null},clockTheme(){return this.player.color===d.lA.ColorsAsNumbers.White?"light":"dark"}}}),Kc=Vc,br={component:"player-component"};function qc(t){this.$style=br.locals||br}var Qc=(0,Ge.Z)(Kc,Hl,Gl,!1,qc,null,null),gr=Qc.exports,Yc=(0,w.aZ)({el:"#player-bottom",name:"PlayerBottomController",extends:gr,props:{position:{type:String,default:Zn.yV.Bottom}}}),Jc=Yc,Xc,ed,td=(0,Ge.Z)(Jc,Xc,ed,!1,null,null,null),sd=td.exports,nd=(0,w.aZ)({el:"#player-top",name:"PlayerTopController",extends:gr,props:{position:{type:String,default:Zn.yV.Top}}}),ad=nd,od,rd,id=(0,Ge.Z)(ad,od,rd,!1,null,null,null),ld=id.exports,cd=function(){var e=this,a=e._self._c,h=e._self._setupProxy;return a("transition",{attrs:{name:"sidebar-component",mode:"out-in",appear:""}},[a(e.activeController,{tag:"component",class:e.$style.component})],1)},dd=[],ud=function(){var e=this,a=e._self._c,h=e._self._setupProxy;return a("div",{class:e.$style.component},[e.settings.botChat&&!e.isBotEngine?a("div",{class:e.$style["chat-container"]},[a("chat-message",{class:e.$style.message,attrs:{"avatar-url":e.botAvatar,"chat-messages":e.messages}})],1):e._e(),e._v(" "),a("div",{class:{[e.$style["above-move-list"]]:e.settings.lines||e.settings.feedback}},[e.settings.lines?a("evaluation-lines",{attrs:{"board-id":e.boardId}}):e._e(),e._v(" "),e.settings.feedback?a("move-feedback"):e._e()],1),e._v(" "),a("eco-opening",{attrs:{"board-id":e.boardId,"link-to-explorer":"","explorer-is-clickable":"","opening-is-clickable":""}}),e._v(" "),e.isAnalysisMode?a("horizontal-move-list",{class:e.$style.moveList,attrs:{"board-id":e.boardId}}):a("vertical-move-list",{class:e.$style.moveList,attrs:{"board-id":e.boardId}}),e._v(" "),e.isGameOver?a("quick-analysis"):e._e(),e._v(" "),a("GameControls")],1)},hd=[],Hn=n(1105);function fr(){const t=k.f.getActiveChessboardId();if(!t)throw new Error("No active chessboard");return`board-${t}`}var pd=function(){var e=this,a=e._self._c,h=e._self._setupProxy;return a("feedback-wrapper",{attrs:{analysis:e.analysis,"board-options":e.boardOptions,"board-is-flipped":e.boardIsFlipped,"is-thinking":e.isThinking,"selected-ply":e.selectedPly}})},md=[],_d=function(){var e=this,a=e._self._c;return e.feedbackEnabled?a("move-feedback",{attrs:{"feedback-enabled":!0,"board-options":e.boardOptions,"board-is-flipped":e.boardIsFlipped,fen:e.fen,"move-data":e.formattedAnalysis,"is-thinking":e.isThinking,"next-move":e.formattedAnalysis.playedMove,"node-limit":e.lineNodeLimit,"selected-ply":e.selectedPly,"show-board-preview":!0}}):e._e()},bd=[];const gd=8;var fd=function(){var e=this,a=e._self._c;return a("div",{class:[e.$style.component,{[e.$style.half]:Boolean(e.hideRow)}]},[e.hideRow!=="top"?a("div",{class:e.$style.row},[e.$slots.top?e._t("top"):e.showPlayedMove?a("move-feedback-row",e._b({attrs:{classification:e.playedMoveClassification,color:e.moveData.color,description:e.playedMovePhrase,line:e.linePlayedMove,"move-number":e.moveData.moveNumber,"node-limit":e.nodeLimit,san:e.sanPlayedMove,"send-score-on-line-click":!0},on:{"mag-click":function(h){return e.handleNodeClick({isBest:!1,nodeIndex:1,scoreText:h.score})},"node-click":function(h){return e.handleNodeClick({isBest:!1,lineSlice:h.sanMoves,scoreText:h.score})}}},"move-feedback-row",e.$attrs,!1)):e._e()],2):e._e(),e._v(" "),e.showBottom?a("div",{class:e.$style.row},[e.$slots.bottom?e._t("bottom"):e.isThinking?a("div",{class:e.$style.thinking},[a("loader-three-bounce",{attrs:{"is-circle":!0,size:40}})],1):e.showBestMove?a("move-feedback-row",e._b({attrs:{classification:e.classifications[e.bestMoveKey],color:e.moveData.color,description:e.bestMovePhrase,fen:e.bestMoveFen,line:e.lineBestMove,"move-number":e.moveData.moveNumber,"node-limit":e.nodeLimit,san:e.sanBestMove,"send-score-on-line-click":!0},on:{"mag-click":function(h){return e.handleNodeClick({isBest:!0,nodeIndex:0,scoreText:h.score})},"node-click":function(h){return e.handleNodeClick({isBest:!0,lineSlice:h.sanMoves,scoreText:h.score})},"san-click":function(h){return e.handleNodeClick({isBest:!0,nodeIndex:0,scoreText:h.score})}}},"move-feedback-row",e.$attrs,!1)):e._e()],2):e._e()])},vd=[],vr=n(8774),Nt=n(7719),ho=n(5454),Ht=n(9842),wd=function(){var e=this,a=e._self._c;return a("div",{class:[e.$style.component,{[e.$style.leftscore]:e.alignScoreLeft}]},[e._t("default",function(){return[e.classification.key&&e.classificationIcon?a("div",{class:e.$style.icon,domProps:{innerHTML:e._s(e.classificationIcon)}}):a("div",{class:[e.$style.indicator,e.$style[e.colorAsString]]}),e._v(" "),a("div",{class:e.$style.line},[a("div",{class:e.$style.topline,attrs:{"data-cy":e.$cy.engine.moveFeedback.topLine}},[a("move-san",e._g(e._b({class:[e.$style.san,e.$style.colored,e.colorClass],attrs:{color:e.color,"figurine-size":3,san:e.san},on:{click:e.handleSanClick}},"move-san",e.$attrs,!1),e.$listeners)),e._v(" "),a("div",{class:[e.$style.description,e.$style.colored,e.colorClass],domProps:{textContent:e._s(e.description)}})],1),e._v(" "),e.shouldShowScore&&e.alignScoreLeft?a("score-text",{class:e.$style.score,attrs:{value:e.scoreText}}):e._e(),e._v(" "),a("div",{class:[e.$style.moves,{[e.$style.withscenario]:Boolean(e.scenario)}]},[e.scenario?a("div",{class:e.$style.scenario,domProps:{textContent:e._s(e.scenario)}}):e._e(),e._v(" "),e.hasLine?a("div",{class:e.$style.enginewrap},[e.enginePrefix?a("span",{class:e.$style.prefix,domProps:{textContent:e._s(e.enginePrefix)}}):e._e(),e._v(" "),a("engine-line",e._g(e._b({class:[e.$style.engine,{[e.$style.withicon]:Boolean(e.engineLineIcon)}],attrs:{"is-expandable":!1,line:e.line,"line-end-icon":e.engineLineIcon,"show-score":!1},on:{"icon-click":e.handleMagClick}},"engine-line",e.$attrs,!1),e.$listeners))],1):e._e()])],1),e._v(" "),e.shouldShowScore&&!e.alignScoreLeft?a("score-text",{class:e.$style.score,attrs:{value:e.scoreText}}):e._e()]})],2)},yd=[],po=n(4491),kd=function(){var e=this,a=e._self._c;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.showEngineLine,expression:"showEngineLine"}],class:[e.$style.component,{[e.$style.open]:e.isOpen,[e.$style.withicon]:Boolean(e.lineEndIcon)}]},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.showThinking,expression:"showThinking"}],class:e.$style.thinking}),e._v(" "),e.lineExists&&!e.showThinking?[a("score-text",{directives:[{name:"show",rawName:"v-show",value:e.showScore,expression:"showScore"}],attrs:{value:e.scoreText}}),e._v(" "),e._l(e.pvSanNodes,function(h,f){return a("move-san",e._b({key:f,class:[e.$style.node,{[e.$style.clickable]:e.nodesClickable}],attrs:{"data-cy":`engine-line-move-san-${f}`,color:e.getNodeColor(f),"figurine-size":2,highlighted:f===e.highlightedNodeIndex,"premove-text":e.getPreMoveText(f),"reverse-figurine-color":e.reverseFigurineColor,san:h},on:{click:function(S){return e.handleNodeClick(f)},mouseover:function(S){return e.handleNodeMouseover(S,f)},mouseout:e.hidePreview}},"move-san",e.$attrs,!1))}),e._v(" "),e.lineEndIcon?a("button",{class:[e.$style.more,{[e.$style.inverted]:e.isOpen}],attrs:{type:"button","aria-label":e.$trans("Show More")},on:{click:e.handleIconClick}},[a("span",{staticClass:"icon-font-chess",class:[e.$style.icon,e.lineEndIcon]})]):e._e()]:e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showGamePreview,expression:"showGamePreview"}],class:e.$style.preview,style:e.previewStyles},[a("game-preview",e._b({attrs:{"color-scheme":e.boardOptions.boardStyle,fen:e.preview.fen,"flip-board":e.boardIsFlipped,"is-board-popover":!0,"highlight-squares":e.preview.highlightSquares,"piece-style":e.boardOptions.pieceStyle,size:e.previewSize}},"game-preview",e.$attrs,!1))],1)],2)},Ed=[],Od=function(){var e=this,a=e._self._c;return a("span",e._g({class:[e.$style.component,{[e.$style.highlighted]:e.highlighted}]},e.$listeners),[e.premoveText?a("span",{class:e.$style.premove,domProps:{textContent:e._s(e.premoveText)}}):e._e(),e._v(" "),a("span",{class:e.$style.highlight},[e.figurineSan?[a("span",{class:e.$style.san,attrs:{"data-cy":"move-san-san"},domProps:{textContent:e._s(e.figurineSan.beforeFigurine)}}),e._v(" "),a("span",{ref:"figurine",class:[e.$style.figurine,"icon-font-chess",e.figurine.icon,{[e.$style.trailing]:e.isTrailing}]}),a("span",{class:e.$style.afterfigurine,domProps:{textContent:e._s(e.figurineSan.afterFigurine)}})]:a("span",{class:e.$style.san,attrs:{"data-cy":"move-san-text"},domProps:{textContent:e._s(e.translatedSan)}})],2),e._v(" "),e.postmoveText?a("span",{class:e.$style.postmove,domProps:{textContent:e._s(e.postmoveText)}}):e._e()])},Cd=[];function wr(t){return t.san.search(/[BKNRQ]/)}function Pd(t){const e=t.color===io.WHITE?Zs.WHITE:Zs.BLACK,a=t.san[wr(t)];return`${Xl[a]}-${e}`}function xd(t){return or()[t]}function mo(t){return t.includes("O-O")?t:t.replace(/[BKNRQ]/g,xd)}var Ad={name:"MoveSan",props:{color:{type:[String,Number],default:d.lA.ColorsAsNumbers.White},figurineSize:{type:Number},highlighted:{type:Boolean},premoveText:{type:String,default:""},postmoveText:{type:String,default:""},reverseFigurineColor:{type:Boolean},san:{type:String,required:!0},showFigurine:{type:Boolean,default:!1}},computed:{colorAsNumber(){let t=this.color;return typeof this.color!="number"&&(t=this.color===d.lA.ColorsAsWords.White?d.lA.ColorsAsNumbers.White:d.lA.ColorsAsNumbers.Black),t},figurine(){if(this.showFigurine&&this.san){const t=this.reverseFigurineColor?(0,d.SH)(this.colorAsNumber):this.colorAsNumber;return{icon:Pd({color:t,san:this.san}),index:wr({san:this.san})}}return null},isTrailing(){var t;return((t=this.figurine)==null?void 0:t.index)>0},figurineSan(){return!this.figurine||this.figurine.index<0?null:{beforeFigurine:this.translatedSan.slice(0,this.figurine.index),afterFigurine:this.translatedSan.slice(this.figurine.index)}},translatedSan(){var t;const e=this.showFigurine?(t=this.san)==null?void 0:t.replace(/[BKNRQ]/g,""):this.san;return e&&mo(e)}}},Md=Ad,yr={component:"move-san-component",highlighted:"move-san-highlighted",highlight:"move-san-highlight",premove:"move-san-premove",postmove:"move-san-postmove",figurine:"move-san-figurine",trailing:"move-san-trailing",san:"move-san-san",afterfigurine:"move-san-afterfigurine"};function Sd(t){this.$style=yr.locals||yr}var Td=(0,Ge.Z)(Md,Od,Cd,!1,Sd,null,null),kr=Td.exports,Id=function(){var e=this,a=e._self._c;return a("a",{class:[e.$style.score,{[e.$style.negative]:e.isNegative}],attrs:{target:"_blank",href:e.helpUrl},domProps:{textContent:e._s(e.value)}})},Ld=[];const Er="//support.chess.com/article/656-what-do-the-computer-evaluation-numbers-mean-like-225";var jd={name:"ScoreText",props:{value:{type:String,required:!0}},data(){return{helpUrl:Er}},computed:{isNegative(){return this.value.charAt(0)==="-"||this.value==="0-1"}}},Nd=jd,Or={score:"score-text-score",negative:"score-text-negative"};function Bd(t){this.$style=Or.locals||Or}var Rd=(0,Ge.Z)(Nd,Id,Ld,!1,Bd,null,null),Cr=Rd.exports,Ee=n(5906);const Dd=(t,e)=>{const a=[];return(t.tree.lines||n(1700).Z.state.lines)[0].some((f,S)=>typeof e=="number"&&S>=e?!0:(a.push(f.san),!1)),a},zd=t=>{const e=[t.setup.fen];return(t.tree.lines||n(1700).Z.state.lines)[0].forEach(h=>{e.push(h.fen)}),e};var Gn=n(4759),Ud=Object.defineProperty,$d=Object.defineProperties,Fd=Object.getOwnPropertyDescriptors,Pr=Object.getOwnPropertySymbols,Wd=Object.prototype.hasOwnProperty,Zd=Object.prototype.propertyIsEnumerable,xr=(t,e,a)=>e in t?Ud(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Ms=(t,e)=>{for(var a in e||(e={}))Wd.call(e,a)&&xr(t,a,e[a]);if(Pr)for(var a of Pr(e))Zd.call(e,a)&&xr(t,a,e[a]);return t},Ar=(t,e)=>$d(t,Fd(e));const Yt={getId:t=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array(t||20).fill(void 0).reduce(a=>a+e.charAt(Math.floor(Math.random()*e.length)),"")},getInitialFen:()=>"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",formatJSTimestampForPgn:t=>{const e=new Date(t),a=`0${e.getUTCDate()}`.slice(-2),h=`0${e.getUTCMonth()+1}`.slice(-2);return`${e.getFullYear()}-${h}-${a}`},getSanFromFileRank:t=>!t||!t.file||!t.rank?null:String.fromCharCode(96+t.file)+t.rank.toString(),getFileRankFromSan:t=>t?{file:t.toLowerCase().charCodeAt(0)-96,rank:Number(t.charAt(1))}:null,getPieceAt:(t,e)=>t.setup.pieces.find(a=>a.file===e.file&&a.rank===e.rank),cloneGame:t=>({id:t.id,variant:t.variant,jce:t.jce,tree:Yt.cloneTree(t.tree),setup:(0,Gn.Q)((0,Gn.P)(t.setup)),markings:Ms({},t.markings),settings:Ms({},t.settings),history:[...t.history],premoves:t.premoves.map(e=>(0,Gn.Q)((0,Gn.P)(e)))}),cloneTree:t=>Ar(Ms({},t),{initialMarkings:JSON.parse(JSON.stringify(t.initialMarkings)),selected:Ms({},t.selected),selectedNode:t.selectedNode?Ar(Ms({},t.selectedNode),{ids:Ms({},t.selectedNode.ids),hash:[...t.selectedNode.hash],lines:t.selectedNode.lines&&[...t.selectedNode.lines],arrows:t.selectedNode.arrows&&[...t.selectedNode.arrows]}):null}),getFirstFen:t=>t.tree.lines[0].length?t.tree.lines[0][0].beforeFen:t.setup.fen};var Hd=Object.defineProperty,Mr=Object.getOwnPropertySymbols,Gd=Object.prototype.hasOwnProperty,Vd=Object.prototype.propertyIsEnumerable,Sr=(t,e,a)=>e in t?Hd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Kd=(t,e)=>{for(var a in e||(e={}))Gd.call(e,a)&&Sr(t,a,e[a]);if(Mr)for(var a of Mr(e))Vd.call(e,a)&&Sr(t,a,e[a]);return t};const qd=(t,e,a,h)=>{const f=Yt.getId(),S=Kd({id:f,interval:e,times:a},h);return t.markings.blinkingSquares.push(S),setTimeout(()=>{const F=t.markings.blinkingSquares.findIndex(Y=>Y.id===f);t.markings.blinkingSquares.splice(F,1)},0),t},$e={ADD_BLINKING_SQUARE:"ADD_BLINKING_SQUARE",CLEAR_ARROW:"CLEAR_ARROW",CLEAR_BLINKING_SQUARE:"CLEAR_BLINKING_SQUARE",CLEAR_EFFECT:"CLEAR_EFFECT",CLEAR_MARKED_SQUARE:"CLEAR_MARKED_SQUARE",INIT:"INIT",LOAD:"LOAD",MAKE_MOVE:"MAKE_MOVE",ILLEGAL_MOVE:"ILLEGAL_MOVE",JUMP_TO_POSITION:"JUMP_TO_POSITION",TREE_CHANGE:"TREE_CHANGE",TREE_AMENDED:"TREE_AMENDED",SETTINGS_CHANGE:"SETTINGS_CHANGE",PGN_HEADERS_UPDATED:"PGN_HEADERS_UPDATED",CANCEL_PREMOVES:"CANCEL_PREMOVES",PREMOVE:"PREMOVE",GUESS_THE_MOVE:"GUESS_THE_MOVE",CANCEL_GUESS_THE_MOVE:"CANCEL_GUESS_THE_MOVE",UPDATE_NODE:"UPDATE_NODE"},Ue={MAX_HISTORY_LIMIT:200,getInitialHistory(){return[]},add(t,e,a={}){if(t.length>Ue.MAX_HISTORY_LIMIT-1){const h=t.findIndex(f=>f!==null);t[h]=null}t.push({type:e,payload:a})},getLastItem(t){return t[t.length-1]}};var Qd=Object.defineProperty,Tr=Object.getOwnPropertySymbols,Yd=Object.prototype.hasOwnProperty,Jd=Object.prototype.propertyIsEnumerable,Ir=(t,e,a)=>e in t?Qd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,_o=(t,e)=>{for(var a in e||(e={}))Yd.call(e,a)&&Ir(t,a,e[a]);if(Tr)for(var a of Tr(e))Jd.call(e,a)&&Ir(t,a,e[a]);return t};let bo={};const Xd={q:9,r:5,b:3,n:3,p:1,k:0},je={getInitialSettings:()=>({variations:!1,analysis:!1,mainLineIsImmutable:!1,rules:!0,premoves:!1,GTM:!1}),getInitialSetup:()=>({ranks:8,files:8}),getInitialTree:()=>({initialMarkings:{arrows:[],effects:[],squares:[]}}),getInitialMarkings:()=>({arrows:[],blinkingSquares:[],effects:[],squares:[]}),clearState:t=>(t.setup=je.getInitialSetup(),t),updateState:t=>{t.setup=Object.assign({},t.setup,ke.getPositionInfo(t),ke.getPositionDetails(t)),ke.addExtraCastlingMoves(t),t.tree.lines=Ee.x.getLinesFromJce(t),t.tree.selected=t.jce.ids(),t.tree.selectedNode=Ee.x.getSelectedNode(t),t.setup.capturedPieces=je.getCapturedPieces(t.setup),t.setup.capturedScores=je.getCapturedScores(t.setup),t.setup.result=je.getResult(t),t.premoves=ke.getPremoves(t),t.variant=ke.getHeaders(t).Variant||t.variant,t.startingMoveNumber=t.setup.moveNumber;const e=Ee.x.getNode(t.tree.lines,ke.getSelectedIds(t))||t.tree.initialMarkings;return e&&(t.markings.squares=e.squares?e.squares.map(a=>_o({},a)):[],t.markings.arrows=e.arrows?e.arrows.map(a=>_o({},a)):[],t.setup.effects?t.markings.effects=t.setup.effects:e.effects?t.markings.effects=e.effects.map(a=>_o({},a)):t.markings.effects=[]),bo[t.id]=!0,t.sibling&&!bo[t.sibling.id]&&(t.sibling=je.updateState(t.sibling)),bo={},t},getCapturedPieces:t=>t.pieces.reduce((e,a)=>{if(a.type==="k")return e;const h=a.promoted?"p":a.type;return e[a.color-1][h]-=1,e},[{p:8,n:2,b:2,r:2,q:1},{p:8,n:2,b:2,r:2,q:1}]),getCapturedScores:t=>t.pieces.reduce((e,a)=>(e[a.color-1]+=Xd[a.type],e),[0,0]),getResult:t=>{const e=ke.getHeaders(t).Result;return e!=="*"?e:t.setup.insufficient||t.setup.stalemate?"1/2-1/2":t.setup.gameOver&&!t.setup.draw?t.setup.sideToMove===1?"0-1":"1-0":"*"}};var eu=Object.defineProperty,Lr=Object.getOwnPropertySymbols,tu=Object.prototype.hasOwnProperty,su=Object.prototype.propertyIsEnumerable,jr=(t,e,a)=>e in t?eu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,nu=(t,e)=>{for(var a in e||(e={}))tu.call(e,a)&&jr(t,a,e[a]);if(Lr)for(var a of Lr(e))su.call(e,a)&&jr(t,a,e[a]);return t};const xt=(t,e={},a=0,h=!0)=>{const f=Ee.x.findNode(t.jce._lines(),e,a,h),{line:S,move:F}=nu({},t.tree.selected);if(!f)return t;let Y={};return e.move+a<0&&e.line===f.ids.line?Y={line:0,move:-1}:Y=f.ids,ke.selectNode(t,Y),Ue.add(t.history,$e.JUMP_TO_POSITION,{from:{line:S,move:F},to:Y}),je.updateState(t)};var au=Object.defineProperty,Nr=Object.getOwnPropertySymbols,ou=Object.prototype.hasOwnProperty,ru=Object.prototype.propertyIsEnumerable,Br=(t,e,a)=>e in t?au(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,iu=(t,e)=>{for(var a in e||(e={}))ou.call(e,a)&&Br(t,a,e[a]);if(Nr)for(var a of Nr(e))ru.call(e,a)&&Br(t,a,e[a]);return t};const Rr=(t,e,a={})=>{const h=iu({},t.tree.selected);if(!t.settings.variations)return null;typeof a.line<"u"&&typeof a.move<"u"?ke.selectNode(t,a):a=t.tree.selected;const f=Ee.x.getNode(t.jce._lines(),{line:a.line,move:a.move}).san;return ke.createVariation(t),e&&ke.move(t,f),Ue.add(t.history,$e.JUMP_TO_POSITION,{from:h,to:a}),je.updateState(t)},Dr=t=>t.tree.selected.move!==-1&&t.settings.mainLineIsImmutable&&Ee.x.isMainLine(t.tree.selected.line),zr=(t,e)=>Nt.Z.getPositionDetails({fen:ke.getFen(t),variant:ke.getHeaders(t).Variant||"Chess"},e)!==null,os=(t,e,a=!1)=>{const h=ke.getJCEMove(t,e);if(h===null)return Ue.add(t.history,$e.ILLEGAL_MOVE),t;const f=t.settings.analysis||a;if(Ee.x.isHead(t.jce._lines(),t.tree.selected)){if(!f&&!ke.isUserTurn(t))return Ue.add(t.history,$e.ILLEGAL_MOVE),t;if(f&&t.settings.variations&&Dr(t)&&zr(t,h)){const S=Ee.x.getNextMatchingNode(t.jce._lines(),t.tree.selected,h);return S?xt(t,S.ids):(Rr(t,!0),je.updateState(t),os(t,h))}}else{if(!f)return xt(t,Ee.x.getHeadIds(t.jce._lines(),t.tree.selected.line));const S=Ee.x.getNextMatchingNode(t.jce._lines(),t.tree.selected,h);if(S)return xt(t,S.ids);if(zr(t,h)){if(Ue.add(t.history,$e.TREE_AMENDED),t.settings.variations)return ke.selectNode(t,{line:t.tree.selected.line,move:t.tree.selected.move+1}),ke.createVariation(t),je.updateState(t),os(t,h);if(!t.settings.mainLineIsImmutable)return Ee.x.prune(t.jce._lines(),t.tree.selected),os(t,h)}return Ue.add(t.history,$e.ILLEGAL_MOVE),t}return!Dr(t)&&ke.move(t,h,t.settings.rules)?(Ue.add(t.history,$e.MAKE_MOVE,h),je.updateState(t)):(Ue.add(t.history,$e.ILLEGAL_MOVE),t)},Vn=(t,e)=>([1,2].indexOf(e)>=0&&(t.setup.playingAs=e),t),lu=(t,e)=>(Vn(t,3-t.setup.playingAs),os(t,e),Vn(t,3-t.setup.playingAs),je.updateState(t)),cu=(t,e)=>{let a=!1;if(!t.settings.rules)return!0;for(let h=0;h<t.setup.legalMoves.length;h++){const f=t.setup.legalMoves[h];if(f.from===e.from&&f.to===e.to){a=!0;break}}return a},du=(t,e)=>(e&&(xt(t,{line:0,move:0}),e.match(/.{2}/g).forEach(h=>os(t,{tcn:h},!0))),t),uu=(t,e=1)=>{if(t.tree.selected.line===0&&t.tree.selected.move-e<-1)return!1;const a=t.tree.lines||n(1700).Z.state.lines;return Ee.x.findNode(a,t.tree.selected,e*-1,!1)!==null},hu=(t,e=1)=>{const a=t.tree.lines||n(1700).Z.state.lines;return Ee.x.findNode(a,t.tree.selected,e,!1)!==null};var kf=n(8246);const pu={premove:(t,e)=>{let a=!1;return t.settings.premoves&&!t.settings.analysis&&t.jce.premove.queue.length<8&&(a=t.jce.premove.move(e)),a},cancelPremoves:t=>t.jce.premove.queue.length?(t.jce.premove.cancel(),!0):!1,consumePremove:t=>(t.jce.premove.consume(),!0)},Ef=(t,e)=>{const a=Game.getJCEMove(t,e);if(a===null)return History.add(t.history,Events.ILLEGAL_MOVE),t;if(!Line.isHead(t.jce._lines(),t.tree.selected)&&!t.settings.analysis)return selectNode(t,Line.getHeadIds(t.jce._lines(),t.tree.selected.line));if(!t.settings.analysis)return GamePremoves.premove(t,a)?(History.add(t.history,Events.PREMOVE),State.updateState(t)):History.add(t.history,Events.ILLEGAL_MOVE),t},mu=t=>(pu.cancelPremoves(t)&&(Ue.add(t.history,$e.CANCEL_PREMOVES),je.updateState(t)),t),Of=t=>(t.premoves.length&&(GamePremoves.consumePremove(t)?(History.add(t.history,Events.MAKE_MOVE),State.updateState(t)):cancelPremoves(t)),t),Ur=(t,e)=>{const a=Object.prototype.hasOwnProperty.call(e,"premoves")&&t.settings.premoves!==e.premoves;return t.settings=Object.assign(t.settings,e),t.settings.premoves||mu(t),Ue.add(t.history,$e.SETTINGS_CHANGE),a&&je.updateState(t),t},_u=t=>{const e=Eo.resetToMainLine(t),a=Ee.x.clearAnalysis(e.jce._lines());return e.jce.saveLines(a),Ue.add(e.history,$e.TREE_CHANGE),je.updateState(t)},bu=(t,e,a)=>{const h=Ee.x.getNode(t.jce._lines(),a)||Ee.x.getNode(t.jce._lines(),ke.getSelectedIds(t))||t.tree.initialMarkings;h.arrows||(h.arrows=[]);const f=h.arrows.findIndex(S=>ke.isFileRankEqual(S.fromFileRank,e.fromFileRank)&&ke.isFileRankEqual(S.toFileRank,e.toFileRank));return f!==-1&&(h.arrows.splice(f,1),je.updateState(t),Ue.add(t.history,$e.TREE_CHANGE)),t},gu=(t,e)=>(t.markings.blinkingSquares[e]&&delete t.markings.blinkingSquares[e],t),go=(t,e)=>e?(Ee.x.clearAllMarkings(t.jce._lines()),ke.load(t,e),Ue.add(t.history,$e.LOAD),je.updateState(t)):null,fu=t=>(Ur(t,{rules:!1}),go(t,"8/8/8/8/8/8/8/8 w - - 0 1"),Ue.add(t.history,$e.LOAD),je.updateState(t)),vu=(t,e,a)=>{const h=Ee.x.getNode(t.jce._lines(),a)||Ee.x.getNode(t.jce._lines(),ke.getSelectedIds(t))||t.tree.initialMarkings;h.effects||(h.effects=[]);const f=h.effects.findIndex(S=>ke.isFileRankEqual(S.square,e.square));return f!==-1&&(h.effects.splice(f,1),je.updateState(t),Ue.add(t.history,$e.TREE_CHANGE)),t},wu=(t,e,a)=>{const h=Ee.x.getNode(t.jce._lines(),a)||Ee.x.getNode(t.jce._lines(),ke.getSelectedIds(t))||t.tree.initialMarkings;h.squares||(h.squares=[]);const f=h.squares.findIndex(S=>ke.isFileRankEqual(S,e));return f!==-1&&(h.squares.splice(f,1),je.updateState(t),Ue.add(t.history,$e.TREE_CHANGE)),t},$r=(t,e,a=!0)=>{const h=Ee.x.getNode(t.jce._lines(),e)||Ee.x.getNode(t.jce._lines(),ke.getSelectedIds(t))||t.tree.initialMarkings;return(h.arrows&&h.arrows.length||h.squares&&h.squares.length||h.effects&&h.effects.length)&&(h.arrows=[],h.squares=[],h.effects=[],a&&(je.updateState(t),Ue.add(t.history,$e.TREE_CHANGE))),t},yu=(t,e={})=>{const a=t.jce._lines();if(!a)return t;if(typeof e.line>"u"&&typeof e.move>"u")return a.forEach(h=>{h.forEach((f,S)=>Ee.x.clearNode(a,{line:f.ids.line,move:S}))}),Ue.add(t.history,$e.TREE_CHANGE),t;if(typeof e.move>"u"){const h=Ee.x.getLine(t.jce._lines(),e.line);return h&&(h.forEach((f,S)=>Ee.x.clearNode(a,{line:h.id,move:S})),Ue.add(t.history,$e.TREE_CHANGE)),t}return Ee.x.getNode(a,e)&&(Ee.x.clearNode(a,e),Ue.add(t.history,$e.TREE_CHANGE)),t},Fr=(t="")=>t.charCodeAt(0)-97+1,ku=(t=[])=>({fromFileRank:{file:Fr(t[0]),rank:Number(t[1])},toFileRank:{file:Fr(t[2]),rank:Number(t[3])}}),Wr=(t={})=>{const e={id:Yt.getId(),variant:t.variant||"chess",settings:Object.assign(je.getInitialSettings(),t.settings),setup:Object.assign(je.getInitialSetup(),t.setup),tree:Object.assign(je.getInitialTree(),t.tree),history:Ue.getInitialHistory(),markings:Object.assign(je.getInitialMarkings(),t.markings),premoves:[]};return Vn(e,t.player||1),Object.defineProperty(e,"jce",{writable:!1,enumerable:!1,configurable:!1,value:ke.createJce(t)}),ke.updateIdsFromJce(e),Ue.add(e.history,$e.INIT),e.jce.siblingGame&&!e.sibling&&(e.sibling={id:Yt.getId(),variant:e.variant||"chess",sibling:e,settings:e.settings,setup:je.getInitialSetup(),tree:je.getInitialTree(),history:Ue.getInitialHistory(),markings:Object.assign(je.getInitialMarkings(),t.markings),premoves:[]},Object.defineProperty(e.sibling,"jce",{writable:!1,enumerable:!1,configurable:!1,value:ke.createJce({game:e.jce.siblingGame})}),ke.updateIdsFromJce(e.sibling)),je.updateState(e),e},Eu=(t,e)=>t.jce.deletePosition(-1,e)?(Ue.add(t.history,$e.TREE_CHANGE),je.updateState(t),t):null;var it=n(5247);const Kn={AFTER:"after",BEFORE:"before"},Te={ADD_ANNOTATION:"addAnnotation",ADD_EVAL_NOTATION:"addEvalNotation",CLEAR_ANALYSIS:"clearAnalysis",CREATE_CONTINUATION:"createContinuation",CREATE_VARIATION:"createVariation",DELETE_COMMENT:"deleteComment",DELETE_LINE:"deleteLine",DELETE_MOVE:"deleteMove",INSERT_COMMENT:"insertComment",MOVE_VARIATION_DOWN:"moveVariationDown",MOVE_VARIATION:"moveVariation",PROMOTE_VARIATION:"promoteVariation",REMOVE_ANNOTATION:"removeAnnotation",REMOVE_BEGIN:"removeBegin",REMOVE_END:"removeEnd",REMOVE_EVAL_ANNOTATION:"removeEvalAnnotation",REMOVE_FOCUS:"removeFocus",SET_BEGIN:"setBegin",SET_END:"setEnd",SET_FOCUS:"setFocus",UPDATE_COMMENT:"updateComment"},Cf={CLEAR_ANALYSIS:"clear-analysis-on-confirm"},Ou=[{code:"$1",display:it.v.$1,meaning:ae.Z.trans("Good move"),action:Te.ADD_ANNOTATION},{code:"$2",display:it.v.$2,meaning:ae.Z.trans("Bad move"),action:Te.ADD_ANNOTATION},{code:"$3",display:it.v.$3,meaning:ae.Z.trans("Excellent move"),action:Te.ADD_ANNOTATION},{code:"$4",display:it.v.$4,meaning:ae.Z.trans("Blunder"),action:Te.ADD_ANNOTATION},{code:"$5",display:it.v.$5,meaning:ae.Z.trans("Speculative move"),action:Te.ADD_ANNOTATION},{code:"$6",display:it.v.$6,meaning:ae.Z.trans("Dubious move"),action:Te.ADD_ANNOTATION},{code:"$10",display:it.v.$10,meaning:ae.Z.trans("Drawish"),action:Te.ADD_EVAL_NOTATION},{code:"$13",display:it.v.$13,meaning:ae.Z.trans("Unclear"),action:Te.ADD_EVAL_NOTATION},{code:"$14",display:it.v.$14,meaning:ae.Z.trans("White has a slight advantage"),action:Te.ADD_EVAL_NOTATION},{code:"$15",display:it.v.$15,meaning:ae.Z.trans("Black has a slight advantage"),action:Te.ADD_EVAL_NOTATION},{code:"$16",display:it.v.$16,meaning:ae.Z.trans("White has a moderate advantage"),action:Te.ADD_EVAL_NOTATION},{code:"$17",display:it.v.$17,meaning:ae.Z.trans("Black has a moderate advantage"),action:Te.ADD_EVAL_NOTATION},{code:"$18",display:it.v.$18,meaning:ae.Z.trans("White has a decisive advantage"),action:Te.ADD_EVAL_NOTATION},{code:"$19",display:it.v.$19,meaning:ae.Z.trans("Black has a decisive advantage"),action:Te.ADD_EVAL_NOTATION},{code:"$22",display:it.v.$22,meaning:ae.Z.trans("The position is in zugzwang"),action:Te.ADD_EVAL_NOTATION},{code:"$146",display:it.v.$146,meaning:ae.Z.trans("Novelty"),action:Te.ADD_EVAL_NOTATION}],Pf={CLEAR_ALL_ANALYSIS:{name:ae.Z.trans("Clear All Analysis"),action:Te.CLEAR_ANALYSIS},CREATE_CONTINUATION:{name:ae.Z.trans("Insert Continuation"),action:Te.CREATE_CONTINUATION},CREATE_VARIATION:{name:ae.Z.trans("Insert Alternate Line"),action:Te.CREATE_VARIATION},DELETE_COMMENT_AFTER:{name:ae.Z.trans("Delete Comment After"),action:Te.DELETE_COMMENT,position:Kn.AFTER},DELETE_COMMENT_BEFORE:{name:ae.Z.trans("Delete Comment Before"),action:Te.DELETE_COMMENT,position:Kn.BEFORE},DELETE_LINE:{name:ae.Z.trans("Delete Entire Variation"),action:Te.DELETE_LINE},DELETE_MOVE:{name:ae.Z.trans("Delete Move"),action:Te.DELETE_MOVE},INSERT_COMMENT_AFTER:{name:ae.Z.trans("Comment After"),action:Te.INSERT_COMMENT,position:Kn.AFTER},INSERT_COMMENT_BEFORE:{name:ae.Z.trans("Comment Before"),action:Te.INSERT_COMMENT,position:Kn.BEFORE},MOVE_VARIATION_DOWN:{name:ae.Z.trans("Move Variation Down"),action:Te.MOVE_VARIATION_DOWN},MOVE_VARIATION_UP:{name:ae.Z.trans("Move Variation Up"),action:Te.MOVE_VARIATION},PROMOTE_VARIATION:{name:ae.Z.trans("Promote"),action:Te.PROMOTE_VARIATION},REMOVE_ANNOTATION:{name:ae.Z.trans("Remove Annotation"),action:Te.REMOVE_ANNOTATION},REMOVE_BEGIN:{name:ae.Z.trans("Remove Begin"),action:Te.REMOVE_BEGIN},REMOVE_END:{name:ae.Z.trans("Remove End"),action:Te.REMOVE_END},REMOVE_EVAL_ANNOTATION:{name:ae.Z.trans("Remove Evaluation Annotation"),action:Te.REMOVE_EVAL_ANNOTATION},REMOVE_FOCUS:{name:ae.Z.trans("Remove Focus"),action:Te.REMOVE_FOCUS},SET_BEGIN:{name:ae.Z.trans("Set Begin"),action:Te.SET_BEGIN},SET_END:{name:ae.Z.trans("Set End"),action:Te.SET_END},SET_FOCUS:{name:ae.Z.trans("Set Focus"),action:Te.SET_FOCUS}},xf=[Te.SET_BEGIN,Te.SET_END,Te.SET_FOCUS,Te.REMOVE_BEGIN,Te.REMOVE_END,Te.REMOVE_FOCUS],Ss={BEGIN:"begin",END:"end",FOCUS:"focus"},Af={SET:{[Te.SET_BEGIN]:Ss.BEGIN,[Te.SET_END]:Ss.END,[Te.SET_FOCUS]:Ss.FOCUS},REMOVE:{[Te.REMOVE_BEGIN]:Ss.BEGIN,[Te.REMOVE_END]:Ss.END,[Te.REMOVE_FOCUS]:Ss.FOCUS}},Mf=(()=>{const t=[];return Ou.forEach(e=>{const a=t[t.length-1]||null;!a||a.length===4?t.push([e]):a.push(e)}),t})(),Jt=t=>!Object.prototype.hasOwnProperty.call(it.v,t)&&!Object.prototype.hasOwnProperty.call(it.f9,t)?t||"":Zr(t)?it.v[t]:Jt(it.f9[t]),Cu=(t,e)=>t.additionalAnnotation&&Array.isArray(t.additionalAnnotation)&&Jt(t.additionalAnnotation[0])===Jt(e),Pu=(t,e)=>Jt(t.annotation)===Jt(e),Zr=t=>t&&t.charAt(0)==="$",Sf=t=>t.additionalAnnotation&&t.additionalAnnotation[0],Tf=t=>Object.prototype.hasOwnProperty.call(t,"annotation"),If=t=>Boolean(t&&typeof t.comment=="string"),Lf=t=>Boolean(t&&typeof t.commentBefore=="string"),jf=t=>Boolean(t&&t.lines&&t.lines.length),Nf=t=>t.flags===4,Bf=(t,e)=>t.ids.line===e.lines[0],Rf=(t,e)=>t.ids.move===e.lines[t.ids.line].length-1,Df=(t={})=>t.move===0&&t.line===0,zf=(t,e)=>t.ids.line===e.lines[e.lines.length-1],xu=t=>Line.isMainLine(t.ids.line),Uf=(t,e,a)=>Object.prototype.hasOwnProperty.call(t,a)&&Object.prototype.hasOwnProperty.call(t[a],"ids")&&t[a].ids.move===e.ids.move&&t[a].ids.line===e.ids.line,$f=(t,e)=>{const a=t[nodeLimitTypes.END];return a&&Object.prototype.hasOwnProperty.call(a,"ids")?e.ids.line>a.ids.line||e.ids.line===a.ids.line&&e.ids.move>a.ids.move:!1},Ff=(t,e)=>{const a=t[nodeLimitTypes.BEGIN];return a&&Object.prototype.hasOwnProperty.call(a,"ids")?e.ids.line<t.begin.ids.line||e.ids.line===t.begin.ids.line&&e.ids.move<t.begin.ids.move:!1},Wf=(t,e)=>!(e&&xu(t)),Zf=t=>{var e,a;let h="";return t.annotation&&(h=`${h}${Jt(t.annotation)}`),((e=t.additionalAnnotation)==null?void 0:e.length)===1&&(h=`${h}&nbsp;${Jt(t.additionalAnnotation[0])}`),((a=t.additionalAnnotation)==null?void 0:a.length)>1&&(h=`${h}&nbsp;${Jt(t.additionalAnnotation.join(""))}`),h},Hf=t=>t.ids.move===0,Au=t=>Boolean(t.isWhite||t.isFirstNodeOnLine||t.previousHasComment||t.previousHasLines),Mu=t=>Boolean(!t.isWhite&&(t.previousHasComment||t.previousHasLines||t.isFirstNodeOnLine));function Gf(t,e){let a="";return Au(t)&&(a+=`${t.nodeMoveNumber+(e-1)}.`,Mu(t)&&(a+=".."),a+="&nbsp;"),a}var Su=Object.defineProperty,Hr=Object.getOwnPropertySymbols,Tu=Object.prototype.hasOwnProperty,Iu=Object.prototype.propertyIsEnumerable,Gr=(t,e,a)=>e in t?Su(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Lu=(t,e)=>{for(var a in e||(e={}))Tu.call(e,a)&&Gr(t,a,e[a]);if(Hr)for(var a of Hr(e))Iu.call(e,a)&&Gr(t,a,e[a]);return t};const fo=t=>{let e=Ee.x.getSelectedLine(t),a=0;const h=Lu({},t.tree.selected);t.tree.selected.move===0&&typeof e.parentId<"u"?(ke.selectLine(t,e.parentId),e=Ee.x.getSelectedLine(t)):Ee.x.isMainLine(e.id)&&(a=-1);const f={line:e.id,move:a};return ke.selectNode(t,f),Ue.add(t.history,$e.JUMP_TO_POSITION,{from:h,to:f}),je.updateState(t)},ju=t=>(Ee.x.isMainLine(t.tree.selected.line)||ke.selectLine(t,0),fo(t),je.updateState(t)),Vr=(t,e={})=>{const a=Object.assign(t.tree.selected,e);return a.line>0&&(a.move<=0||Ee.x.isFirstVisibleNode(t.jce._lines(),a))&&(a.move=-1),t.jce.deletePosition(a.move,a.line),Ue.add(t.history,$e.TREE_CHANGE),je.updateState(t),t},vo=(t,e={})=>{const a=Object.assign(t.tree.selected,e);return Vr(t,{move:a.move+1,line:a.line})},Nu=t=>{const e=t.jce._history().length-t.jce.ids().move-1,a=t.jce.history(!0);return e===0?a:a.slice(0,-e)},Bu=(t,e)=>ke.getPgn(t,e),Ru=t=>ke.getHeaders(t),Du=t=>Ee.x.getSelectedNode(t),wo=(t,e)=>{const a=t.jce&&t.jce._lines()||n(1700).Z.state.lines;return Nt.Z.encodeTCN(Ee.x.getLine(a,e)||a[0])},zu=(t,e,a,h)=>{const f=e.map(S=>Nt.Z.encodeTCN({from:S.slice(0,2),to:S.slice(2,4),promotion:S.slice(4,5)||void 0})).join("");return Eo.loadFromTcn(t,f,a,h)},Vf=t=>Boolean(t&&t.tree&&t.tree.lines),Uu=t=>(Object.keys(it.v).forEach(function(e){t=t.replace(new RegExp(`\\${e}\\b`,"gm"),Jt(e))}),t),Kf=t=>{var e;return(e=t?.[0])==null?void 0:e.length},qf=({moveIds:t,moveList:e,scrollEl:a})=>{if(!t||!e||!a)return;const h=e.getComponentRefByLineMove(t.line,t.move);if(!h)return;const f=a.getBoundingClientRect(),S=h.$el?h.$el.getBoundingClientRect():h.getBoundingClientRect(),F=a.scrollTop,be=f.top+Math.floor(f.height/2)-S.top;a.scrollTop=F-be},$u=(t,e,a,h=!1)=>{if(!e)return t;const f=Uu(e);return h&&!t.jce.loadPgn(f)?ke.loadPgnSoft(t,f):ke.loadPgn(t,f),je.updateState(t),a?xt(t,t.tree.selected,a):(Ue.add(t.history,$e.LOAD),t)},Fu=(t,e,a,h)=>!e||!e.length?null:(a&&ke.load(t,a),e.forEach(f=>os(t,{san:f},!0)),je.updateState(t),h?xt(t,t.tree.selected,-1):(Ue.add(t.history,$e.LOAD),t)),Wu={p:1,n:32,b:256,r:2048,q:16384},Kr=(t,e,a)=>(t.jce._hand[e]=a.split("").reduce((h,f)=>h+Wu[f],0),t.setup.hand=t.jce.hand(),t),qn=(t,e,a=Yt.getInitialFen(),h)=>{go(t,a);const f=Nt.Z.decodeTCN(e);return f?(f.forEach(S=>{(t.variant==="Crazyhouse"||t.variant==="Bughouse")&&S.drop&&Kr(t,t.setup.sideToMove,S.drop),os(t,S,!0)}),je.updateState(t),h?xt(t,t.tree.selected,-1):(Ue.add(t.history,$e.LOAD),t)):null},qr=(t,e,a,h=!0)=>{const f=Ee.x.getNode(t.jce._lines(),a)||Ee.x.getNode(t.jce._lines(),ke.getSelectedIds(t))||t.tree.initialMarkings;return f.arrows||(f.arrows=[]),f.arrows.find(S=>ke.isFileRankEqual(S.fromFileRank,e.fromFileRank)&&ke.isFileRankEqual(S.toFileRank,e.toFileRank))||(f.arrows.push(e),h&&(je.updateState(t),Ue.add(t.history,$e.TREE_CHANGE))),t},Qr=({game:t,effect:e,ids:a,persist:h,updateState:f=!0})=>{if(h)return t.setup.effects=e?[e]:null,je.updateState(t),t;const S=Ee.x.getNode(t.jce._lines(),a)||Ee.x.getNode(t.jce._lines(),ke.getSelectedIds(t))||t.tree.initialMarkings;return S.effects||(S.effects=[]),S.effects.find(F=>ke.isFileRankEqual(F.square,e.square))||(S.effects.push(e),f&&(je.updateState(t),Ue.add(t.history,$e.TREE_CHANGE))),t},Yr=(t,e,a,h=!0)=>{const f=Ee.x.getNode(t.jce._lines(),a)||Ee.x.getNode(t.jce._lines(),ke.getSelectedIds(t))||t.tree.initialMarkings;return f.squares||(f.squares=[]),f.squares.find(S=>ke.isFileRankEqual(S,e))||(f.squares.push(e),h&&(je.updateState(t),Ue.add(t.history,$e.TREE_CHANGE))),t},yo=(t,e)=>{const a=Wr({variant:t.variant,fen:Yt.getFirstFen(t)});return qn(a,e,a.setup.fen),wo(a)};var Zu=Object.defineProperty,Jr=Object.getOwnPropertySymbols,Hu=Object.prototype.hasOwnProperty,Gu=Object.prototype.propertyIsEnumerable,Xr=(t,e,a)=>e in t?Zu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Vu=(t,e)=>{for(var a in e||(e={}))Hu.call(e,a)&&Xr(t,a,e[a]);if(Jr)for(var a of Jr(e))Gu.call(e,a)&&Xr(t,a,e[a]);return t};const ei=(t,e,a)=>{if(typeof e!="string"||t.settings.mainLineIsImmutable)return null;if(e==="")return fo(t),qn(t,"",t.setup.fen);const h=Vu({},t.tree.selected);let f=wo(t),S=e;const F=t.history.length-1;if(!f.includes(S)&&!S.includes(f)&&(f=yo(t,f),S=yo(t,S),!f.includes(S)&&!S.includes(f)))return qn(t,S);if(S.length<f.length)xt(t,{line:0,move:S.length/2-1}),vo(t);else if(S.length>f.length){xt(t,{line:0,move:f.length/2-1});let Y;if(S.slice(f.length).match(/.{2}/g).forEach(be=>{Y=Nt.Z.decodeTCN(be)[0],(t.variant==="Crazyhouse"||t.variant==="Bughouse")&&Y.drop&&Kr(t,t.setup.sideToMove,Y.drop),os(t,Y,!0)}),t.history.slice(F+1).some(be=>be&&be.type===$e.ILLEGAL_MOVE))return xt(t,h),vo(t),t.history=t.history.slice(0,F),ei(t,yo(t,S))}else return t;if(a)return xt(t,t.tree.selected,-1);if(h.line!==t.tree.selected.line||h.move!==t.tree.selected.move){const Y=Ee.x.getNode(t.jce._lines(),h)?h:t.tree.selected;return xt(t,Y)}return t},Ku=(t,e=1)=>xt(t,t.tree.selected,e*-1,!1),qu=(t,e=1)=>xt(t,t.tree.selected,e,!1);var Qu=Object.defineProperty,ti=Object.getOwnPropertySymbols,Yu=Object.prototype.hasOwnProperty,Ju=Object.prototype.propertyIsEnumerable,si=(t,e,a)=>e in t?Qu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Xu=(t,e)=>{for(var a in e||(e={}))Yu.call(e,a)&&si(t,a,e[a]);if(ti)for(var a of ti(e))Ju.call(e,a)&&si(t,a,e[a]);return t};const ko=(t,e=t.tree.selected.line)=>{const a=Ee.x.getLine(t.jce._lines(),e).length-1,h=Xu({},t.tree.selected);if(t.tree.selected.move!==a||e!==t.tree.selected.line){const f={line:e,move:a};return ke.selectNode(t,f),Ue.add(t.history,$e.JUMP_TO_POSITION,{from:h,to:f}),je.updateState(t)}return t},eh=t=>(Ee.x.isMainLine(t.tree.selected.line)||ke.selectLine(t,0),ko(t),je.updateState(t)),th=(t,e,a=!0)=>{const h=Ee.x.getLine(t.jce._lines(),e);if(h&&typeof h.parentId<"u"){const f=Ee.x.getLine(t.jce._lines(),h.parentId)[h.atMoveNode];let S=-1;if(f.lines.forEach((F,Y)=>{e===F&&(S=Y)}),S>-1){let F=null;a&&S>0?(F=f.lines[S-1],f.lines[S-1]=e,f.lines[S]=F):!a&&S<f.lines.length-1&&(F=f.lines[S+1],f.lines[S+1]=e,f.lines[S]=F)}Ue.add(t.history,$e.TREE_CHANGE)}return t},sh=(t,e)=>{let a=e;typeof a>"u"&&(a=t.tree.selected);let h=Ee.x.getLine(t.jce._lines(),a.line);if(h&&typeof h.parentId<"u"){let f=a.move;for(;typeof h.parentId<"u"&&!(t.settings.mainLineIsImmutable&&Ee.x.isMainLine(h.parentId));){const S=Ee.x.getLine(t.jce._lines(),h.parentId),F=Ee.x.isContinuation(t.jce._lines(),h.id)?1:0,Y=h[F]&&h[F].commentBefore,be=h.atMoveNode,We=h.slice(0);h.length=0,Y&&S[be-1]&&(S[be-1].comment?(S[be-1].comment.substr(-1)!==" "&&(S[be-1].comment+=" "),S[be-1].comment+=Y):S[be-1].comment=Y,delete We[F].commentBefore,delete h.initComment);const nt=S.slice(be),zt=nt[0].lines.map(ot=>ot);delete nt[0].lines,nt.forEach((ot,Bt)=>{ot.lines&&ot.lines.length&&ot.lines.forEach(St=>{const Gt=Ee.x.getLine(t.jce._lines(),St);Gt.parentId=h.id,Gt.atMoveNode=Bt})}),S.length=be,We.forEach(ot=>{ot.ids={line:S.id,move:S.length},ot.lines&&ot.lines.length&&ot.lines.forEach(Bt=>{const St=Ee.x.getLine(t.jce._lines(),Bt);St.parentId=S.id,St.atMoveNode=S.length}),S.push(ot)}),nt.forEach((ot,Bt)=>{ot.ids={line:h.id,move:Bt},h.push(ot)}),S[be].lines=zt,S[be].lines.forEach(ot=>{const Bt=Ee.x.getLine(t.jce._lines(),ot);Bt.parentId=S.id}),ke.selectNode(t,{line:S.id,move:be+f}),h=Ee.x.getLine(t.jce._lines(),h.parentId),f=be+f}}return t.jce.saveLines(t.tree.lines),Ue.add(t.history,$e.TREE_CHANGE),je.updateState(t)};var nh=Object.defineProperty,ni=Object.getOwnPropertySymbols,ah=Object.prototype.hasOwnProperty,oh=Object.prototype.propertyIsEnumerable,ai=(t,e,a)=>e in t?nh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,rh=(t,e)=>{for(var a in e||(e={}))ah.call(e,a)&&ai(t,a,e[a]);if(ni)for(var a of ni(e))oh.call(e,a)&&ai(t,a,e[a]);return t};const Eo={addBlinkingSquare:qd,addVariant:du,canMoveBackward:uu,canMoveForward:hu,changeSettings:Ur,clearAnalysis:_u,clearArrow:bu,clearBlinkingSquare:gu,clearBoard:fu,clearEffect:vu,clearMarkedSquare:wu,clearMarkings:$r,clearNodes:yu,convertLanToFileRanks:ku,createGame:Wr,createVariation:Rr,deleteLine:Eu,deleteNode:Vr,deleteRemainingNodes:vo,getCurrentFullLine:Nu,getPgn:Bu,getPgnHeaders:Ru,getSelectedNode:Du,getTcn:wo,isMoveLegal:cu,loadFromFen:go,loadFromLan:zu,loadFromPgn:$u,loadFromSanMoves:Fu,loadFromTcn:qn,makeMove:os,makeOpponentMove:lu,markArrow:qr,markEffect:Qr,markSquare:Yr,mergeTcn:ei,moveBackward:Ku,moveForward:qu,moveToEnd:eh,moveToStart:ju,moveVariation:th,promoteVariation:sh,resetToMainLine:t=>{const e=rh({},t.tree.selected);Ee.x.isMainLine(t.tree.selected.line)||ke.selectLine(t,0),ko(t);const a=t.tree.selected;return t.tree.lines.length=1,t.tree.lines=Ee.x.rebuildIds(t.tree.lines),t.jce.saveLines(t.tree.lines),Ue.add(t.history,$e.JUMP_TO_POSITION,{from:e,to:a}),je.updateState(t)},selectLineEnd:ko,selectLineStart:fo,selectNode:xt,setPlayingAs:Vn,updateMarkings:({arrow:t,effect:e,game:a,ids:h,square:f,resetFirst:S=!0})=>(S&&$r(a,h,!1),t&&qr(a,t,h,!1),e&&Qr({game:a,effect:e,ids:h,updateState:!1}),f&&Yr(a,f,h,!1),je.updateState(a),Ue.add(a.history,$e.TREE_CHANGE),a),updateNode:(t,e={},a)=>{const h=t.jce._lines(),f=Ee.x.findNode(h,e);if(!f||!a||a.commentBefore&&!Ee.x.isFirstVisibleNode(h,e))return null;const S=Ee.x.getLine(h,e.line);if(a.commentBefore===void 0&&Ee.x.isFirstVisibleNode(h,e)?delete S.initComment:a.commentBefore&&(S.initComment=a.commentBefore),a.insertCommentAfterLastNode&&S.length){const F=S[S.length-1];F&&(F.comment=a.insertCommentAfterLastNode,delete a.insertCommentAfterLastNode)}if(a.annotation&&(a.annotation=Pu(f,a.annotation)?"":Jt(a.annotation)),a.additionalAnnotation){if(!Zr(a.additionalAnnotation))return null;Cu(f,a.additionalAnnotation)&&(a.additionalAnnotation=[]),a.additionalAnnotation=[].concat(Jt(a.additionalAnnotation))}return Object.assign(f,a),Ue.add(t.history,$e.UPDATE_NODE,{line:e.line,move:e.move}),je.updateState(t)},updatePgnHeaders:(t,e)=>{if(!e)return null;const a=Object.keys(e).reduce((h,f)=>(f==="Date"&&typeof e[f]=="number"&&(e[f]=Yt.formatJSTimestampForPgn(e[f])),h.push(f),h.push(e[f]),h),[]);return ke.updateHeaders(t,a),Ue.add(t.history,$e.PGN_HEADERS_UPDATED),t.setup.result=je.getResult(t),t}},ke={createJce:t=>{const e=Object.assign({},t,{analysis:!0});return Nt.Z.createGame(e)||null},updateIdsFromJce:t=>!t||!t.jce?null:(t.tree.selected=t.jce.ids(),t),getSelectedIds:t=>t.jce.ids(),getPositionInfo:t=>{const e=Nt.Z.getPositionInfo({game:t.jce},{skipValidation:!0,getLegalMoves:!0});return t.settings.premoves?e.legalPremoves=ke.getLegalPremoves(t):e.legalPremoves=[],e},getPositionDetails:t=>Object.assign(Nt.Z.getPositionDetails({game:t.jce,kings:!1,skipValidation:!0}),{hand:ke.getHand(t)}),addExtraCastlingMoves:t=>{t.setup.legalMoves.forEach(e=>{(e.flags===16||e.flags===32)&&(t.variant==="chess960"?ke.addCastlingMoves960(t,e):ke.addCastlingMoves(t,e))})},addCastlingMoves:(t,e)=>{const a=e.color===1?1:8;(e.flags===16?[8]:[1,2]).forEach(f=>{t.setup.legalMoves.push({color:e.color,flags:e.flags,piece:"k",from:e.from,san:e.flags===16?"O-O":"O-O-O",to:Yt.getSanFromFileRank({file:f,rank:a})})})},addCastlingMoves960:(t,e)=>{const h=Yt.getFileRankFromSan(e.from).rank;let f=1,S=0;for(;S<2;){const F=Yt.getPieceAt(t,{file:f,rank:h});typeof F<"u"&&F.type==="r"&&S++,(S===1&&e.flags===32||S===2&&e.flags===16)&&t.setup.legalMoves.push({color:e.color,flags:e.flags,piece:"k",from:e.from,san:e.flags===16?"O-O":"O-O-O",to:Yt.getSanFromFileRank({file:f,rank:h})})}f++},getHeaders:t=>t.jce.header(),getFen:t=>t.jce.fen(),getPgn:(t,e)=>t.jce.pgn(e),getPremoves:t=>t.jce.premove.queue.map(e=>({move:e,pieces:t.jce.premove.getPieces()})),getHand:t=>t.jce.hand(),getChecks:t=>t.jce.checks(),getLegalPremoves:t=>t.jce.premove.moves(),load:(t,e)=>(t.jce.load(e)&&ke.updateIdsFromJce(t),t),loadPgn:(t,e)=>(t.jce.loadPgn(e)&&ke.updateIdsFromJce(t),t),loadPgnSoft(t,e){if(!t.jce.loadPgn(e)){const a=Nt.Z.createGame({variant:"detect",pgn:e});a&&(e=a.pgn())}return t.jce.loadPgn(e)||ke.updateIdsFromJce(t),t},createVariation:t=>(t.jce.createVariation()&&(t.jce.reorderLines(),ke.updateIdsFromJce(t)),t),getJCEMove:(t,e)=>{let a=e;return ke.isValidMoveObject(e)?(a.san?a=Nt.Z.sanToObj(a.san,ke.getFen(t),t.variant):a.tcn&&(a=Nt.Z.decodeTCN(a.tcn)[0]),a):null},move:(t,e,a=!0)=>{if(!e)return null;let h=!1;if(a===!1){const f=e.from?t.jce.get(e.from):null,S=e.to?t.jce.get(e.to):null;if(f&&S&&S.type==="k")return null;t.jce.remove(e.to),t.jce.remove(e.from);const F=e.drop||e.put;h=t.jce.put(f||{type:F.toLowerCase(),color:F&&F.toUpperCase()===F?1:2},e.to),e.from&&f&&e.to===null&&(h=!0)}else e.drop&&(e.drop=e.drop.toLowerCase()),h=t.jce.move(e);return h&&ke.updateIdsFromJce(t),h},selectLine:(t,e)=>{const a=Ee.x.getLine(t.tree.lines,e);return a&&(t.jce.selectLine(e),t.tree.selected={line:e,move:a.length-1}),t},selectNode:(t,e={line:0,move:0})=>(t.jce.selectPosition(e.move,e.line),t),updateHeaders:(t,e)=>t.jce.header(e),clear:t=>t.jce.clear(t.variant),isFileRankEqual:(t,e)=>t.file&&e.file&&t.rank&&e.rank&&t.file===e.file&&t.rank===e.rank,isValidMoveObject:t=>typeof t.from=="string"&&typeof t.to=="string"||typeof t.san=="string"||typeof t.tcn=="string"||!t.from&&typeof t.to=="string"&&typeof t.drop=="string"||t.to===null&&typeof t.from=="string"||!t.from&&typeof t.to=="string"&&typeof t.put=="string",movesMatch:(t,e)=>t.from===e.from&&t.to===e.to&&(!t.promotion||t.promotion===e.promotion)&&(!t.drop||t.drop===e.drop),getMoveNumber:(t,e)=>t===1?Math.ceil(e/2+1):Math.floor(e/2+1),isUserTurn:t=>t.setup.playingAs===t.setup.sideToMove,getFens:zd,getLastTcn:t=>{const e=Eo.getTcn(t);return e.substr(e.length-2)},getSanMoves:Dd},tv=(t={},e={})=>Object.assign({annotationString:generateAnnotationString(t),coords:translateMoveText(t.san),classification:t.classification||null,closeParenthesisCount:0,figurineIndex:getFigurineIndex(t),hasComment:hasComment(t),hasCommentBefore:hasCommentBefore(t),hasLines:hasLines(t),iconName:getIconName(t),indentation:0,isEnPassant:isEnPassant(t),isFirstNodeOnLine:isFirstNodeOnFormattedLine(t),isInvisible:!1,isWhite:Boolean(t.color===playerColorsAsIntegers.WHITE),nodeMoveNumber:Game.getMoveNumber(t.color,t.moveNumber),openParenthesis:!1,previousHasComment:e?hasComment(e):!1,previousHasLines:e?hasLines(e):!1},t);var ih=n(1702),lh={name:"GamePreview",extends:ih.Z,computed:{isThreeD(){return this.$store.user.isThreeD}}},ch=lh,dh,uh,hh=(0,Ge.Z)(ch,dh,uh,!1,null,null,null),ph=hh.exports;const oi={fen:null,highlightSquares:null,position:null};var mh={name:"EngineLine",components:{GamePreview:ph,MoveSan:kr,ScoreText:Cr},props:{boardOptions:{type:Object,default:()=>({})},boardIsFlipped:{type:Boolean},fen:{type:String},isEngineEvaluatingNewPosition:{type:Boolean,default:!1},isEngineRunning:{type:Boolean,default:!1},line:{type:Object,default:()=>({})},lineEndIcon:{type:[String,Boolean],default:t=>t===!1?!1:"caret-down"},nodeLimit:{type:Number},nodesClickable:{type:Boolean,default:!0},highlightedNodeIndex:{type:Number},reverseFigurineColor:{type:Boolean},selectedPly:{type:Number,required:!0},showBoardPreview:{type:Boolean,default:!1},showScore:{type:Boolean,default:!0},sendScoreOnLineClick:{type:Boolean,default:!1}},emits:["icon-click","node-click"],data(){return{isOpen:!1,preview:oi,previewSize:20,showEngineLine:!0}},computed:{lineExists(){const t=this.line.pvSan||[];return Boolean(t.length)},previewStyles(){const t=this.preview.position||{},e=this.previewSize*8/2;return{left:`${t.left-(e-t.width/2)||0}px`,top:`${t.top||0}px`}},pvSanNodes(){return Number.isInteger(this.nodeLimit)?this.line.pvSan.slice(0,this.nodeLimit):this.line.pvSan},scoreText(){return(0,po.D4)(this.line)},scoreAvailable(){return!isNaN(this.line.score)},showGamePreview(){return this.preview.fen&&this.line.pv.includes(this.preview.highlightSquares)},showThinking(){return this.isEngineRunning&&(!this.lineExists||this.isEngineEvaluatingNewPosition)}},watch:{lineExists:"determineShowEngineLine",isEngineRunning:"determineShowEngineLine",isEngineEvaluatingNewPosition:"determineShowEngineLine"},methods:{determineShowEngineLine(){return setTimeout(()=>{this.showEngineLine=this.lineExists||this.isEngineRunning&&this.isEngineEvaluatingNewPosition},500)},getMoveText(t,e){return`${this.getPreMoveText(e)}${mo(t)} `},getNodeColor(t){return(this.selectedPly+t)%2===0?d.lA.ColorsAsNumbers.White:d.lA.ColorsAsNumbers.Black},getPreMoveText(t){const e=this.getNodeColor(t)===d.lA.ColorsAsNumbers.White;if(t>0&&!e)return"";let h=`${Math.ceil((this.selectedPly+t+1)/2)}.`;return t===0&&!e&&(h+=".."),h},handleNodeClick(t){if(this.nodesClickable){const e=this.line.pvSan.slice(0,t+1);this.hidePreview(),this.sendScoreOnLineClick?this.$emit("node-click",{sanMoves:e,score:this.scoreAvailable?this.scoreText:null}):this.$emit("node-click",e)}},handleNodeMouseover(t,e){this.showBoardPreview&&this.fen&&this.getPreview(t,e)},getPreview(t,e){const{pv:a}=this.line,h=a[e],f=Nt.Z.getFenFromMoves(this.fen,a.slice(0,e+1));if(f){const S=t.target.getBoundingClientRect(),F={left:S.left,height:S.height,top:S.top,width:S.width,clientWidth:t.target.clientWidth};this.preview={fen:f,highlightSquares:h,position:F}}},hidePreview(){this.preview=oi},handleIconClick(){if(this.$listeners["icon-click"]){this.$emit("icon-click");return}this.isOpen=!this.isOpen}}},_h=mh,ri={component:"engine-line-component",withicon:"engine-line-withicon",open:"engine-line-open",more:"engine-line-more",icon:"engine-line-icon",inverted:"engine-line-inverted",node:"engine-line-node",clickable:"engine-line-clickable",thinking:"engine-line-thinking",preview:"engine-line-preview"};function bh(t){this.$style=ri.locals||ri}var gh=(0,Ge.Z)(_h,kd,Ed,!1,bh,null,null),fh=gh.exports;const vh=({path:t="",size:e=24,viewBox:a="0 0 18 19"})=>`
  <svg width="${e}" height="${e}" viewBox="${a}">
    ${t}
  </svg>
`;var wh={name:"MoveFeedbackRow",components:{EngineLine:fh,MoveSan:kr,ScoreText:Cr},props:{alignScoreLeft:{type:Boolean,default:!1},classification:{type:Object,default:()=>({})},color:{type:[String,Number]},description:{type:String,default:ae.Z.trans("was played")},engineLineIcon:{type:[String,Boolean],default:!1},enginePrefix:{type:String,default:""},line:{type:Object,default:()=>({})},san:{type:String,validator(t){return t||this.$slots.default}},scenario:{type:String},showScore:{type:Boolean,default:!0}},emits:["mag-click","san-click"],computed:{colorAsString(){return io.BLACK===this.color?Zs.BLACK:io.WHITE===this.color?Zs.WHITE:this.color},colorClass(){return this.classification.key?`analysis-${this.classification.className}`:""},classificationIcon(){return vh({path:this.classification.icon,size:26})},hasLine(){var t,e;return(e=(t=this.line)==null?void 0:t.pvSan)==null?void 0:e.length},scoreText(){return(0,po.D4)(this.line)},shouldShowScore(){return this.showScore&&!isNaN(this.line.score)}},methods:{handleSanClick(){this.$emit("san-click",{score:this.showScore?this.scoreText:null})},handleMagClick(){this.$emit("mag-click",{score:this.showScore?this.scoreText:null})}}},yh=wh,ii={bold:"move-feedback-row-bold",header:"move-feedback-row-header",inactive:"move-feedback-row-inactive",scrollable:"move-feedback-row-scrollable",component:"move-feedback-row-component",colored:"move-feedback-row-colored",enginewrap:"move-feedback-row-enginewrap",engine:"move-feedback-row-engine",withicon:"move-feedback-row-withicon",prefix:"move-feedback-row-prefix",line:"move-feedback-row-line",score:"move-feedback-row-score",description:"move-feedback-row-description",moves:"move-feedback-row-moves",indicator:"move-feedback-row-indicator",black:"move-feedback-row-black",white:"move-feedback-row-white",withscenario:"move-feedback-row-withscenario",icon:"move-feedback-row-icon",san:"move-feedback-row-san",scenario:"move-feedback-row-scenario",topline:"move-feedback-row-topline",leftscore:"move-feedback-row-leftscore"};function kh(t){this.$style=ii.locals||ii}var Eh=(0,Ge.Z)(yh,wd,yd,!1,kh,null,null),Oh=Eh.exports,li=n(8099);const Oo=({fen:t,pv:e=[],pvSan:a=[]})=>{if(typeof e[0]=="string"){const h=Nt.Z.createGame({fen:t,moves:e.join(" ")});if(h)return{pv:e,pvSan:h.history()}}return typeof e[0]=="object"?e.reduce((h,f)=>({pv:[...h.pv,f.moveLan],pvSan:[...h.pvSan,f.moveSan]}),{pv:[],pvSan:[]}):{pv:e,pvSan:a}};var Ch=Object.defineProperty,Ph=Object.defineProperties,xh=Object.getOwnPropertyDescriptors,ci=Object.getOwnPropertySymbols,Ah=Object.prototype.hasOwnProperty,Mh=Object.prototype.propertyIsEnumerable,di=(t,e,a)=>e in t?Ch(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Qn=(t,e)=>{for(var a in e||(e={}))Ah.call(e,a)&&di(t,a,e[a]);if(ci)for(var a of ci(e))Mh.call(e,a)&&di(t,a,e[a]);return t},Sh=(t,e)=>Ph(t,xh(e)),Th={name:"MoveFeedback",components:{LoaderThreeBounce:li.Z,MoveFeedbackRow:Oh},props:{feedbackEnabled:{type:Boolean,default:!0},hideRow:{type:String,validator:t=>["bottom","top"].includes(t)},isThinking:{type:Boolean,default:!1},moveData:{type:Object,default:()=>({})},nextMove:{type:Object,default:()=>({})},nodeLimit:{type:Number}},emits:["node-click"],data(){return{bestMoveKey:Ht.x.Classifications.Types.BestMove,classifications:Object.freeze(ho.xt)}},computed:{bestMoveFen(){return Nt.Z.getFenFromMoves(this.moveData.beforeFen,[{san:this.sanBestMove}])},bestMoveHasAlternative(){return this.playedMoveIsBestMove&&this.sanPlayedMove!==this.sanBestMove},bestMovePhrase(){return this.bestMoveHasAlternative?ho.T4[Ht.x.Classifications.DescriptionTypes.Alternative]:ho.xt[Ht.x.Classifications.Types.BestMove].description},lineBestMove(){const{mateIn:t,eval:e={}}=this.moveData.suggestedMove||{},{pv:a=[]}=e,h=Oo({fen:this.moveData.beforeFen,pv:this.nodeLimit&&!t?a.slice(0,this.nodeLimit):a})||{pvSan:[]};return Sh(Qn(Qn({},this.moveData.suggestedMove),h),{pv:(h.pv||[]).slice(1),pvSan:(h.pvSan||[]).slice(1),pvSanUncut:h.pvSan})},linePlayedMove(){const{mateIn:t,eval:e={}}=this.nextMove||{},{pv:a=[]}=e;return this.playedMoveIsBestMove&&!this.bestMoveHasAlternative?this.lineBestMove:Qn(Qn({},Oo({fen:this.moveData.fen,pv:this.nodeLimit&&!t?a.slice(0,this.nodeLimit):a})),this.moveData.playedMove)},moveClassification(){return this.moveData.classificationData||{}},playedMoveIsBestMove(){return this.moveClassification.key&&(0,vr.CL)(this.moveClassification.key)===(0,vr.CL)(Ht.x.Classifications.Types.BestMove)||this.sanBestMove===this.sanPlayedMove},playedMoveClassification(){return this.playedMoveIsBestMove&&!this.overrideBestMove?this.classifications[Ht.x.Classifications.Types.BestMove]:this.moveClassification},playedMovePhrase(){return this.playedMoveIsBestMove&&!this.overrideBestMove?this.classifications[Ht.x.Classifications.Types.BestMove].description:this.moveClassification.description},overrideBestMove(){return[Ht.x.Classifications.Types.Book,Ht.x.Classifications.Types.Brilliant,Ht.x.Classifications.Types.GreatFind,Ht.x.Classifications.Types.Forced].includes(this.moveClassification.key)},sanBestMove(){const{pvSanUncut:t}=this.lineBestMove||{};return(t||[])[0]},sanPlayedMove(){return this.moveData?this.moveData.san:null},showBestMove(){return this.feedbackEnabled&&this.sanBestMove&&(!this.playedMoveIsBestMove||this.bestMoveHasAlternative)&&!this.isThinking},showBottom(){return this.hideRow!=="bottom"&&(this.$slots.bottom||this.isThinking||this.showBestMove)},showPlayedMove(){return this.sanPlayedMove}},methods:{getFormattedLine({evaluation:t={},fen:e}){return Oo({fen:e,pv:t.pv,pvSan:t.pvSan})},handleNodeClick({isBest:t=!1,lineSlice:e,scoreText:a,nodeIndex:h}){const f=h||e&&e.length,S=t?this.lineBestMove.pvSanUncut:this.linePlayedMove.pvSan;this.$emit("node-click",{clickedNodeIndex:f,isBest:t,fullLine:S,scoreText:a})}}},Ih=Th,ui={component:"move-feedback-component",row:"move-feedback-row",thinking:"move-feedback-thinking"};function Lh(t){this.$style=ui.locals||ui}var jh=(0,Ge.Z)(Ih,fd,vd,!1,Lh,null,null),Nh=jh.exports,Bh=Object.defineProperty,Rh=Object.defineProperties,Dh=Object.getOwnPropertyDescriptors,hi=Object.getOwnPropertySymbols,zh=Object.prototype.hasOwnProperty,Uh=Object.prototype.propertyIsEnumerable,pi=(t,e,a)=>e in t?Bh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,mi=(t,e)=>{for(var a in e||(e={}))zh.call(e,a)&&pi(t,a,e[a]);if(hi)for(var a of hi(e))Uh.call(e,a)&&pi(t,a,e[a]);return t},_i=(t,e)=>Rh(t,Dh(e)),$h={name:"FeedbackWrapper",components:{MoveFeedback:Nh},props:{analysis:{type:Object,default:()=>({})},boardOptions:{type:Object,default:()=>({})},boardIsFlipped:{type:Boolean},isThinking:{type:Boolean,default:!1},selectedPly:{type:Number,default:0}},data(){return{lineNodeLimit:gd}},computed:{formattedAnalysis(){return this.reformatAnalysis(this.analysis)||{}},feedbackEnabled(){return Boolean(this.analysis)},fen(){var t,e;return(e=(t=this.analysis)==null?void 0:t.playedMove)==null?void 0:e.fen}},methods:{reformatAnalysis(t={}){var e;const{playedMove:a={},suggestedMove:h={}}=t,{classification:f={}}=a,S=_i(mi({},t),{san:a?.moveSan,classificationData:_i(mi({},f),{key:f?.key?`${(e=f.key[0])==null?void 0:e.toLowerCase()}${f?.key.slice(1)}`:null,phrase:f?.description})}),F=Y=>({moveLan:Y.lan,moveSan:Y.san});if(a?.line){const{line:Y}=a;S.playedMove.eval={pv:Y.moves.map(F)}}if(h?.line){const{moveSan:Y,line:be}=h;S.suggestedMove.eval={pv:[{moveSan:Y},...be.moves.map(F)]}}return S}}},Fh=$h,Wh=(0,Ge.Z)(Fh,_d,bd,!1,null,null,null),Zh=Wh.exports,Hh=(0,w.aZ)({name:"MoveFeedbackController",components:{FeedbackWrapper:Zh},setup(){const{game:t}=B.getActiveChessboard(),e=(0,w.Fl)(()=>B.getActiveChessboard().game.getLastMove()),a=(0,w.Fl)(()=>Dt.analysis),h=(0,w.Fl)(t.getOptions),f=(0,w.Fl)(()=>t.getOptions().flipped),S=(0,w.Fl)(()=>Dt.isThinking),F=(0,w.Fl)(()=>Dt.selectedPly);return{gameHasMoves:e,analysis:a,boardOptions:h,boardIsFlipped:f,isThinking:S,selectedPly:F}}}),Gh=Hh,Vh=(0,Ge.Z)(Gh,pd,md,!1,null,null,null),Kh=Vh.exports,qh=function(){var e=this,a=e._self._c,h=e._self._setupProxy;return e.gameHasMoves?a("quick-analysis",{attrs:{color:e.color,progress:e.progress,tallies:e.tallies,"has-account":e.hasAccount},on:{"open-in-analysis":e.openInAnalysis}}):e._e()},Qh=[],Yh=function(){var e=this,a=e._self._c,h=e._self._setupProxy;return a("div",{class:e.$style.component},[e.isFinished?a("div",{class:e.$style.results},[a("div",{class:e.$style.tally},[e._l(e.types,function(f){return a("div",{key:f,class:[e.$style.count,e.$style[f]],domProps:{innerHTML:e._s(e.getTallyMessage(f))}})}),e._v(" "),e.hasAccount?a("div",{class:e.$style.buttons},[a("v5-button",{class:[e.$style.button,{[e.$style.loading]:e.isLoading}],attrs:{"full-width":"",disabled:e.isLoading,"data-cy":e.$cy.quickAnalysis.gameReviewButton},on:{click:function(f){return e.goToAnalysis(e.OpenAnalysisTabs.review)}}},[a("span",{domProps:{textContent:e._s(e.$trans("Game Review"))}})]),e._v(" "),a("v5-button",{class:[e.$style.button,{[e.$style.loading]:e.isLoading}],attrs:{"full-width":"",disabled:e.isLoading,"data-cy":e.$cy.quickAnalysis.analysisButton},on:{click:function(f){return e.goToAnalysis(e.OpenAnalysisTabs.analysis)}}},[a("span",{domProps:{textContent:e._s(e.$trans("Analysis"))}})])],1):e._e(),e._v(" "),e.hasAccount?e._e():a("div",{class:e.$style["create-account-button"]},[a("v5-button",{class:e.$style.button,attrs:{href:e.createAccountUrl,"full-width":""}},[a("span",{domProps:{textContent:e._s(e.$trans("Create Account to View Analysis"))}})])],1)],2)]):a("div",{class:e.$style.loader},[a("div",{class:e.$style.fill,style:e.loadingStyles}),e._v(" "),a("div",{class:e.$style.loaderMessage},[a("span",{class:[e.$style.icon,"icon-question-mark"]}),e._v(`
      `+e._s(e.$trans("Checking for mistakes..."))+`
    `)])])])},Jh=[],Yn=n(6279),bi=(t=>(t.analysis="analysis",t.report="report",t.review="review",t))(bi||{}),gi=(t=>(t.mistake="mistake",t.blunder="blunder",t.missedWin="missedWin",t))(gi||{});const Xh=Object.values(gi);var ep=(0,w.aZ)({name:"QuickAnalysis",components:{V5Button:Yn.V5Button},props:{progress:{type:Number,required:!0},color:{type:String,required:!0},tallies:{type:Object,required:!0},hasAccount:{type:Boolean,required:!0}},emits:["open-in-analysis"],setup(t,{emit:e}){const a=(0,w.Fl)(()=>{var Y;return(Y=B.quickAnalysisState)==null?void 0:Y.isLoading}),h=(0,w.Fl)(()=>({transform:`translate3d(${t.progress*100-100}%, 0, 0)`})),f=(0,w.Fl)(()=>t.progress===1);function S(Y){e("open-in-analysis",Y)}function F(Y){if(!!t.tallies)return{blunder:be=>ae.Z.transChoice("{0} <span>0</span> Blunders |{1} <span>1</span> Blunder|]1,Inf] <span>%count%</span> Blunders",be,{"%count%":be}),missedWin:be=>ae.Z.transChoice("{0} <span>0</span> Missed Wins |{1} <span>1</span> Missed Win|]1,Inf] <span>%count%</span> Missed Wins",be,{"%count%":be}),mistake:be=>ae.Z.transChoice("{0} <span>0</span> Mistakes |{1} <span>1</span> Mistake|]1,Inf] <span>%count%</span> Mistakes",be,{"%count%":be})}[Y](t.tallies[t.color][Y])}return{createAccountUrl:I.Z.generate("web_security_register"),goToAnalysis:S,getTallyMessage:F,isFinished:f,loadingStyles:h,OpenAnalysisTabs:bi,isLoading:a,types:Xh}}}),tp=ep,fi={component:"quick-analysis-component",loader:"quick-analysis-loader",fill:"quick-analysis-fill",loaderMessage:"quick-analysis-loaderMessage",icon:"quick-analysis-icon",results:"quick-analysis-results",tally:"quick-analysis-tally",count:"quick-analysis-count",mistake:"quick-analysis-mistake",blunder:"quick-analysis-blunder",missedWin:"quick-analysis-missedWin",buttons:"quick-analysis-buttons",button:"quick-analysis-button",loading:"quick-analysis-loading","create-account-button":"quick-analysis-create-account-button"};function sp(t){this.$style=fi.locals||fi}var np=(0,Ge.Z)(tp,Yh,Jh,!1,sp,null,null),ap=np.exports,op=(0,w.aZ)({name:"QuickAnalysisController",components:{QuickAnalysis:ap},setup(){var t;const e=(0,w.Fl)(()=>Dt.progress),a=(0,w.Fl)(()=>Dt.tallies),h=(0,w.Fl)(()=>B.getActiveChessboard().game.getLastMove()),f=Boolean((t=window.context.user)==null?void 0:t.hasAccount);return{color:Dt.playingAs,progress:e,tallies:a,gameHasMoves:h,hasAccount:f,openInAnalysis:S=>{B.openInAnalysis(S)}}}}),rp=op,ip=(0,Ge.Z)(rp,qh,Qh,!1,null,null,null),lp=ip.exports,cp=function(){var e=this,a=e._self._c;return a("div",{class:e.$style.component},[e.isGameOver?a("game-over-controls",{on:{newGame:e.handleNewGame,reset:e.handleRematch,nextBot:e.handleNextBot}}):a("primary-controls",{attrs:{"is-analysis-mode":e.isAnalysisMode},on:{resetBoard:e.resetBoard,resign:e.handleResign,moveBack:e.moveBack,moveForward:e.moveForward,showHint:e.showHint,analysis:e.enterAnalysisMode,stopAnalysis:e.leaveAnalysisMode}}),e._v(" "),a("small-controls",{attrs:{"is-game-over":e.isGameOver},on:{openShare:e.shareModal,openDownload:e.downloadModal,openLibrary:e.showAddToLibraryModal,openSettings:e.showSettingsModal,resign:e.handleResign,moveBack:e.moveBack,moveForward:e.moveForward}})],1)},dp=[],vi=n(1375),up=Object.create,wi=Object.defineProperty,hp=Object.getOwnPropertyDescriptor,pp=Object.getOwnPropertyNames,mp=Object.getPrototypeOf,_p=Object.prototype.hasOwnProperty,bp=(t,e,a,h)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of pp(e))!_p.call(t,f)&&f!==a&&wi(t,f,{get:()=>e[f],enumerable:!(h=hp(e,f))||h.enumerable});return t},sv=(t,e,a)=>(a=t!=null?up(mp(t)):{},bp(e||!t||!t.__esModule?wi(a,"default",{value:t,enumerable:!0}):a,t));function gp(){(0,c.tL)(()=>n.e(541).then(n.bind(n,9541))),vi.o.isVisible=!0}var Co=n(2269);const yi={initialTab:Co.z.Image,shareUrl:window.location.href},ps={options:yi,isVisible:!1};var fp=Object.defineProperty,vp=Object.defineProperties,wp=Object.getOwnPropertyDescriptors,ki=Object.getOwnPropertySymbols,yp=Object.prototype.hasOwnProperty,kp=Object.prototype.propertyIsEnumerable,Ei=(t,e,a)=>e in t?fp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Oi=(t,e)=>{for(var a in e||(e={}))yp.call(e,a)&&Ei(t,a,e[a]);if(ki)for(var a of ki(e))kp.call(e,a)&&Ei(t,a,e[a]);return t},Ep=(t,e)=>vp(t,wp(e));async function Ci(t={}){ps.options=Oi(Ep(Oi({},ps.options),{shareUrl:window.location.href}),t),ps.isVisible=!0}var Op=n(6732),Cp=n(4933),Pi=n(149);function Pp(t){var e;const{moves:a,startingFen:h}=Os().gameFingerprints({analysis:!0,game:t});return{moves:(e=[...a.filter(Boolean)].pop())==null?void 0:e.split(/\s/),startingFen:h}}var Jn=n(7646);function Xn(){return P.archivedGameId}var rs=(t=>(t.Timeout="timeout",t.Win="win",t.Checkmated="checkmated",t.Repetition="repetition",t.Resigned="resigned",t.Stalemate="stalemate",t.Lose="lose",t.Insufficient="insufficient",t.FiftyMove="50move",t))(rs||{});function xp({game:t}){const{fiftyMoveRule:e,threefold:a,insufficient:h}=t.getPositionInfo();return e?rs.FiftyMove:a?rs.Repetition:h?rs.Insufficient:rs.Stalemate}function Ap({color:t,game:e}){const{game:a}=e.getContext();if(e.clocks[t]){const{state:h}=e.clocks[t].get();if(h===d.th.Timer.States.Ended)return rs.Timeout}return a.inCheckmate()?rs.Checkmated:rs.Resigned}function Mp(){return rs.Win}var xi=n(8543);const Hs={isLoading:!1};async function Po(){var t,e,a,h;if(!(0,j.jl)())return;const{game:f}=(0,he.g)();if(!(0,Jn.F)("import_vs_computer_game_prevent_duplicates")&&Xn())return;const S=(0,xi.y)(),{baseTime:F,increment:Y}=(t=f.timeControl.get())!=null?t:{};try{Hs.isLoading=!0;const be=await R.Z.post(I.Z.generate("web_computer_save_finished_game"),{baseTime:F,botId:(e=V.w.selectedBot)==null?void 0:e.id,botResult:Ai((0,d.SH)(S),f),initialFen:Pp(f.getContext().game).startingFen,finalFen:f.getFEN(),gameMode:(0,Wn.A)().toLowerCase(),gameType:f.getVariant(),gameStartTime:On.gameStartTime,timeIncrement:Y,moveText:f.getTCN(),moveTimestamps:Sp(f),plyCount:(h=(a=f.getLine(0))==null?void 0:a.length)!=null?h:0,userId:(0,j.gK)("getUserId"),userPosition:S,userResult:Ai(S,f)});z(be.data.id)}catch{return(0,Cp.x2)(Op.R0.badRequest)}finally{Hs.isLoading=!1}}function Sp(t){var e,a;const h=t.timeControl.get(),f=((e=h?.increment)!=null?e:0)/100;return(a=t.getLine(0))==null?void 0:a.map(S=>{var F;return((F=S.time)!=null?F:0)+f}).filter(Boolean).join(",")}function Ai(t,e){const a=e.getResult();return(0,Pi.z)({color:t,result:a})?Mp():(0,Pi.z)({color:(0,d.SH)(t),result:a})?Ap({game:e,color:t}):xp({game:e})}function Tp(){(0,he.g)().game.selectLineEnd(0)}async function Mi(t){var e;const{game:a}=(0,he.g)();a.isAtEndOfLine()&&(0,gs.y)()||(await a.animationComplete("Move"),a[t](),a.getMode().name===d.nl.Types.Playing&&((e=a.getSelectedNode())==null?void 0:e.color)===a.getPlayingAs()&&(await a.animationComplete("Move"),a[t]()))}const xo={arrowleft:()=>Mi("moveBackward"),arrowright:()=>Mi("moveForward")};function Si(){const t=Xn();return!t||!(0,he.g)().state.isGameOver?null:`${window.location.origin}${I.Z.generate("web_game_computer",{id:t})}`}function Ip(){return(0,he.g)().game.getLine(0)}async function Lp(){const{game:t}=(0,he.g)();t.getTurn()===t.getPlayingAs()&&Ip().length&&(qt.analysisPgn=t.getPGN(),t.plugins.remove(d.th.Premoves.Plugin.Name),t.setMode(d.Wc.create({canAddMovesToMainLine:!1})))}var Ti=n(5518);function jp(){const{game:t}=(0,he.g)();t.load({pgn:qt.analysisPgn}),t.plugins.add((0,d.zG)()),t.setMode(Ti.X),(0,Lt.T)().takebacks&&t.getMode().setOption("canModifyExistingMovesOnMainLine",!0)}var Np=n(9406);function Bp(){return new Promise((t,e)=>{(0,Be.m)().send("fetch coachchat hint",a=>{var h;if(!a)return;if(a.error)return e(new Error(`Error: ${a.error}`));const f=(h=a.sentences)!=null&&h.length?a.sentences.map(F=>F.sentence[0]).join(" "):null,S=a.hintedMove;(0,Np.z)({label:"\u{1F5E3} Coach chat HINT",message:`${f} \u2013 ${S}`}),t({text:f,hintedMove:S})})})}var ea=n(1081);async function Rp(t){!t||((0,$s.k)(),await(0,Me.D)(It.I.botChat.nodeChangeDelay),ea.x.messages.push({text:t,ply:-1}))}function Dp(t){return{from:t.substring(0,2),to:t.substring(2,4)}}const Ii={color:"#cc4444",opacity:.5},{currentBestMove:Li,markings:ta}=Vt;async function zp(t){if(!Li)return Up(t);if(ta.length)return ks();ji(Li)}async function Up(t){if(!t)return;const e=Dp(t);if(ta.length)return ks();ji(e),Ks(e)}function $p(t){return{color:Ii.color,opacity:Ii.opacity,square:t}}function ji(t){ta.length&&ks();const{from:e,to:a}=t;[e,a].map($p).forEach(h=>{(0,he.g)().game.mark({square:h}),ta.push(h)})}async function Fp(){if(!(0,Lt.T)().showHint||(0,gs.y)())return;const{game:t}=(0,he.g)();if(t.getMode().name!==d.nl.Types.Playing)return;const{hintedMessageFENs:e,hintedMoveFENs:a}=ue.e,h=t.getFEN();if(!([...e,...a].length===ce.T.MAX_ALLOWED_HINTS)){await Ni(e,a,h),Vt.isHintRequestInProgress=!1;return}Ct.P.modal=we({messageLabel:$t.ConfirmHintLabels.MESSAGE,yesBtnLabel:$t.ConfirmHintLabels.CONFIRM,cancelBtnLabel:$t.ConfirmHintLabels.CANCEL}),await Ct.P.modal?Wp(e,a,h):Zp()}function Wp(t,e,a){Ni(t,e,a),Vt.isHintRequestInProgress=!1}function Zp(){Ct.P.modal=Promise.resolve(!0)}async function Ni(t,e,a){var h;if(Vt.isHintRequestInProgress=!0,e.includes(a)||!(0,he.g)().game.isAtEndOfLine()||(0,gs.y)())return;const{text:f,hintedMove:S}=await Bp();if(((h=(0,bs.i)())==null?void 0:h.classification)===Hn.e.Classifications.Coach&&(0,Lt.T)().botChat&&!t.includes(a)&&f){t.push(a),await Rp(f),(0,Ye.e)({hintedMessageFENs:t});return}e.push(a),await zp(S),(0,Ye.e)({hintedMoveFENs:e})}function Hp(){const{game:t}=(0,he.g)();t.resetGame(),Ft.L.gameType===d.lA.Variants.Chess960&&(0,ss.D)(d.lA.Variants.Chess960),t.setMode(Ti.X),vs.B.screen=fs.Y.Screens.BotSelection}var Gp=n(9079),Vp=n(8037);function Bi(){if(!V.w.selectedBot)return;const t=V.w.botData.indexOf(V.w.selectedBot);return V.w.botData[t+1]}var Kp=n(8727),qp=n(7667);function Qp(){const t=Bi();if(!!t){if(!(0,Kp.p)(t)){(0,Vp.l)(qp.d);return}(0,As.A)(t),(0,us.Z)()}}var Ri=n(6086),Yp=n(3418);function Jp(){Qp();const t=V.w.selectedBot;t&&((0,As.A)(t),(0,Yp.X)()&&(0,Qt.K)((0,Gp.X)()),(0,Fn.t)(),(0,Ri.G)())}function Xp(){var t;const e=(0,d.SH)((t=(0,xi.y)())!=null?t:1);Ft.L.playingAs=e,(0,he.g)().game.resetGame(),(0,Qt.K)(e),(0,Ri.G)()}function em(){if((0,he.g)().state.mode===d.nl.Types.Analysis)return;const{game:t}=(0,he.g)();Zt.r.emit(Zt.f.FinalMoveFeedbackCompleted),t.resign(t.getPlayingAs())}var tm=function(){var e=this,a=e._self._c,h=e._self._setupProxy;return a("div",{class:[e.$style.topControls,e.$style.endControls]},e._l(e.controls,function({label:f,event:S,icon:F,theme:Y}){return a("v5-button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:f,expression:"label"}],key:f,class:e.$style.buttonlg,attrs:{theme:Y,"data-cy":`Game Over - ${f}`},on:{click:function(be){return e.$emit(S)}}},[a("span",{class:["icon-font-chess","ui_v5-button-icon",F],attrs:{"aria-hidden":"true"}}),e._v(" "),a("span",{class:e.$style.text,domProps:{textContent:e._s(f)}})])}),1)},sm=[],tt=(t=>(t.Analysis="analysis",t.ChangeBot="changeBot",t.GameReview="gameReview",t.MoveBack="moveBack",t.MoveForward="moveForward",t.NextBot="nextBot",t.NewGame="newGame",t.OpenAnalysis="openAnalysis",t.OpenDownload="openDownload",t.OpenLibrary="openLibrary",t.OpenSettings="openSettings",t.OpenShare="openShare",t.Reset="reset",t.ResetBoard="resetBoard",t.Resign="resign",t.ShowHint="showHint",t.StopAnalysis="stopAnalysis",t.StopPosition="stopPosition",t))(tt||{}),nm=(0,w.aZ)({components:{V5Button:Yn.V5Button},directives:{tooltip:hs.Z},computed:{controls(){return[...this.showNextBotButton?[this.nextBot]:[this.rematch],this.newGame]},nextBot(){return{label:ae.Z.trans("Next Bot"),event:tt.NextBot,icon:"arrow-right",theme:"primary"}},newGame(){return{label:ae.Z.trans("New Game"),event:tt.NewGame,icon:"plus"}},rematch(){return{label:ae.Z.trans("Rematch"),event:tt.Reset,icon:"undo",theme:"primary"}},showNextBotButton(){return Bi()&&(0,te.h)()}}}),am=nm,Di={hint:"game-over-controls-hint",topControls:"game-over-controls-topControls",button:"game-over-controls-button",disabled:"game-over-controls-disabled",buttonlg:"game-over-controls-buttonlg",endControls:"game-over-controls-endControls",text:"game-over-controls-text",controls:"game-over-controls-controls",smallIcons:"game-over-controls-smallIcons",icon:"game-over-controls-icon",space:"game-over-controls-space"};function om(t){this.$style=Di.locals||Di}var rm=(0,Ge.Z)(am,tm,sm,!1,om,null,null),im=rm.exports,lm=function(){var e=this,a=e._self._c,h=e._self._setupProxy;return a("div",{class:e.$style.topControls},e._l(e.controls,function({label:f,event:S,icon:F,isLoading:Y}){return a("v5-button",e._g({directives:[{name:"tooltip",rawName:"v-tooltip",value:f,expression:"label"},{name:"confirm-popover",rawName:"v-confirm-popover",value:e.addConfirm(S),expression:"addConfirm(event)"}],key:f,class:e.$style.button,attrs:{"data-cy":f,"aria-label":f}},{click:!S||S===e.resignEvent?()=>null:()=>e.$emit(S)}),[Y?a("spinner-ring",{attrs:{size:"small"}}):a("span",{class:["icon-font-chess","ui_v5-button-icon",F]})],1)}),1)},cm=[],dm=n(8574),is=n(6441),um=n(9562),hm=function(){var e=this,a=e._self._c;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],ref:"modal",class:[e.$style.component,e.$style[e.position.placement]],style:e.style},[a("div",{class:e.$style.inner},[a("div",{class:e.$style.message,domProps:{innerHTML:e._s(e.messageLabel)}}),e._v(" "),a("div",{class:e.$style.buttons},[a("v5-button",{class:e.$style.button,attrs:{size:"x-small",theme:"basic-light","data-cy":e.cancelButtonSelector},domProps:{textContent:e._s(e.cancelBtnLabel)},on:{click:e.hide}}),e._v(" "),a("v5-button",{class:e.$style.button,attrs:{size:"x-small",theme:"primary","data-cy":e.yesButtonSelector},domProps:{textContent:e._s(e.yesBtnLabel)},on:{click:e.onYesClick}})],1)])])},pm=[],mm=n(9007),_m=n(7861);function bm(t){return[...document.querySelectorAll(t)]}var gm={name:"ConfirmPopover",components:{V5Button:Yn.V5Button},props:{messageLabel:String,onConfirm:{type:Function,default:()=>{}},yesBtnLabel:{type:String,default:(0,Pe.dW)("Yes")},cancelBtnLabel:{type:String,default:(0,Pe.dW)("Cancel")}},data(){return{position:{placement:"top",left:0,top:0},visible:!1,cancelButtonSelector:this.$cy?this.$cy.confirmPopover.buttons.cancelButton:"",yesButtonSelector:this.$cy?this.$cy.confirmPopover.buttons.yesButton:""}},computed:{style(){let t={transform:`translate(${this.position.left}px, ${this.position.top}px)`};return(0,_m.t)()&&(t={transform:`translate(0, ${this.position.top}px)`,left:`${this.position.left}px`,right:"auto"}),t}},methods:{hide(){bm(`.${is.xL.CONFIRM_OPEN}`).forEach(e=>e.classList.remove(is.xL.CONFIRM_OPEN)),this.visible=!1,this.removeListeners()},show(t,e="top"){this.visible=!0,this.addListeners(),this.$nextTick(()=>{this.position=(0,mm.bt)(t,this.$el,e,10)})},onYesClick(){this.hide(),this.onConfirm()},scrollListener(){window.addEventListener("scroll",this.hide,{once:!0})},clickListener(){document.addEventListener("click",this.hide,{capture:!0,once:!0})},addListeners(){this.scrollListener(),this.clickListener()},removeListeners(){window.removeEventListener("scroll",this.scrollListener),document.removeEventListener("click",this.clickListener,!0)}}},fm=gm,zi={component:"confirm-popover-inline-component",inner:"confirm-popover-inline-inner",top:"confirm-popover-inline-top",right:"confirm-popover-inline-right",bottom:"confirm-popover-inline-bottom",left:"confirm-popover-inline-left",message:"confirm-popover-inline-message",buttons:"confirm-popover-inline-buttons",button:"confirm-popover-inline-button"};function vm(t){this.$style=zi.locals||zi}var wm=(0,Ge.Z)(fm,hm,pm,!1,vm,null,null),ym=wm.exports,km=n(1149);const Ui=(0,um.Z)({confirmPopover:{component:km.default,el:"#confirm-popover"},confirmPopoverInline:{component:ym,el:"#confirm-popover-inline"}});let Ts;const Ao=[],nv=({message:t,onConfirm:e})=>{Ts=Ui.createInstance("confirmPopover").$children[0],Ts.messageLabel=t,Ts.onConfirm=e,Ts.show()};var Em={bind:(t,e)=>{const a=h=>{if(!e.value)return;if(Ts=e.value.type==="modal"?"confirmPopover":"confirmPopoverInline",!document.getElementById(is.xL.CONFIRM_POPOVER_INLINE)){const Y=document.createElement("div");Y.setAttribute("id",is.xL.CONFIRM_POPOVER_INLINE),document.body.appendChild(Y)}const f=Ui.createInstance(Ts),S=document.querySelector(`.${is.xL.TOOLTIP_CLASS}.${is.xL.TOOLTIP_TOP}`),F=f.$children[0];F&&(F.messageLabel=e.value.message,F.onConfirm=e.value.onConfirm,e.value.cancelBtnLabel&&(F.cancelBtnLabel=e.value.cancelBtnLabel),F.show(h.target,e.value.placement),t.classList.add(is.xL.CONFIRM_OPEN)),S&&S.classList.remove(is.xL.TOOLTIP_TOP),h.preventDefault()};t.addEventListener("click",a),t.dataset.listenerIndex=Ao.length,Ao.push(a)},unbind:t=>{t.removeEventListener("click",Ao[t.dataset.listenerIndex])}},Om=(0,w.aZ)({name:"PrimaryControls",components:{V5Button:Yn.V5Button,SpinnerRing:dm.Z},directives:{tooltip:hs.Z,confirmPopover:Em},props:{isAnalysisMode:{type:Boolean}},data(){return{resignEvent:tt.Resign}},computed:{showHintButton(){return(0,Lt.T)().showHint},isAnalysisInProgress(){return Vt.isHintRequestInProgress},showHint(){return this.isAnalysisInProgress?{label:"...",event:null,isLoading:!0}:{label:ae.Z.trans("Show Hint"),event:tt.ShowHint,icon:"lightbulb"}},controls(){return this.isAnalysisMode?[this.resetBoard,this.moveBack,this.moveForward,this.stopAnalysis]:[this.newGame,this.moveBack,this.moveForward,...this.showHintButton?[this.showHint]:[this.analysis]]}},created(){this.resetBoard={label:ae.Z.trans("Reset Board"),event:tt.ResetBoard,icon:"undo"},this.moveBack={label:ae.Z.trans("Move Back"),event:tt.MoveBack,icon:"chevron-left"},this.moveForward={label:ae.Z.trans("Move Forward"),event:tt.MoveForward,icon:"chevron-right"},this.stopAnalysis={label:ae.Z.trans("Exit"),event:tt.StopAnalysis,icon:"exit"},this.newGame={label:ae.Z.trans("New Game"),event:tt.Resign,icon:"plus"},this.analysis={label:ae.Z.trans("Analysis"),event:tt.Analysis,icon:"chess-board-search"}},methods:{addConfirm(t){if(t===this.resignEvent)return{message:this.$trans("Start a new game?"),onConfirm:this.confirmResignAction}},confirmResignAction(){this.$emit(this.resignEvent)}}}),Cm=Om,$i={topControls:"primary-controls-topControls",button:"primary-controls-button",disabled:"primary-controls-disabled",buttonlg:"primary-controls-buttonlg"};function Pm(t){this.$style=$i.locals||$i}var xm=(0,Ge.Z)(Cm,lm,cm,!1,Pm,null,null),Am=xm.exports,Mm=function(){var e=this,a=e._self._c,h=e._self._setupProxy;return a("div",{class:e.$style.smallControls},[a("div",{class:e.$style.leftIcons},[e._l(e.leftControls,function({label:f,event:S,className:F}){return a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:f,expression:"label"}],key:f,class:e.$style.btn,attrs:{type:"button","aria-label":f,"data-cy":f},on:{click:function(Y){return e.$emit(S)}}},[a("span",{class:[e.$style.icon,"icon-font-chess",F]})])}),e._v(" "),e.isGameOver&&e.isLoggedIn?a("add-to-archive",{class:e.$style.addToArchive}):e._e()],2),e._v(" "),a("div",{class:e.$style.rightIcons},e._l(e.rightControls,function({label:f,event:S,className:F,text:Y}){return a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:f,expression:"label"}],key:f,class:e.$style.btn,attrs:{type:"button","aria-label":f,"data-cy":f},on:{click:function(be){return e.$emit(S)}}},[a("span",{class:[e.$style.icon,"icon-font-chess",F]}),e._v(" "),Y?a("span",{domProps:{textContent:e._s(Y)}}):e._e()])}),0)])},Sm=[],Tm=function(){var e=this,a=e._self._c,h=e._self._setupProxy;return e.isEnoughMoves?a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tooltip,expression:"tooltip"}],class:[e.$style.container,{[e.$style.closed]:e.isAdded,[e.$style.loading]:e.isLoading}],attrs:{type:"button","data-cy":e.$cy.vsPersonalities.saveToArchiveButton},on:{click:e.clickButton}},[a("span",{class:["icon-font-chess",e.$style.icon,"chess-board-folder"],attrs:{"aria-hidden":"true"}}),e._v(" "),a("span",{class:e.$style.label,attrs:{"data-cy":e.$cy.vsPersonalities.saveToArchiveLabel},domProps:{textContent:e._s(e.label)}})]):e._e()},Im=[];const Lm=10;var jm=(0,w.aZ)({name:"AddToArchive",directives:{Tooltip:hs.Z},setup(){var t;const e=(0,w.Fl)(()=>Hs.isLoading),a=(0,w.Fl)(Xn),h=(0,w.Fl)(()=>e.value?`${ae.Z.trans("Saving")}...`:a.value?ae.Z.trans("Archived"):ae.Z.trans("Save to Archive")),f=(0,w.Fl)(()=>e.value?`${ae.Z.trans("Saving")}...`:a.value?ae.Z.trans("Saved"):ae.Z.trans("Save Game")),S=((t=(0,he.g)().game.getLastMove())==null?void 0:t.ply)>=Lm;async function F(){a.value||e.value||await Po()}return{clickButton:F,isAdded:a,isEnoughMoves:S,label:f,tooltip:h,isLoading:e}}}),Nm=jm,Fi={container:"add-to-archive-container",closed:"add-to-archive-closed",loading:"add-to-archive-loading",label:"add-to-archive-label",icon:"add-to-archive-icon"};function Bm(t){this.$style=Fi.locals||Fi}var Rm=(0,Ge.Z)(Nm,Tm,Im,!1,Bm,null,null),Dm=Rm.exports,zm=(0,w.aZ)({name:"SmallControls",directives:{tooltip:hs.Z},components:{AddToArchive:Dm},props:{isGameOver:Boolean},emits:[tt.OpenLibrary,tt.OpenShare,tt.OpenDownload,tt.OpenLibrary,tt.OpenSettings,tt.Resign,tt.MoveBack,tt.MoveForward],computed:{download(){return{label:this.$trans("Download"),event:tt.OpenDownload,className:"download"}},isLoggedIn(){return(0,j.jl)()},leftControls(){const t=[this.share,this.download,this.settings];return this.isGameOver&&!(0,j.nJ)()?[...t,this.library]:t},library(){return{label:this.$trans("Add to Library"),event:tt.OpenLibrary,className:"library-add"}},nextMove(){return{label:this.$trans("Next Move"),event:tt.MoveForward,className:"chevron-right"}},previousMove(){return{label:this.$trans("Previous Move"),event:tt.MoveBack,className:"chevron-left"}},resign(){return{label:this.$trans("Resign"),event:tt.Resign,className:"flag",text:this.$trans("Resign")}},rightControls(){return this.isGameOver?[this.previousMove,this.nextMove]:[this.resign]},settings(){return{label:this.$trans("Settings"),event:tt.OpenSettings,className:"circle-gearwheel"}},share(){return{label:this.$trans("Share"),event:tt.OpenShare,className:"share"}}}}),Um=zm,Wi={smallControls:"small-controls-smallControls",btn:"small-controls-btn",leftIcons:"small-controls-leftIcons",rightIcons:"small-controls-rightIcons",addToArchive:"small-controls-addToArchive",icon:"small-controls-icon"};function $m(t){this.$style=Wi.locals||Wi}var Fm=(0,Ge.Z)(Um,Mm,Sm,!1,$m,null,null),Wm=Fm.exports,Zm={name:"GameControls",components:{PrimaryControls:Am,SmallControls:Wm,GameOverControls:im},directives:{tooltip:hs.Z},computed:{isGameOver(){return(0,he.g)().state.isGameOver},isAnalysisMode(){return(0,he.g)().state.mode===d.nl.Types.Analysis}},methods:{handleNewGame:Hp,handleRematch:Xp,handleNextBot:Jp,enterAnalysisMode:Lp,resetBoard:Tp,leaveAnalysisMode:jp,handleResign:em,showSettingsModal:er,showHint:Fp,showAddToLibraryModal:gp,shareModal:async()=>{(0,he.g)().state.isGameOver&&await Po(),await Ci({initialTab:Co.z.Image,shareUrl:Si()})},downloadModal:()=>Ci({initialTab:Co.z.Pgn,shareUrl:Si()}),moveBack:xo.arrowleft,moveForward:xo.arrowright}},Hm=Zm,Zi={hint:"game-controls-controller-hint",topControls:"game-controls-controller-topControls",button:"game-controls-controller-button",disabled:"game-controls-controller-disabled",buttonlg:"game-controls-controller-buttonlg",endControls:"game-controls-controller-endControls",text:"game-controls-controller-text",controls:"game-controls-controller-controls",smallIcons:"game-controls-controller-smallIcons",icon:"game-controls-controller-icon",space:"game-controls-controller-space",component:"game-controls-controller-component"};function Gm(t){this.$style=Zi.locals||Zi}var Vm=(0,Ge.Z)(Hm,cp,dp,!1,Gm,null,null),Km=Vm.exports,qm=function(){var e=this,a=e._self._c;return a("div",[a("img",{class:[e.$style.avatar,{[e.$style["avatar--with-animation"]]:e.sidebarState.showBotAvatarAnimation}],attrs:{alt:e.$trans("User Avatar"),src:e.avatarUrl,"data-cy":e.$cy.chat.chatMessage.avatar,width:"75",height:"75"}}),e._v(" "),a("div",{class:e.$style["messages-container"]},[a("transition-group",{attrs:{name:e.transition}},e._l(e.chatMessages,function(h,f){return a("div",{key:`${h.ply}${h.text}`,class:e.$style.component},[h.text?a("chat-bubble",{attrs:{"is-first":f===0,"chat-message":h.text}}):e._e()],1)}),0)],1)])},Qm=[],Ym=function(){var e=this,a=e._self._c;return a("div",{class:[e.$style.component,{[e.$style.withTail]:e.isFirst,[e.$style["component--with-font-updates"]]:e.withFontUpdates}],attrs:{"data-cy":e.$cy.chat.chatMessage.messageText},on:{click:e.handleClick}},[e.showMessageGradually?a("transition",{attrs:{appear:"",name:"fade-in"}},[a("div",e._l(e.chatMessageWhichUpdates,function(h,f){return a("span",{key:`chat-bubble-text-${f}`,ref:`chat-bubble-text-${f}`,refInFor:!0,style:{opacity:0},domProps:{textContent:e._s(h)}})}),0)]):a("span",{domProps:{textContent:e._s(e.chatMessage)}})],1)},Jm=[],Xm={name:"BotChat",props:{chatMessage:String,isFirst:Boolean},data(){return{idx:0,chatMessageWhichUpdates:[],timerId:null,showMessageGradually:window.chesscom.features.includes("vs_personalities_gradual_coach_message")&&(0,bs.i)().classification===Hn.e.Classifications.Coach,withFontUpdates:window.chesscom.features.includes("vs_personalities_updated_bot_chat_font")}},async mounted(){if(!this.showMessageGradually){Zt.r.emit(Zt.f.CoachCommentedAfterUserMoved);return}this.chatMessage!=="typing"&&(await(0,Me.D)(It.I.botChat.beforeStartWritingDelay),this.startWriting())},beforeDestroy(){!this.showMessageGradually||this.timerId&&clearInterval(this.timerId)},methods:{startWriting(){this.chatMessageWhichUpdates=this.chatMessage.split(""),this.timerId=setInterval(()=>{const t=this.chatMessageWhichUpdates[this.idx];if(this.idx>=this.chatMessage.length){this.stopWriting(),window.chesscom.features.includes("vs_personalities_speech_synthesis")||Zt.r.emit(Zt.f.CoachCommentedAfterUserMoved);return}[".","?","!","\u2014"].some(e=>e===t)&&this.idx!==this.chatMessage.length-1&&this.pauseAndResume(),this.showLetter(this.idx),this.idx++},It.I.botChat.betweenTypingCharactersDelay)},showLetter(t){const e=this.$refs[`chat-bubble-text-${t}`];if(!e?.[0]){this.stopWriting();return}this.timerId&&(e[0].style.opacity=1)},async pauseAndResume(){this.stopWriting(),await(0,Me.D)(It.I.botChat.pauseCharacterDelay),this.startWriting()},stopWriting(){clearInterval(this.timerId)},handleClick(){!this.showMessageGradually||(this.timerId&&this.stopWriting(),this.chatMessageWhichUpdates.forEach((t,e)=>this.showLetter(e)),Zt.r.emit(Zt.f.CoachCommentedAfterUserMoved))}}},e_=Xm,Hi={component:"chat-bubble-component","component--with-font-updates":"chat-bubble-component--with-font-updates",withTail:"chat-bubble-withTail"};function t_(t){this.$style=Hi.locals||Hi}var s_=(0,Ge.Z)(e_,Ym,Jm,!1,t_,null,null),n_=s_.exports,a_={name:"BotChat",components:{ChatBubble:n_},props:{avatarUrl:String,chatMessages:Array},data(){return{sidebarState:vs.B,isBotCoach:(0,bs.i)().classification===Hn.e.Classifications.Coach}},computed:{transition(){return this.chatMessages.length===0?"fade-out":"fade-in-and-slide-down"}}},o_=a_,Gi={component:"chat-message-component",avatar:"chat-message-avatar","avatar--with-animation":"chat-message-avatar--with-animation","shift-left-and-shrink":"chat-message-shift-left-and-shrink","messages-container":"chat-message-messages-container"};function r_(t){this.$style=Gi.locals||Gi}var i_=(0,Ge.Z)(o_,qm,Qm,!1,r_,null,null),l_=i_.exports,c_=(0,w.aZ)({name:"PlayController",components:{GameControls:Km,ChatMessage:l_,QuickAnalysis:lp,MoveFeedback:Kh},setup(){return{settings:(0,Lt.T)()}},data(){return{hasAccount:(0,j.jl)()}},computed:{isGameOver(){return(0,he.g)().state.isGameOver},boardId(){return fr()},botAvatar(){var t;return(t=V.w.selectedBot)==null?void 0:t.image_url},messages(){return window.chesscom.features.includes("vs_personalities_latest_chat_on_bottom")?ea.x.messages:[...ea.x.messages].reverse()},isAnalysisMode(){return(0,he.g)().state.mode===d.nl.Types.Analysis},isBotEngine(){return(0,bs.i)().classification===Hn.e.Classifications.Engine}}}),d_=c_,Vi={component:"play-controller-component","chat-container":"play-controller-chat-container","above-move-list":"play-controller-above-move-list",message:"play-controller-message",moveList:"play-controller-moveList"};function u_(t){this.$style=Vi.locals||Vi}var h_=(0,Ge.Z)(d_,ud,hd,!1,u_,null,null),p_=h_.exports,m_=function(){var e=this,a=e._self._c,h=e._self._setupProxy;return a("div",{class:e.$style.component},[a("div",{class:e.$style.content},[a("loader-three-bounce",{attrs:{"is-circle":!0,size:40}})],1)])},__=[],b_=(0,w.aZ)({components:{LoaderThreeBounce:li.Z}}),g_=b_,Ki={component:"sidebar-loader-component",content:"sidebar-loader-content"};function f_(t){this.$style=Ki.locals||Ki}var v_=(0,Ge.Z)(g_,m_,__,!1,f_,null,null),qi=v_.exports,w_=Object.create,Qi=Object.defineProperty,y_=Object.getOwnPropertyDescriptor,k_=Object.getOwnPropertyNames,E_=Object.getPrototypeOf,O_=Object.prototype.hasOwnProperty,C_=(t,e,a,h)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of k_(e))!O_.call(t,f)&&f!==a&&Qi(t,f,{get:()=>e[f],enumerable:!(h=y_(e,f))||h.enumerable});return t},av=(t,e,a)=>(a=t!=null?w_(E_(t)):{},C_(e||!t||!t.__esModule?Qi(a,"default",{value:t,enumerable:!0}):a,t));const P_={[fs.Y.Screens.BotSelection]:(0,w.RC)({loader:()=>Promise.all([n.e(890),n.e(110)]).then(n.bind(n,1174)),loadingComponent:qi,delay:50}),[fs.Y.Screens.ModeSelection]:(0,w.RC)({loader:()=>Promise.all([n.e(890),n.e(297)]).then(n.bind(n,9030)),loadingComponent:qi,delay:50}),[fs.Y.Screens.Play]:p_},x_=window.chesscom.features.includes("play_base_vue_3_mounting")&&window.chesscom.features.includes("client_chessboard_layout_beta");var A_=(0,w.aZ)({el:x_?"#board-layout-sidebar":"#sidebar",name:"SidebarController",setup(){return{activeController:(0,w.Fl)(()=>P_[vs.B.screen])}}}),M_=A_,Yi={component:"sidebar-controller-component"};function S_(t){this.$style=Yi.locals||Yi}var T_=(0,Ge.Z)(M_,cd,dd,!1,S_,null,null),I_=T_.exports,L_=[sd,ld,I_],rt={color:{BLACK:"black",WHITE:"white",label:{BLACK:ae.Z.trans("Black"),WHITE:ae.Z.trans("White"),COLOR:ae.Z.trans("Color")}},alert:{ERROR:"error",MESSAGE:ae.Z.trans("Invalid Username")},gameSource:{MASTER:"master",OTHER:"other",OWN:"own",label:{MASTER:ae.Z.trans("Master Games"),OTHER:ae.Z.trans("Other Players"),OWN:ae.Z.trans("My Games")}},gameType:{ALL:"all",BLITZ:"blitz",DAILY:"daily",LIGHTNING:"lightning",LIVE:"live",STANDARD:"standard",label:{GAME_TYPE:ae.Z.trans("Game type"),ALL:ae.Z.trans("All Games"),BLITZ:ae.Z.trans("- Blitz"),DAILY:ae.Z.trans("Daily Chess"),LIGHTNING:ae.Z.trans("- Bullet"),LIVE:ae.Z.trans("Live Chess"),STANDARD:ae.Z.trans("- Rapid")}},label:{FIND:ae.Z.trans("Find"),HELP_MESSAGE:ae.Z.trans("Only the following games are imported: Standard rules (no variants) that are at least 15 ply (or 29 ply if timeout) and played against a human (no computers)."),LIMIT_REACHED:`
      <a href="${I.Z.generate("web_membership",{c:"explorer"})}">
        ${ae.Z.trans("Please upgrade to get full access to Explorer.")}
      </a>`,LOADING:ae.Z.trans("Loading..."),NO_GAMES:ae.Z.trans("There are no games with this position found in the database."),SEARCH:ae.Z.trans("View all games from current position"),UPGRADE_TO_EXPLORE_OWN:`
      <a href="${I.Z.generate("web_membership",{c:"explorer"})}">
        ${ae.Z.trans("Upgrade to premium to explore your own games.")}
      </a>`,USERNAME:ae.Z.trans("Username"),MASTER_PLAYER_NAME:ae.Z.trans("Master player name"),CHOOSE_GAME:ae.Z.trans("Choose game")},mainControls:{ANALYSIS:ae.Z.trans("Analysis"),MOVE_BACK:ae.Z.trans("Move Back"),MOVE_FORWARD:ae.Z.trans("Move Forward"),PRACTICE:ae.Z.trans("Practice vs Computer"),RESET:ae.Z.trans("Reset")},GAME_SEARCH_COUNT_THRESHOLD:1e4,upgrade:{BODY:ae.Z.trans("Continue to explore this or any other line with unlimited Explorer and review and play the same lines as grandmasters!"),FREE_TRIAL:ae.Z.trans("Start Free Trial"),TITLE:ae.Z.trans("Go Premium for Unlimited Explorer"),NEW_TITLE:ae.Z.trans("Want Unlimited Openings?"),HEADER_TEXT:ae.Z.trans("Explorer Limit Reached"),REFERRAL:"explorer",SUBTITLE:ae.Z.trans("Explorer Move Limit Reached"),UNLOCK:ae.Z.trans("Unlock Explorer")},LABEL_MINIMUM_PERCENT:10};const rv={gameSource:[{label:rt.gameSource.label.MASTER,value:rt.gameSource.MASTER},{label:rt.gameSource.label.OWN,value:rt.gameSource.OWN},{label:rt.gameSource.label.OTHER,value:rt.gameSource.OTHER}],gameType:[{label:rt.gameType.label.ALL,value:rt.gameType.ALL},{label:rt.gameType.label.DAILY,value:rt.gameType.DAILY},{label:rt.gameType.label.LIVE,value:rt.gameType.LIVE},{label:rt.gameType.label.STANDARD,value:rt.gameType.STANDARD},{label:rt.gameType.label.BLITZ,value:rt.gameType.BLITZ},{label:rt.gameType.label.LIGHTNING,value:rt.gameType.LIGHTNING}],color:[{label:rt.color.label.WHITE,value:rt.color.WHITE},{label:rt.color.label.BLACK,value:rt.color.BLACK}]},iv={BOARD:"board",BOARD_SETTINGS:"board-settings",CONTROLS:"controls",MODAL_TRIAL:"explorer-modal-trial",SHARE_MENU:"share-menu",SIDEBAR:"sidebar"},lv={MODAL_TRIAL:"modalTrial"},cv={BOARD_PARAMS:"board-params"},j_={archive:t=>I.Z.generate("web_archive_index",t),defaultExplorerLink:I.Z.generate("explorer_index"),explorerMove:I.Z.generate("explorer_callback_move"),explorerGetSuggestedMoves:I.Z.generate("explorer_callback_get_suggested_moves"),masterGames:t=>I.Z.generate("web_master_games_search",t),openAnalysis:t=>I.Z.generate("web_analysis_board_editor",t),openPractice:t=>I.Z.generate("web_practice_custom",t),register:I.Z.generate("web_security_register"),upgrade:I.Z.generate("web_membership",{c:"explorer"}),vscomp:t=>I.Z.generate("web_play_computer",{fen:t})};var N_=n(6003),ms;(t=>{t.Name="eco";let e;(h=>{let f;(S=>{S.StartingPosition="A00"})(f=h.Codes||(h.Codes={})),h.Text={CustomPosition:ae.Z.trans("Custom Position"),StartingPosition:ae.Z.trans("Starting Position")}})(e=t.Config||(t.Config={}));let a;(h=>{let f;(F=>{F.Master="master",F.Other="other",F.Own="own"})(f=h.GameSource||(h.GameSource={}));let S;(F=>{F.All="all",F.Blitz="blitz",F.Daily="daily",F.Lightning="lightning",F.Live="live",F.Standard="standard"})(S=h.GameType||(h.GameType={}))})(a=t.Explorer||(t.Explorer={}))})(ms||(ms={}));var B_=Object.defineProperty,R_=Object.defineProperties,D_=Object.getOwnPropertyDescriptors,Ji=Object.getOwnPropertySymbols,z_=Object.prototype.hasOwnProperty,U_=Object.prototype.propertyIsEnumerable,Xi=(t,e,a)=>e in t?B_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,$_=(t,e)=>{for(var a in e||(e={}))z_.call(e,a)&&Xi(t,a,e[a]);if(Ji)for(var a of Ji(e))U_.call(e,a)&&Xi(t,a,e[a]);return t},F_=(t,e)=>R_(t,D_(e));function el({game:t,gameSource:e=ms.Explorer.GameSource.Master,gameType:a=ms.Explorer.GameType.All,moveList:h}){var f,S;return decodeURIComponent(I.Z.generate("explorer_index",F_($_({color:t.getOptions().flipped?"black":"white",gameSource:e},!(e===ms.Explorer.GameSource.Master&&a===ms.Explorer.GameType.All)&&{gameType:a}),{moveList:h??t.getHistorySANs().join("+"),ne:1,ply:((S=(f=t.getSelectedNode())==null?void 0:f.moveNumber)!=null?S:0)+1})))}function W_(t){return I.Z.generate("web_openings_view",{cleanUrl:t})}var sa=n(4071),At={panel:"eco-opening-panel",links:"eco-opening-links",variant:"eco-opening-variant",name:"eco-opening-name",explorer:"eco-opening-explorer",opening:"eco-opening-opening",icon:"eco-opening-icon",tooltip:"eco-opening-tooltip"},Z_=Object.defineProperty,H_=(t,e,a)=>e in t?Z_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,tl=(t,e,a)=>(H_(t,typeof e!="symbol"?e+"":e,a),a);class G_ extends sa.H{constructor(){super(),tl(this,"plugin",null),tl(this,"elements",{explorer:void 0,opening:void 0,openingName:void 0}),this.getLinks=this.getLinks.bind(this),this.updateOpeningData=this.updateOpeningData.bind(this),this.handleUpdateEco=this.handleUpdateEco.bind(this)}static get observedAttributes(){return[l._.ObservedAttributes.BoardId,l._.ObservedAttributes.LinkToExplorer,l._.ObservedAttributes.OpeningIsClickable]}getLinks(e){var a;if(this.hasAttribute(l._.ObservedAttributes.LinkToExplorer)&&e&&((a=this.board)==null?void 0:a.game))return{explorer:el({game:this.board.game}),openings:W_(e)}}isVariant(){var e;return Boolean((e=this.board)==null?void 0:e.game.getHeaders().Variant)}componentDestroy(){var e,a,h,f,S,F,Y,be;(a=(e=this.board)==null?void 0:e.game)==null||a.off({type:d.th.ECO.Events.Update,handler:this.handleUpdateEco}),this.plugin&&!((f=(h=this.board)==null?void 0:h.game)!=null&&f.listeners.some(We=>We.type==="UpdateECO"))&&((be=(F=(S=this.board)==null?void 0:S.game)==null?void 0:(Y=F.plugins).remove)==null||be.call(Y,this.plugin.name),this.plugin=null)}updateOpeningData(e){var a;const h={fen:e?.f,link:e?.u,name:(a=e?.n)!=null?a:ms.Config.Text.CustomPosition};if(!this.elements.opening||!this.elements.explorer||!this.elements.openingName)return;h.fen&&N_.nn.includes(h.fen)&&(h.name=ms.Config.Text.StartingPosition,h.link=void 0),this.updateVariant(),this.elements.openingName.innerText=h.name;const f=this.getLinks(h.link),S=this.hasAttribute(l._.ObservedAttributes.OpeningIsClickable),F=this.hasAttribute(l._.ObservedAttributes.ExplorerIsClickable);(!f&&this.elements.opening.href||!S)&&be(this.elements.opening),(!f&&this.elements.explorer.href||!F)&&be(this.elements.explorer),!f&&!this.elements.explorer.href.length&&F&&Y(this.elements.explorer,j_.defaultExplorerLink),f&&(S&&Y(this.elements.opening,f.openings),F&&Y(this.elements.explorer,f.explorer));function Y(We,nt){We.setAttribute("href",nt),We.setAttribute("target","_blank")}function be(We){We.removeAttribute("href"),We.removeAttribute("target")}}updateExplorerLink(e){var a;this.elements.explorer&&(this.elements.explorer.href=el({game:(a=this.board)==null?void 0:a.game,gameSource:e}))}updateVariant(){const e=this.isVariant(),a=this.classList.contains(At.variant);e&&!a?this.classList.add(At.variant):!e&&a&&this.classList.remove(At.variant)}boardReady(){var e,a,h,f,S,F,Y,be;const We=(e=this.board)==null?void 0:e.game.plugins.has(d.th.ECO.Name);this.plugin=We?(a=this.board)==null?void 0:a.game.plugins.get().find(nt=>nt.name===d.th.ECO.Name):(0,d.Kh)({ecoPath:(0,rn.K)(),http:R.Z}),((h=this.board)==null?void 0:h.game.getVariant())===is.$y.CHESS_960&&((f=document.querySelector(`.${At.opening}`))==null||f.remove(),(S=document.querySelector(`.${At.explorer}`))==null||S.remove()),(F=this.board)==null||F.game.on(d.th.ECO.Events.Update,this.handleUpdateEco),We?this.updateOpeningData((be=this.board)==null?void 0:be.game.eco.get()):(Y=this.board)==null||Y.game.plugins.add(this.plugin)}handleUpdateEco({data:e}){this.updateOpeningData(e)}componentReady(){this.classList.add(At.panel),this.innerHTML=`
      <span class="${At.name}"></span>
      <div class="${At.links}">
        <a class="${At.opening}" title="${(0,Pe.dW)("Openings")}"><span class="icon-font-chess chess-book ${At.icon}"></span></a>
        <a class="${At.explorer}" title="${(0,Pe.dW)("Explorer")}"><span class="icon-font-chess circle-compass ${At.icon}"></span></a>
      </div>
    `,this.elements={explorer:this.querySelector(`.${At.explorer}`),opening:this.querySelector(`.${At.opening}`),openingName:this.querySelector(`.${At.name}`)},hs.Z.bind(this.elements.opening),hs.Z.bind(this.elements.explorer)}}var V_=n(3576),Ve={component:"evaluation-lines-component",withicon:"evaluation-lines-withicon",open:"evaluation-lines-open",more:"evaluation-lines-more",icon:"evaluation-lines-icon",inverted:"evaluation-lines-inverted",node:"evaluation-lines-node",clickable:"evaluation-lines-clickable",thinking:"evaluation-lines-thinking",preview:"evaluation-lines-preview",score:"evaluation-lines-score",negative:"evaluation-lines-negative",lines:"evaluation-lines-lines",tooltip:"evaluation-lines-tooltip","node-clickable":"evaluation-lines-node-clickable","line-empty":"evaluation-lines-line-empty","line-thinking":"evaluation-lines-line-thinking","best-move":"evaluation-lines-best-move",depth:"evaluation-lines-depth","best-line":"evaluation-lines-best-line"},K_=n(7652),q_=Object.defineProperty,sl=Object.getOwnPropertySymbols,Q_=Object.prototype.hasOwnProperty,Y_=Object.prototype.propertyIsEnumerable,Mo=(t,e,a)=>e in t?q_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,J_=(t,e)=>{for(var a in e||(e={}))Q_.call(e,a)&&Mo(t,a,e[a]);if(sl)for(var a of sl(e))Y_.call(e,a)&&Mo(t,a,e[a]);return t},Mt=(t,e,a)=>(Mo(t,typeof e!="symbol"?e+"":e,a),a);function X_(t,e){const a=Math.max(t,0)+e,h=a%2===0;if(e>0&&!h)return"";let S=`${Math.ceil((a+1)/2)}.`;return e===0&&!h&&(S+=".."),S}function na(t,e,a){const h=t.classList.contains(e);a&&!h?t.classList.add(e):!a&&h&&t.classList.remove(e)}class eb extends sa.H{constructor(){super(),Mt(this,"onEvaluationUpdateHandler"),Mt(this,"onEvaluationSettingsUpdateHandler"),Mt(this,"onEngineStartHandler"),Mt(this,"onEngineStopHandler"),Mt(this,"tooltipElement",null),Mt(this,"isEngineRunning",!1),Mt(this,"isShowEngineDetails",!1),Mt(this,"isNodeClickable",!1),Mt(this,"isMouseoverNode",!1),Mt(this,"scoreElements",[]),Mt(this,"lineElements",[]),Mt(this,"bestMoveElement"),Mt(this,"depthElement"),Mt(this,"engineName",""),Mt(this,"nodeElements",[]),this.onEvaluationUpdateHandler=this.onEvaluationUpdate.bind(this),this.onEvaluationSettingsUpdateHandler=this.onEvaluationSettingsUpdate.bind(this),this.onEngineStartHandler=this.onEngineStart.bind(this),this.onEngineStopHandler=this.onEngineStop.bind(this)}static get observedAttributes(){return[l._.ObservedAttributes.BoardId,l._.ObservedAttributes.EngineName]}boardReady(){this.removeListeners(),this.addListeners(),this.onEvaluationUpdate()}componentDestroy(){this.removeListeners()}addListeners(){this.addEventListener("click",this.onComponentClick),this.addEventListener("mouseover",this.onMouseoverNode),ct.H.on("evaluation.update",this.onEvaluationUpdateHandler),ct.H.on("evaluation.settings-update",this.onEvaluationSettingsUpdateHandler),ct.H.on("evaluation.engine-start",this.onEngineStartHandler),ct.H.on("evaluation.engine-stop",this.onEngineStopHandler)}removeListeners(){this.removeEventListener("click",this.onComponentClick),this.removeEventListener("mouseover",this.onMouseoverNode),ct.H.off({type:"evaluation.update",handler:this.onEvaluationUpdateHandler}),ct.H.off({type:"evaluation.settings-update",handler:this.onEvaluationSettingsUpdateHandler}),ct.H.off({type:"evaluation.engine-start",handler:this.onEngineStartHandler}),ct.H.off({type:"evaluation.engine-stop",handler:this.onEngineStopHandler})}componentReady(){const e=[];let{linesCount:a}=(0,Kt.Gw)();const h=this.hasAttribute("show-best-line"),f=this.getAttribute("lines");this.readEngineName(),this.isShowEngineDetails=this.hasAttribute("is-display-engine-details"),this.isNodeClickable=this.hasAttribute("is-node-clickable"),this.isShowEngineDetails&&(this.engineName=this.getAttribute("engine-name")||(0,Cs.YE)().name||""),f&&(a=Number(f)),h&&e.push(`
        <span class="${Ve["best-move"]}"></span>
        <span class="${Ve.depth}"></span>
      `);for(let Y=0;Y<a;Y++)e.push(`
        <div class="${Ve.component} ${Ve.withicon} ${Ve["line-thinking"]}">
          <span class="${Ve.thinking}"></span>
          <a class="${Ve.score}" href="${Er}" target="_blank">0.00</a>
          <button type="button" class="${Ve.more}">
            <span class="${Ve.icon} icon-font-chess caret-down"></span>
          </button>
        </div>
      `),this.nodeElements[Y]=[];const S=this.isShowEngineDetails?`<div class="${Ve.tooltip}"></div>`:"",F=this.isNodeClickable?Ve["node-clickable"]:"";this.innerHTML=`
      <div class="${Ve.lines} ${F}">
        ${e.join("")}
        ${S}
      </div>
    `,h&&(this.bestMoveElement=this.querySelector(`.${Ve["best-move"]}`),this.depthElement=this.querySelector(`.${Ve.depth}`)),this.lineElements=Array.from(this.querySelectorAll(`.${Ve.component}`)),this.scoreElements=Array.from(this.querySelectorAll(`.${Ve.score}`)),this.tooltipElement=this.querySelector(`.${Ve.tooltip}`)}onComponentClick(e){const a=e.target;if(a.classList.contains(Ve.more)){const h=a.parentNode;h.classList.contains(Ve.open)?(h.classList.remove(Ve.open),a.classList.remove(Ve.inverted)):(h.classList.add(Ve.open),a.classList.add(Ve.inverted))}if(this.isNodeClickable&&a.classList.contains(Ve.node)){const{fen:h,lines:f,lineIndex:S,moveIndex:F,sanMoves:Y}=this.getNodeDetails(a);if(this.isThinking(f[S]))return;this.dispatchEvent(new CustomEvent("click-node",{detail:{el:a,fen:h,lineIndex:S,moveIndex:F,sanMoves:Y}}))}}onMouseoverNode(e){const a=e.target;if(!a?.classList.contains("evaluation-lines-node")){this.isMouseoverNode&&this.dispatchEvent(new CustomEvent("hover-node",{detail:null})),this.isMouseoverNode=!1;return}this.isMouseoverNode=!0,this.dispatchEvent(new CustomEvent("hover-node",{detail:J_({el:a},this.getNodeDetails(a))}))}getNodeDetails(e){var a,h,f;const{fen:S,lines:F}=(0,wt.y0)(),Y=Number(e.getAttribute("data-line-index")),be=Number(e.getAttribute("data-move-index")),We=(f=(h=(a=F[Y])==null?void 0:a.pvSan)==null?void 0:h.slice(0,be+1))!=null?f:[],nt=F[Y].pvSan.slice(0,be+1).map(zt=>({san:zt}));return{fen:Os().getFenFromMoves(S,nt),lineIndex:Y,lines:F,moveIndex:be,sanMoves:We}}isThinking(e){var a;const{isNewPosition:h}=(0,wt.y0)();return this.isEngineRunning&&(!((a=e?.pvSan)!=null&&a.length)||h)}onEngineStart(){this.isEngineRunning=!0,this.lineElements.forEach(e=>{na(e,Ve["line-thinking"],!0)})}onEngineStop(){this.isEngineRunning=!1}onEvaluationUpdate(){const e=this.hasAttribute("show-best-line"),{lines:a,selectedPly:h}=(0,wt.y0)();this.lineElements.forEach((f,S)=>{const F=a[S],Y=this.isThinking(F),be=!F||F.mateIn===0,We=e&&S===0;if(na(f,Ve["best-line"],We),na(f,Ve["line-empty"],be),na(f,Ve["line-thinking"],Y),Y||be){this.clearLineNodes(S);return}for(We&&this.depthElement&&(this.depthElement.textContent=this.getDepthString(F.depth)),this.updateScore(S,F);this.nodeElements[S].length>F.pvSan.length;)this.removeLineLastNode(S);F.pvSan.forEach((nt,zt)=>{const ot=this.getLineNode(S,zt),Bt=`${X_(h,zt)}${mo(nt)} `;ot.textContent=Bt,We&&zt===0&&this.bestMoveElement&&(this.bestMoveElement.textContent=Bt),this.isNodeClickable&&(ot.setAttribute("data-line-index",String(S)),ot.setAttribute("data-move-index",String(zt)))})})}onEvaluationSettingsUpdate(){this.componentReady()}attributesChanged(){this.readEngineName(),this.onEvaluationUpdate()}clearLineNodes(e){if(this.nodeElements[e])for(;this.nodeElements[e].length;)this.removeLineLastNode(e)}getDepthString(e){return(0,Pe.dW)("Depth=%depth%",{"%depth%":e})}updateScore(e,a){const h=this.scoreElements[e];h.textContent=(0,po.D4)(a);const f=(0,K_.hj)(a.score)&&a.score<0,S=h.classList.contains(Ve.negative);f&&!S?h.classList.add(Ve.negative):!f&&S&&h.classList.remove(Ve.negative),this.isShowEngineDetails&&this.tooltipElement&&e===0&&(this.tooltipElement.textContent=`${this.engineName} ${this.getDepthString(a.depth)}`)}getLineNode(e,a){if(!this.nodeElements[e][a]){const h=document.createElement("span");h.className=Ve.node,this.lineElements[e].appendChild(h),this.nodeElements[e][a]=h}return this.nodeElements[e][a]}removeLineLastNode(e){const a=this.nodeElements[e].pop();this.lineElements[e].removeChild(a)}readEngineName(){var e;this.isShowEngineDetails&&(this.engineName=this.getAttribute("engine-name")||((e=(0,Cs.YE)((0,Kt.Gw)().engineName))==null?void 0:e.name)||"")}}const Is=or(),aa={"%username% won on time":t=>Pe.$H.trans("%username% won on time",{"%username":t}),"Good move":()=>Pe.$H.trans("Good move"),"Bad move":()=>Pe.$H.trans("Bad move"),"Excellent move":()=>Pe.$H.trans("Excellent move"),Blunder:()=>Pe.$H.trans("Blunder"),"Speculative move":()=>Pe.$H.trans("Speculative move"),"Dubious move":()=>Pe.$H.trans("Dubious move"),Drawish:()=>Pe.$H.trans("Drawish"),Unclear:()=>Pe.$H.trans("Unclear"),"White has a slight advantage":()=>Pe.$H.trans("White has a slight advantage"),"Black has a slight advantage":()=>Pe.$H.trans("Black has a slight advantage"),"White has a moderate advantage":()=>Pe.$H.trans("White has a moderate advantage"),"Black has a moderate advantage":()=>Pe.$H.trans("Black has a moderate advantage"),"White has a decisive advantage":()=>Pe.$H.trans("White has a decisive advantage"),"Black has a decisive advantage":()=>Pe.$H.trans("Black has a decisive advantage"),"The position is in zugzwang":()=>Pe.$H.trans("The position is in zugzwang"),"With initiative":()=>Pe.$H.trans("With initiative"),"With compensation":()=>Pe.$H.trans("With compensation"),Novelty:()=>Pe.$H.trans("Novelty"),"With an attack":()=>Pe.$H.trans("With an attack"),"Clear All Analysis":()=>Pe.$H.trans("Clear All Analysis"),"Delete Comment After":()=>Pe.$H.trans("Delete Comment After"),"Delete Comment Before":()=>Pe.$H.trans("Delete Comment Before"),"Delete Move":()=>Pe.$H.trans("Delete Move"),"Delete Entire Variation":()=>Pe.$H.trans("Delete Entire Variation"),"Comment After":()=>Pe.$H.trans("Comment After"),"Comment Before":()=>Pe.$H.trans("Comment Before"),"Insert Continuation":()=>Pe.$H.trans("Insert Continuation"),Miss:()=>Pe.$H.trans("Miss"),"Move Variation Down":()=>Pe.$H.trans("Move Variation Down"),"Move Variation Up":()=>Pe.$H.trans("Move Variation Up"),Promote:()=>Pe.$H.trans("Promote"),"Remove Annotation":()=>Pe.$H.trans("Remove Annotation"),"Remove Begin":()=>Pe.$H.trans("Remove Begin"),"Remove End":()=>Pe.$H.trans("Remove End"),"Remove Evaluation Annotation":()=>Pe.$H.trans("Remove Evaluation Annotation"),"Remove Focus":()=>Pe.$H.trans("Remove Focus"),"Set Begin":()=>Pe.$H.trans("Set Begin"),"Set End":()=>Pe.$H.trans("Set End"),"Set Focus":()=>Pe.$H.trans("Set Focus"),"Add Comment...":()=>Pe.$H.trans("Add Comment..."),B:()=>Is.B,K:()=>Is.K,N:()=>Is.N,P:()=>Is.P,Q:()=>Is.Q,R:()=>Is.R,numberOfDays:t=>Pe.$H.transChoice("{1} 1 day|]1,Inf] %1$s% days",t,{"%1$s%":t}),numberOfHours:t=>Pe.$H.transChoice("{1} 1 hr|]1,Inf] %1$s% hrs",t,{"%1$s%":t}),numberOfMinutes:t=>Pe.$H.transChoice("{1} 1 min|]1,Inf] %1$s% mins",t,{"%1$s%":t}),"This game ended in a draw because the same position was repeated three times.":()=>Pe.$H.trans("This game ended in a draw because the same position was repeated three times."),"En passant is a special pawn move by which a pawn captures another pawn that has advanced two squares.":()=>Pe.$H.trans("En passant is a special pawn move by which a pawn captures another pawn that has advanced two squares.")};var tb=Object.defineProperty,sb=(t,e,a)=>e in t?tb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,nb=(t,e,a)=>(sb(t,typeof e!="symbol"?e+"":e,a),a);class ab extends sa.H{constructor(){super(...arguments),nb(this,"plugin",null)}static get observedAttributes(){return[l._.ObservedAttributes.BoardId,l._.ObservedAttributes.ScrollContainerId]}componentDestroy(){var e,a,h,f;this.plugin&&((f=(a=(e=this.board)==null?void 0:e.game)==null?void 0:(h=a.plugins).remove)==null||f.call(h,this.plugin.name),this.plugin=null)}boardReady(){var e,a;const h=this.getAttribute(l._.ObservedAttributes.ScrollContainerId);this.plugin=(0,d.Mo)({el:this,enableContextMenu:!this.hasAttribute(l._.ObservedAttributes.DisableContextMenu),scrollContainer:h&&document.getElementById(h)||void 0,translations:aa}),(a=(e=this.board)==null?void 0:e.game)==null||a.plugins.add(this.plugin)}}var nl=n(2591),ob=Object.defineProperty,al=Object.getOwnPropertySymbols,rb=Object.prototype.hasOwnProperty,ib=Object.prototype.propertyIsEnumerable,So=(t,e,a)=>e in t?ob(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,ol=(t,e)=>{for(var a in e||(e={}))rb.call(e,a)&&So(t,a,e[a]);if(al)for(var a of al(e))ib.call(e,a)&&So(t,a,e[a]);return t},ys=(t,e,a)=>(So(t,typeof e!="symbol"?e+"":e,a),a);class lb extends HTMLElement{constructor(){super(),ys(this,"board"),ys(this,"boardInitializedHandler"),ys(this,"plugin",null),ys(this,"timeout"),ys(this,"moveList",{}),ys(this,"queue",(0,nl.j)()),ys(this,"translations",aa),this.boardInitializedHandler=this.boardInitialized.bind(this)}static get observedAttributes(){return[l._.ObservedAttributes.BoardId,l._.ObservedAttributes.IsActive,l._.ObservedAttributes.MoveListId,l._.ObservedAttributes.ScrollContainerId,l._.ObservedAttributes.TimestampMethod]}attributeChangedCallback(e,a,h){e===l._.ObservedAttributes.IsActive?this.toggleIsActive(h):this.createOnNextTick()}async setMoveList(){var e,a;const h=(a=(e=this.board)==null?void 0:e.game)==null?void 0:a[this.getMoveListId()];Object.assign(this.moveList,h);const f=await h?.getMoveList();Object.assign(this.moveList,f)}boardInitialized({detail:e}){this.setAttribute(l._.ObservedAttributes.BoardId,`board-${e}`)}toggleIsActive(e="true"){var a,h,f,S;const F=(h=(a=this.board)==null?void 0:a.game)==null?void 0:h[this.getMoveListId()];!F||(e==="true"?F.activate((S=(f=this.board)==null?void 0:f.game)==null?void 0:S.getContext()):F.deactivate())}setTranslations(e){this.translations=ol(ol({},this.translations),e),this.createOnNextTick()}connectedCallback(){this.create()}disconnectedCallback(){this.destroy()}getBoard(){const e=this.getAttribute(l._.ObservedAttributes.BoardId);e&&(this.board=document.getElementById(e))}getMoveListId(){return this.getAttribute(l._.ObservedAttributes.MoveListId)||d.th.VML.Plugin.Name}destroy(){var e,a,h,f,S,F,Y;clearTimeout(this.timeout),(a=(e=this.board)==null?void 0:e.game[this.getMoveListId()])==null||a.off({type:d.th.VML.Events.Updated,handler:this.queue.flush}),this.plugin&&((S=(h=this.board)==null?void 0:h.game)==null||S.plugins.remove((f=this.plugin)==null?void 0:f.name),this.plugin=null),this.moveList={},(Y=(F=this.board)==null?void 0:F.removeEventListener)==null||Y.call(F,l._.Events.BoardInitialized,this.boardInitializedHandler)}createOnNextTick(){clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{this.create()})}create(){var e,a,h,f,S,F;if(this.destroy(),this.getBoard(),!((e=this.board)!=null&&e.game)){(h=(a=this.board)==null?void 0:a.addEventListener)==null||h.call(a,l._.Events.BoardInitialized,this.boardInitializedHandler);return}(S=(f=this.board).removeEventListener)==null||S.call(f,l._.Events.BoardInitialized,this.boardInitializedHandler);const Y=this.getAttribute(l._.ObservedAttributes.TimestampMethod)!=="withoutBaseTime",be=Y,We=this.getAttribute(l._.ObservedAttributes.IsActive),nt=this.getAttribute(l._.ObservedAttributes.ScrollContainerId),zt=nt&&document.getElementById(nt)||void 0,ot=Boolean(this.getAttribute(l._.ObservedAttributes.ResultNodeIsSelectable)),Bt=this.hasAttribute(l._.ObservedAttributes.ToggleTimestamps),St=this.hasAttribute(l._.ObservedAttributes.ColorsEnabled);this.board.game.plugins.has("time-control")||this.board.game.plugins.add((0,d.Xe)());const Gt={colorsEnabled:St,displayTimeInClockFormat:be,getTimeControl:this.board.game.timeControl.get,el:this,loadLineOnCreate:We!=="false",namespace:this.getMoveListId(),resultNodeIsSelectable:ot,scrollContainer:zt,timestampsWithBaseTime:Y,toggleTimestamps:Bt,translations:this.translations};this.plugin=(0,d.h6)(Gt),this.board.game.plugins.add(this.plugin),this.setMoveList(),We&&this.toggleIsActive(We),(F=this.board)==null||F.game[this.getMoveListId()].on(d.th.VML.Events.Updated,this.queue.flush)}}var cb=Object.defineProperty,db=(t,e,a)=>e in t?cb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,oa=(t,e,a)=>(db(t,typeof e!="symbol"?e+"":e,a),a);class ub extends sa.H{constructor(){super(...arguments),oa(this,"plugin",null),oa(this,"moveList",{}),oa(this,"queue",(0,nl.j)()),oa(this,"translations",aa)}static get observedAttributes(){return[l._.ObservedAttributes.BoardId,l._.ObservedAttributes.IsActive,l._.ObservedAttributes.MoveListId,l._.ObservedAttributes.ScrollContainerId,l._.ObservedAttributes.TimestampMethod]}getMoveListId(){return this.getAttribute(l._.ObservedAttributes.MoveListId)||d.th.VML.Plugin.Name}async setMoveList(){var e,a;const h=(a=(e=this.board)==null?void 0:e.game)==null?void 0:a[this.getMoveListId()];Object.assign(this.moveList,h);const f=await h?.getMoveList();Object.assign(this.moveList,f)}toggleIsActive(e="true"){var a,h,f,S;const F=(h=(a=this.board)==null?void 0:a.game)==null?void 0:h[this.getMoveListId()];!F||(e==="true"?F.activate((S=(f=this.board)==null?void 0:f.game)==null?void 0:S.getContext()):F.deactivate())}connectedCallback(){this.create()}attributeChangedCallback(e,a,h){e===l._.ObservedAttributes.IsActive?this.toggleIsActive(h):this.createOnNextTick()}boardReady(){var e,a,h,f;const S=this.getAttribute(l._.ObservedAttributes.TimestampMethod)!=="withoutBaseTime",F=this.getAttribute(l._.ObservedAttributes.IsActive),Y=this.getAttribute(l._.ObservedAttributes.ScrollContainerId);(e=this.board)!=null&&e.game.plugins.has("time-control")||(a=this.board)==null||a.game.plugins.add((0,d.Xe)()),this.plugin=(0,d.h6)({colorsEnabled:this.hasAttribute(l._.ObservedAttributes.ColorsEnabled),displayTimeInClockFormat:S,el:this,loadLineOnCreate:F!=="false",namespace:this.getMoveListId(),resultNodeIsSelectable:Boolean(this.getAttribute(l._.ObservedAttributes.ResultNodeIsSelectable)),scrollContainer:Y&&document.getElementById(Y)||void 0,timestampsWithBaseTime:S,toggleTimestamps:this.hasAttribute(l._.ObservedAttributes.ToggleTimestamps),translations:aa}),(h=this.board)==null||h.game.plugins.add(this.plugin),this.setMoveList(),F&&this.toggleIsActive(F),(f=this.board)==null||f.game[this.getMoveListId()].on(d.th.VML.Events.Updated,this.queue.flush)}componentDestroy(){var e,a,h,f,S;(h=(e=this.board)==null?void 0:e.game)==null||h.plugins.remove((a=this.plugin)==null?void 0:a.name),this.plugin=null,this.moveList={},(S=(f=this.board)==null?void 0:f.game[this.getMoveListId()])==null||S.off({type:d.th.VML.Events.Updated,handler:this.queue.flush})}}const hb=(0,Jn.F)("refactored_vml_web_component")?ub:lb;var pb={"eco-opening":G_,"evaluation-bar":V_.f,"evaluation-lines":eb,"horizontal-move-list":ab,"vertical-move-list":hb},rl=n(2787),mb=n(832);const _b=(0,c.ko)({state:[vi.o],context:mb.k})({getGameUrl:()=>null,getGamePgn:()=>(0,he.g)().game.getPGN()});var bb=n(234),gb=n(3096),il=n(454),ll=n(6830),ra=n(8481);const cl=3e4,fb=3e3;function vb(){ra.e.changePath("trigger-test"),setTimeout(To,cl)}function To(){var t,e;(e=(t=ll.Q).shouldNotRefreshAds)!=null&&e.call(t)?setTimeout(To,fb):(ra.e.triggerRefresh(),setTimeout(To,cl))}var dl=n(7483);const wb=(0,c.eI)({init(){window.addEventListener("load",this.onWindowLoad)},onWindowLoad(){if(window.Cypress)return;window.chesscom.features.includes("ads_playwire_ramp")?Object.assign(ra.e,{passiveMode:!0,que:[],onReady:()=>{ra.e.setPath("play"),(0,il.$)(),window.chesscom.features.includes("play_ads_trigger_refresh")&&vb()}}):Object.assign(dl.L,{mode:"tyche",config:"https://config.playwire.com/1024308/v2/websites/72720/banner.json",passiveMode:!0,onReady:()=>{dl.L.setPath("play"),(0,il.$)()}});const t=document.createElement("script");Object.assign(t,{id:"tyche",src:window.chesscom.features.includes("ads_playwire_ramp")?(0,gb.g)():(0,bb.m)(),async:!0,type:"text/javascript"}),document.body.appendChild(t)}});var yb=function(){var e=this,a=e._self._c,h=e._self._setupProxy;return e.isAdsEnabled?a("div",{staticClass:"sidebar-ad"},[a("div",{attrs:{id:e.slotId}}),e._v(" "),a("a",{attrs:{"data-cy":e.$cy.ads.sidebar.upgradeLink,href:e.upgradeUrl,target:"_blank"},domProps:{textContent:e._s(e.$trans("Remove Ads"))}})]):e._e()},kb=[],Eb=n(3714);function Ob(t){(0,Eb.y)(qo.I.BodyClass.Ad,t)}var Cb=n(4474),Pb=(0,w.aZ)({el:"#sidebar-ad",name:"SidebarAdController",computed:{slotId(){return Cb.E.sidebar.selectorId},upgradeUrl(){return I.Z.generate("web_membership",{c:"no_ads"})},isAdsEnabled(){return(0,rl.M)()}},watch:{isAdsEnabled:{immediate:!0,handler(t){Ob(t)}}}}),xb=Pb,Ab=(0,Ge.Z)(xb,yb,kb,!1,null,null,null),Mb=Ab.exports;const Sb=(0,c.ko)({clients:[wb],controllers:[Mb],context:ll.Q})({});var Tb=n(4657),Ib=n(5705);async function Lb(){let t;try{t=await(0,Tb.R)()}catch(e){console.error(e)}t&&(Object.assign(b.q.boardOptions,t),Ib.n.setBoardOptions(b.q.boardOptions)),k.f.getActiveChessboardId&&((0,q.x)().forEach(e=>{e.game.setOptions(b.q.boardOptions)}),(0,$.q)())}function jb(){var t,e,a,h;return Boolean(((e=(t=window.context)==null?void 0:t.user)==null?void 0:e.username)&&((h=(a=k.f).shouldLoadBoardOptions)==null?void 0:h.call(a)))}const Nb=(0,c.eI)({init(){return jb()?Lb():Promise.resolve()}}),ul={CHESSBOARD_BETA:"chessboard_beta",CHESSBOARD_EFFECTS_SYNC:"chessboard_annotations_effects_sync",CHESSBOARD_RECORDER_PLUGIN:"chessboard_recorder_plugin",FRIENDS_PAGE_PRODUCT:"friends_page_product",HOME_SETTINGS_ADD_LEAGUES:"home_settings_add_leagues",HOME_RE_ADD_OLD_FEATURES:"home_re_add_old_features",IS_LIVE:"isLive",LEAGUES_PRODUCT:"leagues_product",UPGRADE_MODAL_COURSE_COMPLETION:"lessons_upgrade_modal_course_completion",WDL_EVAL_BAR_OPTION:"wdl_eval_bar_option"},Bb=["boardStyle","coordinates","darkMode","highlightLegalMoves","moveListDisplayType","moveMethod","pieceStyle","real3D","autoPromote","autoClaimDraw","disableUserMarkings","enabled","id","legalPositionCheck","soundTheme","animationType"],hl=(()=>{const t={};return({api:e,options:a})=>{if(!e.getVersion)return;const h=e.getVersion();t[h]||console.log("CHESSBOARD VERSION:",h),t[h]=Bb.reduce((f,S)=>(f[S]=a[S],f),{}),window.context.chessboardOptionsByVersion=t}})();var Rb={name:"ChessboardOptionsUserSnapPlugin",create:hl,match:[{condition:t=>t.type===d.QY.OptionsEvents.Update,handler:(t,e)=>hl(e)}]},Db=n(8791),zb=n(198),Ub=n(4208),$b={name:"RendererSetFailedFallbackPlugin",match:[{condition:t=>t.type===d.QY.InstanceEvents.RendererSetFailed,handler:(0,Ub.Z)(()=>{(0,Db.W)(!1),zb.Z.add({content:(0,Pe.dW)('WebGL is not supported by your browser, so some of your Piece or Animation Type <a href="/settings/board" target="_blank">settings</a> are ignored.'),icon:"circle-x",duration:12e3})},12500,{trailing:!1})}]},Fb=n(780),Wb=Object.defineProperty,Zb=Object.defineProperties,Hb=Object.getOwnPropertyDescriptors,pl=Object.getOwnPropertySymbols,Gb=Object.prototype.hasOwnProperty,Vb=Object.prototype.propertyIsEnumerable,Io=(t,e,a)=>e in t?Wb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Kb=(t,e)=>{for(var a in e||(e={}))Gb.call(e,a)&&Io(t,a,e[a]);if(pl)for(var a of pl(e))Vb.call(e,a)&&Io(t,a,e[a]);return t},qb=(t,e)=>Zb(t,Hb(e)),Qb=(t,e,a)=>(Io(t,typeof e!="symbol"?e+"":e,a),a);let Lo;class Yb extends HTMLElement{constructor(){super(...arguments),Qb(this,"game")}createGame(e){const a=[...e.plugins||[],$b];this.game=(0,d.dz)(qb(Kb({},e),{plugins:a})),this.game.on("CheatDetectionError",h=>{(0,Fb.T)(h.type,h.data)}),this.game.plugins.add(Rb),(0,Jn.F)(ul.CHESSBOARD_EFFECTS_SYNC)||(this.game.plugins.remove("effectsHMLSync"),this.game.onMany([d.QY.InstanceEvents.Create,d.QY.InstanceEvents.ModeChanged],()=>this.game.plugins.remove("effectsHMLSync"))),(0,Jn.F)(ul.CHESSBOARD_RECORDER_PLUGIN)&&this.game.plugins.add((0,d.KW)()),this.dispatchEvent(new CustomEvent(l._.Events.BoardInitialized,{detail:this.game.getOptions().id}))}init({boardStyles:e,createRenderer:a,emitter:h,init:f,mode:S,options:F,plugins:Y,pieceStyles:be}){this.innerHTML="";const We=Object.assign((0,d.jw)(),F,{test:Boolean(window.Cypress)}),nt=this;return this.createGame({el:nt,emitter:h,init:f,mode:S,options:We,plugins:Jb(Y),renderer:a?.({boardStyles:e,el:nt,options:We,pieceStyles:be})}),this.game}get options(){var e;return(e=this.game)==null?void 0:e.getOptions()}connectedCallback(){this.dispatchEvent(new CustomEvent(l._.Events.BoardAttached))}disconnectedCallback(){this.dispatchEvent(new CustomEvent(l._.Events.BoardDetached))}}function Jb(t=[]){const e=(0,d.n8)((0,d.NQ)(),t);return Lo||(Lo=(0,d.q4)()),[...e.filter(a=>a.name!==d.th.Sounds.Plugin.Name),Lo]}var Xb={"chess-board":Yb};const eg=(0,c.ko)({clients:[Nb],context:k.f,elements:Xb,state:[b.q.boardOptions]});function tg(){return st}function sg(){return[(0,d.a2)(xo)]}const ng=eg({getActiveChessboardId:tg,getDefaultChessboardPlugins:sg,shouldLoadBoardOptions:()=>!window.location.pathname.includes("3d-chess")}),ag={settings:(0,Kt.Gw)()},og=(0,c.ko)({state:[ag],context:un.a});function rg(){return me.q.loaded&&(0,Lt.T)().evaluationBar}const ig={getActiveChessboard:G.g,getActiveChessboardElementId:fr,isEvaluationBarVisible:rg},lg=og(ig),cg=(0,c.eI)({init(){const{game:t}=B.getActiveChessboard();ye.q.on(Ht.x.Events.SetThinking,({isThinking:e})=>{Dt.isThinking=e}),ye.q.on(Ht.x.Events.SetAnalysis,({analysis:e})=>{var a;Dt.analysis=e,Dt.selectedPly=(a=t.getSelectedNode())==null?void 0:a.ply}),t.onMany(d.jd,async e=>{var a,h;const f=v(B.getActiveChessboard().game);!f||(await ye.q.getMoveFeedback(f),t.isGameOver()&&e.type===d.QY.APIEvents.Move&&e.data.result&&((h=(a=B).onFinalMoveFeedback)==null||h.call(a)))})}}),dg=(0,c.ko)({clients:[cg],state:[Dt],context:B});async function ug(t){await Po();const e=Xn();!e||window.open(I.Z.generate("web_analysis_ceac",{tab:t,type:"computer",gameId:e}))}const hg={getActiveChessboard:he.g,openInAnalysis:ug,quickAnalysisState:Hs,onFinalMoveFeedback:()=>{Zt.r.emit(Zt.f.FinalMoveFeedbackCompleted)}},pg=dg(hg);var mg=n(5406);const ia=(0,c.kr)();var _g=function(){var e=this,a=e._self._c,h=e._self._setupProxy;return e.isVisible&&e.shareMenuData?a("share-menu",e._b({ref:"modal",attrs:{"board-settings":e.boardStyles,"is-logged-in":e.isLoggedIn},on:{hide:e.onClose,mounted:e.onShareMenuMounted}},"share-menu",e.shareMenuData,!1)):e._e()},bg=[];function gg(){ps.options=yi,ps.isVisible=!1}function fg(){return ia.getActiveChessboard()}function vg(){return ps.options}function wg(){return ps.isVisible}var ml=n(9901),yg=Object.create,jo=Object.defineProperty,kg=Object.defineProperties,Eg=Object.getOwnPropertyDescriptor,Og=Object.getOwnPropertyDescriptors,Cg=Object.getOwnPropertyNames,_l=Object.getOwnPropertySymbols,Pg=Object.getPrototypeOf,bl=Object.prototype.hasOwnProperty,xg=Object.prototype.propertyIsEnumerable,gl=(t,e,a)=>e in t?jo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Ag=(t,e)=>{for(var a in e||(e={}))bl.call(e,a)&&gl(t,a,e[a]);if(_l)for(var a of _l(e))xg.call(e,a)&&gl(t,a,e[a]);return t},Mg=(t,e)=>kg(t,Og(e)),Sg=(t,e,a,h)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of Cg(e))!bl.call(t,f)&&f!==a&&jo(t,f,{get:()=>e[f],enumerable:!(h=Eg(e,f))||h.enumerable});return t},fv=(t,e,a)=>(a=t!=null?yg(Pg(t)):{},Sg(e||!t||!t.__esModule?jo(a,"default",{value:t,enumerable:!0}):a,t)),Tg=(0,w.aZ)({el:"#share-modal",name:"ShareModalController",components:{ShareMenu:()=>n.e(129).then(n.bind(n,8129))},setup(){return{checkboxModel:ml._$}},data(){return{shareMenuData:null}},computed:{isVisible(){return wg()},boardStyles(){return ia.getBoardStyles()},isLoggedIn(){var t,e;return Boolean((e=(t=window.context)==null?void 0:t.user)==null?void 0:e.id)}},watch:{isVisible(){this.isVisible&&this.loadBoardData()},checkboxModel:{deep:!0,handler(){this.loadBoardData()}}},methods:{onClose(){gg()},onShareMenuMounted(t){t()},async loadBoardData(){await ia.loadBoardStyles();const t=fg(),e=t.game.getOptions(),a=vg();this.shareMenuData=Mg(Ag({},a),{initialActiveTab:a.initialTab,tcn:t.game.getTCN(),fen:t.game.getFEN(),pgn:t.game.getPGN((0,ml.nj)(this.checkboxModel)),pgnHeaders:t.game.getHeaders(),hasTimestamps:!0,variant:t.game.getVariant(),boardOptions:{coordinates:e.coordinates,boardStyle:e.boardStyle,pieceStyle:e.pieceStyle,flipBoard:e.flipped}})}}}),Ig=Tg,Lg=(0,Ge.Z)(Ig,_g,bg,!1,null,null,null),jg=Lg.exports;const Ng=(0,c.ko)({state:[ps],context:ia,controllers:[jg]}),Bg={getActiveChessboard:he.g,getBoardStyles:mg.X,loadBoardStyles:Yo},Rg=Ng(Bg),fl="suggestionsMarkings",Dg={ANALYZE_GAME_ACTION:"gameAnalysis",BOARD_INITIALIZED:"boardInitialized",CLASSIFICATION_ICON_SIZE:12,CONSTRAINED_HEIGHT_THRESHOLD:750,DEFAULT_ARROW_COLOR:"rgba(150, 190, 70, 0.95)",DEFAULT_ARROW_COLOR_IN_HEX:"#96be46",MAX_ANALYSIS_GAME_ACTION:"maxAnalysis",MIN_PLY_TO_RUN_ANALYSIS:1,SQUARE_OPACITY_COLORED:.8,SQUARE_OPACITY_DEFAULT:.5,TOGGLE_ICON_OFF:"eye-off",TOGGLE_ICON_ON:"eye",UPGRADE_ICON:"display-slider",RETRY_MINIMUM:3,SECONDS_IN_DAY:86400,SECONDS_BEFORE_SENTRY_LOG:15,DEEP_ANALYSIS_DEPTH:22,STAGING_SHADOW_REQUEST_URL:"https://analysis-staging.chess.com",Q_SHADOW_REQUEST_URL:"https://analysis101.chess.com"};var No;(t=>{let e;(h=>{h.Black="#312e2b",h.White="#ffffff"})(e=t.Colors||(t.Colors={}));let a;(h=>{h.Default="0.7",h.Hovered="0.95"})(a=t.ArrowOpacities||(t.ArrowOpacities={}))})(No||(No={}));function zg(t){return{from:t.substring(0,2),to:t.substring(2,4)}}var Ug=Object.defineProperty,vl=Object.getOwnPropertySymbols,$g=Object.prototype.hasOwnProperty,Fg=Object.prototype.propertyIsEnumerable,wl=(t,e,a)=>e in t?Ug(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Wg=(t,e)=>{for(var a in e||(e={}))$g.call(e,a)&&wl(t,a,e[a]);if(vl)for(var a of vl(e))Fg.call(e,a)&&wl(t,a,e[a]);return t};function Zg(t){return Wg({color:Dg.DEFAULT_ARROW_COLOR_IN_HEX,opacity:Number(No.ArrowOpacities.Default)},zg(t))}function Hg({mark:t,unmarkAll:e}){return{clear:a,update:h};function a(){e()}function h(f){return a(),f.forEach(S=>{var F;const Y=(F=S?.pv)==null?void 0:F[0];t({data:Zg(Y),type:"arrow",key:Y,tags:[fl]})})}}const yl=(0,c.kr)(),Gg=(0,c.eI)({init(){const{game:t}=yl.getActiveChessboard(),e=t.markings.addOne,a=t.markings.removeOne,f=Hg({mark:e,unmark:a,unmarkAll:()=>t.markings.removeAllWhere({types:["arrow"],tags:[fl]})});ct.H.on("evaluation.update",()=>{Rs.isActive&&t.getPlayingAs()===t.getTurn()&&!t.isGameOver()?f.update((0,wt.y0)().lines):f.clear()}),ct.H.off({type:"evaluation.update",handler:()=>f.clear()})}}),Vg=(0,c.ko)({clients:[Gg],state:[Rs],context:yl}),Kg={getActiveChessboard:he.g},qg=Vg(Kg);var kl=n(8725),El=n(6262),Qg=n(5545),Yg=Object.create,Ol=Object.defineProperty,Jg=Object.getOwnPropertyDescriptor,Xg=Object.getOwnPropertyNames,ef=Object.getPrototypeOf,tf=Object.prototype.hasOwnProperty,sf=(t,e,a,h)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of Xg(e))!tf.call(t,f)&&f!==a&&Ol(t,f,{get:()=>e[f],enumerable:!(h=Jg(e,f))||h.enumerable});return t},vv=(t,e,a)=>(a=t!=null?Yg(ef(t)):{},sf(e||!t||!t.__esModule?Ol(a,"default",{value:t,enumerable:!0}):a,t));const nf=(0,c.eI)({init(){Qg.Z.get(El.J.getStorageKey())||n.e(163).then(n.bind(n,7163)).then(t=>{(0,c.DP)([t.default])})}}),af=(0,c.ko)({context:El.J,clients:[nf]});var of=function(){var e=this,a=e._self._c;return a("img",{class:e.$style.image,attrs:{height:"70",src:"/bundles/web/images/color-icons/computer.svg",width:"70",alt:e.$trans("Chess Computer")}})},rf=[],Cl={image:"modal-seo-computer-icon-image"},lf={};function cf(t){this.$style=Cl.locals||Cl}var df=(0,Ge.Z)(lf,of,rf,!1,cf,null,null),uf=df.exports;const Gs=kl.Fm[kl.s7.COMPUTER],hf=af({getStorageKey:()=>Gs.storageKey,getContent:()=>({icon:uf,title:Gs.title,subtitleBottom:Gs.subtitle,bullets:Gs.bullets,buttonText:Gs.buttonText})}),Pl=[_b,ng,lg,pg,Rg,qg,hf];(0,rl.M)()&&Pl.push(Sb);var pf=Pl,mf=[P,ea.x,V.w,ue.e,me.q,oe.d,On,qt,Ft.L,Vt,Hs,Xo.D];function _f(){(0,c.QB)({elements:pb,controllers:L_,clients:Zl,state:mf,extensions:pf})}function bf(t){return t.version}function xl(){return bf(n(4303))}function gf(){return{appVersion:xl(),assistanceSettings:(0,Lt.T)(),pgn:(0,he.g)().game.getPGN()}}_f(),window.chesscom.vsPersonalities.getUsersnapData=gf;const Bo=xl(),Ro=o();window.context.vsPersonalities={version:Bo,chessboardVersion:Ro},window.context.appVersion=Bo,window.context.chessboardVersion=Ro,console.log(`Version: ${Bo} / ${Ro}`)},344:function(C,_,n){n.d(_,{Z:function(){return c}});var i=n(7104),r=n(340),o=n(5221);function c(){var d,p,m,g,k;const b=o.y.flipped?"playerBottom":"playerTop";Object.assign(o.y[b],{username:(d=r.w.selectedBot)==null?void 0:d.name,avatarUrl:(p=r.w.selectedBot)==null?void 0:p.image_url,countryId:(m=r.w.selectedBot)==null?void 0:m.country_code,countryName:(g=r.w.selectedBot)==null?void 0:g.country_name,rating:(k=r.w.selectedBot)==null?void 0:k.rating,membershipLevel:0,color:i.lA.ColorsAsNumbers.Black})}},7296:function(C,_,n){n.d(_,{A:function(){return Xt}});var i=n(2586),r=n(9406);function o(ee,X){return new Promise((xe,Ze)=>{(0,i.m)().send("fetch coachchat",Qe=>{var es;if(!Qe)return;if(Qe.error)return Ze(new Error(`Error: ${Qe.error}`));const Ut=(es=Qe.sentences)!=null&&es.length?Qe.sentences.map(H=>H.sentence[0]).join(" "):null;(0,r.z)({label:"\u{1F5E3} Coach chat",message:Ut}),Ut&&X&&X(Ut),xe({text:Ut,ply:typeof ee=="number"?ee:-1})})})}function c(ee){return new Promise((X,xe)=>{(0,i.m)().send("fetch chat",({label:Ze,error:Qe})=>{Qe&&xe(Qe),X({text:Ze,ply:typeof ee=="number"?ee:-1})})})}var d=n(1105),p=n(340),m=n(3765),g=n(5535),k=n(6566),b=n(2046),l=n(5251);async function y(){!(0,l.T)().botChat||(await(0,m.D)(b.I.botChat.greetingDelay),(0,i.m)().isready(async()=>{const ee=(await(0,g.i)().getChatMessage(-1)).text||"";(0,k.k)(ee)}))}async function w(){await(0,m.D)(b.I.botChat.greetingDelay),(0,k.k)(d.e.Model.PhraseKeys.Greeting)}function E(){(0,i.m)().send("d",()=>null,ee=>{console.log(ee)})}async function M(ee){return new Promise(X=>{const xe=`${ee.from}${ee.to}`,Ze=ee.promotion||"",Qe=(0,i.m)();Qe.isready(()=>{Qe.send(`push ${xe}${Ze}`),window.location.search.includes("logCEEGameEvents")&&E(),X()})})}var N=n(7104),O=n(7987),x=n(8314),A=n(2600),U=n(6296);function T(ee){const X=(0,U.U)(A.u.CachedGame.Key);if(X?.history||(X.history={botChat:{}}),(0,x.g)().state.isGameOver)return;const Ze=(0,x.g)().game.getCurrentFullLine().length-1;Ze!==-1&&(X.history.botChat[Ze]=ee,(0,O.e)(X))}function D(ee){if(!(0,l.T)().botChat||(0,x.g)().state.mode===N.nl.Types.Analysis)return;const X=(0,x.g)().game.getCurrentFullLine().length-1;ee?.ply===X?(T(ee.text),(0,k.k)(ee.text)):T(null)}var Z=n(9265),ne=n(9038),J=n(3746),$=n(4701);function G(){(0,x.g)().game.markings.removeAllWhere({tags:[$.x]})}var q=n(3920);function pe(){return new Promise(ee=>{(0,i.m)().send("fetch threats",(X=[])=>{ee(X)})})}var le=Object.defineProperty,K=Object.defineProperties,fe=Object.getOwnPropertyDescriptors,De=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,P=(ee,X,xe)=>X in ee?le(ee,X,{enumerable:!0,configurable:!0,writable:!0,value:xe}):ee[X]=xe,z=(ee,X)=>{for(var xe in X||(X={}))He.call(X,xe)&&P(ee,xe,X[xe]);if(De)for(var xe of De(X))L.call(X,xe)&&P(ee,xe,X[xe]);return ee},se=(ee,X)=>K(ee,fe(X));function V(ee,X){ee.history.threats=se(z({},ee.history.threats||{}),{[(0,x.g)().game.getFEN()]:X}),(0,O.e)(ee)}async function ge(){if(!(0,l.T)().threats)return;(0,x.g)().game.markings.removeAllWhere({tags:[$.x]});const ee=await pe(),X=(0,U.U)(A.u.CachedGame.Key);if(!ee?.length&&X?.history){V(X,null);return}const xe=ee.reduce((Ze,Qe)=>(Ze.push({data:z({from:Qe.bestMove.slice(0,2),to:Qe.bestMove.slice(2,4)},q.D),tags:[$.x],type:"arrow"}),Ze),[]);V(X,ee.map(Ze=>Ze.bestMove)),(0,x.g)().game.markings.addMany(xe)}var ue=n(8543);async function Ae(ee){ee===(0,ue.y)()?G():await ge()}async function Ne(ee){await(0,J.v)(),await Ae(ee)}const Ke=([ee,X])=>Math.random()*(X-ee)+ee;var ve=Object.defineProperty,st=Object.defineProperties,he=Object.getOwnPropertyDescriptors,qe=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,te=(ee,X,xe)=>X in ee?ve(ee,X,{enumerable:!0,configurable:!0,writable:!0,value:xe}):ee[X]=xe,ce=(ee,X)=>{for(var xe in X||(X={}))me.call(X,xe)&&te(ee,xe,X[xe]);if(qe)for(var xe of qe(X))j.call(X,xe)&&te(ee,xe,X[xe]);return ee},R=(ee,X)=>st(ee,he(X));function I(ee){const X=Ke(ee);return(0,r.z)({label:"\u{1F570} Waiting for random time",message:X}),X}const{vsCoach:W,vsNonCoach:re}=oe();function oe(){return window.chesscom.vsPersonalities.botChatDelays}function ze(ee){return Object.entries(ee).reduce((X,[xe,Ze])=>R(ce({},X),{[xe]:()=>I(Ze)}),{})}const _e={betweenCachedGameLoadingAndComputerMoving:1e3,vsCoach:ze(W),vsNonCoach:ze(re)};var Me=n(5291),Fe=n(140);const Ie=ee=>new Promise(async X=>{await M(ee),await Ne(ee.color),X((0,l.T)().botChat?await(0,g.i)().getChatMessage(ee.moveNumber):null)}),ht=ee=>new Promise(async X=>{(0,l.T)().botChat&&await(0,m.D)(ee),X(null)});async function pt({data:ee}){if(ee.move.userGenerated){(0,Z.k)();const[X]=await Promise.all([Ie(ee.move),ht(_e.vsCoach.betweenUserMakesMoveAndBotSendsMessage())]);D(X),Fe.r.once(Fe.f.CoachCommentedAfterUserMoved,async()=>{const[xe]=await Promise.all([await(0,Me.R)(),await(0,m.D)(_e.vsCoach.betweenBotSendsMessageAndMakesMove())]);await(0,ne._)(xe)}),X?.text||Fe.r.emit(Fe.f.CoachCommentedAfterUserMoved)}else{const[X]=await Promise.all([Ie(ee.move),ht(_e.vsCoach.betweenBotMakesMoveAndSendsMessage())]);D(X)}}const gt=ee=>new Promise(async X=>{await M(ee),await Ne(ee.color),X((0,l.T)().botChat?await(0,g.i)().getChatMessage(ee.moveNumber):null)}),ut=()=>new Promise(async ee=>{(0,l.T)().botChat&&await(0,m.D)(_e.vsNonCoach.betweenUserMakesMoveAndBotSendsMessage()),ee(null)});async function at({data:ee}){if(ee.move.userGenerated){(0,Z.k)();const[X]=await Promise.all([gt(ee.move),ut()]);D(X);const[xe]=await Promise.all([await(0,Me.R)(),await(0,m.D)(_e.vsNonCoach.betweenBotSendsMessageAndMakesMove())]);await(0,ne._)(xe)}else{const X=await gt(ee.move);if(!(0,l.T)().botChat)return;await(0,m.D)(_e.vsNonCoach.betweenBotMakesMoveAndSendsMessage()),D(X)}}var Et=Object.create,Tt=Object.defineProperty,mt=Object.getOwnPropertyDescriptor,lt=Object.getOwnPropertyNames,et=Object.getPrototypeOf,_t=Object.prototype.hasOwnProperty,ft=(ee,X,xe,Ze)=>{if(X&&typeof X=="object"||typeof X=="function")for(let Qe of lt(X))!_t.call(ee,Qe)&&Qe!==xe&&Tt(ee,Qe,{get:()=>X[Qe],enumerable:!(Ze=mt(X,Qe))||Ze.enumerable});return ee},Ot=(ee,X,xe)=>(xe=ee!=null?Et(et(ee)):{},ft(X||!ee||!ee.__esModule?Tt(xe,"default",{value:ee,enumerable:!0}):xe,ee));function Xt(ee){p.w.selectedBot=ee;const X=ee.classification===d.e.Classifications.Coach;p.w.selectedBot.getChatMessage=X?xe=>o(xe,async Ze=>{if(window.chesscom.features.includes("vs_personalities_speech_synthesis")){const{botSpeechSynthesis:Qe}=await n.e(583).then(n.bind(n,3583));await Qe.speak(Ze),Fe.r.emit(Fe.f.CoachCommentedAfterUserMoved)}}):c,p.w.selectedBot.greet=X?y:w,p.w.selectedBot.handleMove=X?pt:at}},7589:function(C,_,n){n.d(_,{l:function(){return c}});var i=n(1105);function r(d){return d.komodo_skill?d.komodo_skill:d.komodo_skill_level}var o=n(340);function c(){var d;return((d=o.w.selectedBot)==null?void 0:d.classification)===i.e.Classifications.Engine?o.w.selectedBot:o.w.botData.filter(p=>p.classification===i.e.Classifications.Engine).reduce((p,m)=>r(p)<=r(m)?p:m,{})}},7677:function(C,_,n){n.d(_,{u:function(){return r}});var i=n(340);function r(){let o="";return i.w.botData.forEach(c=>{c.description.length>o.length&&(o=c.description)}),o}},5535:function(C,_,n){n.d(_,{i:function(){return r}});var i=n(340);function r(){return i.w.selectedBot}},8727:function(C,_,n){n.d(_,{p:function(){return o}});var i=n(2306),r=n(340);function o(c){const d=c??r.w.selectedBot,p=d?.is_premium;return(0,i.I5)()||!p}},340:function(C,_,n){n.d(_,{w:function(){return i}});const i={botData:[],selectedBot:null,defaultEngineBot:null,longestDescription:""}},3746:function(C,_,n){n.d(_,{v:function(){return y}});var i=n(2586);function r(){return new Promise(w=>{(0,i.m)().send("fetch state",w)})}var o=n(7987),c=n(2308),d=n(8314),p=Object.defineProperty,m=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,b=(w,E,M)=>E in w?p(w,E,{enumerable:!0,configurable:!0,writable:!0,value:M}):w[E]=M,l=(w,E)=>{for(var M in E||(E={}))g.call(E,M)&&b(w,M,E[M]);if(m)for(var M of m(E))k.call(E,M)&&b(w,M,E[M]);return w};async function y(){var w;const{game:E}=(0,d.g)(),M=await r(),N=l({variant:E.getVariant(),pgn:E.getPGN()},((w=Object.keys(M))==null?void 0:w.length)&&{ceeState:M});c.e.pgn=E.getPGN(),(0,o.e)(N)}},7987:function(C,_,n){n.d(_,{e:function(){return c}});var i=n(2600),r=n(6296),o=n(584);function c(d){var p;const m=Object.assign((p=(0,r.U)(i.u.CachedGame.Key))!=null?p:{},d);(0,o.t)(i.u.CachedGame.Key,m)}},4257:function(C,_,n){n.d(_,{q:function(){return r}});var i=n(7987);function r(){(0,i.e)({history:{botChat:{},fens:[],threats:{}}})}},2308:function(C,_,n){n.d(_,{e:function(){return p}});var i=n(7104),r=n(2600),o=n(6296),c;const d={color:i.lA.ColorsAsNumbers.White,pgn:"",takebackCount:0,hintedMessageFENs:[],hintedMoveFENs:[],variant:i.lA.Variants.Chess,ceeState:{}},p=(c=Object.assign(d,(0,o.U)(r.u.CachedGame.Key)))!=null?c:d},2758:function(C,_,n){n.d(_,{t:function(){return o}});var i=n(8314),r=n(8753);function o(){const{state:{startingFen:c},game:d}=(0,i.g)();d.load({fen:c,variant:(0,r.A)()})}},2634:function(C,_,n){n.d(_,{h:function(){return m}});var i=n(7104),r=n(149),o=n(8314),c;(g=>{let k;(b=>{let l;(y=>{y.Draw="stalemate",y.Lose="lose",y.Win="win"})(l=b.GameResultTypes||(b.GameResultTypes={}))})(k=g.Model||(g.Model={}))})(c||(c={}));var d=n(4922);function p(){const{game:g}=(0,o.g)(),k=g.getResult();return(0,r.z)({color:d.L.playingAs,result:k})?c.Model.GameResultTypes.Win:(0,r.z)({color:(0,i.SH)(d.L.playingAs),result:k})?c.Model.GameResultTypes.Lose:c.Model.GameResultTypes.Draw}function m(){return p()===c.Model.GameResultTypes.Win}},8314:function(C,_,n){n.d(_,{g:function(){return d}});var i=n(5316),r=n(5917);function o(p){return r.q.chessboards[`${p}`]}function c(){const p=i.f.getActiveChessboardId();if(!p)throw new Error("No active chessboard");return o(p)}function d(){return c()}},7969:function(C,_,n){n.d(_,{y:function(){return o}});var i=n(7104),r=n(8314);function o(){const{game:c}=(0,r.g)();return c.getTurn()===(0,i.SH)(c.getPlayingAs())}},6128:function(C,_,n){n.d(_,{q:function(){return i}});const i={loaded:!1,isFlippedUsingControls:!1}},3439:function(C,_,n){n.d(_,{T:function(){return i}});var i;(r=>{r.MAX_ALLOWED_HINTS=3,r.MAX_ALLOWED_TAKEBACKS=3;let o;(c=>{c[c.Challenge=3]="Challenge",c[c.Friendly=2]="Friendly",c[c.Assisted=1]="Assisted",c[c.Custom=3]="Custom"})(o=r.Modes||(r.Modes={}))})(i||(i={}))},7555:function(C,_,n){n.d(_,{y:function(){return o}});var i=n(3439),r=n(5251);function o(c=(0,r.T)()){return c.suggestions||c.lines?i.T.Modes.Assisted:c.evaluationBar||c.threats||c.showHint||c.feedback||c.takebacks?i.T.Modes.Friendly:i.T.Modes.Challenge}},2194:function(C,_,n){n.d(_,{H:function(){return r}});var i=n(8698);function r(o){i.d.crownCount=o}},8698:function(C,_,n){n.d(_,{d:function(){return r}});var i=n(3439);const r={crownCount:i.T.Modes.Custom}},6566:function(C,_,n){n.d(_,{k:function(){return p}});var i=n(1105),r=n(5535),o=n(8314),c=n(1081),d=n(5251);function p(m){var g,k,b;if(!m||!(0,d.T)().botChat)return;let l=m;if((0,r.i)().classification!==i.e.Classifications.Coach&&(l=(k=(g=(0,r.i)())==null?void 0:g.phrase_list[m])!=null?k:"",!l))return;const{game:y}=(0,o.g)(),w=(b=y.getLastMove())==null?void 0:b.ids,E=w?.line,M=w?.move;y.updateNode({line:E,move:M},{comment:l}),c.x.messages.push({text:l,ply:(0,o.g)().game.getCurrentFullLine().length})}},9265:function(C,_,n){n.d(_,{k:function(){return o}});var i=n(1081),r=n(5251);function o(){(0,r.T)().botChat&&(i.x.messages=[])}},9038:function(C,_,n){n.d(_,{_:function(){return g}});var i=n(7104),r=n(3527),o=n.n(r),c=n(8314),d=n(7969),p=n(5291),m=n(3043);async function g(k){const{game:b}=(0,c.g)();b.getMode().name!==i.nl.Types.Playing||b.isGameOver()||!(0,d.y)()||!await m.P.modal||b.move((0,r.uciToObj)(k||await(0,p.R)())[0])}},5291:function(C,_,n){n.d(_,{R:function(){return g}});var i=n(2586),r=n(9406),o=n(5953);function c(k){const b=Object.entries(k).map(([l,y])=>`${l==="is25Levels"?"25_levels":l} ${y}`).join(" ");return new Promise(async l=>{const y=await d();if(y?.moveLan)(0,r.z)({label:"\u{1F916} Making BOOK MOVE",message:y.moveLan}),l(y.moveLan);else{const w=await p(b);(0,r.z)({label:"\u{1F916} No book move \u2013 FETCHING BOTMOVE",message:w}),l(w)}})}async function d(){return new Promise(k=>{const b=(0,i.m)();b.isready(()=>{const l=b.getBookMove({fen:(0,o.g)().game.getFEN()});k(l||null)})})}async function p(k){return new Promise(b=>{(0,i.m)().send(`fetch botmove ${k}`,({move:l})=>{b(l)})})}var m=n(340);function g(){const k={adaptive:m.w.selectedBot.is_adapt,is25Levels:!m.w.selectedBot.komodo_skill,personality:m.w.selectedBot.personality.toLowerCase(),skill:m.w.selectedBot.komodo_skill||m.w.selectedBot.komodo_skill_level};return c(k)}},1081:function(C,_,n){n.d(_,{x:function(){return i}});const i={messages:[]}},1913:function(C,_,n){n.d(_,{o:function(){return He}});var i=n(7104),r=n(2586),o=n(6066),c=n(5535),d=n(340),p=n(8314);function m(){return(0,p.g)().game.getLine(0).length===0}var g=n(7555),k=n(2194),b=n(9038),l=n(5411),y=n(2046),w=n(9357),E=n(4609),M=n(4623);function N(){M.B.screen=E.Y.Screens.Play}var O=n(8543),x=n(5221);function A(){x.y.playerBottom.color=(0,O.y)()===i.lA.ColorsAsNumbers.Black?i.lA.ColorsAsNumbers.Black:i.lA.ColorsAsNumbers.White,x.y.playerTop.color=(0,O.y)()===i.lA.ColorsAsNumbers.Black?i.lA.ColorsAsNumbers.White:i.lA.ColorsAsNumbers.Black}var U=n(7672);function T({currentTime:L,color:P}){if((0,p.g)().state.isGameOver)return;const z=[x.y.playerBottom,x.y.playerTop].find(se=>se.color===P);z&&(z.timer=L)}function D(){const{timeControl:L}=x.y;if(!L){(0,U.X)();return}const{game:P}=(0,p.g)();P.clocks.activate(),P?.timeControl.set(L),P.clocks.resetClocks(L),P.clocks[i.lA.ColorsAsNumbers.White].start(),P.clocks[i.lA.ColorsAsNumbers.White].on(i.th.Timer.Events.Tick,T),T({color:i.lA.ColorsAsNumbers.White,currentTime:L?.baseTime}),P.clocks[i.lA.ColorsAsNumbers.Black].on(i.th.Timer.Events.Tick,T),T({color:i.lA.ColorsAsNumbers.Black,currentTime:L?.baseTime})}var Z=n(1926),ne=n(5753);function J(){const L=(0,c.i)(),P=(0,w.A)();!L?.name||!P||ne.Z.logEvent("Vs Computer - Start",{opponent:L.name,mode:P})}var $=Object.create,G=Object.defineProperty,q=Object.getOwnPropertyDescriptor,pe=Object.getOwnPropertyNames,le=Object.getPrototypeOf,K=Object.prototype.hasOwnProperty,fe=(L,P,z,se)=>{if(P&&typeof P=="object"||typeof P=="function")for(let V of pe(P))!K.call(L,V)&&V!==z&&G(L,V,{get:()=>P[V],enumerable:!(se=q(P,V))||se.enumerable});return L},De=(L,P,z)=>(z=L!=null?$(le(L)):{},fe(P||!L||!L.__esModule?G(z,"default",{value:L,enumerable:!0}):z,L));async function He(){var L;if(window.chesscom.features.includes("vs_personalities_speech_synthesis")){const{botSpeechSynthesis:P}=await n.e(583).then(n.bind(n,3583));P.setBotName((0,c.i)().name)}J(),(0,k.H)((0,g.y)()),o.q.cancelAnalysis(),D(),A(),N(),(0,Z.c)({selectedBot:(L=d.w.selectedBot)==null?void 0:L.username,selectedMode:(0,w.A)()}),(0,l.P)(),m()&&(0,p.g)().game.getPlayingAs()===i.lA.ColorsAsNumbers.Black&&(0,r.m)().isready(()=>setTimeout(b._,y.I.computerMoveCourtesyDelay))}},6086:function(C,_,n){n.d(_,{G:function(){return b}});var i=n(7104),r=n(5518),o=n(5535),c=n(4257),d=n(8314),p=n(1913),m=n(4623),g=n(2486),k=n(3391);function b(){(0,c.q)(),m.B.showBotAvatarAnimation=!0;const{game:l}=(0,d.g)();l.getMode().name!==i.nl.Types.Playing&&l.setMode(r.X),(0,p.o)(),(0,g.G)(k.V.GameStart),(0,o.i)().greet()}},5411:function(C,_,n){n.d(_,{P:function(){return k}});var i=n(4700),r=n(5518),o=n(8727),c=n(8314),d=n(7199),p=n(9357);function m(){const b=(0,p.A)();return d.S[b]}function g(){const b=m().options;Object.entries(b).forEach(([l,y])=>{(0,c.g)().game.getMode().setOption(l,y)})}function k(){const{game:b}=(0,c.g)(),l=(0,o.p)()?r.X:i.C;b.setMode(l),g()}},2046:function(C,_,n){n.d(_,{I:function(){return i}});const i={computerMoveCourtesyDelay:1500,botChat:{betweenTypingCharactersDelay:20,pauseCharacterDelay:200,beforeStartWritingDelay:300,greetingDelay:750,nodeChangeDelay:600}}},140:function(C,_,n){n.d(_,{f:function(){return r},r:function(){return o}});var i=n(9807),r=(c=>(c[c.FinalMoveFeedbackCompleted=0]="FinalMoveFeedbackCompleted",c[c.CoachCommentedAfterUserMoved=1]="CoachCommentedAfterUserMoved",c))(r||{});const o=i.x.createQueuedEmitter()},7275:function(C,_,n){n.d(_,{D:function(){return p}});var i=n(7104);function r(){const m=["R","Q","N","B"];let g,k="",b,l;const y={R:2,Q:1,N:2,B:2};let w="";for(let E=0;E<8;E+=1)y.B===1&&(E%2===g?m.pop():m.push("B")),E===6&&y.B===1&&g===1?b=m.length-1:b=Math.floor(Math.random()*m.length),l=m[b],l==="R"&&(w=`${String.fromCharCode(E+65)}${w}`),l==="K"?m[b]="R":(y[l]-=1,y[l]?l==="R"?m[b]="K":l==="B"&&(g=E%2,m.pop()):m.splice(b,1)),k+=l;return`${k.toLowerCase()}/pppppppp/8/8/8/8/PPPPPPPP/${k} w ${w}${w.toLowerCase()} - 0 1`}var o=n(8148),c=n(8314),d=n(4922);function p(m){if(m!==d.L.gameType||m===i.lA.Variants.Chess960){d.L.gameType=m;const g=r(),b=m===i.lA.Variants.Chess960?g:(0,o.H)();(0,c.g)().game.load({variant:m,fen:b})}}},855:function(C,_,n){n.d(_,{K:function(){return k}});var i=n(7104),r=n(8442),o=n(8314),c=n(6128),d=n(4922),p=n(5221),m=n(1926);function g({isWhiteBottom:b,isUserWhite:l}){const{game:y}=(0,o.g)();y.setOptions({flipped:!b}),p.y.flipped=b?!l:l}function k(b){var l;const{game:y}=(0,o.g)();if((l=y.premoves)==null||l.cancel(),d.L.playingAs=b,y.setPlayingAs(b),(0,m.c)({selectedColor:b}),(0,r.T)().isWhiteOnBottom){g({isWhiteBottom:!0,isUserWhite:b===i.lA.ColorsAsNumbers.White});return}b===i.lA.ColorsAsNumbers.White?g({isWhiteBottom:!c.q.isFlippedUsingControls,isUserWhite:!0}):g({isWhiteBottom:c.q.isFlippedUsingControls,isUserWhite:!1})}},7199:function(C,_,n){n.d(_,{v:function(){return c},S:function(){return d}});var i=n(6912),r=n(3439),o=n(2786);const c=o.N.Modes.Types.Friendly,d={[o.N.Modes.Types.Challenge]:{crowns:r.T.Modes.Challenge,description:i.Z.trans("No help of any kind"),key:o.N.Modes.Types.Challenge,label:i.Z.trans("vs_comp_challenge",{},"mobile"),options:{canAddMovesToMainLine:!0,canInteractWithPieces:!0,canMoveWhenGameIsOver:!1,canModifyExistingMovesOnMainLine:!1}},[o.N.Modes.Types.Friendly]:{crowns:r.T.Modes.Friendly,description:i.Z.trans("3 takebacks & 3 hints allowed"),key:o.N.Modes.Types.Friendly,label:i.Z.trans("Friendly"),options:{canAddMovesToMainLine:!0,canInteractWithPieces:!0,canMoveWhenGameIsOver:!0,canModifyExistingMovesOnMainLine:!0}},[o.N.Modes.Types.Assisted]:{crowns:r.T.Modes.Assisted,description:i.Z.trans("All the tools available"),key:o.N.Modes.Types.Assisted,label:i.Z.trans("Assisted"),options:{canAddMovesToMainLine:!0,canInteractWithPieces:!0,canMoveWhenGameIsOver:!0,canModifyExistingMovesOnMainLine:!0}},[o.N.Modes.Types.Custom]:{crowns:r.T.Modes.Custom,description:i.Z.trans("Choose the settings you want"),key:o.N.Modes.Types.Custom,label:i.Z.trans("Custom"),options:{canAddMovesToMainLine:!0,canInteractWithPieces:!0,canMoveWhenGameIsOver:!1,canModifyExistingMovesOnMainLine:!1}}}},2401:function(C,_,n){n.d(_,{M:function(){return d}});var i=n(2786);const r={botChat:!0,evaluationBar:!1,feedback:!1,lines:!1,showHint:!1,suggestions:!1,threats:!1,takebacks:!1},o={botChat:!0,evaluationBar:!0,feedback:!0,lines:!1,showHint:!0,suggestions:!1,threats:!1,takebacks:!1},c={botChat:!0,evaluationBar:!0,feedback:!1,lines:!0,showHint:!0,suggestions:!0,threats:!0,takebacks:!1},d={[i.N.Modes.Types.Challenge]:r,[i.N.Modes.Types.Friendly]:o,[i.N.Modes.Types.Assisted]:c,[i.N.Modes.Types.Custom]:r}},2786:function(C,_,n){n.d(_,{N:function(){return i}});var i;(r=>{let o;(c=>{let d;(p=>{p.Assisted="Assisted",p.Challenge="Challenge",p.Custom="Custom",p.Friendly="Friendly"})(d=c.Types||(c.Types={}))})(o=r.Modes||(r.Modes={}))})(i||(i={}))},7807:function(C,_,n){n.d(_,{p:function(){return r},S:function(){return o}});var i=n(9807),r=(c=>(c[c.UpdateMode=0]="UpdateMode",c[c.UpdateSettings=1]="UpdateSettings",c))(r||{});const o=i.x.createQueuedEmitter()},8753:function(C,_,n){n.d(_,{A:function(){return r}});var i=n(4922);function r(){return i.L.gameType}},8543:function(C,_,n){n.d(_,{y:function(){return r}});var i=n(4922);function r(){return i.L.playingAs}},9357:function(C,_,n){n.d(_,{A:function(){return r}});var i=n(4922);function r(){return i.L.selectedMode}},5251:function(C,_,n){n.d(_,{T:function(){return y}});var i=n(1105),r=n(5535),o=n(2786),c=n(9357),d=n(4922),p=Object.defineProperty,m=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,b=(w,E,M)=>E in w?p(w,E,{enumerable:!0,configurable:!0,writable:!0,value:M}):w[E]=M,l=(w,E)=>{for(var M in E||(E={}))g.call(E,M)&&b(w,M,E[M]);if(m)for(var M of m(E))k.call(E,M)&&b(w,M,E[M]);return w};function y(){var w;let E=d.L.settingsForAllModes[(0,c.A)()];return((w=(0,r.i)())==null?void 0:w.classification)===i.e.Classifications.Coach&&(0,c.A)()===o.N.Modes.Types.Friendly&&(E=l({},E),E.evaluationBar=!1,E.feedback=!1),E}},4922:function(C,_,n){n.d(_,{L:function(){return k}});var i=n(7104),r=n(2239),o=n(7199),c=n(2401),d=n(2786),p=n(4363);const m=(0,p.T)();function g(){return m?.customSettings&&(c.M[d.N.Modes.Types.Custom]=m.customSettings),c.M}const k={gameType:window.location.pathname===r.Z.generate("web_play_computer_chess960")?i.lA.Variants.Chess960:i.lA.Variants.Chess,selectedMode:m?.selectedMode||o.v,playingAs:m?.selectedColor||i.lA.ColorsAsNumbers.White,settingsForAllModes:g(),customSettingsForCrownCount:m?.customSettings}},3043:function(C,_,n){n.d(_,{P:function(){return i}});const i={modal:Promise.resolve(!0),isModalActive:!1}},7672:function(C,_,n){n.d(_,{X:function(){return c}});var i=n(7104),r=n(8314),o=n(5221);function c(){const{game:d}=(0,r.g)();o.y.playerTop.timer=null,o.y.playerBottom.timer=null,d.clocks.resetClocks({baseTime:3e5,increment:0}),d.clocks[i.lA.ColorsAsNumbers.White].stop(),d.clocks[i.lA.ColorsAsNumbers.Black].stop(),d.clocks.deactivate()}},6677:function(C,_,n){n.d(_,{yV:function(){return o},Fn:function(){return c},$j:function(){return d}});var i=n(7104),r=n(6912),o=(p=>(p.Top="top",p.Bottom="bottom",p))(o||{});const c={username:r.Z.trans("Guest"),avatarUrl:"",countryId:0,countryName:"",rating:0,flairCode:"",membershipLevel:0,color:i.lA.ColorsAsNumbers.White,timer:null},d={username:"",avatarUrl:"",countryId:0,countryName:"",rating:0,membershipLevel:0,color:i.lA.ColorsAsNumbers.Black,timer:null}},5221:function(C,_,n){n.d(_,{y:function(){return E}});var i=n(4080),r=n(6128),o=Object.defineProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(M,N,O)=>N in M?o(M,N,{enumerable:!0,configurable:!0,writable:!0,value:O}):M[N]=O,g=(M,N)=>{for(var O in N||(N={}))d.call(N,O)&&m(M,O,N[O]);if(c)for(var O of c(N))p.call(N,O)&&m(M,O,N[O]);return M};function k(){r.q.isFlippedUsingControls=!r.q.isFlippedUsingControls;const M=g({},E.playerTop),N=g({},E.playerBottom);E.playerTop=N,E.playerBottom=M}var b=n(6677),l=n(7104),y=n(2306);function w(){return(0,y.jl)()?{username:(0,y.gK)("getUsername"),avatarUrl:(0,y.gK)("getAvatarUrl"),countryId:(0,y.gK)("country").id,countryName:(0,y.gK)("country").name,rating:(0,y.gK)("rating"),flairCode:(0,y.gK)("flairCode"),membershipLevel:(0,y.gK)("getMembershipLevel"),color:l.lA.ColorsAsNumbers.White,timer:null}:b.Fn}const E=(0,i.qj)({playerTop:b.$j,playerBottom:w(),flipped:!1,capturedMaterial:{},timeControl:null});(0,i.YP)(()=>E.flipped,()=>{k()})},4870:function(C,_,n){n.d(_,{D:function(){return i}});const i={isModalVisible:!1}},4609:function(C,_,n){n.d(_,{Y:function(){return i}});var i;(r=>{let o;(c=>{c.BotSelection="botSelection",c.ModeSelection="modeSelection",c.Play="play"})(o=r.Screens||(r.Screens={}))})(i||(i={}))},3418:function(C,_,n){n.d(_,{X:function(){return r}});var i=n(4623);function r(){return i.B.isRandomColorSelected}},4623:function(C,_,n){n.d(_,{B:function(){return o}});var i=n(4080),r=n(4609);const o=(0,i.qj)({screen:r.Y.Screens.BotSelection,isRandomColorSelected:!1,showBotAvatarAnimation:!1})},2486:function(C,_,n){n.d(_,{G:function(){return c}});var i=n(6110),r=n(8442),o=n(1027);function c(d){var p;const{playSounds:m}=(0,r.T)();m&&((p=o.B)==null?void 0:p.loaded)&&(0,i.GN)(o.B.loaded[d])}},3391:function(C,_,n){n.d(_,{V:function(){return i}});var i=(r=>(r.GameEnd="game-end",r.GameStart="game-start",r))(i||{})},1027:function(C,_,n){n.d(_,{B:function(){return i}});const i={loaded:null}},7667:function(C,_,n){n.d(_,{d:function(){return o}});var i=n(2306),r=n(6912);const o={referral:"computer",startingSlide:"computer",hideText:r.Z.trans("No Thanks"),limitText:(0,i.nJ)()?"":r.Z.trans("Bot Locked"),title:(0,i.nJ)()?r.Z.trans("Sign up to unlock this bot!"):r.Z.trans("Unlock All Computer Bots")}},1926:function(C,_,n){n.d(_,{c:function(){return c}});var i=n(2600),r=n(6296),o=n(584);function c(d){var p;const m=Object.assign((p=(0,r.U)(i.u.Settings.Key))!=null?p:{},d);(0,o.t)(i.u.Settings.Key,m)}},2600:function(C,_,n){n.d(_,{u:function(){return r}});var i=n(9863),r;(o=>{let c;(p=>{p.Key="vs-personalities-settings"})(c=o.Settings||(o.Settings={}));let d;(p=>{p.Key=i.Z.cachedGameKey})(d=o.CachedGame||(o.CachedGame={}))})(r||(r={}))},6296:function(C,_,n){n.d(_,{U:function(){return o}});var i=n(9863),r=n(5545);function o(c){return r.Z.get(i.Z.getUserCacheKey(c))}},584:function(C,_,n){n.d(_,{t:function(){return o}});var i=n(9863),r=n(5545);function o(c,d){r.Z.set(i.Z.getUserCacheKey(c),d)}},4363:function(C,_,n){n.d(_,{T:function(){return o}});var i=n(2600),r=n(6296);function o(){var c;return(c=(0,r.U)(i.u.Settings.Key))!=null?c:{}}},1702:function(C,_,n){n.d(_,{Z:function(){return He}});var i=function(){var P=this,z=P._self._c;return P.loadStaticBoard?z("div",{class:P.$style.component},[z("div",{staticClass:"game-preview-board",class:P.gamePreviewScheme}),P._v(" "),P._l(P.squares,function(se){return z("div",{key:se.key,staticClass:"highlight-square",style:se})}),P._v(" "),P._l(P.pieces,function(se,V){return z("div",{key:V,class:P.pieceClass(se),style:{bottom:se.bottom,left:se.left}})})],2):z("div",{class:P.$style.component,style:P.board},[P.is960Board?z("div",{class:P.$style["icon-wrapper"]},[z("span",{staticClass:"icon-font-chess chess960",class:P.$style.icon})]):P._e(),P._v(" "),P.is960Title?z("div",{class:P.$style["chess960-title"],domProps:{textContent:P._s("Chess960")}}):P._e(),P._v(" "),P._l(P.squares,function(se){return z("div",{key:se.key,style:se})}),P._v(" "),P._l(P.pieces,function(se,V){return z("img",{key:V,class:P.$style.piece,style:{width:P.squareWidth+"%",height:P.squareWidth+"%",bottom:se.bottom,left:se.left},attrs:{alt:se.pieceCode,src:se.url,width:"20",height:"20"}})})],2)},r=[];const o={default:["#B58863","#F0D9B5",null,".png","#ffff33"],"8_bit":["#6a9b41","#f3f3f4","8_bit",".png","#ffff33"],bases:["#c26b38","#efcca1","bases",".jpg","#f5cc2a"],blue:["#4D6D92","#ECECD7","blue",".png","#00a5ff"],brown:["#B58863","#F0D9B5","brown",".png","#ffff33"],bubblegum:["#f9cdd3","#fff3f3","bubblegum",".png","#de5d6f"],burled_wood:["#895132","#d9b088","burled_wood",".jpg","#ee9016"],checkers:["#e3a6a9","#999999","checkers",".png","#fae18a"],dark_wood:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],dash:["#6b3a27","#bd9257","dash",".jpg","#eca722"],glass:["#282f3f","#667188","glass",".png","#5b91b3"],graffiti:["#b96f18","#aeaeae","graffiti",".jpg","#f39011"],green:["#779952","#edeed1","green",".png","#ffff33"],icy_sea:["#7a9db2","#c5d5dc","icy_sea",".jpg","#5ed7f1"],light:["#aaaaaa","#dcdcdc","light",".png","#a4b8c4"],lolz:["#909898","#e0e9e9","lolz",".jpg","#a3becd"],marble:["#706b66","#c7bdaa","marble",".jpg","#f0db86"],metal:["#6e6e6e","#c9c9c9","metal",".jpg","#a3becd"],nature:["#8c976e","#c3d1a4","translucent",".png","#eef396"],neon:["#636363","#b9b9b9","neon",".png","#6d90a6"],newspaper:["#5a5956","#5a5956","newspaper",".jpg","#99976e"],orange:["#D08B18","#FCE4B2","orange",".png","#ffff33"],overlay:["#789ebd","#4878a0","overlay",".png","#0d9acf"],parchment:["#B58863","#F0D9B5","parchment",".jpg","#d8cc66"],purple:["#8877B7","#EFEFEF","purple",".png","#7dacc9"],red:["#BA5546","#F0D8BF","red",".png","#f8f893"],sand:["#b8a590","#e5d3c4","sand",".jpg","#e2bc87"],sky:["#c2d7e2","#efefef","sky",".png","#65daf7"],stone:["#666463","#c8c3bd","stone",".jpg","#36525f"],tan:["#D08B18","#FCE4B2","tan",".png","#f7d84a"],tournament:["#316549","#ebece8","tournament",".jpg","#a4c25b"],translucent:["#667188","#282f3f","translucent",".png","#5b91b3"],walnut:["#835f42","#c0a684","walnut",".jpg","#d1a52d"],wood:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],grey:["#aaaaaa","#dcdcdc","light",".png","#a4b8c4"],pink:["#f9cdd3","#fff3f3","bubblegum",".png","#de5d6f"],natural:["#D08B18","#FCE4B2","tan",".png","#f0e464"],winboard:["#316549","#ebece8","tournament",".jpg","#a4c25b"],blackwhite:["#667188","#282f3f","translucent",".png","#5b91b3"],marbleblue:["#c2d7e2","#efefef","marbleblue",".jpg","#65daf7"],marblebrown:["#b96f18","#aeaeae","graffiti",".jpg","#f39011"],marblegreen:["#706b66","#c7bdaa","marblegreen",".jpg","#f0db86"],wooddark:["#895132","#d9b088","burled_wood",".jpg","#ee9016"],woodlight:["#B58863","#F0D9B5","parchment",".jpg","#d8cc66"],woodmid:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],woodolive:["#6e6e6e","#c9c9c9","woodolive",".jpg","#a3becd"]},c={modern2:{imgPath:"modern",imgFormat:".png"},lines:{imgPath:"alpha",imgFormat:".png"},luca:{imgPath:"luca",imgFormat:".png"},"3dwood":{imgPath:"3d_wood",imgFormat:".png"},"3dplastic":{imgPath:"3d_plastic",imgFormat:".png"},"3dchesskid":{imgPath:"3d_chesskid",imgFormat:".png"}},d="//images.chesscomfiles.com",p="/bundles/web/images/webgl_data",m={paths:{boards:`${d}/chess-themes/boards`,pieces:`${d}/chess-themes/pieces`,sounds:`${d}/chess-themes/sounds`,variants:"//www.chess.com/bundles/web/images/variants",webglData:p},defaultBoardOptions:{boardStyle:"green",pieceStyle:"neo",highlightColor:"#FFFF33",highlightOpacity:.5,arrowColor:"rgb(255, 168, 0)",flipped:!1,files:8,ranks:8}},g={default:["#B58863","#F0D9B5",null,".png","#ffff33"],"8_bit":["#6a9b41","#f3f3f4","8_bit",".png","#ffff33"],bases:["#c26b38","#efcca1","bases",".jpg","#f5cc2a"],blue:["#4D6D92","#ECECD7","blue",".png","#00a5ff"],brown:["#B58863","#F0D9B5","brown",".png","#ffff33"],bubblegum:["#f9cdd3","#fff3f3","bubblegum",".png","#de5d6f"],burled_wood:["#895132","#d9b088","burled_wood",".jpg","#ee9016"],checkers:["#e3a6a9","#999999","checkers",".png","#fae18a"],dark_wood:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],dash:["#6b3a27","#bd9257","dash",".jpg","#eca722"],glass:["#282f3f","#667188","glass",".png","#5b91b3"],graffiti:["#b96f18","#aeaeae","graffiti",".jpg","#f39011"],green:["#779952","#edeed1","green",".png","#ffff33"],icy_sea:["#7a9db2","#c5d5dc","icy_sea",".jpg","#5ed7f1"],light:["#aaaaaa","#dcdcdc","light",".png","#a4b8c4"],lolz:["#909898","#e0e9e9","lolz",".jpg","#a3becd"],marble:["#706b66","#c7bdaa","marble",".jpg","#f0db86"],metal:["#6e6e6e","#c9c9c9","metal",".jpg","#a3becd"],nature:["#8c976e","#c3d1a4","translucent",".png","#eef396"],neon:["#636363","#b9b9b9","neon",".png","#6d90a6"],newspaper:["#5a5956","#5a5956","newspaper",".jpg","#99976e"],orange:["#D08B18","#FCE4B2","orange",".png","#ffff33"],overlay:["#789ebd","#4878a0","overlay",".png","#0d9acf"],parchment:["#B58863","#F0D9B5","parchment",".jpg","#d8cc66"],purple:["#8877B7","#EFEFEF","purple",".png","#7dacc9"],red:["#BA5546","#F0D8BF","red",".png","#f8f893"],sand:["#b8a590","#e5d3c4","sand",".jpg","#e2bc87"],sky:["#c2d7e2","#efefef","sky",".png","#65daf7"],stone:["#666463","#c8c3bd","stone",".jpg","#36525f"],tan:["#D08B18","#FCE4B2","tan",".png","#f7d84a"],tournament:["#316549","#ebece8","tournament",".jpg","#a4c25b"],translucent:["#667188","#282f3f","translucent",".png","#5b91b3"],walnut:["#835f42","#c0a684","walnut",".jpg","#d1a52d"],wood:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],grey:["#aaaaaa","#dcdcdc","light",".png","#a4b8c4"],pink:["#f9cdd3","#fff3f3","bubblegum",".png","#de5d6f"],natural:["#D08B18","#FCE4B2","tan",".png","#f0e464"],winboard:["#316549","#ebece8","tournament",".jpg","#a4c25b"],blackwhite:["#667188","#282f3f","translucent",".png","#5b91b3"],marbleblue:["#c2d7e2","#efefef","marbleblue",".jpg","#65daf7"],marblebrown:["#b96f18","#aeaeae","graffiti",".jpg","#f39011"],marblegreen:["#706b66","#c7bdaa","marblegreen",".jpg","#f0db86"],wooddark:["#895132","#d9b088","burled_wood",".jpg","#ee9016"],woodlight:["#B58863","#F0D9B5","parchment",".jpg","#d8cc66"],woodmid:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],woodolive:["#6e6e6e","#c9c9c9","woodolive",".jpg","#a3becd"]},k={modern2:{imgPath:"modern",imgFormat:".png"},lines:{imgPath:"alpha",imgFormat:".png"},luca:{imgPath:"luca",imgFormat:".png"},"3dwood":{imgPath:"3d_wood",imgFormat:".png"},"3dplastic":{imgPath:"3d_plastic",imgFormat:".png"},"3dchesskid":{imgPath:"3d_chesskid",imgFormat:".png"}},b=L=>L==null||boardStyles[L]==null?boardStyles.default:boardStyles[L],l=L=>k[L]?k[L]:{imgPath:L,imgFormat:".png"},y=()=>window.devicePixelRatio>1,w=new Array(76).join().split(",").map((L,P)=>P*2).slice(22),E=L=>{const P=y()?L*2:L;return w.reduceRight((z,se)=>se===P||se>P?se:z)},M=(L,P)=>{const z=b(L),se=E(P);return`${config.paths.boards}/${z[2]}/${se}${z[3]}`},N=(L,P)=>{const z=l(L),se=E(P);return`${config.paths.pieces}/${z.imgPath}/${se}/`},O=(L,P)=>{const z=l(L!=="real3d"?L:"neo"),se=E(P);return`${config.paths.pieces}/${z.imgPath}/${se}/`},x=L=>{const P="/threecheck/",z=[null,"check_wht","check_blk"];return`${config.paths.variants}/${P}${z[L]}.png`},A=L=>`${config.paths.webglData}/${L}/`,U=L=>{const P=se=>new Promise((V,ge)=>{const ue=new Image;ue.onload=()=>{V(ue)},ue.onerror=()=>{ge(se)},ue.onabort=ue.onerror,ue.src=se}),z=[];return L.forEach(se=>z.push(P(se))),Promise.all(z)};var T=n(323),D=n(2239),Z=Object.defineProperty,ne=(L,P,z)=>P in L?Z(L,P,{enumerable:!0,configurable:!0,writable:!0,value:z}):L[P]=z,J=(L,P,z)=>(ne(L,typeof P!="symbol"?P+"":P,z),z);class ${constructor(){J(this,"config");const P=Object.assign({},window.Config);P.MainDomain||(P.MainDomain=P["domain.main"]),P.StaticDomain||(P.StaticDomain=P["domain.static"]),P.FilesDomain||(P.FilesDomain=P["domain.files"]),P.LiveDomain||(P.LiveDomain=P["domain.live"]),P.LiveWebSocketDomain||(P.LiveWebSocketDomain=P["domain.livews"]),P.LiveSecureWebSocketDomain||(P.LiveSecureWebSocketDomain=P["domain.livewss"]),P.VoiceDomain||(P.VoiceDomain=P["domain.voice"]),P.CssJsDomain||(P.CssJsDomain=P["domain.cssjs"]),P.ImagesDomain||(P.ImagesDomain=P["domain.images"]),P.AvatarsDomain||(P.AvatarsDomain=P["domain.avatars"]),P.ChessBoardAssetsDomain||(P.ChessBoardAssetsDomain="//images.chesscomfiles.com/chess-themes"),P.ChessBoardLocalAssetsDomain||(P.ChessBoardLocalAssetsDomain="bundles/web/images/chess-themes/pieces"),P.AppVersion||(P.AppVersion=P["application.version"]),P.AppVersion||(P.AppVersion=Math.floor(Math.random()*1e4)+1e4),P.DocumentRoot||(P.DocumentRoot=""),typeof P.oldThemes>"u"&&(P.oldThemes=!0),P.GfxUrl||(P.GfxUrl=P.ChessBoardAssetsDomain),P.GfxLocalUrl||(P.GfxLocalUrl=P.ChessBoardLocalAssetsDomain),P.ChessBoardPiecesPath||(P.ChessBoardPiecesPath="/pieces"),P.ChessBoardBackgroundsPath||(P.ChessBoardBackgroundsPath="/boards"),P.ChessBoardArrowsPath||(P.ChessBoardArrowsPath="/arrows"),P.AudioSet||(P.AudioSet="default"),P.AudioUrl||(P.AudioUrl=`${P.ChessBoardAssetsDomain}/sounds/`),P.DiagramGetPostUrl||(P.DiagramGetPostUrl="/api/get_diagram"),P.DailyPuzzleGetUrl||(P.DailyPuzzleGetUrl="/api/get_puzzle"),this.config=P}}const G=new $().config;var q={name:"GamePreview",props:{autoResize:{type:Boolean},colorScheme:{type:String,default:"green"},fen:{type:[String,null]},flipBoard:{type:Boolean},highlightColor:{type:String},highlightSquares:{type:String},is960Board:{type:Boolean},is960Title:{type:Boolean},isBoardPopover:{type:Boolean},pieceStyle:{type:[String,null],default:"neo"},size:{type:[String,Number]},staticBoard:{type:[Boolean,String]},hideHandPieces:{type:Boolean}},data(){return{squares:[],squareWidth:12.5,isRetina:window.devicePixelRatio>1,backgroundImage:null,board:null,pieces:[]}},computed:{isThreeD(){return!1},loadStaticBoard(){return typeof this.staticBoard!="boolean"?this.staticBoard==="true":this.staticBoard},watchedProps(){return this.fen,this.size,this.flipBoard,this.autoResize,this.isBoardPopover,this.colorScheme,this.pieceStyle,this.highlightColor,this.highlightSquares,Date.now()},gamePreviewScheme(){return`game-preview-${this.colorScheme}`}},watch:{watchedProps(){this.updatePreview()}},created(){this.updatePreview()},methods:{updatePreview(){this.staticBoard||(this.board=this.getBoard()),this.pieces=this.getPieces(),this.squares=this.getHighlightedSquares()},getHighlightedSquares(){const L=[],P={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},z=this.squareWidth,se=this.highlightSquares,V=this.flipBoard||!1,ge=this.colorScheme||"green",ue=o[ge]||o.default,Ae=this.highlightColor||ue[4];if(ue[2]||(ue[2]=ge),typeof se=="string")for(let Ne=0;Ne<se.length;Ne+=2){let Ke=P[se.substr(Ne,1)],ve=8-Number(se.substr(Ne+1,1));V&&(Ke=7-Ke,ve=7-ve);const st=7*z-ve*z,he=Ke*z;if(isNaN(st)||isNaN(he))break;L.push({backgroundColor:Ae,bottom:`${st}%`,height:`${this.squareWidth}%`,key:`${Ke}${ve}${this.highlightSquares}`,left:`${he}%`,opacity:".5",position:"absolute",right:`${100-he-z}%`,top:`${100-st-z}%`,width:`${this.squareWidth}%`})}return L},getBoardUrl(){const L=G.GfxUrl+G.ChessBoardBackgroundsPath;let P=Math.max(20,Number(this.size||0));const z=this.colorScheme||"green",se=o[z]||o.green;this.isRetina&&(P*=2);let V=se[2];return V==="overlay"&&(V="translucent"),`${L}/${V}/${P}${se[3]}`},getBoard(){const L=Math.max(10,Number(this.size||0)),P=this.autoResize,z=L*8;let se=L*8,V="none",ge="0";return P&&(V="100%",se=0,ge="100%"),{width:`${z}px`,height:`${se}px`,maxWidth:V,paddingBottom:ge,backgroundImage:`url(${this.getBoardUrl()})`}},getPieces(){return this.fen?this.parseFEN():[]},parsePiece(L,P){let z=L;const se=this.flipBoard,V=Math.max(20,Number(this.size||0));let ge=0,ue="";for(;z>=8;)ge+=1,z-=8;return/[A-Z]/.test(P)?ue="w":/[a-z]/.test(P)&&(ue="b"),se&&(z=7-z,ge=7-ge),{bottom:7*this.squareWidth-ge*this.squareWidth,left:z*this.squareWidth,size:V,type:P.toLowerCase(),color:ue}},getPieceUrl(L,P){let z=G.GfxUrl+G.ChessBoardPiecesPath,se=Math.max(30,Number(this.size||0)),V=this.pieceStyle||"preview";const ge=window.location.href.indexOf(D.Z.generate("web_user_settings_themes")),ue=window.location.href.indexOf(D.Z.generate("web_user_settings_board"));return V==="real3d"&&ge!==-1||V==="real3d"&&ue!==-1?z=G.GfxLocalUrl:V==="real3d"?V="3d_wood":V=l(V).imgPath,this.isRetina&&(se*=2),z===G.GfxLocalUrl?(0,T.n)(`${z}/${V}/${se}/${L}${P}.png`):`${z}/${V}/${se}/${L}${P}.png`},parseFEN(){const L=this.fen,P=[],se=L.split(/\s/g)[0];let V=0;for(let ge=0;ge<se.length;ge+=1){const ue=se.substr(ge,1);if(ue.match(/[A-Z]/i)){const Ae=this.parsePiece(V,ue);let Ne="";ue===ue.toLowerCase()?Ne+="b":Ne+="w",Ne+=ue.toLowerCase(),V+=1,(!this.hideHandPieces||Ae.bottom>=0)&&P.push({url:this.getPieceUrl(Ae.color,Ae.type),bottom:`${Ae.bottom}%`,left:`${Ae.left}%`,size:Ae.size,code:Ne})}ue.match(/[0-8]/)&&(V+=ue/1)}return P},pieceClass(L){let P=this.pieceStyle;P==="modern2"?P="modern":P==="real3d"?P="3d_wood":/3d[^_]/.test(P)&&(P=`3d_${P.substr(2)}`);let z=`sprite-piece sprite-piece-60 sprite-piece-${P}`;return this.isThreeD?z+=` sprite-3d-piece sprite-3d-piece-${L.code}`:z+=` sprite-piece-${L.code}`,z}}},pe=q,le={component:"game-preview-component",piece:"game-preview-piece","icon-wrapper":"game-preview-icon-wrapper",icon:"game-preview-icon","chess960-title":"game-preview-chess960-title"},K=n(1900);function fe(L){this.$style=le.locals||le}var De=(0,K.Z)(pe,i,r,!1,fe,null,null),He=De.exports},7188:function(C,_,n){n.d(_,{Z:function(){return b}});var i=function(){var y=this,w=y._self._c;return y.isSanctioned?w("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:y.$trans("Click here to see our stance on the war in Ukraine"),expression:"$trans('Click here to see our stance on the war in Ukraine')"}],class:["country-flags-component",`country-${y.decoratedCode}`,{[`country-flags-${y.size}`]:y.size}],attrs:{href:y.ukraineLink,target:"_blank"}}):w("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:y.tooltip,expression:"tooltip"}],class:["country-flags-component",`country-${y.decoratedCode}`.toLowerCase(),{[`country-flags-${y.size}`]:y.size}]})},r=[],o=n(4084),c=n(2239),d=n(6912),p={name:"CountryFlag",directives:{tooltip:o.Z},props:{code:{type:[Number,String],required:!1},name:{type:[String,Object],required:!1},size:{type:String,required:!1}},computed:{decoratedCode(){return this.isChessVerified||this.isSanctioned?"sanctioned":this.code},isChessVerified(){return["fd",431].includes(this.code)},isRussia(){var l;return["ru","RU","116"].includes((l=this.code)==null?void 0:l.toString())},isSanctioned(){var l,y;return Boolean(((y=(l=window.chesscom)==null?void 0:l.features)==null?void 0:y.includes("sanction_russia_flag"))&&this.isRussia)},tooltip(){return this.isChessVerified?d.Z.trans("Due to the ongoing war and resulting international sanctions, Russian and Belarusian flags will not be shown for players in Verified events."):this.name},ukraineLink(){return c.Z.generate("web_blog_view",{url:"CHESScom/on-the-invasion-of-ukraine"})}}},m=p,g=n(1900),k=(0,g.Z)(m,i,r,!1,null,null,null),b=k.exports},8099:function(C,_,n){n.d(_,{Z:function(){return k}});var i=function(){var l=this,y=l._self._c;return y("div",{class:[l.$style.component,{[l.$style.circle]:l.isCircle}],style:{width:`${l.size}px`},attrs:{"data-test-element":"loader-three-bounce"}},[y("div",{class:[l.$style.dot,l.$style.bounce1],style:l.dotCss}),l._v(" "),y("div",{class:[l.$style.dot,l.$style.bounce2],style:l.dotCss}),l._v(" "),y("div",{class:l.$style.dot,style:l.dotCss})])},r=[],o={name:"LoaderThreeBounce",props:{isCircle:{type:Boolean,default:!1},size:{type:Number,default:80}},computed:{dotCss(){const b=`${Math.round(this.size/4)}px`;return{width:b,height:b}}}},c=o,d={component:"loader-three-bounce-component",circle:"loader-three-bounce-circle",dot:"loader-three-bounce-dot",animate:"loader-three-bounce-animate",bounce1:"loader-three-bounce-bounce1",bounce2:"loader-three-bounce-bounce2"},p=n(1900);function m(b){this.$style=d.locals||d}var g=(0,p.Z)(c,i,r,!1,m,null,null),k=g.exports},9933:function(C,_,n){n.d(_,{Z:function(){return b}});var i=function(){var y=this,w=y._self._c;return w("transition",{attrs:{"enter-active-class":y.$style.enter,"leave-active-class":y.$style.leave}},[y.visible?w("div",{class:[y.$style.component,{[y.$style["parent-centered"]]:y.centerOverParent},{[y.$style["content-centered"]]:y.centerOverContent}]},[y.centerOverParent?y._e():w("div",{class:y.$style.bg,on:{click:y.onBackgroundClick}}),y._v(" "),y._t("default")],2):y._e()])},r=[],o=n(8725),c={name:"ModalContainer",props:{autoShow:{type:Boolean,default:!1},closeOnBackgroundClick:{type:Boolean,default:!0},closeOnEscPress:{type:Boolean,default:!0},centerOverParent:{type:Boolean,default:!1},centerOverContent:{type:Boolean,default:!1}},emits:["background-clicked"],data(){return{visible:!1}},mounted(){this.closeOnEscPress&&window.addEventListener("keyup",this.onKeyPress),this.autoShow&&this.show()},beforeDestroy(){this.closeOnEscPress&&window.removeEventListener("keyup",this.onKeyPress)},methods:{hide(){this.visible=!1,this.$emit(o.U3.MODAL_DID_HIDE)},onBackgroundClick(){this.closeOnBackgroundClick&&(this.hide(),this.$emit("background-clicked"))},onKeyPress(l){l.keyCode===27&&this.hide()},show(){this.visible=!0}}},d=c,p={component:"modal-container-component","parent-centered":"modal-container-parent-centered",bg:"modal-container-bg",enter:"modal-container-enter",leave:"modal-container-leave","content-centered":"modal-container-content-centered"},m=n(1900);function g(l){this.$style=p.locals||p}var k=(0,m.Z)(d,i,r,!1,g,null,null),b=k.exports},3125:function(C,_,n){n.d(_,{Z:function(){return k}});var i=function(){var l=this,y=l._self._c;return y("section",{class:[l.$style.component,l.$style[l.theme]],attrs:{overflow:l.overflow}},[l._t("default")],2)},r=[],o={name:"ModalContent",props:{theme:{type:String,default:null},overflow:String}},c=o,d={component:"modal-content-component","dark-light":"modal-content-dark-light"},p=n(1900);function m(b){this.$style=d.locals||d}var g=(0,p.Z)(c,i,r,!1,m,null,null),k=g.exports},8574:function(C,_,n){n.d(_,{Z:function(){return k}});var i=function(){var l=this,y=l._self._c;return y("div",{class:[l.$style.component,l.$style[l.size],{[l.$style.dark]:l.forceTheme=="dark",[l.$style.light]:l.forceTheme=="light"}]})},r=[],o={name:"Spinner",props:{forceTheme:{type:String,default:""},size:{default:"",type:String}}},c=o,d={component:"spinner-ring-component",spin:"spinner-ring-spin",light:"spinner-ring-light",dark:"spinner-ring-dark",small:"spinner-ring-small",large:"spinner-ring-large"},p=n(1900);function m(b){this.$style=d.locals||d}var g=(0,p.Z)(c,i,r,!1,m,null,null),k=g.exports},496:function(C,_,n){n.d(_,{Z:function(){return l}});var i=function(){var w=this,E=w._self._c;return E("img",{class:w.$style.component,attrs:{"data-cy":"avatar",alt:w.alt,src:w.avatarUrl,srcset:w.avatarSrcset,width:w.width,height:w.height},on:{error:w.onError,click:function(M){return w.$emit("click",M)}}})},r=[],o=n(323),c=n(1212),d={name:"Avatar",props:{alt:{type:String,default:""},src:{type:String,default:""},width:{type:[Number,String],default:"50"},height:{type:[Number,String],default:"50"}},emits:["click"],data(){return{failed:!1,failedSrcSet:!1,defaultAvatar:(0,o.n)("bundles/web/images/user-image.svg")}},computed:{avatarSrcset(){return this.failedSrcSet?null:(0,c.b)(this.avatarUrl)},avatarUrl(){return this.failed||!this.src?this.defaultAvatar:this.src}},watch:{src(y,w){y!==w&&(this.failed=!1,this.failedSrcSet=!1)}},methods:{onError(){this.avatarSrcset?this.failedSrcSet=!0:this.failed=!0}}},p=d,m={component:"avatar-component"},g=n(1900);function k(y){this.$style=m.locals||m}var b=(0,g.Z)(p,i,r,!1,k,null,null),l=b.exports},1199:function(C,_,n){n.d(_,{Z:function(){return A}});var i=function(){var T=this,D=T._self._c;return D(T.url?"a":"div",{tag:"component",class:T.$style.component,attrs:{href:T.url}},[D("img",{directives:[{name:"image-defer",rawName:"v-image-defer",value:T.imageDefer,expression:"imageDefer"}],class:T.$style.image,attrs:{alt:T.alt.length?T.alt:null,src:T.blankImage,width:"50",height:"50"}}),T._v(" "),D("presence-square",{attrs:{size:T.presenceSize,"user-presence":T.presenceData||{}}}),T._v(" "),T._t("default")],2)},r=[],o=function(){var T=this,D=T._self._c;return D("div",{class:T.$style.component},[D("div",{class:[T.$style.square,T.squareColor,{[T.$style.round]:T.size>2}],style:T.squareStyle})])},c=[],d={name:"PresenceSquare",props:{size:{type:Number,required:!1,default:3},userPresence:{type:Object,required:!0}},computed:{squareColor(){var U,T;return(U=this.userPresence)!=null&&U.isPlaying?this.$style.red:(T=this.userPresence)!=null&&T.isOnline?this.$style.green:""},squareStyle(){return`width: ${this.size}rem; height: ${this.size}rem;`}}},p=d,m={component:"presence-square-component",square:"presence-square-square",round:"presence-square-round",red:"presence-square-red",green:"presence-square-green"},g=n(1900);function k(U){this.$style=m.locals||m}var b=(0,g.Z)(p,o,c,!1,k,null,null),l=b.exports,y=n(323),w=n(8290),E={name:"UserAvatar",directives:{ImageDefer:w.Z},components:{PresenceSquare:l},props:{alt:{type:String,default:""},image:{type:[String,null]},presenceData:{type:Object},presenceSize:{type:Number,default:1.5},url:{type:String,required:!1}},computed:{blankImage(){return(0,y.n)("bundles/web/images/user-image.svg")},imageDefer(){return this.image?{src:this.image,srcset:!0}:void 0}}},M=E,N={component:"user-avatar-component",image:"user-avatar-image"};function O(U){this.$style=N.locals||N}var x=(0,g.Z)(M,i,r,!1,O,null,null),A=x.exports},2480:function(C,_,n){n.d(_,{Z:function(){return l}});var i=function(){var w=this,E=w._self._c;return w.isLink?E("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:w.fullTitle,expression:"fullTitle"}],class:w.$style.component,attrs:{href:w.url,target:w.target},domProps:{textContent:w._s(w.title)}}):E("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:w.fullTitle,expression:"fullTitle"}],class:w.$style.component,domProps:{textContent:w._s(w.title)}})},r=[],o=n(1060),c=n(4084),d={name:"UserChessTitle",directives:{Tooltip:c.Z},props:{title:{type:String,required:!0},url:{type:String,required:!1},openNewTab:{type:Boolean,required:!1}},data(){return{fullTitle:o.rP[this.title]}},computed:{isLink(){return Boolean(this.url)},target(){return this.openNewTab?"_blank":null}}},p=d,m={component:"user-chess-title-component"},g=n(1900);function k(y){this.$style=m.locals||m}var b=(0,g.Z)(p,i,r,!1,k,null,null),l=b.exports},4986:function(C,_,n){n.d(_,{Z:function(){return qe}});var i=function(){var j=this,te=j._self._c;return te("div",{class:j.$style.component},[j.title?te("user-chess-title",{attrs:{"open-new-tab":j.openTitleOnNewTab,url:j.titleUrl,title:j.title}}):j._e(),j._v(" "),te("user-username",{class:[j.$style.username,{[j.$style["not-clickable"]]:j.notClickable}],attrs:{"is-clickable":j.isUsernameClickable,"open-new-tab":j.openProfileOnNewTab,theme:j.usernameTheme,url:j.url,"data-test-element":"user-tagline-username",username:j.username}}),j._v(" "),j.rating?te("span",{class:[j.$style.rating,j.$style[j.usernameTheme]]},[j._v(`
    (`+j._s(j.rating)+`)
  `)]):j._e(),j._v(" "),j.country?te("country-flag",{attrs:{code:j.country.code,name:j.country.name}}):j._e(),j._v(" "),j.flairCode||j.membership?te("user-flair-icon",{attrs:{code:j.flairCode,clickable:j.isFlairClickable,membership:j.membership}}):j._e(),j._v(" "),j._t("default")],2)},r=[],o=n(7188),c=n(2480),d=function(){var j=this,te=j._self._c;return j.showUserFlair?te("a",{class:j.$style.component,attrs:{"aria-label":j.flairTooltip,href:j.flairHref},on:{click:function(ce){return ce.stopPropagation(),ce.preventDefault(),j.handleFlairClick.apply(null,arguments)}}},[te("flair",{directives:[{name:"tooltip",rawName:"v-tooltip",value:j.flairTooltip,expression:"flairTooltip"}],attrs:{code:j.code,size:j.size}})],1):j._e()},p=[],m=n(1060),g=function(){var j=this,te=j._self._c;return j.showTheNothingFlair||!j.isNothing?te("span",{class:["flair-component",`flair-${j.code}`,`flair-${j.size}`],on:{click:function(ce){return j.$emit("click",ce)}}}):j._e()},k=[],b={name:"Flair",props:{available:{type:Boolean,default:!0},showTheNothingFlair:{type:Boolean,default:!1},code:{type:String,default:m.Wp.code},size:{type:String}},emits:["click"],computed:{isNothing(){return this.code===m.Wp.code}}},l=b,y=n(1900),w=(0,y.Z)(l,g,k,!1,null,null,null),E=w.exports,M=n(4084),N=n(7897),O=n(6912);const x={BLOCK_USER:"web_member_callback_block_member",DELETE_NOTE:"web_user_callback_delete_comment",GET_AVAILABLE_FLAIR:"web_user_callback_get_available_flair",LOAD_NOTES:"web_user_callback_load_notes",MUTE_USER_TEMPORARY:"web_member_callback_mute_account",POST_NOTE:"web_user_callback_post_note",SET_FLAIR:"web_user_callback_set_flair",SET_FLAIR_STATUS:"web_user_callback_set_status",SETTINGS:"web_user_settings_edit",USER_URL:"web_member_view"},A="#flair-modal",U={blockUser:me=>(0,N.b)(x.BLOCK_USER,{username:me}),communityGuidelines:()=>(0,N.b)("web_policies_community"),deleteNote:me=>(0,N.b)(x.DELETE_NOTE,{id:me}),disableAccount:me=>(0,N.b)("web_member_callback_disable",{id:me}),enableAccount:me=>(0,N.b)("web_member_enable",{id:me}),getFlair:me=>(0,N.b)(x.GET_AVAILABLE_FLAIR,{username:me}),impersonateUser:me=>(0,N.b)("web_user_home",{_impersonate:me}),loadNotes:(me,j,te)=>(0,N.b)(x.LOAD_NOTES,{userId:me,itemsPerPage:j,page:te}),masterPlayerLink:me=>(0,N.b)("web_master_player_view",{url:me}),muteUser:me=>(0,N.b)("web_member_mute",{username:me}),muteUserTemporary:me=>(0,N.b)(x.MUTE_USER_TEMPORARY,{user:me}),postNote:()=>(0,N.b)(x.POST_NOTE),removeAvatar:me=>(0,N.b)("web_member_callback_remove_avatar",{username:me}),removeBackground:me=>(0,N.b)("web_user_callback_remove_user_custom_background",{user:me}),resetFlair:me=>(0,N.b)("web_member_reset_flair",{username:me}),setCode:()=>(0,N.b)(x.SET_FLAIR),setFlairStatus:()=>(0,N.b)(x.SET_FLAIR_STATUS),settings:()=>(0,N.b)(x.SETTINGS),stopImpersonateUser:(me,j)=>(0,N.b)(me,j),unmuteUser:me=>(0,N.b)("web_member_unmute",{username:me}),userUrl:me=>(0,N.b)(x.USER_URL,{username:me})},T={NOTES_GAMES_CONTAINER:"notes-games-container",PROFILE_ACTIONS:"profile-actions",PROFILE_NOTES_BTN:"profile-notes-btn",PROFILE_NOTES_BTN_OPENED:"profile-notes-btn-opened",PROFILE_NOTES_COLLAPSE:"profile-notes-collapse",PROFILE_NOTES_COLLAPSE_SHOW:"profile-notes-collapse-show",PROFILE_STREAM:"profile-stream",ROOT_PROFILE:"view-profile",STOP_IMPERSONATE:"stop-impersonate",USER_STATUS:"user-profile-status"},D=50,Z={disableAccountConfirm:O.Z.trans("Are you sure you want to disable this account?"),editStatus:O.Z.trans("Edit status"),enableAccountConfirm:O.Z.trans("Are you sure you want to enable this account?"),enterStatus:O.Z.trans("Enter a status here"),impersonateConfirm:O.Z.trans("Are you sure you want to impersonate this user?"),muteError:O.Z.trans("Error occurred"),muteUserConfirm:O.Z.trans("Are you sure you want to mute this user?"),removeAboutConfirm:O.Z.trans("Are you sure you want to remove user About section?"),removeAvatarConfirm:O.Z.trans("Are you sure you want to remove this user's avatar?"),removeBackgroundConfirm:O.Z.trans("Are you sure you want to remove this user's background?"),removeFriendConfirm:me=>O.Z.trans("Are you sure you want to remove %friend%?",{"%friend%":me}),reportSpamConfirm:O.Z.trans("Are you sure you want to report user for spamming?"),resetFlairConfirm:O.Z.trans("Are you sure you want to reset this user's flair?"),saveStatus:O.Z.trans("Save status"),statusTooLong:O.Z.trans("Your status must be %len% characters or less",{"%len%":D}),stopImpersonateConfirm:O.Z.trans("Are you sure you want to stop impersonating this user?"),unmuteUserConfirm:O.Z.trans("Are you sure you want to unmute this user?"),vulgarityMessage:O.Z.trans("Your post seems to not fit our <a href=%url%>Community Guidelines</a>. Repeated violations may result in your account being restricted. Thank you for helping Chess.com stay a fun and friendly place for all!",{"%url%":U.communityGuidelines()})},ne={ALLOW_GROUP_INVITES:"data-allow-group-invites",AVATAR:"data-avatar",CAN_EDIT_STATUS:"data-can-edit-status",CAN_RECEIVE_GIFT:"data-can-receive-gift",CAN_VIEW_NOTES:"data-can-view-notes",ENTITY_ID:"data-entity-id",FLAIR:"data-flair-profile",HAS_CLUBS:"data-has-clubs",HAS_FRIEND_REQUEST_FROM_USER:"data-has-friend-request-from-user",HAS_FRIEND_REQUEST_TO_USER:"data-has-friend-request-to-user",IS_AUTH_USER_BANNER_BY_VIEWED:"data-is-auth-user-banned-by-viewed",IS_BLOCKED:"data-is-blocked",IS_FOLLOWING:"data-is-following",IS_FRIEND:"data-is-friend",IS_MESSAGEABLE:"data-is-messageable",IS_OWN_PROFILE:"data-is-own-profile",IS_USER_ENABLED:"data-is-user-enabled",IS_VIEWER_BLOCKED:"data-is-viewer-blocked",MASTER_PLAYER_URL:"data-master-player-url",MUTE_TIME:"data-mute-time",NOTE_DELETE:"data-note-delete",NOTE_POST:"data-note-post",ROLES:"data-roles",STOP_IMPERSONATE_PARAMS:"data-stop-impersonate-params",STOP_IMPERSONATE_ROUTE:"data-stop-impersonate-route",STREAM_CHANNEL_NAME:"data-channel",STREAM_MUTED:"data-muted",USER:"data-user",USERNAME:"data-username",USER_ID:"data-user-id"},J={FOLLOW_IN_PRIORITY_ROLES:{ROLE_ARTICLE_AUTHOR:!0,ROLE_NEWS_AUTHOR:!0,ROLE_STREAMER:!0,ROLE_VIDEO_EDITOR:!0},STATUS_SUCCESS:200},$={displayState:"DISPLAY_STATE",editingState:"EDITING_STATE",savingState:"SAVING_STATE"},G=(me,j)=>{const te=[j["char-count"]],ce=maxLength-me.length;if(ce<10){const R=Math.floor(ce/2);te.push(j[`warning-${R}`])}return te},q=()=>document.querySelector(`[${attributes.FLAIR}]`),pe=()=>{const me=document.querySelector(`[${attributes.USERNAME}]`);return me?me.getAttribute(attributes.USERNAME):""},le=me=>{if(!me)return NOTHING_FLAIR;let j=JSON.parse(me.dataset.flairProfile);return(!j||!j.code)&&(j=NOTHING_FLAIR),j},K=({code:me,flairMembership:j,selfIsPremium:te})=>j>=m.p0.moderator?m._j.about():j===m.p0.cheater||j===m.p0.abuser?U.communityGuidelines():m.yc.includes(me)?"":te?`${U.settings()}${A}`:m._j.membership("flair"),fe=({code:me,flairMembership:j})=>j>=m.p0.staff?m.Iz.staff:j>=m.p0.moderator?m.Iz.moderator:j<m.p0.basic?m.Cz[j]:m.yc.includes(me)?m.Cz[m.p0.unspecifiedClosed]:m.Iz.showYourFlair;var De=n(8037),He=n(2306),L={props:{membership:{type:Number},clickable:{type:Boolean,default:!0}},computed:{flairHref(){return this.clickable?K({code:this.standardizedFlairCodeFromMixin,flairMembership:this.membership,selfIsPremium:(0,He.S_)("isPremium"),selfIsModerator:(0,He.S_)("isModerator")}):null},flairTooltip(){return fe({code:this.standardizedFlairCodeFromMixin,flairMembership:this.membership})},shouldSeeUpgradeModal(){return!(0,He.S_)("isPremium")},standardizedFlairCodeFromMixin(){return this.code||this.userFlair&&this.userFlair.code||m.Wp.code}},methods:{handleFlairClick(){if(!!this.clickable){if(this.shouldSeeUpgradeModal){(0,De.l)({referral:"flair",startingSlide:"flair",title:this.$trans("Want Your Own Flair?")});return}this.flairHref.length&&window.open(this.flairHref,"_blank")}}}},P={name:"UserFlairIcon",components:{Flair:E},directives:{Tooltip:M.Z},mixins:[L],props:{code:{type:String},size:{type:String,default:""}},computed:{showUserFlair(){return this.code&&this.code!==m.Wp.code}}},z=P,se={component:"user-flair-icon-component"};function V(me){this.$style=se.locals||se}var ge=(0,y.Z)(z,d,p,!1,V,null,null),ue=ge.exports,Ae=n(7273),Ne={name:"UserTagline",components:{CountryFlag:o.Z,UserChessTitle:c.Z,UserFlairIcon:ue,UserUsername:Ae.Z},props:{country:{type:Object,required:!1},flairCode:{type:String},isUsernameClickable:{type:Boolean,default:!0},isFlairClickable:{type:Boolean,default:!0},iconAnchorIsEnabled:{type:Boolean,default:!0},membership:{type:[Number,String],default:m.p0.basic},notClickable:{type:Boolean,default:!1},rating:{type:Number,required:!1},title:{type:String,required:!1},url:{type:String,required:!1},usernameTheme:{type:String,default:"blue"},titleUrl:{type:String,required:!1},username:{type:String,required:!0},openProfileOnNewTab:{type:Boolean,required:!1},openTitleOnNewTab:{type:Boolean,required:!1}}},Ke=Ne,ve={component:"user-tagline-component",username:"user-tagline-username","not-clickable":"user-tagline-not-clickable",rating:"user-tagline-rating",white:"user-tagline-white"};function st(me){this.$style=ve.locals||ve}var he=(0,y.Z)(Ke,i,r,!1,st,null,null),qe=he.exports},7273:function(C,_,n){n.d(_,{Z:function(){return k}});var i=function(){var l=this,y=l._self._c;return y(l.isClickable?"a":"span",{tag:"component",class:[l.$style.component,l.$style[l.theme],{[l.$style.link]:l.isClickable}],attrs:{href:l.isClickable?l.url:null,target:l.getTargetIfClickable},domProps:{textContent:l._s(l.username)}})},r=[],o={name:"UserUsername",props:{theme:{type:String,required:!0},isClickable:{type:Boolean,default:!0},url:{type:String,required:!1},username:{type:String,required:!0},openNewTab:{type:Boolean,required:!1}},computed:{getTargetIfClickable(){return this.openNewTab?"_blank":null},isLink(){return Boolean(this.url)}}},c=o,d={component:"user-username-component",link:"user-username-link",gray:"user-username-gray",darkgray:"user-username-darkgray",blue:"user-username-blue",lightgray:"user-username-lightgray",current:"user-username-current",white:"user-username-white",bright:"user-username-bright","bright-bold":"user-username-bright-bold","blue-with-dark-mode":"user-username-blue-with-dark-mode","blue-to-water":"user-username-blue-to-water"},p=n(1900);function m(b){this.$style=d.locals||d}var g=(0,p.Z)(c,i,r,!1,m,null,null),k=g.exports},1149:function(C,_,n){n.r(_),n.d(_,{default:function(){return M}});var i=function(){var O=this,x=O._self._c;return x("modal-container",{ref:"modalContainer",attrs:{"data-confirm-popover":"","close-on-esc-press":!1},on:{"background-clicked":O.onBackgroundClick}},[x("modal-content",{ref:"modal",class:O.$style.modal,attrs:{theme:"dark-light"}},[x("div",{class:O.$style.messageLabel,domProps:{textContent:O._s(O.message)}}),O._v(" "),x("div",{class:O.$style.buttons},[x("v5-button",{class:[O.$style.button,{[O.$style[`${O.additionalClass}`]]:O.additionalClass}],attrs:{"min-width":"",size:"small",theme:"basic","data-cy":O.cancelButtonSelector},domProps:{textContent:O._s(O.cancelBtnLabel)},on:{click:O.onCancelClick}}),O._v(" "),x("v5-button",{class:[O.$style.button,{[O.$style[`${O.additionalClass}`]]:O.additionalClass}],attrs:{"min-width":"",size:"small",theme:"primary","data-cy":O.yesButtonSelector},domProps:{textContent:O._s(O.yesBtnLabel)},on:{click:O.onYesClick}})],1)])],1)},r=[],o=n(6279),c=n(6441),d=n(9933),p=n(3125),m=n(4293),g=n(8848),k={name:"ConfirmPopover",components:{ModalContainer:d.Z,ModalContent:p.Z,V5Button:o.V5Button},props:{additionalClass:String,messageLabel:String,yesBtnLabel:{type:String,default:(0,g.dW)("Yes")},cancelBtnLabel:{type:String,default:(0,g.dW)("Cancel")},onConfirm:{type:Function,default:()=>{}},onBackgroundClick:{type:Function,default:()=>{}},onCancel:Function,showOnMount:Boolean},data(){return{eventHubMessage:null,cancelButtonSelector:this.$cy?this.$cy.confirmPopover.buttons.cancelButton:"",yesButtonSelector:this.$cy?this.$cy.confirmPopover.buttons.yesButton:""}},computed:{message(){var N;return(N=this.eventHubMessage)!=null?N:this.messageLabel}},mounted(){m.Z.on(c.U3.SHOW_MODAL,N=>{typeof N=="string"&&(this.eventHubMessage=N),this.show()}),this.showOnMount&&this.show()},methods:{hide(){this.$refs.modalContainer.hide()},show(){this.$refs.modalContainer.show()},onYesClick(){this.hide(),typeof this.onConfirm=="function"&&this.onConfirm(),m.Z.emit(c.U3.CONFIRM_POPOVER_YES)},onCancelClick(){this.hide(),typeof this.onCancel=="function"&&this.onCancel()}}},b=k,l={modal:"confirm-popover-modal",messageLabel:"confirm-popover-messageLabel",buttons:"confirm-popover-buttons",regular:"confirm-popover-regular"},y=n(1900);function w(N){this.$style=l.locals||l}var E=(0,y.Z)(b,i,r,!1,w,null,null),M=E.exports},4303:function(C){C.exports=JSON.parse('{"name":"@chesscom/vs-personalities-client","version":"1.2.0","scripts":{"install-package":"../../build/bin/build run install-client-packages","release":"../../build/bin/build release @chesscom/vs-personalities-client"},"license":"UNLICENSED","repository":{"type":"git","url":"git+https://github.com/ChessCom/client-packages.git"},"publishConfig":{"registry":"https://npm.pkg.github.com/"},"commit":"102bfacdbe35335cff65a4cd84b049c5d71d4fc5","metadata":{"description":"The Vs-Personalities project. Play against bots and the engine.","sourceCodeUrl":"https://github.com/ChessCom/chess/blob/develop/client/web/vs-personalities","changelogUrl":"https://github.com/ChessCom/chess/blob/develop/client/web/vs-personalities/release-history.md","registryUrl":"https://github.com/ChessCom/client-packages/pkgs/npm/vs-personalities-client","slackUrl":"https://chesscom.slack.com/archives/CSED1C4V7","entries":["vs-personalities"],"pagesUsedOn":["/play/computer","/3d-chess"],"owners":["@Rory Smith"],"featureFlags":[{"channel":"beta","name":"client_vs-personalities_beta"}],"links":[{"name":"Notion: Play Vs Coach","url":"https://www.notion.so/chesscom/Play-vs-Coach-fa7df1cb772a47439bef31d358ac785a"},{"name":"CEE Simulator","url":"https://cee.tools-non-prod.chess-platform.com/"},{"name":"Sentry Errors - Past 2 weeks","url":"https://sentry.io/organizations/chesscom/issues/?project=198358&query=is%3Aunresolved+vs-personalities-new&statsPeriod=14d"},{"name":"Slack: Coach Feedback","url":"https://chesscom.slack.com/archives/C03SH0Y92BE"}]},"files":["dist/*","release-history.md"]}')}},zo={};function Se(C){var _=zo[C];if(_!==void 0)return _.exports;var n=zo[C]={id:C,loaded:!1,exports:{}};return Do[C].call(n.exports,n,n.exports,Se),n.loaded=!0,n.exports}Se.m=Do,function(){var C=[];Se.O=function(_,n,i,r){if(n){r=r||0;for(var o=C.length;o>0&&C[o-1][2]>r;o--)C[o]=C[o-1];C[o]=[n,i,r];return}for(var c=1/0,o=0;o<C.length;o++){for(var n=C[o][0],i=C[o][1],r=C[o][2],d=!0,p=0;p<n.length;p++)(r&!1||c>=r)&&Object.keys(Se.O).every(function(y){return Se.O[y](n[p])})?n.splice(p--,1):(d=!1,r<c&&(c=r));if(d){C.splice(o--,1);var m=i();m!==void 0&&(_=m)}}return _}}(),function(){Se.n=function(C){var _=C&&C.__esModule?function(){return C.default}:function(){return C};return Se.d(_,{a:_}),_}}(),function(){var C=Object.getPrototypeOf?function(n){return Object.getPrototypeOf(n)}:function(n){return n.__proto__},_;Se.t=function(n,i){if(i&1&&(n=this(n)),i&8||typeof n=="object"&&n&&(i&4&&n.__esModule||i&16&&typeof n.then=="function"))return n;var r=Object.create(null);Se.r(r);var o={};_=_||[null,C({}),C([]),C(C)];for(var c=i&2&&n;typeof c=="object"&&!~_.indexOf(c);c=C(c))Object.getOwnPropertyNames(c).forEach(function(d){o[d]=function(){return n[d]}});return o.default=function(){return n},Se.d(r,o),r}}(),function(){Se.d=function(C,_){for(var n in _)Se.o(_,n)&&!Se.o(C,n)&&Object.defineProperty(C,n,{enumerable:!0,get:_[n]})}}(),function(){Se.f={},Se.e=function(C){return Promise.all(Object.keys(Se.f).reduce(function(_,n){return Se.f[n](C,_),_},[]))}}(),function(){Se.u=function(C){return"vs-personalities-"+({110:"bot-selection-screen",210:"user-report-modal",225:"settings-modal-controller",284:"trophy-popover",297:"mode-selection-screen",379:"payment-method-paypal",430:"success-modal",539:"report-modal",614:"gift-membership-modal",631:"sentry-browser",826:"vscomp-game-over-modal-controller"}[C]||C)+".chunk.client."+{87:"519ae4c5",110:"452f5232",129:"7a4616ff",155:"6371a6d9",163:"bc13b785",187:"7f0bb766",210:"260b6fdf",225:"1889b373",240:"d81eefb5",284:"c510bef4",297:"b9a0466c",379:"10b388ad",430:"aaf990b8",442:"86be7623",525:"a0c57e3a",539:"ef1682cd",541:"2c1ebf3f",583:"29a51ce0",614:"c82dea07",631:"2c211756",790:"757d96e9",804:"de2bc172",826:"35dede10",890:"5a0c3f2c"}[C]+".js"}}(),function(){Se.miniCssF=function(C){if(C===216)return"vs-personalities-vendors.client.30551bd9.css";if(C===588)return"vs-personalities.client.8820e57a.css";if(C===826)return"vs-personalities-vscomp-game-over-modal-controller.chunk.client.18a096d5.css";if(C===187)return"vs-personalities-web.chunk.client.9bc37725.css";if(C===225)return"vs-personalities-settings-modal-controller.chunk.client.379ff7ad.css";if(C===614)return"vs-personalities-gift-membership-modal.chunk.client.320d3e34.css";if(C===210)return"vs-personalities-user-report-modal.chunk.client.5b33e6fa.css";if(C===284)return"vs-personalities-trophy-popover.chunk.client.9d5a7b7e.css";if(C===110)return"vs-personalities-bot-selection-screen.chunk.client.a9c258e7.css";if(C===297)return"vs-personalities-mode-selection-screen.chunk.client.1a3f1533.css";if(C===541)return"vs-personalities-web.chunk.client.2287e5a1.css";if(C===129)return"vs-personalities-web.chunk.client.8549c08f.css";if(C===163)return"vs-personalities-web.chunk.client.caf2288c.css";if(C===379)return"vs-personalities-payment-method-paypal.chunk.client.1f1ab013.css";if(C===539)return"vs-personalities-report-modal.chunk.client.51e30c14.css";if(C===430)return"vs-personalities-success-modal.chunk.client.798a8048.css"}}(),function(){Se.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Se.hmd=function(C){return C=Object.create(C),C.children||(C.children=[]),Object.defineProperty(C,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+C.id)}}),C}}(),function(){Se.o=function(C,_){return Object.prototype.hasOwnProperty.call(C,_)}}(),function(){var C={},_="client:";Se.l=function(n,i,r,o){if(C[n]){C[n].push(i);return}var c,d;if(r!==void 0)for(var p=document.getElementsByTagName("script"),m=0;m<p.length;m++){var g=p[m];if(g.getAttribute("src")==n||g.getAttribute("data-webpack")==_+r){c=g;break}}c||(d=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,Se.nc&&c.setAttribute("nonce",Se.nc),c.setAttribute("data-webpack",_+r),c.src=n),C[n]=[i];var k=function(l,y){c.onerror=c.onload=null,clearTimeout(b);var w=C[n];if(delete C[n],c.parentNode&&c.parentNode.removeChild(c),w&&w.forEach(function(E){return E(y)}),l)return l(y)},b=setTimeout(k.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=k.bind(null,c.onerror),c.onload=k.bind(null,c.onload),d&&document.head.appendChild(c)}}(),function(){Se.r=function(C){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})}}(),function(){Se.p="/bundles/app/js/"}(),function(){if(typeof Se<"u"){var C=Se.u,_=Se.e,n=new Map,i=new Map;Se.u=function(r){var o=C(r);return o+(n.has(r)?"?"+n.get(r):"")},Se.e=function(r){var o=_(r);return o.catch(function(c){var d=i.has(r)?i.get(r):2;if(d<1){var p=C(r);throw c.message="Loading chunk "+r+` failed after 2 retries.
(`+p+")",c.request=p,c}return new Promise(function(m){setTimeout(function(){var g=2-d+1,k="&retry-attempt="+g,b="cache-bust=true"+k;n.set(r,b),i.set(r,d-1),m(Se.e(r))},0)})})}}}(),function(){var C=function(r,o,c,d){var p=document.createElement("link");p.rel="stylesheet",p.type="text/css";var m=function(g){if(p.onerror=p.onload=null,g.type==="load")c();else{var k=g&&(g.type==="load"?"missing":g.type),b=g&&g.target&&g.target.href||o,l=new Error("Loading CSS chunk "+r+` failed.
(`+b+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=k,l.request=b,p.parentNode.removeChild(p),d(l)}};return p.onerror=p.onload=m,p.href=o,document.head.appendChild(p),p},_=function(r,o){for(var c=document.getElementsByTagName("link"),d=0;d<c.length;d++){var p=c[d],m=p.getAttribute("data-href")||p.getAttribute("href");if(p.rel==="stylesheet"&&(m===r||m===o))return p}for(var g=document.getElementsByTagName("style"),d=0;d<g.length;d++){var p=g[d],m=p.getAttribute("data-href");if(m===r||m===o)return p}},n=function(r){return new Promise(function(o,c){var d=Se.miniCssF(r),p=window.__CHESSCOM_RTL__,m="/bundles/app/css/"+d;if(_(d,m))return o();p&&(m=m.replace(/\.css/i,".rtl.css")),C(r,m,o,c)})},i={588:0};Se.f.miniCss=function(r,o){var c={110:1,129:1,163:1,187:1,210:1,225:1,284:1,297:1,379:1,430:1,539:1,541:1,614:1,826:1};i[r]?o.push(i[r]):i[r]!==0&&c[r]&&o.push(i[r]=n(r).then(function(){i[r]=0},function(d){throw delete i[r],d}))}}(),function(){var C={588:0};Se.f.j=function(i,r){var o=Se.o(C,i)?C[i]:void 0;if(o!==0)if(o)r.push(o[2]);else{var c=new Promise(function(g,k){o=C[i]=[g,k]});r.push(o[2]=c);var d=Se.p+Se.u(i),p=new Error,m=function(g){if(Se.o(C,i)&&(o=C[i],o!==0&&(C[i]=void 0),o)){var k=g&&(g.type==="load"?"missing":g.type),b=g&&g.target&&g.target.src;p.message="Loading chunk "+i+` failed.
(`+k+": "+b+")",p.name="ChunkLoadError",p.type=k,p.request=b,o[1](p)}};Se.l(d,m,"chunk-"+i,i)}},Se.O.j=function(i){return C[i]===0};var _=function(i,r){var o=r[0],c=r[1],d=r[2],p,m,g=0;if(o.some(function(b){return C[b]!==0})){for(p in c)Se.o(c,p)&&(Se.m[p]=c[p]);if(d)var k=d(Se)}for(i&&i(r);g<o.length;g++)m=o[g],Se.o(C,m)&&C[m]&&C[m][0](),C[m]=0;return Se.O(k)},n=(typeof self<"u"?self:this)["wpJsonpChessCom_vs-personalities"]=(typeof self<"u"?self:this)["wpJsonpChessCom_vs-personalities"]||[];n.forEach(_.bind(null,0)),n.push=_.bind(null,n.push.bind(n))}();var Uo=Se.O(void 0,[216],function(){return Se(2461)});Uo=Se.O(Uo)}();
